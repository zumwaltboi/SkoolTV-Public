var Aq=Object.defineProperty;var Rq=(e,t,r)=>t in e?Aq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ge=(e,t,r)=>(Rq(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oq(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Ih={},Iq={get exports(){return Ih},set exports(e){Ih=e}},Cv={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yP=Object.getOwnPropertySymbols,Cq=Object.prototype.hasOwnProperty,Pq=Object.prototype.propertyIsEnumerable;function Lq(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Dq(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var GA=Dq()?Object.assign:function(e,t){for(var r,n=Lq(e),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)Cq.call(r,o)&&(n[o]=r[o]);if(yP){i=yP(r);for(var s=0;s<i.length;s++)Pq.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n},z={},$q={get exports(){return z},set exports(e){z=e}},qe={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA=GA,tf=60103,DB=60106;qe.Fragment=60107;qe.StrictMode=60108;qe.Profiler=60114;var $B=60109,kB=60110,NB=60112;qe.Suspense=60113;var MB=60115,FB=60116;if(typeof Symbol=="function"&&Symbol.for){var yi=Symbol.for;tf=yi("react.element"),DB=yi("react.portal"),qe.Fragment=yi("react.fragment"),qe.StrictMode=yi("react.strict_mode"),qe.Profiler=yi("react.profiler"),$B=yi("react.provider"),kB=yi("react.context"),NB=yi("react.forward_ref"),qe.Suspense=yi("react.suspense"),MB=yi("react.memo"),FB=yi("react.lazy")}var _P=typeof Symbol=="function"&&Symbol.iterator;function kq(e){return e===null||typeof e!="object"?null:(e=_P&&e[_P]||e["@@iterator"],typeof e=="function"?e:null)}function Pv(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UB={};function rf(e,t,r){this.props=e,this.context=t,this.refs=UB,this.updater=r||BB}rf.prototype.isReactComponent={};rf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Pv(85));this.updater.enqueueSetState(this,e,t,"setState")};rf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jB(){}jB.prototype=rf.prototype;function zA(e,t,r){this.props=e,this.context=t,this.refs=UB,this.updater=r||BB}var VA=zA.prototype=new jB;VA.constructor=zA;WA(VA,rf.prototype);VA.isPureReactComponent=!0;var YA={current:null},HB=Object.prototype.hasOwnProperty,KB={key:!0,ref:!0,__self:!0,__source:!0};function GB(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)HB.call(t,n)&&!KB.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:tf,type:e,key:a,ref:o,props:i,_owner:YA.current}}function Nq(e,t){return{$$typeof:tf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function XA(e){return typeof e=="object"&&e!==null&&e.$$typeof===tf}function Mq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var EP=/\/+/g;function $E(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mq(""+e.key):t.toString(36)}function _g(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tf:case DB:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+$E(o,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(EP,"$&/")+"/"),_g(i,t,r,"",function(u){return u})):i!=null&&(XA(i)&&(i=Nq(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(EP,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+$E(a,s);o+=_g(a,t,r,l,i)}else if(l=kq(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+$E(a,s++),o+=_g(a,t,r,l,i);else if(a==="object")throw t=""+e,Error(Pv(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function G0(e,t,r){if(e==null)return e;var n=[],i=0;return _g(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Fq(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var WB={current:null};function Za(){var e=WB.current;if(e===null)throw Error(Pv(321));return e}var Bq={ReactCurrentDispatcher:WB,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:YA,IsSomeRendererActing:{current:!1},assign:WA};qe.Children={map:G0,forEach:function(e,t,r){G0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return G0(e,function(){t++}),t},toArray:function(e){return G0(e,function(t){return t})||[]},only:function(e){if(!XA(e))throw Error(Pv(143));return e}};qe.Component=rf;qe.PureComponent=zA;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bq;qe.cloneElement=function(e,t,r){if(e==null)throw Error(Pv(267,e));var n=WA({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=YA.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)HB.call(t,l)&&!KB.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:tf,type:e.type,key:i,ref:a,props:n,_owner:o}};qe.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:kB,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:$B,_context:e},e.Consumer=e};qe.createElement=GB;qe.createFactory=function(e){var t=GB.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:NB,render:e}};qe.isValidElement=XA;qe.lazy=function(e){return{$$typeof:FB,_payload:{_status:-1,_result:e},_init:Fq}};qe.memo=function(e,t){return{$$typeof:MB,type:e,compare:t===void 0?null:t}};qe.useCallback=function(e,t){return Za().useCallback(e,t)};qe.useContext=function(e,t){return Za().useContext(e,t)};qe.useDebugValue=function(){};qe.useEffect=function(e,t){return Za().useEffect(e,t)};qe.useImperativeHandle=function(e,t,r){return Za().useImperativeHandle(e,t,r)};qe.useLayoutEffect=function(e,t){return Za().useLayoutEffect(e,t)};qe.useMemo=function(e,t){return Za().useMemo(e,t)};qe.useReducer=function(e,t,r){return Za().useReducer(e,t,r)};qe.useRef=function(e){return Za().useRef(e)};qe.useState=function(e){return Za().useState(e)};qe.version="17.0.2";(function(e){e.exports=qe})($q);const me=b1(z);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uq=z,zB=60103;Cv.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var xP=Symbol.for;zB=xP("react.element"),Cv.Fragment=xP("react.fragment")}var jq=Uq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hq=Object.prototype.hasOwnProperty,Kq={key:!0,ref:!0,__self:!0,__source:!0};function VB(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Hq.call(t,n)&&!Kq.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:zB,type:e,key:a,ref:o,props:i,_owner:jq.current}}Cv.jsx=VB;Cv.jsxs=VB;(function(e){e.exports=Cv})(Iq);const Ir=Ih.Fragment,H=Ih.jsx,ee=Ih.jsxs;var SP={},Gq={get exports(){return SP},set exports(e){SP=e}},W0=function(e){return e&&e.Math==Math&&e},Ee=W0(typeof globalThis=="object"&&globalThis)||W0(typeof window=="object"&&window)||W0(typeof self=="object"&&self)||W0(typeof be=="object"&&be)||function(){return this}()||Function("return this")(),hr={},ce=function(e){try{return!!e()}catch{return!0}},Wq=ce,Oe=!Wq(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),zq=ce,Lv=!zq(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Vq=Lv,z0=Function.prototype.call,Me=Vq?z0.bind(z0):function(){return z0.apply(z0,arguments)},Dv={},YB={}.propertyIsEnumerable,XB=Object.getOwnPropertyDescriptor,Yq=XB&&!YB.call({1:2},1);Dv.f=Yq?function(t){var r=XB(this,t);return!!r&&r.enumerable}:YB;var oi=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},qB=Lv,QB=Function.prototype,mT=QB.call,Xq=qB&&QB.bind.bind(mT,mT),de=qB?Xq:function(e){return function(){return mT.apply(e,arguments)}},ZB=de,qq=ZB({}.toString),Qq=ZB("".slice),Vr=function(e){return Qq(qq(e),8,-1)},Zq=de,Jq=ce,eQ=Vr,kE=Object,tQ=Zq("".split),nf=Jq(function(){return!kE("z").propertyIsEnumerable(0)})?function(e){return eQ(e)=="String"?tQ(e,""):kE(e)}:kE,vn=function(e){return e==null},rQ=vn,nQ=TypeError,zt=function(e){if(rQ(e))throw nQ("Can't call method on "+e);return e},iQ=nf,aQ=zt,tr=function(e){return iQ(aQ(e))},yT=typeof document=="object"&&document.all,oQ=typeof yT>"u"&&yT!==void 0,JB={all:yT,IS_HTMLDDA:oQ},eU=JB,sQ=eU.all,Ke=eU.IS_HTMLDDA?function(e){return typeof e=="function"||e===sQ}:function(e){return typeof e=="function"},bP=Ke,tU=JB,lQ=tU.all,Ge=tU.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:bP(e)||e===lQ}:function(e){return typeof e=="object"?e!==null:bP(e)},NE=Ee,uQ=Ke,cQ=function(e){return uQ(e)?e:void 0},It=function(e,t){return arguments.length<2?cQ(NE[e]):NE[e]&&NE[e][t]},fQ=de,si=fQ({}.isPrototypeOf),Ja=typeof navigator<"u"&&String(navigator.userAgent)||"",rU=Ee,ME=Ja,TP=rU.process,wP=rU.Deno,AP=TP&&TP.versions||wP&&wP.version,RP=AP&&AP.v8,Ti,um;RP&&(Ti=RP.split("."),um=Ti[0]>0&&Ti[0]<4?1:+(Ti[0]+Ti[1]));!um&&ME&&(Ti=ME.match(/Edge\/(\d+)/),(!Ti||Ti[1]>=74)&&(Ti=ME.match(/Chrome\/(\d+)/),Ti&&(um=+Ti[1])));var eo=um,OP=eo,dQ=ce,af=!!Object.getOwnPropertySymbols&&!dQ(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&OP&&OP<41}),hQ=af,nU=hQ&&!Symbol.sham&&typeof Symbol.iterator=="symbol",vQ=It,pQ=Ke,gQ=si,mQ=nU,yQ=Object,kl=mQ?function(e){return typeof e=="symbol"}:function(e){var t=vQ("Symbol");return pQ(t)&&gQ(t.prototype,yQ(e))},_Q=String,Nl=function(e){try{return _Q(e)}catch{return"Object"}},EQ=Ke,xQ=Nl,SQ=TypeError,Ut=function(e){if(EQ(e))return e;throw SQ(xQ(e)+" is not a function")},bQ=Ut,TQ=vn,to=function(e,t){var r=e[t];return TQ(r)?void 0:bQ(r)},FE=Me,BE=Ke,UE=Ge,wQ=TypeError,iU=function(e,t){var r,n;if(t==="string"&&BE(r=e.toString)&&!UE(n=FE(r,e))||BE(r=e.valueOf)&&!UE(n=FE(r,e))||t!=="string"&&BE(r=e.toString)&&!UE(n=FE(r,e)))return n;throw wQ("Can't convert object to primitive value")},as={},AQ={get exports(){return as},set exports(e){as=e}},qA=!1,IP=Ee,RQ=Object.defineProperty,QA=function(e,t){try{RQ(IP,e,{value:t,configurable:!0,writable:!0})}catch{IP[e]=t}return t},OQ=Ee,IQ=QA,CP="__core-js_shared__",CQ=OQ[CP]||IQ(CP,{}),ZA=CQ,PP=ZA;(AQ.exports=function(e,t){return PP[e]||(PP[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var PQ=zt,LQ=Object,nt=function(e){return LQ(PQ(e))},DQ=de,$Q=nt,kQ=DQ({}.hasOwnProperty),Qe=Object.hasOwn||function(t,r){return kQ($Q(t),r)},NQ=de,MQ=0,FQ=Math.random(),BQ=NQ(1 .toString),of=function(e){return"Symbol("+(e===void 0?"":e)+")_"+BQ(++MQ+FQ,36)},UQ=Ee,jQ=as,LP=Qe,HQ=of,KQ=af,GQ=nU,Lu=UQ.Symbol,jE=jQ("wks"),WQ=GQ?Lu.for||Lu:Lu&&Lu.withoutSetter||HQ,We=function(e){return LP(jE,e)||(jE[e]=KQ&&LP(Lu,e)?Lu[e]:WQ("Symbol."+e)),jE[e]},zQ=Me,DP=Ge,$P=kl,VQ=to,YQ=iU,XQ=We,qQ=TypeError,QQ=XQ("toPrimitive"),T1=function(e,t){if(!DP(e)||$P(e))return e;var r=VQ(e,QQ),n;if(r){if(t===void 0&&(t="default"),n=zQ(r,e,t),!DP(n)||$P(n))return n;throw qQ("Can't convert object to primitive value")}return t===void 0&&(t="number"),YQ(e,t)},ZQ=T1,JQ=kl,Ss=function(e){var t=ZQ(e,"string");return JQ(t)?t:t+""},eZ=Ee,kP=Ge,_T=eZ.document,tZ=kP(_T)&&kP(_T.createElement),w1=function(e){return tZ?_T.createElement(e):{}},rZ=Oe,nZ=ce,iZ=w1,aU=!rZ&&!nZ(function(){return Object.defineProperty(iZ("div"),"a",{get:function(){return 7}}).a!=7}),aZ=Oe,oZ=Me,sZ=Dv,lZ=oi,uZ=tr,cZ=Ss,fZ=Qe,dZ=aU,NP=Object.getOwnPropertyDescriptor;hr.f=aZ?NP:function(t,r){if(t=uZ(t),r=cZ(r),dZ)try{return NP(t,r)}catch{}if(fZ(t,r))return lZ(!oZ(sZ.f,t,r),t[r])};var Tt={},hZ=Oe,vZ=ce,oU=hZ&&vZ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),pZ=Ge,gZ=String,mZ=TypeError,De=function(e){if(pZ(e))return e;throw mZ(gZ(e)+" is not an object")},yZ=Oe,_Z=aU,EZ=oU,V0=De,MP=Ss,xZ=TypeError,HE=Object.defineProperty,SZ=Object.getOwnPropertyDescriptor,KE="enumerable",GE="configurable",WE="writable";Tt.f=yZ?EZ?function(t,r,n){if(V0(t),r=MP(r),V0(n),typeof t=="function"&&r==="prototype"&&"value"in n&&WE in n&&!n[WE]){var i=SZ(t,r);i&&i[WE]&&(t[r]=n.value,n={configurable:GE in n?n[GE]:i[GE],enumerable:KE in n?n[KE]:i[KE],writable:!1})}return HE(t,r,n)}:HE:function(t,r,n){if(V0(t),r=MP(r),V0(n),_Z)try{return HE(t,r,n)}catch{}if("get"in n||"set"in n)throw xZ("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var bZ=Oe,TZ=Tt,wZ=oi,Yr=bZ?function(e,t,r){return TZ.f(e,t,wZ(1,r))}:function(e,t,r){return e[t]=r,e},Ch={},AZ={get exports(){return Ch},set exports(e){Ch=e}},ET=Oe,RZ=Qe,sU=Function.prototype,OZ=ET&&Object.getOwnPropertyDescriptor,JA=RZ(sU,"name"),IZ=JA&&function(){}.name==="something",CZ=JA&&(!ET||ET&&OZ(sU,"name").configurable),sf={EXISTS:JA,PROPER:IZ,CONFIGURABLE:CZ},PZ=de,LZ=Ke,xT=ZA,DZ=PZ(Function.toString);LZ(xT.inspectSource)||(xT.inspectSource=function(e){return DZ(e)});var eR=xT.inspectSource,$Z=Ee,kZ=Ke,FP=$Z.WeakMap,lU=kZ(FP)&&/native code/.test(String(FP)),NZ=as,MZ=of,BP=NZ("keys"),A1=function(e){return BP[e]||(BP[e]=MZ(e))},$v={},FZ=lU,uU=Ee,BZ=Ge,UZ=Yr,zE=Qe,VE=ZA,jZ=A1,HZ=$v,UP="Object already initialized",ST=uU.TypeError,KZ=uU.WeakMap,cm,Ph,fm,GZ=function(e){return fm(e)?Ph(e):cm(e,{})},WZ=function(e){return function(t){var r;if(!BZ(t)||(r=Ph(t)).type!==e)throw ST("Incompatible receiver, "+e+" required");return r}};if(FZ||VE.state){var Bi=VE.state||(VE.state=new KZ);Bi.get=Bi.get,Bi.has=Bi.has,Bi.set=Bi.set,cm=function(e,t){if(Bi.has(e))throw ST(UP);return t.facade=e,Bi.set(e,t),t},Ph=function(e){return Bi.get(e)||{}},fm=function(e){return Bi.has(e)}}else{var eu=jZ("state");HZ[eu]=!0,cm=function(e,t){if(zE(e,eu))throw ST(UP);return t.facade=e,UZ(e,eu,t),t},Ph=function(e){return zE(e,eu)?e[eu]:{}},fm=function(e){return zE(e,eu)}}var Vt={set:cm,get:Ph,has:fm,enforce:GZ,getterFor:WZ},tR=de,zZ=ce,VZ=Ke,Y0=Qe,bT=Oe,YZ=sf.CONFIGURABLE,XZ=eR,cU=Vt,qZ=cU.enforce,QZ=cU.get,jP=String,Eg=Object.defineProperty,ZZ=tR("".slice),JZ=tR("".replace),eJ=tR([].join),tJ=bT&&!zZ(function(){return Eg(function(){},"length",{value:8}).length!==8}),rJ=String(String).split("String"),nJ=AZ.exports=function(e,t,r){ZZ(jP(t),0,7)==="Symbol("&&(t="["+JZ(jP(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Y0(e,"name")||YZ&&e.name!==t)&&(bT?Eg(e,"name",{value:t,configurable:!0}):e.name=t),tJ&&r&&Y0(r,"arity")&&e.length!==r.arity&&Eg(e,"length",{value:r.arity});try{r&&Y0(r,"constructor")&&r.constructor?bT&&Eg(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=qZ(e);return Y0(n,"source")||(n.source=eJ(rJ,typeof t=="string"?t:"")),e};Function.prototype.toString=nJ(function(){return VZ(this)&&QZ(this).source||XZ(this)},"toString");var iJ=Ke,aJ=Tt,oJ=Ch,sJ=QA,Nt=function(e,t,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:t;if(iJ(r)&&oJ(r,a,n),n.global)i?e[t]=r:sJ(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:aJ.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},ro={},lJ=Math.ceil,uJ=Math.floor,fU=Math.trunc||function(t){var r=+t;return(r>0?uJ:lJ)(r)},cJ=fU,jt=function(e){var t=+e;return t!==t||t===0?0:cJ(t)},fJ=jt,dJ=Math.max,hJ=Math.min,fa=function(e,t){var r=fJ(e);return r<0?dJ(r+t,0):hJ(r,t)},vJ=jt,pJ=Math.min,Pn=function(e){return e>0?pJ(vJ(e),9007199254740991):0},gJ=Pn,st=function(e){return gJ(e.length)},mJ=tr,yJ=fa,_J=st,HP=function(e){return function(t,r,n){var i=mJ(t),a=_J(i),o=yJ(n,a),s;if(e&&r!=r){for(;a>o;)if(s=i[o++],s!=s)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===r)return e||o||0;return!e&&-1}},kv={includes:HP(!0),indexOf:HP(!1)},EJ=de,YE=Qe,xJ=tr,SJ=kv.indexOf,bJ=$v,KP=EJ([].push),dU=function(e,t){var r=xJ(e),n=0,i=[],a;for(a in r)!YE(bJ,a)&&YE(r,a)&&KP(i,a);for(;t.length>n;)YE(r,a=t[n++])&&(~SJ(i,a)||KP(i,a));return i},rR=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],TJ=dU,wJ=rR,AJ=wJ.concat("length","prototype");ro.f=Object.getOwnPropertyNames||function(t){return TJ(t,AJ)};var Nv={};Nv.f=Object.getOwnPropertySymbols;var RJ=It,OJ=de,IJ=ro,CJ=Nv,PJ=De,LJ=OJ([].concat),nR=RJ("Reflect","ownKeys")||function(t){var r=IJ.f(PJ(t)),n=CJ.f;return n?LJ(r,n(t)):r},GP=Qe,DJ=nR,$J=hr,kJ=Tt,R1=function(e,t,r){for(var n=DJ(t),i=kJ.f,a=$J.f,o=0;o<n.length;o++){var s=n[o];!GP(e,s)&&!(r&&GP(r,s))&&i(e,s,a(t,s))}},NJ=ce,MJ=Ke,FJ=/#|\.prototype\./,Mv=function(e,t){var r=UJ[BJ(e)];return r==HJ?!0:r==jJ?!1:MJ(t)?NJ(t):!!t},BJ=Mv.normalize=function(e){return String(e).replace(FJ,".").toLowerCase()},UJ=Mv.data={},jJ=Mv.NATIVE="N",HJ=Mv.POLYFILL="P",Fv=Mv,XE=Ee,KJ=hr.f,GJ=Yr,WJ=Nt,zJ=QA,VJ=R1,YJ=Fv,Z=function(e,t){var r=e.target,n=e.global,i=e.stat,a,o,s,l,u,c;if(n?o=XE:i?o=XE[r]||zJ(r,{}):o=(XE[r]||{}).prototype,o)for(s in t){if(u=t[s],e.dontCallGetSet?(c=KJ(o,s),l=c&&c.value):l=o[s],a=YJ(n?s:r+(i?".":"#")+s,e.forced),!a&&l!==void 0){if(typeof u==typeof l)continue;VJ(u,l)}(e.sham||l&&l.sham)&&GJ(u,"sham",!0),WJ(o,s,u,e)}},XJ=We,qJ=XJ("toStringTag"),hU={};hU[qJ]="z";var iR=String(hU)==="[object z]",QJ=iR,ZJ=Ke,xg=Vr,JJ=We,eee=JJ("toStringTag"),tee=Object,ree=xg(function(){return arguments}())=="Arguments",nee=function(e,t){try{return e[t]}catch{}},da=QJ?xg:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=nee(t=tee(e),eee))=="string"?r:ree?xg(t):(n=xg(t))=="Object"&&ZJ(t.callee)?"Arguments":n},iee=da,aee=String,Be=function(e){if(iee(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return aee(e)},O1={},oee=dU,see=rR,Bv=Object.keys||function(t){return oee(t,see)},lee=Oe,uee=oU,cee=Tt,fee=De,dee=tr,hee=Bv;O1.f=lee&&!uee?Object.defineProperties:function(t,r){fee(t);for(var n=dee(r),i=hee(r),a=i.length,o=0,s;a>o;)cee.f(t,s=i[o++],n[s]);return t};var vee=It,vU=vee("document","documentElement"),pee=De,gee=O1,WP=rR,mee=$v,yee=vU,_ee=w1,Eee=A1,zP=">",VP="<",TT="prototype",wT="script",pU=Eee("IE_PROTO"),qE=function(){},gU=function(e){return VP+wT+zP+e+VP+"/"+wT+zP},YP=function(e){e.write(gU("")),e.close();var t=e.parentWindow.Object;return e=null,t},xee=function(){var e=_ee("iframe"),t="java"+wT+":",r;return e.style.display="none",yee.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(gU("document.F=Object")),r.close(),r.F},X0,Sg=function(){try{X0=new ActiveXObject("htmlfile")}catch{}Sg=typeof document<"u"?document.domain&&X0?YP(X0):xee():YP(X0);for(var e=WP.length;e--;)delete Sg[TT][WP[e]];return Sg()};mee[pU]=!0;var li=Object.create||function(t,r){var n;return t!==null?(qE[TT]=pee(t),n=new qE,qE[TT]=null,n[pU]=t):n=Sg(),r===void 0?n:gee.f(n,r)},I1={},See=Ss,bee=Tt,Tee=oi,no=function(e,t,r){var n=See(t);n in e?bee.f(e,n,Tee(0,r)):e[n]=r},XP=fa,wee=st,Aee=no,Ree=Array,Oee=Math.max,Uv=function(e,t,r){for(var n=wee(e),i=XP(t,n),a=XP(r===void 0?n:r,n),o=Ree(Oee(a-i,0)),s=0;i<a;i++,s++)Aee(o,s,e[i]);return o.length=s,o},Iee=Vr,Cee=tr,mU=ro.f,Pee=Uv,yU=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Lee=function(e){try{return mU(e)}catch{return Pee(yU)}};I1.f=function(t){return yU&&Iee(t)=="Window"?Lee(t):mU(Cee(t))};var qP=Ch,Dee=Tt,vr=function(e,t,r){return r.get&&qP(r.get,t,{getter:!0}),r.set&&qP(r.set,t,{setter:!0}),Dee.f(e,t,r)},aR={},$ee=We;aR.f=$ee;var kee=Ee,oR=kee,QP=oR,Nee=Qe,Mee=aR,Fee=Tt.f,pn=function(e){var t=QP.Symbol||(QP.Symbol={});Nee(t,e)||Fee(t,e,{value:Mee.f(e)})},Bee=Me,Uee=It,jee=We,Hee=Nt,_U=function(){var e=Uee("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=jee("toPrimitive");t&&!t[n]&&Hee(t,n,function(i){return Bee(r,this)},{arity:1})},Kee=Tt.f,Gee=Qe,Wee=We,ZP=Wee("toStringTag"),Ln=function(e,t,r){e&&!r&&(e=e.prototype),e&&!Gee(e,ZP)&&Kee(e,ZP,{configurable:!0,value:t})},zee=Vr,Vee=de,bs=function(e){if(zee(e)==="Function")return Vee(e)},JP=bs,Yee=Ut,Xee=Lv,qee=JP(JP.bind),Ni=function(e,t){return Yee(e),t===void 0?e:Xee?qee(e,t):function(){return e.apply(t,arguments)}},Qee=Vr,Ts=Array.isArray||function(t){return Qee(t)=="Array"},Zee=de,Jee=ce,EU=Ke,ete=da,tte=It,rte=eR,xU=function(){},nte=[],SU=tte("Reflect","construct"),sR=/^\s*(?:class|function)\b/,ite=Zee(sR.exec),ate=!sR.exec(xU),jf=function(t){if(!EU(t))return!1;try{return SU(xU,nte,t),!0}catch{return!1}},bU=function(t){if(!EU(t))return!1;switch(ete(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ate||!!ite(sR,rte(t))}catch{return!0}};bU.sham=!0;var lf=!SU||Jee(function(){var e;return jf(jf.call)||!jf(Object)||!jf(function(){e=!0})||e})?bU:jf,eL=Ts,ote=lf,ste=Ge,lte=We,ute=lte("species"),tL=Array,cte=function(e){var t;return eL(e)&&(t=e.constructor,ote(t)&&(t===tL||eL(t.prototype))?t=void 0:ste(t)&&(t=t[ute],t===null&&(t=void 0))),t===void 0?tL:t},fte=cte,jv=function(e,t){return new(fte(e))(t===0?0:t)},dte=Ni,hte=de,vte=nf,pte=nt,gte=st,mte=jv,rL=hte([].push),vo=function(e){var t=e==1,r=e==2,n=e==3,i=e==4,a=e==6,o=e==7,s=e==5||a;return function(l,u,c,d){for(var f=pte(l),m=vte(f),_=dte(u,c),x=gte(m),v=0,g=d||mte,p=t?g(l,x):r||o?g(l,0):void 0,h,S;x>v;v++)if((s||v in m)&&(h=m[v],S=_(h,v,f),e))if(t)p[v]=S;else if(S)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:rL(p,h)}else switch(e){case 4:return!1;case 7:rL(p,h)}return a?-1:n||i?i:p}},pr={forEach:vo(0),map:vo(1),filter:vo(2),some:vo(3),every:vo(4),find:vo(5),findIndex:vo(6),filterReject:vo(7)},C1=Z,lR=Ee,uR=Me,yte=de,bc=Oe,Tc=af,_te=ce,Qt=Qe,Ete=si,AT=De,P1=tr,cR=Ss,xte=Be,RT=oi,Lh=li,TU=Bv,Ste=ro,wU=I1,bte=Nv,AU=hr,RU=Tt,Tte=O1,OU=Dv,QE=Nt,wte=vr,fR=as,Ate=A1,IU=$v,nL=of,Rte=We,Ote=aR,Ite=pn,Cte=_U,Pte=Ln,CU=Vt,L1=pr.forEach,an=Ate("hidden"),D1="Symbol",Dh="prototype",Lte=CU.set,iL=CU.getterFor(D1),Jn=Object[Dh],hl=lR.Symbol,Ld=hl&&hl[Dh],Dte=lR.TypeError,ZE=lR.QObject,PU=AU.f,qs=RU.f,LU=wU.f,$te=OU.f,DU=yte([].push),Wa=fR("symbols"),Hv=fR("op-symbols"),kte=fR("wks"),OT=!ZE||!ZE[Dh]||!ZE[Dh].findChild,IT=bc&&_te(function(){return Lh(qs({},"a",{get:function(){return qs(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=PU(Jn,t);n&&delete Jn[t],qs(e,t,r),n&&e!==Jn&&qs(Jn,t,n)}:qs,JE=function(e,t){var r=Wa[e]=Lh(Ld);return Lte(r,{type:D1,tag:e,description:t}),bc||(r.description=t),r},$1=function(t,r,n){t===Jn&&$1(Hv,r,n),AT(t);var i=cR(r);return AT(n),Qt(Wa,i)?(n.enumerable?(Qt(t,an)&&t[an][i]&&(t[an][i]=!1),n=Lh(n,{enumerable:RT(0,!1)})):(Qt(t,an)||qs(t,an,RT(1,{})),t[an][i]=!0),IT(t,i,n)):qs(t,i,n)},dR=function(t,r){AT(t);var n=P1(r),i=TU(n).concat(NU(n));return L1(i,function(a){(!bc||uR(CT,n,a))&&$1(t,a,n[a])}),t},Nte=function(t,r){return r===void 0?Lh(t):dR(Lh(t),r)},CT=function(t){var r=cR(t),n=uR($te,this,r);return this===Jn&&Qt(Wa,r)&&!Qt(Hv,r)?!1:n||!Qt(this,r)||!Qt(Wa,r)||Qt(this,an)&&this[an][r]?n:!0},$U=function(t,r){var n=P1(t),i=cR(r);if(!(n===Jn&&Qt(Wa,i)&&!Qt(Hv,i))){var a=PU(n,i);return a&&Qt(Wa,i)&&!(Qt(n,an)&&n[an][i])&&(a.enumerable=!0),a}},kU=function(t){var r=LU(P1(t)),n=[];return L1(r,function(i){!Qt(Wa,i)&&!Qt(IU,i)&&DU(n,i)}),n},NU=function(e){var t=e===Jn,r=LU(t?Hv:P1(e)),n=[];return L1(r,function(i){Qt(Wa,i)&&(!t||Qt(Jn,i))&&DU(n,Wa[i])}),n};Tc||(hl=function(){if(Ete(Ld,this))throw Dte("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:xte(arguments[0]),r=nL(t),n=function(i){this===Jn&&uR(n,Hv,i),Qt(this,an)&&Qt(this[an],r)&&(this[an][r]=!1),IT(this,r,RT(1,i))};return bc&&OT&&IT(Jn,r,{configurable:!0,set:n}),JE(r,t)},Ld=hl[Dh],QE(Ld,"toString",function(){return iL(this).tag}),QE(hl,"withoutSetter",function(e){return JE(nL(e),e)}),OU.f=CT,RU.f=$1,Tte.f=dR,AU.f=$U,Ste.f=wU.f=kU,bte.f=NU,Ote.f=function(e){return JE(Rte(e),e)},bc&&(wte(Ld,"description",{configurable:!0,get:function(){return iL(this).description}}),QE(Jn,"propertyIsEnumerable",CT,{unsafe:!0})));C1({global:!0,constructor:!0,wrap:!0,forced:!Tc,sham:!Tc},{Symbol:hl});L1(TU(kte),function(e){Ite(e)});C1({target:D1,stat:!0,forced:!Tc},{useSetter:function(){OT=!0},useSimple:function(){OT=!1}});C1({target:"Object",stat:!0,forced:!Tc,sham:!bc},{create:Nte,defineProperty:$1,defineProperties:dR,getOwnPropertyDescriptor:$U});C1({target:"Object",stat:!0,forced:!Tc},{getOwnPropertyNames:kU});Cte();Pte(hl,D1);IU[an]=!0;var Mte=af,MU=Mte&&!!Symbol.for&&!!Symbol.keyFor,Fte=Z,Bte=It,Ute=Qe,jte=Be,FU=as,Hte=MU,ex=FU("string-to-symbol-registry"),Kte=FU("symbol-to-string-registry");Fte({target:"Symbol",stat:!0,forced:!Hte},{for:function(e){var t=jte(e);if(Ute(ex,t))return ex[t];var r=Bte("Symbol")(t);return ex[t]=r,Kte[r]=t,r}});var Gte=Z,Wte=Qe,zte=kl,Vte=Nl,Yte=as,Xte=MU,aL=Yte("symbol-to-string-registry");Gte({target:"Symbol",stat:!0,forced:!Xte},{keyFor:function(t){if(!zte(t))throw TypeError(Vte(t)+" is not a symbol");if(Wte(aL,t))return aL[t]}});var qte=Lv,BU=Function.prototype,oL=BU.apply,sL=BU.call,ui=typeof Reflect=="object"&&Reflect.apply||(qte?sL.bind(oL):function(){return sL.apply(oL,arguments)}),Qte=de,Ml=Qte([].slice),Zte=de,lL=Ts,Jte=Ke,uL=Vr,ere=Be,cL=Zte([].push),tre=function(e){if(Jte(e))return e;if(lL(e)){for(var t=e.length,r=[],n=0;n<t;n++){var i=e[n];typeof i=="string"?cL(r,i):(typeof i=="number"||uL(i)=="Number"||uL(i)=="String")&&cL(r,ere(i))}var a=r.length,o=!0;return function(s,l){if(o)return o=!1,l;if(lL(this))return l;for(var u=0;u<a;u++)if(r[u]===s)return l}}},rre=Z,UU=It,jU=ui,nre=Me,Kv=de,HU=ce,fL=Ke,dL=kl,KU=Ml,ire=tre,are=af,ore=String,Uo=UU("JSON","stringify"),q0=Kv(/./.exec),hL=Kv("".charAt),sre=Kv("".charCodeAt),lre=Kv("".replace),ure=Kv(1 .toString),cre=/[\uD800-\uDFFF]/g,vL=/^[\uD800-\uDBFF]$/,pL=/^[\uDC00-\uDFFF]$/,gL=!are||HU(function(){var e=UU("Symbol")();return Uo([e])!="[null]"||Uo({a:e})!="{}"||Uo(Object(e))!="{}"}),mL=HU(function(){return Uo("\uDF06\uD834")!=='"\\udf06\\ud834"'||Uo("\uDEAD")!=='"\\udead"'}),fre=function(e,t){var r=KU(arguments),n=ire(t);if(!(!fL(n)&&(e===void 0||dL(e))))return r[1]=function(i,a){if(fL(n)&&(a=nre(n,this,ore(i),a)),!dL(a))return a},jU(Uo,null,r)},dre=function(e,t,r){var n=hL(r,t-1),i=hL(r,t+1);return q0(vL,e)&&!q0(pL,i)||q0(pL,e)&&!q0(vL,n)?"\\u"+ure(sre(e,0),16):e};Uo&&rre({target:"JSON",stat:!0,arity:3,forced:gL||mL},{stringify:function(t,r,n){var i=KU(arguments),a=jU(gL?fre:Uo,null,i);return mL&&typeof a=="string"?lre(a,cre,dre):a}});var hre=Z,vre=af,pre=ce,GU=Nv,gre=nt,mre=!vre||pre(function(){GU.f(1)});hre({target:"Object",stat:!0,forced:mre},{getOwnPropertySymbols:function(t){var r=GU.f;return r?r(gre(t)):[]}});var yre=Z,_re=Oe,Ere=Ee,Q0=de,xre=Qe,Sre=Ke,bre=si,Tre=Be,wre=vr,Are=R1,Ra=Ere.Symbol,Ns=Ra&&Ra.prototype;if(_re&&Sre(Ra)&&(!("description"in Ns)||Ra().description!==void 0)){var yL={},Z0=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:Tre(arguments[0]),r=bre(Ns,this)?new Ra(t):t===void 0?Ra():Ra(t);return t===""&&(yL[r]=!0),r};Are(Z0,Ra),Z0.prototype=Ns,Ns.constructor=Z0;var Rre=String(Ra("test"))=="Symbol(test)",Ore=Q0(Ns.valueOf),Ire=Q0(Ns.toString),Cre=/^Symbol\((.*)\)[^)]+$/,Pre=Q0("".replace),Lre=Q0("".slice);wre(Ns,"description",{configurable:!0,get:function(){var t=Ore(this);if(xre(yL,t))return"";var r=Ire(t),n=Rre?Lre(r,7,-1):Pre(r,Cre,"$1");return n===""?void 0:n}}),yre({global:!0,constructor:!0,forced:!0},{Symbol:Z0})}var Dre=pn;Dre("asyncIterator");var $re=pn;$re("hasInstance");var kre=pn;kre("isConcatSpreadable");var Nre=pn;Nre("iterator");var Mre=pn;Mre("match");var Fre=pn;Fre("matchAll");var Bre=pn;Bre("replace");var Ure=pn;Ure("search");var jre=pn;jre("species");var Hre=pn;Hre("split");var Kre=pn,Gre=_U;Kre("toPrimitive");Gre();var Wre=It,zre=pn,Vre=Ln;zre("toStringTag");Vre(Wre("Symbol"),"Symbol");var Yre=pn;Yre("unscopables");var Xre=de,qre=Ut,Qre=function(e,t,r){try{return Xre(qre(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},Zre=Ke,Jre=String,ene=TypeError,WU=function(e){if(typeof e=="object"||Zre(e))return e;throw ene("Can't set "+Jre(e)+" as a prototype")},tne=Qre,rne=De,nne=WU,ha=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=tne(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,a){return rne(i),nne(a),e?r(i,a):i.__proto__=a,i}}():void 0),ine=Tt.f,zU=function(e,t,r){r in e||ine(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})},ane=Ke,one=Ge,_L=ha,uf=function(e,t,r){var n,i;return _L&&ane(n=t.constructor)&&n!==r&&one(i=n.prototype)&&i!==r.prototype&&_L(e,i),e},sne=Be,Gv=function(e,t){return e===void 0?arguments.length<2?"":t:sne(e)},lne=Ge,une=Yr,VU=function(e,t){lne(t)&&"cause"in t&&une(e,"cause",t.cause)},cne=de,YU=Error,fne=cne("".replace),dne=function(e){return String(YU(e).stack)}("zxcasd"),XU=/\n\s*at [^:]*:[^\n]*/,hne=XU.test(dne),hR=function(e,t){if(hne&&typeof e=="string"&&!YU.prepareStackTrace)for(;t--;)e=fne(e,XU,"");return e},vne=ce,pne=oi,qU=!vne(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",pne(1,7)),e.stack!==7):!0}),gne=Yr,mne=hR,yne=qU,EL=Error.captureStackTrace,QU=function(e,t,r,n){yne&&(EL?EL(e,t):gne(e,"stack",mne(r,n)))},xL=It,_ne=Qe,SL=Yr,Ene=si,bL=ha,TL=R1,wL=zU,xne=uf,Sne=Gv,bne=VU,Tne=QU,wne=Oe,ZU=function(e,t,r,n){var i="stackTraceLimit",a=n?2:1,o=e.split("."),s=o[o.length-1],l=xL.apply(null,o);if(l){var u=l.prototype;if(_ne(u,"cause")&&delete u.cause,!r)return l;var c=xL("Error"),d=t(function(f,m){var _=Sne(n?m:f,void 0),x=n?new l(f):new l;return _!==void 0&&SL(x,"message",_),Tne(x,d,x.stack,2),this&&Ene(u,this)&&xne(x,this,d),arguments.length>a&&bne(x,arguments[a]),x});d.prototype=u,s!=="Error"?bL?bL(d,c):TL(d,c,{name:!0}):wne&&i in l&&(wL(d,l,i),wL(d,l,"prepareStackTrace")),TL(d,l);try{u.name!==s&&SL(u,"name",s),u.constructor=d}catch{}return d}},JU=Z,Ane=Ee,va=ui,ej=ZU,PT="WebAssembly",AL=Ane[PT],dm=Error("e",{cause:7}).cause!==7,Fl=function(e,t){var r={};r[e]=ej(e,t,dm),JU({global:!0,constructor:!0,arity:1,forced:dm},r)},vR=function(e,t){if(AL&&AL[e]){var r={};r[e]=ej(PT+"."+e,t,dm),JU({target:PT,stat:!0,constructor:!0,arity:1,forced:dm},r)}};Fl("Error",function(e){return function(r){return va(e,this,arguments)}});Fl("EvalError",function(e){return function(r){return va(e,this,arguments)}});Fl("RangeError",function(e){return function(r){return va(e,this,arguments)}});Fl("ReferenceError",function(e){return function(r){return va(e,this,arguments)}});Fl("SyntaxError",function(e){return function(r){return va(e,this,arguments)}});Fl("TypeError",function(e){return function(r){return va(e,this,arguments)}});Fl("URIError",function(e){return function(r){return va(e,this,arguments)}});vR("CompileError",function(e){return function(r){return va(e,this,arguments)}});vR("LinkError",function(e){return function(r){return va(e,this,arguments)}});vR("RuntimeError",function(e){return function(r){return va(e,this,arguments)}});var Rne=Oe,One=ce,Ine=De,Cne=li,RL=Gv,bg=Error.prototype.toString,Pne=One(function(){if(Rne){var e=Cne(Object.defineProperty({},"name",{get:function(){return this===e}}));if(bg.call(e)!=="true")return!0}return bg.call({message:1,name:2})!=="2: 1"||bg.call({})!=="Error"}),tj=Pne?function(){var t=Ine(this),r=RL(t.name,"Error"),n=RL(t.message);return r?n?r+": "+n:r:n}:bg,Lne=Nt,OL=tj,IL=Error.prototype;IL.toString!==OL&&Lne(IL,"toString",OL);var Dne=ce,pR=!Dne(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),$ne=Qe,kne=Ke,Nne=nt,Mne=A1,Fne=pR,CL=Mne("IE_PROTO"),LT=Object,Bne=LT.prototype,ci=Fne?LT.getPrototypeOf:function(e){var t=Nne(e);if($ne(t,CL))return t[CL];var r=t.constructor;return kne(r)&&t instanceof r?r.prototype:t instanceof LT?Bne:null},Wv={},Une=We,jne=Wv,Hne=Une("iterator"),Kne=Array.prototype,gR=function(e){return e!==void 0&&(jne.Array===e||Kne[Hne]===e)},Gne=da,PL=to,Wne=vn,zne=Wv,Vne=We,Yne=Vne("iterator"),zv=function(e){if(!Wne(e))return PL(e,Yne)||PL(e,"@@iterator")||zne[Gne(e)]},Xne=Me,qne=Ut,Qne=De,Zne=Nl,Jne=zv,eie=TypeError,k1=function(e,t){var r=arguments.length<2?Jne(e):t;if(qne(r))return Qne(Xne(r,e));throw eie(Zne(e)+" is not iterable")},tie=Me,LL=De,rie=to,rj=function(e,t,r){var n,i;LL(e);try{if(n=rie(e,"return"),!n){if(t==="throw")throw r;return r}n=tie(n,e)}catch(a){i=!0,n=a}if(t==="throw")throw r;if(i)throw n;return LL(n),r},nie=Ni,iie=Me,aie=De,oie=Nl,sie=gR,lie=st,DL=si,uie=k1,cie=zv,$L=rj,fie=TypeError,Tg=function(e,t){this.stopped=e,this.result=t},kL=Tg.prototype,pa=function(e,t,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),o=!!(r&&r.IS_ITERATOR),s=!!(r&&r.INTERRUPTED),l=nie(t,n),u,c,d,f,m,_,x,v=function(p){return u&&$L(u,"normal",p),new Tg(!0,p)},g=function(p){return i?(aie(p),s?l(p[0],p[1],v):l(p[0],p[1])):s?l(p,v):l(p)};if(a)u=e.iterator;else if(o)u=e;else{if(c=cie(e),!c)throw fie(oie(e)+" is not iterable");if(sie(c)){for(d=0,f=lie(e);f>d;d++)if(m=g(e[d]),m&&DL(kL,m))return m;return new Tg(!1)}u=uie(e,c)}for(_=a?e.next:u.next;!(x=iie(_,u)).done;){try{m=g(x.value)}catch(p){$L(u,"throw",p)}if(typeof m=="object"&&m&&DL(kL,m))return m}return new Tg(!1)},die=Z,hie=si,vie=ci,hm=ha,pie=R1,nj=li,tx=Yr,rx=oi,gie=VU,mie=QU,yie=pa,_ie=Gv,Eie=We,xie=Eie("toStringTag"),vm=Error,Sie=[].push,wc=function(t,r){var n=hie(nx,this),i;hm?i=hm(vm(),n?vie(this):nx):(i=n?this:nj(nx),tx(i,xie,"Error")),r!==void 0&&tx(i,"message",_ie(r)),mie(i,wc,i.stack,1),arguments.length>2&&gie(i,arguments[2]);var a=[];return yie(t,Sie,{that:a}),tx(i,"errors",a),i};hm?hm(wc,vm):pie(wc,vm,{name:!0});var nx=wc.prototype=nj(vm.prototype,{constructor:rx(1,wc),message:rx(1,""),name:rx(1,"AggregateError")});die({global:!0,constructor:!0,arity:2},{AggregateError:wc});var bie=Z,Tie=It,wie=ui,NL=ce,Aie=ZU,mR="AggregateError",ML=Tie(mR),FL=!NL(function(){return ML([1]).errors[0]!==1})&&NL(function(){return ML([1],mR,{cause:7}).cause!==7});bie({global:!0,constructor:!0,arity:2,forced:FL},{AggregateError:Aie(mR,function(e){return function(r,n){return wie(e,this,arguments)}},FL,!0)});var Rie=We,Oie=li,Iie=Tt.f,DT=Rie("unscopables"),$T=Array.prototype;$T[DT]==null&&Iie($T,DT,{configurable:!0,value:Oie(null)});var gn=function(e){$T[DT][e]=!0},Cie=Z,Pie=nt,Lie=st,Die=jt,$ie=gn;Cie({target:"Array",proto:!0},{at:function(t){var r=Pie(this),n=Lie(r),i=Die(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]}});$ie("at");var kie=TypeError,Nie=9007199254740991,cf=function(e){if(e>Nie)throw kie("Maximum allowed index exceeded");return e},Mie=ce,Fie=We,Bie=eo,Uie=Fie("species"),Vv=function(e){return Bie>=51||!Mie(function(){var t=[],r=t.constructor={};return r[Uie]=function(){return{foo:1}},t[e](Boolean).foo!==1})},jie=Z,Hie=ce,Kie=Ts,Gie=Ge,Wie=nt,zie=st,BL=cf,UL=no,Vie=jv,Yie=Vv,Xie=We,qie=eo,ij=Xie("isConcatSpreadable"),Qie=qie>=51||!Hie(function(){var e=[];return e[ij]=!1,e.concat()[0]!==e}),Zie=function(e){if(!Gie(e))return!1;var t=e[ij];return t!==void 0?!!t:Kie(e)},Jie=!Qie||!Yie("concat");jie({target:"Array",proto:!0,arity:1,forced:Jie},{concat:function(t){var r=Wie(this),n=Vie(r,0),i=0,a,o,s,l,u;for(a=-1,s=arguments.length;a<s;a++)if(u=a===-1?r:arguments[a],Zie(u))for(l=zie(u),BL(i+l),o=0;o<l;o++,i++)o in u&&UL(n,i,u[o]);else BL(i+1),UL(n,i++,u);return n.length=i,n}});var jL=Nl,eae=TypeError,N1=function(e,t){if(!delete e[t])throw eae("Cannot delete property "+jL(t)+" of "+jL(e))},tae=nt,ix=fa,rae=st,nae=N1,iae=Math.min,aj=[].copyWithin||function(t,r){var n=tae(this),i=rae(n),a=ix(t,i),o=ix(r,i),s=arguments.length>2?arguments[2]:void 0,l=iae((s===void 0?i:ix(s,i))-o,i-a),u=1;for(o<a&&a<o+l&&(u=-1,o+=l-1,a+=l-1);l-- >0;)o in n?n[a]=n[o]:nae(n,a),a+=u,o+=u;return n},aae=Z,oae=aj,sae=gn;aae({target:"Array",proto:!0},{copyWithin:oae});sae("copyWithin");var lae=ce,io=function(e,t){var r=[][e];return!!r&&lae(function(){r.call(null,t||function(){return 1},1)})},uae=Z,cae=pr.every,fae=io,dae=fae("every");uae({target:"Array",proto:!0,forced:!dae},{every:function(t){return cae(this,t,arguments.length>1?arguments[1]:void 0)}});var hae=nt,HL=fa,vae=st,yR=function(t){for(var r=hae(this),n=vae(r),i=arguments.length,a=HL(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=o===void 0?n:HL(o,n);s>a;)r[a++]=t;return r},pae=Z,gae=yR,mae=gn;pae({target:"Array",proto:!0},{fill:gae});mae("fill");var yae=Z,_ae=pr.filter,Eae=Vv,xae=Eae("filter");yae({target:"Array",proto:!0,forced:!xae},{filter:function(t){return _ae(this,t,arguments.length>1?arguments[1]:void 0)}});var Sae=Z,bae=pr.find,Tae=gn,kT="find",oj=!0;kT in[]&&Array(1)[kT](function(){oj=!1});Sae({target:"Array",proto:!0,forced:oj},{find:function(t){return bae(this,t,arguments.length>1?arguments[1]:void 0)}});Tae(kT);var wae=Z,Aae=pr.findIndex,Rae=gn,NT="findIndex",sj=!0;NT in[]&&Array(1)[NT](function(){sj=!1});wae({target:"Array",proto:!0,forced:sj},{findIndex:function(t){return Aae(this,t,arguments.length>1?arguments[1]:void 0)}});Rae(NT);var Oae=Ni,Iae=nf,Cae=nt,Pae=st,KL=function(e){var t=e==1;return function(r,n,i){for(var a=Cae(r),o=Iae(a),s=Oae(n,i),l=Pae(o),u,c;l-- >0;)if(u=o[l],c=s(u,l,a),c)switch(e){case 0:return u;case 1:return l}return t?-1:void 0}},M1={findLast:KL(0),findLastIndex:KL(1)},Lae=Z,Dae=M1.findLast,$ae=gn;Lae({target:"Array",proto:!0},{findLast:function(t){return Dae(this,t,arguments.length>1?arguments[1]:void 0)}});$ae("findLast");var kae=Z,Nae=M1.findLastIndex,Mae=gn;kae({target:"Array",proto:!0},{findLastIndex:function(t){return Nae(this,t,arguments.length>1?arguments[1]:void 0)}});Mae("findLastIndex");var Fae=Ts,Bae=st,Uae=cf,jae=Ni,lj=function(e,t,r,n,i,a,o,s){for(var l=i,u=0,c=o?jae(o,s):!1,d,f;u<n;)u in r&&(d=c?c(r[u],u,t):r[u],a>0&&Fae(d)?(f=Bae(d),l=lj(e,t,d,f,l,a-1)-1):(Uae(l+1),e[l]=d),l++),u++;return l},uj=lj,Hae=Z,Kae=uj,Gae=nt,Wae=st,zae=jt,Vae=jv;Hae({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,r=Gae(this),n=Wae(r),i=Vae(r,0);return i.length=Kae(i,r,r,n,0,t===void 0?1:zae(t)),i}});var Yae=Z,Xae=uj,qae=Ut,Qae=nt,Zae=st,Jae=jv;Yae({target:"Array",proto:!0},{flatMap:function(t){var r=Qae(this),n=Zae(r),i;return qae(t),i=Jae(r,0),i.length=Xae(i,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),i}});var eoe=pr.forEach,toe=io,roe=toe("forEach"),cj=roe?[].forEach:function(t){return eoe(this,t,arguments.length>1?arguments[1]:void 0)},noe=Z,GL=cj;noe({target:"Array",proto:!0,forced:[].forEach!=GL},{forEach:GL});var ioe=De,aoe=rj,ooe=function(e,t,r,n){try{return n?t(ioe(r)[0],r[1]):t(r)}catch(i){aoe(e,"throw",i)}},soe=Ni,loe=Me,uoe=nt,coe=ooe,foe=gR,doe=lf,hoe=st,WL=no,voe=k1,poe=zv,zL=Array,fj=function(t){var r=uoe(t),n=doe(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=soe(a,i>2?arguments[2]:void 0));var s=poe(r),l=0,u,c,d,f,m,_;if(s&&!(this===zL&&foe(s)))for(f=voe(r,s),m=f.next,c=n?new this:[];!(d=loe(m,f)).done;l++)_=o?coe(f,a,[d.value,l],!0):d.value,WL(c,l,_);else for(u=hoe(r),c=n?new this(u):zL(u);u>l;l++)_=o?a(r[l],l):r[l],WL(c,l,_);return c.length=l,c},goe=We,dj=goe("iterator"),hj=!1;try{var moe=0,VL={next:function(){return{done:!!moe++}},return:function(){hj=!0}};VL[dj]=function(){return this},Array.from(VL,function(){throw 2})}catch{}var F1=function(e,t){if(!t&&!hj)return!1;var r=!1;try{var n={};n[dj]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},yoe=Z,_oe=fj,Eoe=F1,xoe=!Eoe(function(e){Array.from(e)});yoe({target:"Array",stat:!0,forced:xoe},{from:_oe});var Soe=Z,boe=kv.includes,Toe=ce,woe=gn,Aoe=Toe(function(){return!Array(1).includes()});Soe({target:"Array",proto:!0,forced:Aoe},{includes:function(t){return boe(this,t,arguments.length>1?arguments[1]:void 0)}});woe("includes");var Roe=Z,Ooe=bs,Ioe=kv.indexOf,Coe=io,MT=Ooe([].indexOf),vj=!!MT&&1/MT([1],1,-0)<0,Poe=vj||!Coe("indexOf");Roe({target:"Array",proto:!0,forced:Poe},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return vj?MT(this,t,r)||0:Ioe(this,t,r)}});var Loe=Z,Doe=Ts;Loe({target:"Array",stat:!0},{isArray:Doe});var $oe=ce,koe=Ke,Noe=Ge,YL=ci,Moe=Nt,Foe=We,FT=Foe("iterator"),pj=!1,yl,ax,ox;[].keys&&(ox=[].keys(),"next"in ox?(ax=YL(YL(ox)),ax!==Object.prototype&&(yl=ax)):pj=!0);var Boe=!Noe(yl)||$oe(function(){var e={};return yl[FT].call(e)!==e});Boe&&(yl={});koe(yl[FT])||Moe(yl,FT,function(){return this});var gj={IteratorPrototype:yl,BUGGY_SAFARI_ITERATORS:pj},Uoe=gj.IteratorPrototype,joe=li,Hoe=oi,Koe=Ln,Goe=Wv,Woe=function(){return this},_R=function(e,t,r,n){var i=t+" Iterator";return e.prototype=joe(Uoe,{next:Hoe(+!n,r)}),Koe(e,i,!1),Goe[i]=Woe,e},zoe=Z,Voe=Me,mj=sf,Yoe=Ke,Xoe=_R,XL=ci,qL=ha,qoe=Ln,Qoe=Yr,sx=Nt,Zoe=We,Joe=Wv,yj=gj,ese=mj.PROPER,tse=mj.CONFIGURABLE,QL=yj.IteratorPrototype,J0=yj.BUGGY_SAFARI_ITERATORS,Hf=Zoe("iterator"),ZL="keys",Kf="values",JL="entries",rse=function(){return this},ER=function(e,t,r,n,i,a,o){Xoe(r,t,n);var s=function(g){if(g===i&&f)return f;if(!J0&&g in c)return c[g];switch(g){case ZL:return function(){return new r(this,g)};case Kf:return function(){return new r(this,g)};case JL:return function(){return new r(this,g)}}return function(){return new r(this)}},l=t+" Iterator",u=!1,c=e.prototype,d=c[Hf]||c["@@iterator"]||i&&c[i],f=!J0&&d||s(i),m=t=="Array"&&c.entries||d,_,x,v;if(m&&(_=XL(m.call(new e)),_!==Object.prototype&&_.next&&(XL(_)!==QL&&(qL?qL(_,QL):Yoe(_[Hf])||sx(_,Hf,rse)),qoe(_,l,!0))),ese&&i==Kf&&d&&d.name!==Kf&&(tse?Qoe(c,"name",Kf):(u=!0,f=function(){return Voe(d,this)})),i)if(x={values:s(Kf),keys:a?f:s(ZL),entries:s(JL)},o)for(v in x)(J0||u||!(v in c))&&sx(c,v,x[v]);else zoe({target:t,proto:!0,forced:J0||u},x);return c[Hf]!==f&&sx(c,Hf,f,{name:i}),Joe[t]=f,x},B1=function(e,t){return{value:e,done:t}},nse=tr,xR=gn,eD=Wv,_j=Vt,ise=Tt.f,ase=ER,ep=B1,ose=Oe,Ej="Array Iterator",sse=_j.set,lse=_j.getterFor(Ej),xj=ase(Array,"Array",function(e,t){sse(this,{type:Ej,target:nse(e),index:0,kind:t})},function(){var e=lse(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,ep(void 0,!0)):r=="keys"?ep(n,!1):r=="values"?ep(t[n],!1):ep([n,t[n]],!1)},"values"),tD=eD.Arguments=eD.Array;xR("keys");xR("values");xR("entries");if(ose&&tD.name!=="values")try{ise(tD,"name",{value:"values"})}catch{}var use=Z,cse=de,fse=nf,dse=tr,hse=io,vse=cse([].join),pse=fse!=Object,gse=pse||!hse("join",",");use({target:"Array",proto:!0,forced:gse},{join:function(t){return vse(dse(this),t===void 0?",":t)}});var mse=ui,yse=tr,_se=jt,Ese=st,xse=io,Sse=Math.min,BT=[].lastIndexOf,Sj=!!BT&&1/[1].lastIndexOf(1,-0)<0,bse=xse("lastIndexOf"),Tse=Sj||!bse,bj=Tse?function(t){if(Sj)return mse(BT,this,arguments)||0;var r=yse(this),n=Ese(r),i=n-1;for(arguments.length>1&&(i=Sse(i,_se(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===t)return i||0;return-1}:BT,wse=Z,rD=bj;wse({target:"Array",proto:!0,forced:rD!==[].lastIndexOf},{lastIndexOf:rD});var Ase=Z,Rse=pr.map,Ose=Vv,Ise=Ose("map");Ase({target:"Array",proto:!0,forced:!Ise},{map:function(t){return Rse(this,t,arguments.length>1?arguments[1]:void 0)}});var Cse=Z,Pse=ce,Lse=lf,Dse=no,Tj=Array,$se=Pse(function(){function e(){}return!(Tj.of.call(e)instanceof e)});Cse({target:"Array",stat:!0,forced:$se},{of:function(){for(var t=0,r=arguments.length,n=new(Lse(this)?this:Tj)(r);r>t;)Dse(n,t,arguments[t++]);return n.length=r,n}});var kse=Oe,Nse=Ts,Mse=TypeError,Fse=Object.getOwnPropertyDescriptor,Bse=kse&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),SR=Bse?function(e,t){if(Nse(e)&&!Fse(e,"length").writable)throw Mse("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Use=Z,jse=nt,Hse=st,Kse=SR,Gse=cf,Wse=ce,zse=Wse(function(){return[].push.call({length:4294967296},1)!==4294967297}),Vse=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},Yse=zse||!Vse();Use({target:"Array",proto:!0,arity:1,forced:Yse},{push:function(t){var r=jse(this),n=Hse(r),i=arguments.length;Gse(n+i);for(var a=0;a<i;a++)r[n]=arguments[a],n++;return Kse(r,n),n}});var Xse=Ut,qse=nt,Qse=nf,Zse=st,Jse=TypeError,nD=function(e){return function(t,r,n,i){Xse(r);var a=qse(t),o=Qse(a),s=Zse(a),l=e?s-1:0,u=e?-1:1;if(n<2)for(;;){if(l in o){i=o[l],l+=u;break}if(l+=u,e?l<0:s<=l)throw Jse("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=u)l in o&&(i=r(i,o[l],l,a));return i}},U1={left:nD(!1),right:nD(!0)},ele=Vr,ao=typeof process<"u"&&ele(process)=="process",tle=Z,rle=U1.left,nle=io,iD=eo,ile=ao,ale=!ile&&iD>79&&iD<83,ole=ale||!nle("reduce");tle({target:"Array",proto:!0,forced:ole},{reduce:function(t){var r=arguments.length;return rle(this,t,r,r>1?arguments[1]:void 0)}});var sle=Z,lle=U1.right,ule=io,aD=eo,cle=ao,fle=!cle&&aD>79&&aD<83,dle=fle||!ule("reduceRight");sle({target:"Array",proto:!0,forced:dle},{reduceRight:function(t){return lle(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var hle=Z,vle=de,ple=Ts,gle=vle([].reverse),oD=[1,2];hle({target:"Array",proto:!0,forced:String(oD)===String(oD.reverse())},{reverse:function(){return ple(this)&&(this.length=this.length),gle(this)}});var mle=Z,sD=Ts,yle=lf,_le=Ge,lD=fa,Ele=st,xle=tr,Sle=no,ble=We,Tle=Vv,wle=Ml,Ale=Tle("slice"),Rle=ble("species"),lx=Array,Ole=Math.max;mle({target:"Array",proto:!0,forced:!Ale},{slice:function(t,r){var n=xle(this),i=Ele(n),a=lD(t,i),o=lD(r===void 0?i:r,i),s,l,u;if(sD(n)&&(s=n.constructor,yle(s)&&(s===lx||sD(s.prototype))?s=void 0:_le(s)&&(s=s[Rle],s===null&&(s=void 0)),s===lx||s===void 0))return wle(n,a,o);for(l=new(s===void 0?lx:s)(Ole(o-a,0)),u=0;a<o;a++,u++)a in n&&Sle(l,u,n[a]);return l.length=u,l}});var Ile=Z,Cle=pr.some,Ple=io,Lle=Ple("some");Ile({target:"Array",proto:!0,forced:!Lle},{some:function(t){return Cle(this,t,arguments.length>1?arguments[1]:void 0)}});var uD=Uv,Dle=Math.floor,UT=function(e,t){var r=e.length,n=Dle(r/2);return r<8?$le(e,t):kle(e,UT(uD(e,0,n),t),UT(uD(e,n),t),t)},$le=function(e,t){for(var r=e.length,n=1,i,a;n<r;){for(a=n,i=e[n];a&&t(e[a-1],i)>0;)e[a]=e[--a];a!==n++&&(e[a]=i)}return e},kle=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e},bR=UT,Nle=Ja,cD=Nle.match(/firefox\/(\d+)/i),wj=!!cD&&+cD[1],Mle=Ja,Aj=/MSIE|Trident/.test(Mle),Fle=Ja,fD=Fle.match(/AppleWebKit\/(\d+)\./),TR=!!fD&&+fD[1],Ble=Z,Rj=de,Ule=Ut,jle=nt,dD=st,Hle=N1,hD=Be,wR=ce,Kle=bR,Gle=io,vD=wj,Wle=Aj,pD=eo,gD=TR,Co=[],mD=Rj(Co.sort),zle=Rj(Co.push),Vle=wR(function(){Co.sort(void 0)}),Yle=wR(function(){Co.sort(null)}),Xle=Gle("sort"),Oj=!wR(function(){if(pD)return pD<70;if(!(vD&&vD>3)){if(Wle)return!0;if(gD)return gD<603;var e="",t,r,n,i;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Co.push({k:r+i,v:n})}for(Co.sort(function(a,o){return o.v-a.v}),i=0;i<Co.length;i++)r=Co[i].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),qle=Vle||!Yle||!Xle||!Oj,Qle=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:hD(t)>hD(r)?1:-1}};Ble({target:"Array",proto:!0,forced:qle},{sort:function(t){t!==void 0&&Ule(t);var r=jle(this);if(Oj)return t===void 0?mD(r):mD(r,t);var n=[],i=dD(r),a,o;for(o=0;o<i;o++)o in r&&zle(n,r[o]);for(Kle(n,Qle(t)),a=dD(n),o=0;o<a;)r[o]=n[o++];for(;o<i;)Hle(r,o++);return r}});var Zle=It,Jle=vr,eue=We,tue=Oe,yD=eue("species"),ff=function(e){var t=Zle(e);tue&&t&&!t[yD]&&Jle(t,yD,{configurable:!0,get:function(){return this}})},rue=ff;rue("Array");var nue=Z,iue=nt,aue=fa,oue=jt,sue=st,lue=SR,uue=cf,cue=jv,fue=no,ux=N1,due=Vv,hue=due("splice"),vue=Math.max,pue=Math.min;nue({target:"Array",proto:!0,forced:!hue},{splice:function(t,r){var n=iue(this),i=sue(n),a=aue(t,i),o=arguments.length,s,l,u,c,d,f;for(o===0?s=l=0:o===1?(s=0,l=i-a):(s=o-2,l=pue(vue(oue(r),0),i-a)),uue(i+s-l),u=cue(n,l),c=0;c<l;c++)d=a+c,d in n&&fue(u,c,n[d]);if(u.length=l,s<l){for(c=a;c<i-l;c++)d=c+l,f=c+s,d in n?n[f]=n[d]:ux(n,f);for(c=i;c>i-l+s;c--)ux(n,c-1)}else if(s>l)for(c=i-l;c>a;c--)d=c+l-1,f=c+s-1,d in n?n[f]=n[d]:ux(n,f);for(c=0;c<s;c++)n[c+a]=arguments[c+2];return lue(n,i-l+s),u}});var gue=st,Ij=function(e,t){for(var r=gue(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n},mue=Z,yue=Ij,_ue=tr,Eue=gn,xue=Array;mue({target:"Array",proto:!0},{toReversed:function(){return yue(_ue(this),xue)}});Eue("toReversed");var Sue=st,AR=function(e,t){for(var r=0,n=Sue(t),i=new e(n);n>r;)i[r]=t[r++];return i},bue=Ee,Tue=function(e){return bue[e].prototype},wue=Z,Aue=de,Rue=Ut,Oue=tr,Iue=AR,Cue=Tue,Pue=gn,Lue=Array,Due=Aue(Cue("Array").sort);wue({target:"Array",proto:!0},{toSorted:function(t){t!==void 0&&Rue(t);var r=Oue(this),n=Iue(Lue,r);return Due(n,t)}});Pue("toSorted");var $ue=Z,kue=gn,Nue=cf,Mue=st,Fue=fa,Bue=tr,Uue=jt,jue=Array,Hue=Math.max,Kue=Math.min;$ue({target:"Array",proto:!0},{toSpliced:function(t,r){var n=Bue(this),i=Mue(n),a=Fue(t,i),o=arguments.length,s=0,l,u,c,d;for(o===0?l=u=0:o===1?(l=0,u=i-a):(l=o-2,u=Kue(Hue(Uue(r),0),i-a)),c=Nue(i+l-u),d=jue(c);s<a;s++)d[s]=n[s];for(;s<a+l;s++)d[s]=arguments[s-a+2];for(;s<c;s++)d[s]=n[s+u-l];return d}});kue("toSpliced");var Gue=gn;Gue("flat");var Wue=gn;Wue("flatMap");var zue=Z,Vue=nt,Yue=st,Xue=SR,que=N1,Que=cf,Zue=[].unshift(0)!==1,Jue=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},ece=Zue||!Jue();zue({target:"Array",proto:!0,arity:1,forced:ece},{unshift:function(t){var r=Vue(this),n=Yue(r),i=arguments.length;if(i){Que(n+i);for(var a=n;a--;){var o=a+i;a in r?r[o]=r[a]:que(r,o)}for(var s=0;s<i;s++)r[s]=arguments[s]}return Xue(r,n+i)}});var tce=st,rce=jt,nce=RangeError,Cj=function(e,t,r,n){var i=tce(e),a=rce(r),o=a<0?i+a:a;if(o>=i||o<0)throw nce("Incorrect index");for(var s=new t(i),l=0;l<i;l++)s[l]=l===o?n:e[l];return s},ice=Z,ace=Cj,oce=tr,sce=Array;ice({target:"Array",proto:!0},{with:function(e,t){return ace(oce(this),sce,e,t)}});var RR=typeof ArrayBuffer<"u"&&typeof DataView<"u",lce=Nt,Yv=function(e,t,r){for(var n in t)lce(e,n,t[n],r);return e},uce=si,cce=TypeError,ga=function(e,t){if(uce(t,e))return e;throw cce("Incorrect invocation")},fce=jt,dce=Pn,hce=RangeError,Pj=function(e){if(e===void 0)return 0;var t=fce(e),r=dce(t);if(t!==r)throw hce("Wrong length or index");return r},vce=Array,pce=Math.abs,Oa=Math.pow,gce=Math.floor,mce=Math.log,yce=Math.LN2,_ce=function(e,t,r){var n=vce(r),i=r*8-t-1,a=(1<<i)-1,o=a>>1,s=t===23?Oa(2,-24)-Oa(2,-77):0,l=e<0||e===0&&1/e<0?1:0,u=0,c,d,f;for(e=pce(e),e!=e||e===1/0?(d=e!=e?1:0,c=a):(c=gce(mce(e)/yce),f=Oa(2,-c),e*f<1&&(c--,f*=2),c+o>=1?e+=s/f:e+=s*Oa(2,1-o),e*f>=2&&(c++,f/=2),c+o>=a?(d=0,c=a):c+o>=1?(d=(e*f-1)*Oa(2,t),c=c+o):(d=e*Oa(2,o-1)*Oa(2,t),c=0));t>=8;)n[u++]=d&255,d/=256,t-=8;for(c=c<<t|d,i+=t;i>0;)n[u++]=c&255,c/=256,i-=8;return n[--u]|=l*128,n},Ece=function(e,t){var r=e.length,n=r*8-t-1,i=(1<<n)-1,a=i>>1,o=n-7,s=r-1,l=e[s--],u=l&127,c;for(l>>=7;o>0;)u=u*256+e[s--],o-=8;for(c=u&(1<<-o)-1,u>>=-o,o+=t;o>0;)c=c*256+e[s--],o-=8;if(u===0)u=1-a;else{if(u===i)return c?NaN:l?-1/0:1/0;c=c+Oa(2,t),u=u-a}return(l?-1:1)*c*Oa(2,u-t)},xce={pack:_ce,unpack:Ece},j1=Ee,OR=de,cx=Oe,Sce=RR,Lj=sf,_D=Yr,bce=vr,ED=Yv,fx=ce,tp=ga,Tce=jt,wce=Pn,pm=Pj,Dj=xce,Ace=ci,xD=ha,Rce=ro.f,Oce=yR,Ice=Uv,$j=Ln,IR=Vt,Cce=Lj.PROPER,SD=Lj.CONFIGURABLE,Wu="ArrayBuffer",H1="DataView",zu="prototype",Pce="Wrong length",kj="Wrong index",bD=IR.getterFor(Wu),Xd=IR.getterFor(H1),TD=IR.set,Gn=j1[Wu],xn=Gn,tu=xn&&xn[zu],zi=j1[H1],Ms=zi&&zi[zu],wD=Object.prototype,Lce=j1.Array,gm=j1.RangeError,Dce=OR(Oce),$ce=OR([].reverse),Nj=Dj.pack,AD=Dj.unpack,RD=function(e){return[e&255]},OD=function(e){return[e&255,e>>8&255]},ID=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},CD=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},kce=function(e){return Nj(e,23,4)},Nce=function(e){return Nj(e,52,8)},rp=function(e,t,r){bce(e[zu],t,{configurable:!0,get:function(){return r(this)[t]}})},po=function(e,t,r,n){var i=pm(r),a=Xd(e);if(i+t>a.byteLength)throw gm(kj);var o=a.bytes,s=i+a.byteOffset,l=Ice(o,s,s+t);return n?l:$ce(l)},go=function(e,t,r,n,i,a){var o=pm(r),s=Xd(e);if(o+t>s.byteLength)throw gm(kj);for(var l=s.bytes,u=o+s.byteOffset,c=n(+i),d=0;d<t;d++)l[u+d]=c[a?d:t-d-1]};if(!Sce)xn=function(t){tp(this,tu);var r=pm(t);TD(this,{type:Wu,bytes:Dce(Lce(r),0),byteLength:r}),cx||(this.byteLength=r,this.detached=!1)},tu=xn[zu],zi=function(t,r,n){tp(this,Ms),tp(t,tu);var i=bD(t),a=i.byteLength,o=Tce(r);if(o<0||o>a)throw gm("Wrong offset");if(n=n===void 0?a-o:wce(n),o+n>a)throw gm(Pce);TD(this,{type:H1,buffer:t,byteLength:n,byteOffset:o,bytes:i.bytes}),cx||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},Ms=zi[zu],cx&&(rp(xn,"byteLength",bD),rp(zi,"buffer",Xd),rp(zi,"byteLength",Xd),rp(zi,"byteOffset",Xd)),ED(Ms,{getInt8:function(t){return po(this,1,t)[0]<<24>>24},getUint8:function(t){return po(this,1,t)[0]},getInt16:function(t){var r=po(this,2,t,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=po(this,2,t,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(t){return CD(po(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return CD(po(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return AD(po(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return AD(po(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,r){go(this,1,t,RD,r)},setUint8:function(t,r){go(this,1,t,RD,r)},setInt16:function(t,r){go(this,2,t,OD,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,r){go(this,2,t,OD,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,r){go(this,4,t,ID,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,r){go(this,4,t,ID,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,r){go(this,4,t,kce,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,r){go(this,8,t,Nce,r,arguments.length>2?arguments[2]:void 0)}});else{var PD=Cce&&Gn.name!==Wu;if(!fx(function(){Gn(1)})||!fx(function(){new Gn(-1)})||fx(function(){return new Gn,new Gn(1.5),new Gn(NaN),Gn.length!=1||PD&&!SD})){xn=function(t){return tp(this,tu),new Gn(pm(t))},xn[zu]=tu;for(var LD=Rce(Gn),DD=0,dx;LD.length>DD;)(dx=LD[DD++])in xn||_D(xn,dx,Gn[dx]);tu.constructor=xn}else PD&&SD&&_D(Gn,"name",Wu);xD&&Ace(Ms)!==wD&&xD(Ms,wD);var np=new zi(new xn(2)),$D=OR(Ms.setInt8);np.setInt8(0,2147483648),np.setInt8(1,2147483649),(np.getInt8(0)||!np.getInt8(1))&&ED(Ms,{setInt8:function(t,r){$D(this,t,r<<24>>24)},setUint8:function(t,r){$D(this,t,r<<24>>24)}},{unsafe:!0})}$j(xn,Wu);$j(zi,H1);var K1={ArrayBuffer:xn,DataView:zi},Mce=Z,Fce=Ee,Bce=K1,Uce=ff,CR="ArrayBuffer",kD=Bce[CR],jce=Fce[CR];Mce({global:!0,constructor:!0,forced:jce!==kD},{ArrayBuffer:kD});Uce(CR);var Hce=RR,PR=Oe,Gr=Ee,Mj=Ke,G1=Ge,os=Qe,LR=da,Kce=Nl,Gce=Yr,jT=Nt,Wce=vr,zce=si,W1=ci,df=ha,Vce=We,Yce=of,Fj=Vt,Bj=Fj.enforce,Xce=Fj.get,mm=Gr.Int8Array,HT=mm&&mm.prototype,ND=Gr.Uint8ClampedArray,MD=ND&&ND.prototype,Yi=mm&&W1(mm),Ri=HT&&W1(HT),qce=Object.prototype,DR=Gr.TypeError,FD=Vce("toStringTag"),KT=Yce("TYPED_ARRAY_TAG"),ym="TypedArrayConstructor",za=Hce&&!!df&&LR(Gr.opera)!=="Opera",Uj=!1,sn,Po,Vu,Va={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$R={BigInt64Array:8,BigUint64Array:8},Qce=function(t){if(!G1(t))return!1;var r=LR(t);return r==="DataView"||os(Va,r)||os($R,r)},jj=function(e){var t=W1(e);if(G1(t)){var r=Xce(t);return r&&os(r,ym)?r[ym]:jj(t)}},Hj=function(e){if(!G1(e))return!1;var t=LR(e);return os(Va,t)||os($R,t)},Zce=function(e){if(Hj(e))return e;throw DR("Target is not a typed array")},Jce=function(e){if(Mj(e)&&(!df||zce(Yi,e)))return e;throw DR(Kce(e)+" is not a typed array constructor")},efe=function(e,t,r,n){if(PR){if(r)for(var i in Va){var a=Gr[i];if(a&&os(a.prototype,e))try{delete a.prototype[e]}catch{try{a.prototype[e]=t}catch{}}}(!Ri[e]||r)&&jT(Ri,e,r?t:za&&HT[e]||t,n)}},tfe=function(e,t,r){var n,i;if(PR){if(df){if(r){for(n in Va)if(i=Gr[n],i&&os(i,e))try{delete i[e]}catch{}}if(!Yi[e]||r)try{return jT(Yi,e,r?t:za&&Yi[e]||t)}catch{}else return}for(n in Va)i=Gr[n],i&&(!i[e]||r)&&jT(i,e,t)}};for(sn in Va)Po=Gr[sn],Vu=Po&&Po.prototype,Vu?Bj(Vu)[ym]=Po:za=!1;for(sn in $R)Po=Gr[sn],Vu=Po&&Po.prototype,Vu&&(Bj(Vu)[ym]=Po);if((!za||!Mj(Yi)||Yi===Function.prototype)&&(Yi=function(){throw DR("Incorrect invocation")},za))for(sn in Va)Gr[sn]&&df(Gr[sn],Yi);if((!za||!Ri||Ri===qce)&&(Ri=Yi.prototype,za))for(sn in Va)Gr[sn]&&df(Gr[sn].prototype,Ri);za&&W1(MD)!==Ri&&df(MD,Ri);if(PR&&!os(Ri,FD)){Uj=!0,Wce(Ri,FD,{configurable:!0,get:function(){return G1(this)?this[KT]:void 0}});for(sn in Va)Gr[sn]&&Gce(Gr[sn],KT,sn)}var Ue={NATIVE_ARRAY_BUFFER_VIEWS:za,TYPED_ARRAY_TAG:Uj&&KT,aTypedArray:Zce,aTypedArrayConstructor:Jce,exportTypedArrayMethod:efe,exportTypedArrayStaticMethod:tfe,getTypedArrayConstructor:jj,isView:Qce,isTypedArray:Hj,TypedArray:Yi,TypedArrayPrototype:Ri},rfe=Z,Kj=Ue,nfe=Kj.NATIVE_ARRAY_BUFFER_VIEWS;rfe({target:"ArrayBuffer",stat:!0,forced:!nfe},{isView:Kj.isView});var ife=lf,afe=Nl,ofe=TypeError,kR=function(e){if(ife(e))return e;throw ofe(afe(e)+" is not a constructor")},BD=De,sfe=kR,lfe=vn,ufe=We,cfe=ufe("species"),hf=function(e,t){var r=BD(e).constructor,n;return r===void 0||lfe(n=BD(r)[cfe])?t:sfe(n)},ffe=Z,NR=bs,dfe=ce,Gj=K1,UD=De,jD=fa,hfe=Pn,vfe=hf,MR=Gj.ArrayBuffer,GT=Gj.DataView,Wj=GT.prototype,HD=NR(MR.prototype.slice),pfe=NR(Wj.getUint8),gfe=NR(Wj.setUint8),mfe=dfe(function(){return!new MR(2).slice(1,void 0).byteLength});ffe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:mfe},{slice:function(t,r){if(HD&&r===void 0)return HD(UD(this),t);for(var n=UD(this).byteLength,i=jD(t,n),a=jD(r===void 0?n:r,n),o=new(vfe(this,MR))(hfe(a-i)),s=new GT(this),l=new GT(o),u=0;i<a;)gfe(l,u++,pfe(s,i++));return o}});var yfe=Z,_fe=K1,Efe=RR;yfe({global:!0,constructor:!0,forced:!Efe},{DataView:_fe.DataView});var xfe=Z,Sfe=de,bfe=ce,Tfe=bfe(function(){return new Date(16e11).getYear()!==120}),wfe=Sfe(Date.prototype.getFullYear);xfe({target:"Date",proto:!0,forced:Tfe},{getYear:function(){return wfe(this)-1900}});var Afe=Z,Rfe=de,zj=Date,Ofe=Rfe(zj.prototype.getTime);Afe({target:"Date",stat:!0},{now:function(){return Ofe(new zj)}});var Ife=Z,Vj=de,Cfe=jt,Yj=Date.prototype,Pfe=Vj(Yj.getTime),Lfe=Vj(Yj.setFullYear);Ife({target:"Date",proto:!0},{setYear:function(t){Pfe(this);var r=Cfe(t),n=0<=r&&r<=99?r+1900:r;return Lfe(this,n)}});var Dfe=Z;Dfe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var $fe=jt,kfe=Be,Nfe=zt,Mfe=RangeError,z1=function(t){var r=kfe(Nfe(this)),n="",i=$fe(t);if(i<0||i==1/0)throw Mfe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n},Xj=de,Ffe=Pn,KD=Be,Bfe=z1,Ufe=zt,jfe=Xj(Bfe),Hfe=Xj("".slice),Kfe=Math.ceil,GD=function(e){return function(t,r,n){var i=KD(Ufe(t)),a=Ffe(r),o=i.length,s=n===void 0?" ":KD(n),l,u;return a<=o||s==""?i:(l=a-o,u=jfe(s,Kfe(l/s.length)),u.length>l&&(u=Hfe(u,0,l)),e?i+u:u+i)}},FR={start:GD(!1),end:GD(!0)},ws=de,WD=ce,Fs=FR.start,Gfe=RangeError,Wfe=isFinite,zfe=Math.abs,oo=Date.prototype,hx=oo.toISOString,Vfe=ws(oo.getTime),Yfe=ws(oo.getUTCDate),Xfe=ws(oo.getUTCFullYear),qfe=ws(oo.getUTCHours),Qfe=ws(oo.getUTCMilliseconds),Zfe=ws(oo.getUTCMinutes),Jfe=ws(oo.getUTCMonth),ede=ws(oo.getUTCSeconds),tde=WD(function(){return hx.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!WD(function(){hx.call(new Date(NaN))})?function(){if(!Wfe(Vfe(this)))throw Gfe("Invalid time value");var t=this,r=Xfe(t),n=Qfe(t),i=r<0?"-":r>9999?"+":"";return i+Fs(zfe(r),i?6:4,0)+"-"+Fs(Jfe(t)+1,2,0)+"-"+Fs(Yfe(t),2,0)+"T"+Fs(qfe(t),2,0)+":"+Fs(Zfe(t),2,0)+":"+Fs(ede(t),2,0)+"."+Fs(n,3,0)+"Z"}:hx,rde=Z,zD=tde;rde({target:"Date",proto:!0,forced:Date.prototype.toISOString!==zD},{toISOString:zD});var nde=Z,ide=ce,ade=nt,ode=T1,sde=ide(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});nde({target:"Date",proto:!0,arity:1,forced:sde},{toJSON:function(t){var r=ade(this),n=ode(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}});var lde=De,ude=iU,cde=TypeError,fde=function(e){if(lde(this),e==="string"||e==="default")e="string";else if(e!=="number")throw cde("Incorrect hint");return ude(this,e)},dde=Qe,hde=Nt,vde=fde,pde=We,VD=pde("toPrimitive"),YD=Date.prototype;dde(YD,VD)||hde(YD,VD,vde);var qj=de,gde=Nt,BR=Date.prototype,XD="Invalid Date",Qj="toString",mde=qj(BR[Qj]),yde=qj(BR.getTime);String(new Date(NaN))!=XD&&gde(BR,Qj,function(){var t=yde(this);return t===t?mde(this):XD});var _de=Z,Xv=de,Ede=Be,xde=Xv("".charAt),Sde=Xv("".charCodeAt),bde=Xv(/./.exec),Tde=Xv(1 .toString),wde=Xv("".toUpperCase),Ade=/[\w*+\-./@]/,qD=function(e,t){for(var r=Tde(e,16);r.length<t;)r="0"+r;return r};_de({global:!0},{escape:function(t){for(var r=Ede(t),n="",i=r.length,a=0,o,s;a<i;)o=xde(r,a++),bde(Ade,o)?n+=o:(s=Sde(o,0),s<256?n+="%"+qD(s,2):n+="%u"+wde(qD(s,4)));return n}});var Zj=de,Rde=Ut,Ode=Ge,Ide=Qe,QD=Ml,Cde=Lv,Jj=Function,Pde=Zj([].concat),Lde=Zj([].join),vx={},Dde=function(e,t,r){if(!Ide(vx,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";vx[t]=Jj("C,a","return new C("+Lde(n,",")+")")}return vx[t](e,r)},e7=Cde?Jj.bind:function(t){var r=Rde(this),n=r.prototype,i=QD(arguments,1),a=function(){var s=Pde(i,QD(arguments));return this instanceof a?Dde(r,s.length,s):r.apply(t,s)};return Ode(n)&&(a.prototype=n),a},$de=Z,ZD=e7;$de({target:"Function",proto:!0,forced:Function.bind!==ZD},{bind:ZD});var kde=Ke,JD=Ge,Nde=Tt,Mde=ci,Fde=We,Bde=Ch,px=Fde("hasInstance"),e$=Function.prototype;px in e$||Nde.f(e$,px,{value:Bde(function(e){if(!kde(this)||!JD(e))return!1;var t=this.prototype;if(!JD(t))return e instanceof this;for(;e=Mde(e);)if(t===e)return!0;return!1},px)});var Ude=Oe,jde=sf.EXISTS,t7=de,Hde=vr,r7=Function.prototype,Kde=t7(r7.toString),n7=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Gde=t7(n7.exec),Wde="name";Ude&&!jde&&Hde(r7,Wde,{configurable:!0,get:function(){try{return Gde(n7,Kde(this))[1]}catch{return""}}});var zde=Z,gx=Ee;zde({global:!0,forced:gx.globalThis!==gx},{globalThis:gx});var Vde=Ee,Yde=Ln;Yde(Vde.JSON,"JSON",!0);var Ya={},Xde={get exports(){return Ya},set exports(e){Ya=e}},qde=ce,UR=qde(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Qde=ce,Zde=Ge,Jde=Vr,t$=UR,wg=Object.isExtensible,ehe=Qde(function(){wg(1)}),jR=ehe||t$?function(t){return!Zde(t)||t$&&Jde(t)=="ArrayBuffer"?!1:wg?wg(t):!0}:wg,the=ce,vf=!the(function(){return Object.isExtensible(Object.preventExtensions({}))}),rhe=Z,nhe=de,ihe=$v,ahe=Ge,HR=Qe,ohe=Tt.f,r$=ro,she=I1,KR=jR,lhe=of,uhe=vf,i7=!1,Xa=lhe("meta"),che=0,GR=function(e){ohe(e,Xa,{value:{objectID:"O"+che++,weakData:{}}})},fhe=function(e,t){if(!ahe(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!HR(e,Xa)){if(!KR(e))return"F";if(!t)return"E";GR(e)}return e[Xa].objectID},dhe=function(e,t){if(!HR(e,Xa)){if(!KR(e))return!0;if(!t)return!1;GR(e)}return e[Xa].weakData},hhe=function(e){return uhe&&i7&&KR(e)&&!HR(e,Xa)&&GR(e),e},vhe=function(){phe.enable=function(){},i7=!0;var e=r$.f,t=nhe([].splice),r={};r[Xa]=1,e(r).length&&(r$.f=function(n){for(var i=e(n),a=0,o=i.length;a<o;a++)if(i[a]===Xa){t(i,a,1);break}return i},rhe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:she.f}))},phe=Xde.exports={enable:vhe,fastKey:fhe,getWeakData:dhe,onFreeze:hhe};ihe[Xa]=!0;var ghe=Z,mhe=Ee,yhe=de,n$=Fv,_he=Nt,Ehe=Ya,xhe=pa,She=ga,bhe=Ke,The=vn,mx=Ge,yx=ce,whe=F1,Ahe=Ln,Rhe=uf,V1=function(e,t,r){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,a=n?"set":"add",o=mhe[e],s=o&&o.prototype,l=o,u={},c=function(g){var p=yhe(s[g]);_he(s,g,g=="add"?function(S){return p(this,S===0?0:S),this}:g=="delete"?function(h){return i&&!mx(h)?!1:p(this,h===0?0:h)}:g=="get"?function(S){return i&&!mx(S)?void 0:p(this,S===0?0:S)}:g=="has"?function(S){return i&&!mx(S)?!1:p(this,S===0?0:S)}:function(S,O){return p(this,S===0?0:S,O),this})},d=n$(e,!bhe(o)||!(i||s.forEach&&!yx(function(){new o().entries().next()})));if(d)l=r.getConstructor(t,e,n,a),Ehe.enable();else if(n$(e,!0)){var f=new l,m=f[a](i?{}:-0,1)!=f,_=yx(function(){f.has(1)}),x=whe(function(g){new o(g)}),v=!i&&yx(function(){for(var g=new o,p=5;p--;)g[a](p,p);return!g.has(-0)});x||(l=t(function(g,p){She(g,s);var h=Rhe(new o,g,l);return The(p)||xhe(p,h[a],{that:h,AS_ENTRIES:n}),h}),l.prototype=s,s.constructor=l),(_||v)&&(c("delete"),c("has"),n&&c("get")),(v||m)&&c(a),i&&s.clear&&delete s.clear}return u[e]=l,ghe({global:!0,constructor:!0,forced:l!=o},u),Ahe(l,e),i||r.setStrong(l,e,n),l},Ohe=li,Ihe=vr,i$=Yv,Che=Ni,Phe=ga,Lhe=vn,Dhe=pa,$he=ER,ip=B1,khe=ff,Gf=Oe,a$=Ya.fastKey,a7=Vt,o$=a7.set,_x=a7.getterFor,o7={getConstructor:function(e,t,r,n){var i=e(function(u,c){Phe(u,a),o$(u,{type:t,index:Ohe(null),first:void 0,last:void 0,size:0}),Gf||(u.size=0),Lhe(c)||Dhe(c,u[n],{that:u,AS_ENTRIES:r})}),a=i.prototype,o=_x(t),s=function(u,c,d){var f=o(u),m=l(u,c),_,x;return m?m.value=d:(f.last=m={index:x=a$(c,!0),key:c,value:d,previous:_=f.last,next:void 0,removed:!1},f.first||(f.first=m),_&&(_.next=m),Gf?f.size++:u.size++,x!=="F"&&(f.index[x]=m)),u},l=function(u,c){var d=o(u),f=a$(c),m;if(f!=="F")return d.index[f];for(m=d.first;m;m=m.next)if(m.key==c)return m};return i$(a,{clear:function(){for(var c=this,d=o(c),f=d.index,m=d.first;m;)m.removed=!0,m.previous&&(m.previous=m.previous.next=void 0),delete f[m.index],m=m.next;d.first=d.last=void 0,Gf?d.size=0:c.size=0},delete:function(u){var c=this,d=o(c),f=l(c,u);if(f){var m=f.next,_=f.previous;delete d.index[f.index],f.removed=!0,_&&(_.next=m),m&&(m.previous=_),d.first==f&&(d.first=m),d.last==f&&(d.last=_),Gf?d.size--:c.size--}return!!f},forEach:function(c){for(var d=o(this),f=Che(c,arguments.length>1?arguments[1]:void 0),m;m=m?m.next:d.first;)for(f(m.value,m.key,this);m&&m.removed;)m=m.previous},has:function(c){return!!l(this,c)}}),i$(a,r?{get:function(c){var d=l(this,c);return d&&d.value},set:function(c,d){return s(this,c===0?0:c,d)}}:{add:function(c){return s(this,c=c===0?0:c,c)}}),Gf&&Ihe(a,"size",{configurable:!0,get:function(){return o(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=_x(t),a=_x(n);$he(e,t,function(o,s){o$(this,{type:n,target:o,state:i(o),kind:s,last:void 0})},function(){for(var o=a(this),s=o.kind,l=o.last;l&&l.removed;)l=l.previous;return!o.target||!(o.last=l=l?l.next:o.state.first)?(o.target=void 0,ip(void 0,!0)):s=="keys"?ip(l.key,!1):s=="values"?ip(l.value,!1):ip([l.key,l.value],!1)},r?"entries":"values",!r,!0),khe(t)}},Nhe=V1,Mhe=o7;Nhe("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Mhe);var Fhe=Math.log,s7=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:Fhe(1+r)},Bhe=Z,Uhe=s7,Ex=Math.acosh,jhe=Math.log,s$=Math.sqrt,Hhe=Math.LN2,Khe=!Ex||Math.floor(Ex(Number.MAX_VALUE))!=710||Ex(1/0)!=1/0;Bhe({target:"Math",stat:!0,forced:Khe},{acosh:function(t){var r=+t;return r<1?NaN:r>9490626562425156e-8?jhe(r)+Hhe:Uhe(r-1+s$(r-1)*s$(r+1))}});var Ghe=Z,l$=Math.asinh,Whe=Math.log,zhe=Math.sqrt;function l7(e){var t=+e;return!isFinite(t)||t==0?t:t<0?-l7(-t):Whe(t+zhe(t*t+1))}var Vhe=!(l$&&1/l$(0)>0);Ghe({target:"Math",stat:!0,forced:Vhe},{asinh:l7});var Yhe=Z,u$=Math.atanh,Xhe=Math.log,qhe=!(u$&&1/u$(-0)<0);Yhe({target:"Math",stat:!0,forced:qhe},{atanh:function(t){var r=+t;return r==0?r:Xhe((1+r)/(1-r))/2}});var WR=Math.sign||function(t){var r=+t;return r==0||r!=r?r:r<0?-1:1},Qhe=Z,Zhe=WR,Jhe=Math.abs,eve=Math.pow;Qhe({target:"Math",stat:!0},{cbrt:function(t){var r=+t;return Zhe(r)*eve(Jhe(r),1/3)}});var tve=Z,rve=Math.floor,nve=Math.log,ive=Math.LOG2E;tve({target:"Math",stat:!0},{clz32:function(t){var r=t>>>0;return r?31-rve(nve(r+.5)*ive):32}});var Wf=Math.expm1,ave=Math.exp,Y1=!Wf||Wf(10)>22025.465794806718||Wf(10)<22025.465794806718||Wf(-2e-17)!=-2e-17?function(t){var r=+t;return r==0?r:r>-1e-6&&r<1e-6?r+r*r/2:ave(r)-1}:Wf,ove=Z,sve=Y1,c$=Math.cosh,lve=Math.abs,xx=Math.E,uve=!c$||c$(710)===1/0;ove({target:"Math",stat:!0,forced:uve},{cosh:function(t){var r=sve(lve(t)-1)+1;return(r+1/(r*xx*xx))*(xx/2)}});var cve=Z,f$=Y1;cve({target:"Math",stat:!0,forced:f$!=Math.expm1},{expm1:f$});var fve=WR,dve=Math.abs,X1=Math.pow,WT=X1(2,-52),Ag=X1(2,-23),hve=X1(2,127)*(2-Ag),Sx=X1(2,-126),vve=function(e){return e+1/WT-1/WT},pve=Math.fround||function(t){var r=+t,n=dve(r),i=fve(r),a,o;return n<Sx?i*vve(n/Sx/Ag)*Sx*Ag:(a=(1+Ag/WT)*n,o=a-(a-n),o>hve||o!=o?i*(1/0):i*o)},gve=Z,mve=pve;gve({target:"Math",stat:!0},{fround:mve});var yve=Z,d$=Math.hypot,_ve=Math.abs,Eve=Math.sqrt,xve=!!d$&&d$(1/0,NaN)!==1/0;yve({target:"Math",stat:!0,arity:2,forced:xve},{hypot:function(t,r){for(var n=0,i=0,a=arguments.length,o=0,s,l;i<a;)s=_ve(arguments[i++]),o<s?(l=o/s,n=n*l*l+1,o=s):s>0?(l=s/o,n+=l*l):n+=s;return o===1/0?1/0:o*Eve(n)}});var Sve=Z,bve=ce,h$=Math.imul,Tve=bve(function(){return h$(4294967295,5)!=-5||h$.length!=2});Sve({target:"Math",stat:!0,forced:Tve},{imul:function(t,r){var n=65535,i=+t,a=+r,o=n&i,s=n&a;return 0|o*s+((n&i>>>16)*s+o*(n&a>>>16)<<16>>>0)}});var wve=Math.log,Ave=Math.LOG10E,u7=Math.log10||function(t){return wve(t)*Ave},Rve=Z,Ove=u7;Rve({target:"Math",stat:!0},{log10:Ove});var Ive=Z,Cve=s7;Ive({target:"Math",stat:!0},{log1p:Cve});var Pve=Z,Lve=Math.log,Dve=Math.LN2;Pve({target:"Math",stat:!0},{log2:function(t){return Lve(t)/Dve}});var $ve=Z,kve=WR;$ve({target:"Math",stat:!0},{sign:kve});var Nve=Z,Mve=ce,v$=Y1,Fve=Math.abs,p$=Math.exp,Bve=Math.E,Uve=Mve(function(){return Math.sinh(-2e-17)!=-2e-17});Nve({target:"Math",stat:!0,forced:Uve},{sinh:function(t){var r=+t;return Fve(r)<1?(v$(r)-v$(-r))/2:(p$(r-1)-p$(-r-1))*(Bve/2)}});var jve=Z,g$=Y1,m$=Math.exp;jve({target:"Math",stat:!0},{tanh:function(t){var r=+t,n=g$(r),i=g$(-r);return n==1/0?1:i==1/0?-1:(n-i)/(m$(r)+m$(-r))}});var Hve=Ln;Hve(Math,"Math",!0);var Kve=Z,Gve=fU;Kve({target:"Math",stat:!0},{trunc:Gve});var Wve=de,q1=Wve(1 .valueOf),Q1=`	
\v\f\r                　\u2028\u2029\uFEFF`,zve=de,Vve=zt,Yve=Be,zT=Q1,y$=zve("".replace),Xve=RegExp("^["+zT+"]+"),qve=RegExp("(^|[^"+zT+"])["+zT+"]+$"),bx=function(e){return function(t){var r=Yve(Vve(t));return e&1&&(r=y$(r,Xve,"")),e&2&&(r=y$(r,qve,"$1")),r}},pf={start:bx(1),end:bx(2),trim:bx(3)},Qve=Z,c7=qA,Zve=Oe,f7=Ee,d7=oR,h7=de,Jve=Fv,_$=Qe,e0e=uf,t0e=si,r0e=kl,v7=T1,n0e=ce,i0e=ro.f,a0e=hr.f,o0e=Tt.f,s0e=q1,l0e=pf.trim,Z1="Number",Yu=f7[Z1];d7[Z1];var zR=Yu.prototype,u0e=f7.TypeError,c0e=h7("".slice),ap=h7("".charCodeAt),f0e=function(e){var t=v7(e,"number");return typeof t=="bigint"?t:d0e(t)},d0e=function(e){var t=v7(e,"number"),r,n,i,a,o,s,l,u;if(r0e(t))throw u0e("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=l0e(t),r=ap(t,0),r===43||r===45){if(n=ap(t,2),n===88||n===120)return NaN}else if(r===48){switch(ap(t,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+t}for(o=c0e(t,2),s=o.length,l=0;l<s;l++)if(u=ap(o,l),u<48||u>a)return NaN;return parseInt(o,i)}}return+t},VR=Jve(Z1,!Yu(" 0o1")||!Yu("0b1")||Yu("+0x1")),h0e=function(e){return t0e(zR,e)&&n0e(function(){s0e(e)})},J1=function(t){var r=arguments.length<1?0:Yu(f0e(t));return h0e(this)?e0e(Object(r),this,J1):r};J1.prototype=zR;VR&&!c7&&(zR.constructor=J1);Qve({global:!0,constructor:!0,wrap:!0,forced:VR},{Number:J1});var v0e=function(e,t){for(var r=Zve?i0e(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)_$(t,i=r[n])&&!_$(e,i)&&o0e(e,i,a0e(t,i))};(VR||c7)&&v0e(d7[Z1],Yu);var p0e=Z;p0e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var g0e=Ee,m0e=g0e.isFinite,y0e=Number.isFinite||function(t){return typeof t=="number"&&m0e(t)},_0e=Z,E0e=y0e;_0e({target:"Number",stat:!0},{isFinite:E0e});var x0e=Ge,S0e=Math.floor,YR=Number.isInteger||function(t){return!x0e(t)&&isFinite(t)&&S0e(t)===t},b0e=Z,T0e=YR;b0e({target:"Number",stat:!0},{isInteger:T0e});var w0e=Z;w0e({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var A0e=Z,R0e=YR,O0e=Math.abs;A0e({target:"Number",stat:!0},{isSafeInteger:function(t){return R0e(t)&&O0e(t)<=9007199254740991}});var I0e=Z;I0e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var C0e=Z;C0e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var p7=Ee,P0e=ce,L0e=de,D0e=Be,$0e=pf.trim,k0e=Q1,N0e=L0e("".charAt),_m=p7.parseFloat,E$=p7.Symbol,x$=E$&&E$.iterator,M0e=1/_m(k0e+"-0")!==-1/0||x$&&!P0e(function(){_m(Object(x$))}),g7=M0e?function(t){var r=$0e(D0e(t)),n=_m(r);return n===0&&N0e(r,0)=="-"?-0:n}:_m,F0e=Z,S$=g7;F0e({target:"Number",stat:!0,forced:Number.parseFloat!=S$},{parseFloat:S$});var m7=Ee,B0e=ce,U0e=de,j0e=Be,H0e=pf.trim,b$=Q1,qd=m7.parseInt,T$=m7.Symbol,w$=T$&&T$.iterator,y7=/^[+-]?0x/i,K0e=U0e(y7.exec),G0e=qd(b$+"08")!==8||qd(b$+"0x16")!==22||w$&&!B0e(function(){qd(Object(w$))}),_7=G0e?function(t,r){var n=H0e(j0e(t));return qd(n,r>>>0||(K0e(y7,n)?16:10))}:qd,W0e=Z,A$=_7;W0e({target:"Number",stat:!0,forced:Number.parseInt!=A$},{parseInt:A$});var z0e=Z,XR=de,V0e=jt,Y0e=q1,X0e=z1,q0e=u7,VT=ce,Q0e=RangeError,R$=String,Z0e=isFinite,J0e=Math.abs,epe=Math.floor,O$=Math.pow,tpe=Math.round,Xi=XR(1 .toExponential),rpe=XR(X0e),I$=XR("".slice),E7=Xi(-69e-12,4)==="-6.9000e-11"&&Xi(1.255,2)==="1.25e+0"&&Xi(12345,3)==="1.235e+4"&&Xi(25,0)==="3e+1",npe=function(){return VT(function(){Xi(1,1/0)})&&VT(function(){Xi(1,-1/0)})},ipe=function(){return!VT(function(){Xi(1/0,1/0),Xi(NaN,1/0)})},ape=!E7||!npe()||!ipe();z0e({target:"Number",proto:!0,forced:ape},{toExponential:function(t){var r=Y0e(this);if(t===void 0)return Xi(r);var n=V0e(t);if(!Z0e(r))return String(r);if(n<0||n>20)throw Q0e("Incorrect fraction digits");if(E7)return Xi(r,n);var i="",a="",o=0,s="",l="";if(r<0&&(i="-",r=-r),r===0)o=0,a=rpe("0",n+1);else{var u=q0e(r);o=epe(u);var c=0,d=O$(10,o-n);c=tpe(r/d),2*r>=(2*c+1)*d&&(c+=1),c>=O$(10,n+1)&&(c/=10,o+=1),a=R$(c)}return n!==0&&(a=I$(a,0,1)+"."+I$(a,1)),o===0?(s="+",l="0"):(s=o>0?"+":"-",l=R$(J0e(o))),a+="e"+s+l,i+a}});var ope=Z,qR=de,spe=jt,lpe=q1,upe=z1,C$=ce,cpe=RangeError,x7=String,S7=Math.floor,YT=qR(upe),P$=qR("".slice),zf=qR(1 .toFixed),Du=function(e,t,r){return t===0?r:t%2===1?Du(e,t-1,r*e):Du(e*e,t/2,r)},fpe=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},ru=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=S7(i/1e7)},Tx=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=S7(n/t),n=n%t*1e7},L$=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=x7(e[t]);r=r===""?n:r+YT("0",7-n.length)+n}return r},dpe=C$(function(){return zf(8e-5,3)!=="0.000"||zf(.9,0)!=="1"||zf(1.255,2)!=="1.25"||zf(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!C$(function(){zf({})});ope({target:"Number",proto:!0,forced:dpe},{toFixed:function(t){var r=lpe(this),n=spe(t),i=[0,0,0,0,0,0],a="",o="0",s,l,u,c;if(n<0||n>20)throw cpe("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return x7(r);if(r<0&&(a="-",r=-r),r>1e-21)if(s=fpe(r*Du(2,69,1))-69,l=s<0?r*Du(2,-s,1):r/Du(2,s,1),l*=4503599627370496,s=52-s,s>0){for(ru(i,0,l),u=n;u>=7;)ru(i,1e7,0),u-=7;for(ru(i,Du(10,u,1),0),u=s-1;u>=23;)Tx(i,1<<23),u-=23;Tx(i,1<<u),ru(i,1,1),Tx(i,2),o=L$(i)}else ru(i,0,l),ru(i,1<<-s,0),o=L$(i)+YT("0",n);return n>0?(c=o.length,o=a+(c<=n?"0."+YT("0",n-c)+o:P$(o,0,c-n)+"."+P$(o,c-n))):o=a+o,o}});var hpe=Z,vpe=de,D$=ce,$$=q1,Em=vpe(1 .toPrecision),ppe=D$(function(){return Em(1,void 0)!=="1"})||!D$(function(){Em({})});hpe({target:"Number",proto:!0,forced:ppe},{toPrecision:function(t){return t===void 0?Em($$(this)):Em($$(this),t)}});var k$=Oe,gpe=de,mpe=Me,ype=ce,wx=Bv,_pe=Nv,Epe=Dv,xpe=nt,Spe=nf,nu=Object.assign,N$=Object.defineProperty,bpe=gpe([].concat),b7=!nu||ype(function(){if(k$&&nu({b:1},nu(N$({},"a",{enumerable:!0,get:function(){N$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(i){t[i]=i}),nu({},e)[r]!=7||wx(nu({},t)).join("")!=n})?function(t,r){for(var n=xpe(t),i=arguments.length,a=1,o=_pe.f,s=Epe.f;i>a;)for(var l=Spe(arguments[a++]),u=o?bpe(wx(l),o(l)):wx(l),c=u.length,d=0,f;c>d;)f=u[d++],(!k$||mpe(s,l,f))&&(n[f]=l[f]);return n}:nu,Tpe=Z,M$=b7;Tpe({target:"Object",stat:!0,arity:2,forced:Object.assign!==M$},{assign:M$});var wpe=Z,Ape=Oe,Rpe=li;wpe({target:"Object",stat:!0,sham:!Ape},{create:Rpe});var Ope=Ee,Ipe=ce,F$=TR,e_=!Ipe(function(){if(!(F$&&F$<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete Ope[e]}}),Cpe=Z,Ppe=Oe,Lpe=e_,Dpe=Ut,$pe=nt,kpe=Tt;Ppe&&Cpe({target:"Object",proto:!0,forced:Lpe},{__defineGetter__:function(t,r){kpe.f($pe(this),t,{get:Dpe(r),enumerable:!0,configurable:!0})}});var Npe=Z,Mpe=Oe,B$=O1.f;Npe({target:"Object",stat:!0,forced:Object.defineProperties!==B$,sham:!Mpe},{defineProperties:B$});var Fpe=Z,Bpe=Oe,U$=Tt.f;Fpe({target:"Object",stat:!0,forced:Object.defineProperty!==U$,sham:!Bpe},{defineProperty:U$});var Upe=Z,jpe=Oe,Hpe=e_,Kpe=Ut,Gpe=nt,Wpe=Tt;jpe&&Upe({target:"Object",proto:!0,forced:Hpe},{__defineSetter__:function(t,r){Wpe.f(Gpe(this),t,{set:Kpe(r),enumerable:!0,configurable:!0})}});var zpe=Oe,T7=de,Vpe=Bv,Ype=tr,Xpe=Dv.f,qpe=T7(Xpe),Qpe=T7([].push),j$=function(e){return function(t){for(var r=Ype(t),n=Vpe(r),i=n.length,a=0,o=[],s;i>a;)s=n[a++],(!zpe||qpe(r,s))&&Qpe(o,e?[s,r[s]]:r[s]);return o}},w7={entries:j$(!0),values:j$(!1)},Zpe=Z,Jpe=w7.entries;Zpe({target:"Object",stat:!0},{entries:function(t){return Jpe(t)}});var ege=Z,tge=vf,rge=ce,nge=Ge,ige=Ya.onFreeze,XT=Object.freeze,age=rge(function(){XT(1)});ege({target:"Object",stat:!0,forced:age,sham:!tge},{freeze:function(t){return XT&&nge(t)?XT(ige(t)):t}});var oge=Z,sge=pa,lge=no;oge({target:"Object",stat:!0},{fromEntries:function(t){var r={};return sge(t,function(n,i){lge(r,n,i)},{AS_ENTRIES:!0}),r}});var uge=Z,cge=ce,fge=tr,A7=hr.f,R7=Oe,dge=!R7||cge(function(){A7(1)});uge({target:"Object",stat:!0,forced:dge,sham:!R7},{getOwnPropertyDescriptor:function(t,r){return A7(fge(t),r)}});var hge=Z,vge=Oe,pge=nR,gge=tr,mge=hr,yge=no;hge({target:"Object",stat:!0,sham:!vge},{getOwnPropertyDescriptors:function(t){for(var r=gge(t),n=mge.f,i=pge(r),a={},o=0,s,l;i.length>o;)l=n(r,s=i[o++]),l!==void 0&&yge(a,s,l);return a}});var _ge=Z,Ege=ce,xge=I1.f,Sge=Ege(function(){return!Object.getOwnPropertyNames(1)});_ge({target:"Object",stat:!0,forced:Sge},{getOwnPropertyNames:xge});var bge=Z,Tge=ce,wge=nt,O7=ci,Age=pR,Rge=Tge(function(){O7(1)});bge({target:"Object",stat:!0,forced:Rge,sham:!Age},{getPrototypeOf:function(t){return O7(wge(t))}});var Oge=Z,Ige=Qe;Oge({target:"Object",stat:!0},{hasOwn:Ige});var I7=Object.is||function(t,r){return t===r?t!==0||1/t===1/r:t!=t&&r!=r},Cge=Z,Pge=I7;Cge({target:"Object",stat:!0},{is:Pge});var Lge=Z,H$=jR;Lge({target:"Object",stat:!0,forced:Object.isExtensible!==H$},{isExtensible:H$});var Dge=Z,$ge=ce,kge=Ge,Nge=Vr,C7=UR,qT=Object.isFrozen,Mge=C7||$ge(function(){qT(1)});Dge({target:"Object",stat:!0,forced:Mge},{isFrozen:function(t){return!kge(t)||C7&&Nge(t)=="ArrayBuffer"?!0:qT?qT(t):!1}});var Fge=Z,Bge=ce,Uge=Ge,jge=Vr,P7=UR,QT=Object.isSealed,Hge=P7||Bge(function(){QT(1)});Fge({target:"Object",stat:!0,forced:Hge},{isSealed:function(t){return!Uge(t)||P7&&jge(t)=="ArrayBuffer"?!0:QT?QT(t):!1}});var Kge=Z,Gge=nt,L7=Bv,Wge=ce,zge=Wge(function(){L7(1)});Kge({target:"Object",stat:!0,forced:zge},{keys:function(t){return L7(Gge(t))}});var Vge=Z,Yge=Oe,Xge=e_,qge=nt,Qge=Ss,Zge=ci,Jge=hr.f;Yge&&Vge({target:"Object",proto:!0,forced:Xge},{__lookupGetter__:function(t){var r=qge(this),n=Qge(t),i;do if(i=Jge(r,n))return i.get;while(r=Zge(r))}});var eme=Z,tme=Oe,rme=e_,nme=nt,ime=Ss,ame=ci,ome=hr.f;tme&&eme({target:"Object",proto:!0,forced:rme},{__lookupSetter__:function(t){var r=nme(this),n=ime(t),i;do if(i=ome(r,n))return i.set;while(r=ame(r))}});var sme=Z,lme=Ge,ume=Ya.onFreeze,cme=vf,fme=ce,ZT=Object.preventExtensions,dme=fme(function(){ZT(1)});sme({target:"Object",stat:!0,forced:dme,sham:!cme},{preventExtensions:function(t){return ZT&&lme(t)?ZT(ume(t)):t}});var hme=Oe,vme=vr,K$=Ge,pme=nt,gme=zt,G$=Object.getPrototypeOf,W$=Object.setPrototypeOf,z$=Object.prototype,V$="__proto__";if(hme&&G$&&W$&&!(V$ in z$))try{vme(z$,V$,{configurable:!0,get:function(){return G$(pme(this))},set:function(t){var r=gme(this);!K$(t)&&t!==null||!K$(r)||W$(r,t)}})}catch{}var mme=Z,yme=Ge,_me=Ya.onFreeze,Eme=vf,xme=ce,JT=Object.seal,Sme=xme(function(){JT(1)});mme({target:"Object",stat:!0,forced:Sme,sham:!Eme},{seal:function(t){return JT&&yme(t)?JT(_me(t)):t}});var bme=Z,Tme=ha;bme({target:"Object",stat:!0},{setPrototypeOf:Tme});var wme=iR,Ame=da,Rme=wme?{}.toString:function(){return"[object "+Ame(this)+"]"},Ome=iR,Ime=Nt,Cme=Rme;Ome||Ime(Object.prototype,"toString",Cme,{unsafe:!0});var Pme=Z,Lme=w7.values;Pme({target:"Object",stat:!0},{values:function(t){return Lme(t)}});var Dme=Z,Y$=g7;Dme({global:!0,forced:parseFloat!=Y$},{parseFloat:Y$});var $me=Z,X$=_7;$me({global:!0,forced:parseInt!=X$},{parseInt:X$});var kme=TypeError,As=function(e,t){if(e<t)throw kme("Not enough arguments");return e},Nme=Ja,D7=/(?:ipad|iphone|ipod).*applewebkit/i.test(Nme),An=Ee,Mme=ui,Fme=Ni,q$=Ke,Bme=Qe,$7=ce,Q$=vU,Ume=Ml,Z$=w1,jme=As,Hme=D7,Kme=ao,ew=An.setImmediate,tw=An.clearImmediate,Gme=An.process,Ax=An.Dispatch,Wme=An.Function,J$=An.MessageChannel,zme=An.String,Rx=0,Qd={},ek="onreadystatechange",$h,Bs,Ox,Ix;$7(function(){$h=An.location});var QR=function(e){if(Bme(Qd,e)){var t=Qd[e];delete Qd[e],t()}},Cx=function(e){return function(){QR(e)}},tk=function(e){QR(e.data)},rk=function(e){An.postMessage(zme(e),$h.protocol+"//"+$h.host)};(!ew||!tw)&&(ew=function(t){jme(arguments.length,1);var r=q$(t)?t:Wme(t),n=Ume(arguments,1);return Qd[++Rx]=function(){Mme(r,void 0,n)},Bs(Rx),Rx},tw=function(t){delete Qd[t]},Kme?Bs=function(e){Gme.nextTick(Cx(e))}:Ax&&Ax.now?Bs=function(e){Ax.now(Cx(e))}:J$&&!Hme?(Ox=new J$,Ix=Ox.port2,Ox.port1.onmessage=tk,Bs=Fme(Ix.postMessage,Ix)):An.addEventListener&&q$(An.postMessage)&&!An.importScripts&&$h&&$h.protocol!=="file:"&&!$7(rk)?(Bs=rk,An.addEventListener("message",tk,!1)):ek in Z$("script")?Bs=function(e){Q$.appendChild(Z$("script"))[ek]=function(){Q$.removeChild(this),QR(e)}}:Bs=function(e){setTimeout(Cx(e),0)});var t_={set:ew,clear:tw},k7=function(){this.head=null,this.tail=null};k7.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var N7=k7,Vme=Ja,Yme=/ipad|iphone|ipod/i.test(Vme)&&typeof Pebble<"u",Xme=Ja,qme=/web0s(?!.*chrome)/i.test(Xme),_l=Ee,nk=Ni,Qme=hr.f,Px=t_.set,Zme=N7,Jme=D7,eye=Yme,tye=qme,Lx=ao,ik=_l.MutationObserver||_l.WebKitMutationObserver,ak=_l.document,ok=_l.process,op=_l.Promise,sk=Qme(_l,"queueMicrotask"),rw=sk&&sk.value,iu,Dx,$x,sp,lk;if(!rw){var lp=new Zme,up=function(){var e,t;for(Lx&&(e=ok.domain)&&e.exit();t=lp.get();)try{t()}catch(r){throw lp.head&&iu(),r}e&&e.enter()};!Jme&&!Lx&&!tye&&ik&&ak?(Dx=!0,$x=ak.createTextNode(""),new ik(up).observe($x,{characterData:!0}),iu=function(){$x.data=Dx=!Dx}):!eye&&op&&op.resolve?(sp=op.resolve(void 0),sp.constructor=op,lk=nk(sp.then,sp),iu=function(){lk(up)}):Lx?iu=function(){ok.nextTick(up)}:(Px=nk(Px,_l),iu=function(){Px(up)}),rw=function(e){lp.head||iu(),lp.add(e)}}var M7=rw,rye=function(e,t){try{arguments.length==1?console.error(e):console.error(e,t)}catch{}},qv=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},nye=Ee,Qv=nye.Promise,ZR=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",iye=ZR,aye=ao,F7=!iye&&!aye&&typeof window=="object"&&typeof document=="object",oye=Ee,Zd=Qv,sye=Ke,lye=Fv,uye=eR,cye=We,fye=F7,dye=ZR,kx=eo;Zd&&Zd.prototype;var hye=cye("species"),nw=!1,B7=sye(oye.PromiseRejectionEvent),vye=lye("Promise",function(){var e=uye(Zd),t=e!==String(Zd);if(!t&&kx===66)return!0;if(!kx||kx<51||!/native code/.test(e)){var r=new Zd(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=r.constructor={};if(i[hye]=n,nw=r.then(function(){})instanceof n,!nw)return!0}return!t&&(fye||dye)&&!B7}),Zv={CONSTRUCTOR:vye,REJECTION_EVENT:B7,SUBCLASSING:nw},Rs={},uk=Ut,pye=TypeError,gye=function(e){var t,r;this.promise=new e(function(n,i){if(t!==void 0||r!==void 0)throw pye("Bad Promise constructor");t=n,r=i}),this.resolve=uk(t),this.reject=uk(r)};Rs.f=function(e){return new gye(e)};var mye=Z,xm=ao,ss=Ee,Ac=Me,ck=Nt,fk=ha,yye=Ln,_ye=ff,Eye=Ut,Rg=Ke,xye=Ge,Sye=ga,bye=hf,U7=t_.set,JR=M7,Tye=rye,wye=qv,Aye=N7,j7=Vt,Sm=Qv,eO=Zv,H7=Rs,r_="Promise",K7=eO.CONSTRUCTOR,Rye=eO.REJECTION_EVENT,Oye=eO.SUBCLASSING,Nx=j7.getterFor(r_),Iye=j7.set,Su=Sm&&Sm.prototype,Qs=Sm,cp=Su,G7=ss.TypeError,iw=ss.document,tO=ss.process,aw=H7.f,Cye=aw,Pye=!!(iw&&iw.createEvent&&ss.dispatchEvent),W7="unhandledrejection",Lye="rejectionhandled",dk=0,z7=1,Dye=2,rO=1,V7=2,fp,hk,$ye,vk,Y7=function(e){var t;return xye(e)&&Rg(t=e.then)?t:!1},X7=function(e,t){var r=t.value,n=t.state==z7,i=n?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain,l,u,c;try{i?(n||(t.rejection===V7&&Nye(t),t.rejection=rO),i===!0?l=r:(s&&s.enter(),l=i(r),s&&(s.exit(),c=!0)),l===e.promise?o(G7("Promise-chain cycle")):(u=Y7(l))?Ac(u,l,a,o):a(l)):o(r)}catch(d){s&&!c&&s.exit(),o(d)}},q7=function(e,t){e.notified||(e.notified=!0,JR(function(){for(var r=e.reactions,n;n=r.get();)X7(n,e);e.notified=!1,t&&!e.rejection&&kye(e)}))},Q7=function(e,t,r){var n,i;Pye?(n=iw.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),ss.dispatchEvent(n)):n={promise:t,reason:r},!Rye&&(i=ss["on"+e])?i(n):e===W7&&Tye("Unhandled promise rejection",r)},kye=function(e){Ac(U7,ss,function(){var t=e.facade,r=e.value,n=pk(e),i;if(n&&(i=wye(function(){xm?tO.emit("unhandledRejection",r,t):Q7(W7,t,r)}),e.rejection=xm||pk(e)?V7:rO,i.error))throw i.value})},pk=function(e){return e.rejection!==rO&&!e.parent},Nye=function(e){Ac(U7,ss,function(){var t=e.facade;xm?tO.emit("rejectionHandled",t):Q7(Lye,t,e.value)})},$u=function(e,t,r){return function(n){e(t,n,r)}},Xu=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Dye,q7(e,!0))},ow=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw G7("Promise can't be resolved itself");var n=Y7(t);n?JR(function(){var i={done:!1};try{Ac(n,t,$u(ow,i,e),$u(Xu,i,e))}catch(a){Xu(i,a,e)}}):(e.value=t,e.state=z7,q7(e,!1))}catch(i){Xu({done:!1},i,e)}}};if(K7&&(Qs=function(t){Sye(this,cp),Eye(t),Ac(fp,this);var r=Nx(this);try{t($u(ow,r),$u(Xu,r))}catch(n){Xu(r,n)}},cp=Qs.prototype,fp=function(t){Iye(this,{type:r_,done:!1,notified:!1,parent:!1,reactions:new Aye,rejection:!1,state:dk,value:void 0})},fp.prototype=ck(cp,"then",function(t,r){var n=Nx(this),i=aw(bye(this,Qs));return n.parent=!0,i.ok=Rg(t)?t:!0,i.fail=Rg(r)&&r,i.domain=xm?tO.domain:void 0,n.state==dk?n.reactions.add(i):JR(function(){X7(i,n)}),i.promise}),hk=function(){var e=new fp,t=Nx(e);this.promise=e,this.resolve=$u(ow,t),this.reject=$u(Xu,t)},H7.f=aw=function(e){return e===Qs||e===$ye?new hk(e):Cye(e)},Rg(Sm)&&Su!==Object.prototype)){vk=Su.then,Oye||ck(Su,"then",function(t,r){var n=this;return new Qs(function(i,a){Ac(vk,n,i,a)}).then(t,r)},{unsafe:!0});try{delete Su.constructor}catch{}fk&&fk(Su,cp)}mye({global:!0,constructor:!0,wrap:!0,forced:K7},{Promise:Qs});yye(Qs,r_,!1);_ye(r_);var Mye=Qv,Fye=F1,Bye=Zv.CONSTRUCTOR,n_=Bye||!Fye(function(e){Mye.all(e).then(void 0,function(){})}),Uye=Z,jye=Me,Hye=Ut,Kye=Rs,Gye=qv,Wye=pa,zye=n_;Uye({target:"Promise",stat:!0,forced:zye},{all:function(t){var r=this,n=Kye.f(r),i=n.resolve,a=n.reject,o=Gye(function(){var s=Hye(r.resolve),l=[],u=0,c=1;Wye(t,function(d){var f=u++,m=!1;c++,jye(s,r,d).then(function(_){m||(m=!0,l[f]=_,--c||i(l))},a)}),--c||i(l)});return o.error&&a(o.value),n.promise}});var Vye=Z,Yye=Zv.CONSTRUCTOR,sw=Qv,Xye=It,qye=Ke,Qye=Nt,gk=sw&&sw.prototype;Vye({target:"Promise",proto:!0,forced:Yye,real:!0},{catch:function(e){return this.then(void 0,e)}});if(qye(sw)){var mk=Xye("Promise").prototype.catch;gk.catch!==mk&&Qye(gk,"catch",mk,{unsafe:!0})}var Zye=Z,Jye=Me,e1e=Ut,t1e=Rs,r1e=qv,n1e=pa,i1e=n_;Zye({target:"Promise",stat:!0,forced:i1e},{race:function(t){var r=this,n=t1e.f(r),i=n.reject,a=r1e(function(){var o=e1e(r.resolve);n1e(t,function(s){Jye(o,r,s).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var a1e=Z,o1e=Me,s1e=Rs,l1e=Zv.CONSTRUCTOR;a1e({target:"Promise",stat:!0,forced:l1e},{reject:function(t){var r=s1e.f(this);return o1e(r.reject,void 0,t),r.promise}});var u1e=De,c1e=Ge,f1e=Rs,Z7=function(e,t){if(u1e(e),c1e(t)&&t.constructor===e)return t;var r=f1e.f(e),n=r.resolve;return n(t),r.promise},d1e=Z,h1e=It,v1e=Zv.CONSTRUCTOR,p1e=Z7;h1e("Promise");d1e({target:"Promise",stat:!0,forced:v1e},{resolve:function(t){return p1e(this,t)}});var g1e=Z,m1e=Me,y1e=Ut,_1e=Rs,E1e=qv,x1e=pa,S1e=n_;g1e({target:"Promise",stat:!0,forced:S1e},{allSettled:function(t){var r=this,n=_1e.f(r),i=n.resolve,a=n.reject,o=E1e(function(){var s=y1e(r.resolve),l=[],u=0,c=1;x1e(t,function(d){var f=u++,m=!1;c++,m1e(s,r,d).then(function(_){m||(m=!0,l[f]={status:"fulfilled",value:_},--c||i(l))},function(_){m||(m=!0,l[f]={status:"rejected",reason:_},--c||i(l))})}),--c||i(l)});return o.error&&a(o.value),n.promise}});var b1e=Z,T1e=Me,w1e=Ut,A1e=It,R1e=Rs,O1e=qv,I1e=pa,C1e=n_,yk="No one promise resolved";b1e({target:"Promise",stat:!0,forced:C1e},{any:function(t){var r=this,n=A1e("AggregateError"),i=R1e.f(r),a=i.resolve,o=i.reject,s=O1e(function(){var l=w1e(r.resolve),u=[],c=0,d=1,f=!1;I1e(t,function(m){var _=c++,x=!1;d++,T1e(l,r,m).then(function(v){x||f||(f=!0,a(v))},function(v){x||f||(x=!0,u[_]=v,--d||o(new n(u,yk)))})}),--d||o(new n(u,yk))});return s.error&&o(s.value),i.promise}});var P1e=Z,bm=Qv,L1e=ce,J7=It,e9=Ke,D1e=hf,_k=Z7,$1e=Nt,lw=bm&&bm.prototype,k1e=!!bm&&L1e(function(){lw.finally.call({then:function(){}},function(){})});P1e({target:"Promise",proto:!0,real:!0,forced:k1e},{finally:function(e){var t=D1e(this,J7("Promise")),r=e9(e);return this.then(r?function(n){return _k(t,e()).then(function(){return n})}:e,r?function(n){return _k(t,e()).then(function(){throw n})}:e)}});if(e9(bm)){var Ek=J7("Promise").prototype.finally;lw.finally!==Ek&&$1e(lw,"finally",Ek,{unsafe:!0})}var N1e=Z,M1e=ui,F1e=Ut,B1e=De,U1e=ce,j1e=!U1e(function(){Reflect.apply(function(){})});N1e({target:"Reflect",stat:!0,forced:j1e},{apply:function(t,r,n){return M1e(F1e(t),r,B1e(n))}});var H1e=Z,K1e=It,Mx=ui,G1e=e7,xk=kR,W1e=De,Sk=Ge,z1e=li,t9=ce,nO=K1e("Reflect","construct"),V1e=Object.prototype,Y1e=[].push,r9=t9(function(){function e(){}return!(nO(function(){},[],e)instanceof e)}),n9=!t9(function(){nO(function(){})}),bk=r9||n9;H1e({target:"Reflect",stat:!0,forced:bk,sham:bk},{construct:function(t,r){xk(t),W1e(r);var n=arguments.length<3?t:xk(arguments[2]);if(n9&&!r9)return nO(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var i=[null];return Mx(Y1e,i,r),new(Mx(G1e,t,i))}var a=n.prototype,o=z1e(Sk(a)?a:V1e),s=Mx(t,o,r);return Sk(s)?s:o}});var X1e=Z,q1e=Oe,Tk=De,Q1e=Ss,i9=Tt,Z1e=ce,J1e=Z1e(function(){Reflect.defineProperty(i9.f({},1,{value:1}),1,{value:2})});X1e({target:"Reflect",stat:!0,forced:J1e,sham:!q1e},{defineProperty:function(t,r,n){Tk(t);var i=Q1e(r);Tk(n);try{return i9.f(t,i,n),!0}catch{return!1}}});var e_e=Z,t_e=De,r_e=hr.f;e_e({target:"Reflect",stat:!0},{deleteProperty:function(t,r){var n=r_e(t_e(t),r);return n&&!n.configurable?!1:delete t[r]}});var wk=Qe,a9=function(e){return e!==void 0&&(wk(e,"value")||wk(e,"writable"))},n_e=Z,i_e=Me,a_e=Ge,o_e=De,s_e=a9,l_e=hr,u_e=ci;function o9(e,t){var r=arguments.length<3?e:arguments[2],n,i;if(o_e(e)===r)return e[t];if(n=l_e.f(e,t),n)return s_e(n)?n.value:n.get===void 0?void 0:i_e(n.get,r);if(a_e(i=u_e(e)))return o9(i,t,r)}n_e({target:"Reflect",stat:!0},{get:o9});var c_e=Z,f_e=Oe,d_e=De,h_e=hr;c_e({target:"Reflect",stat:!0,sham:!f_e},{getOwnPropertyDescriptor:function(t,r){return h_e.f(d_e(t),r)}});var v_e=Z,p_e=De,g_e=ci,m_e=pR;v_e({target:"Reflect",stat:!0,sham:!m_e},{getPrototypeOf:function(t){return g_e(p_e(t))}});var y_e=Z;y_e({target:"Reflect",stat:!0},{has:function(t,r){return r in t}});var __e=Z,E_e=De,x_e=jR;__e({target:"Reflect",stat:!0},{isExtensible:function(t){return E_e(t),x_e(t)}});var S_e=Z,b_e=nR;S_e({target:"Reflect",stat:!0},{ownKeys:b_e});var T_e=Z,w_e=It,A_e=De,R_e=vf;T_e({target:"Reflect",stat:!0,sham:!R_e},{preventExtensions:function(t){A_e(t);try{var r=w_e("Object","preventExtensions");return r&&r(t),!0}catch{return!1}}});var O_e=Z,I_e=Me,C_e=De,Ak=Ge,P_e=a9,L_e=ce,uw=Tt,Rk=hr,D_e=ci,Ok=oi;function s9(e,t,r){var n=arguments.length<4?e:arguments[3],i=Rk.f(C_e(e),t),a,o,s;if(!i){if(Ak(o=D_e(e)))return s9(o,t,r,n);i=Ok(0)}if(P_e(i)){if(i.writable===!1||!Ak(n))return!1;if(a=Rk.f(n,t)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,uw.f(n,t,a)}else uw.f(n,t,Ok(0,r))}else{if(s=i.set,s===void 0)return!1;I_e(s,n,r)}return!0}var $_e=L_e(function(){var e=function(){},t=uw.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});O_e({target:"Reflect",stat:!0,forced:$_e},{set:s9});var k_e=Z,N_e=De,M_e=WU,Ik=ha;Ik&&k_e({target:"Reflect",stat:!0},{setPrototypeOf:function(t,r){N_e(t),M_e(r);try{return Ik(t,r),!0}catch{return!1}}});var F_e=Z,B_e=Ee,U_e=Ln;F_e({global:!0},{Reflect:{}});U_e(B_e.Reflect,"Reflect",!0);var j_e=Ge,H_e=Vr,K_e=We,G_e=K_e("match"),Jv=function(e){var t;return j_e(e)&&((t=e[G_e])!==void 0?!!t:H_e(e)=="RegExp")},W_e=De,iO=function(){var e=W_e(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},z_e=Me,V_e=Qe,Y_e=si,X_e=iO,Ck=RegExp.prototype,e0=function(e){var t=e.flags;return t===void 0&&!("flags"in Ck)&&!V_e(e,"flags")&&Y_e(Ck,e)?z_e(X_e,e):t},aO=ce,q_e=Ee,oO=q_e.RegExp,sO=aO(function(){var e=oO("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Q_e=sO||aO(function(){return!oO("a","y").sticky}),Z_e=sO||aO(function(){var e=oO("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),i_={BROKEN_CARET:Z_e,MISSED_STICKY:Q_e,UNSUPPORTED_Y:sO},J_e=ce,eEe=Ee,tEe=eEe.RegExp,lO=J_e(function(){var e=tEe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),rEe=ce,nEe=Ee,iEe=nEe.RegExp,l9=rEe(function(){var e=iEe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),aEe=Oe,uO=Ee,t0=de,oEe=Fv,sEe=uf,lEe=Yr,uEe=ro.f,Pk=si,cEe=Jv,Lk=Be,fEe=e0,u9=i_,dEe=zU,hEe=Nt,vEe=ce,pEe=Qe,gEe=Vt.enforce,mEe=ff,yEe=We,c9=lO,f9=l9,_Ee=yEe("match"),jo=uO.RegExp,bu=jo.prototype,EEe=uO.SyntaxError,xEe=t0(bu.exec),Tm=t0("".charAt),Dk=t0("".replace),$k=t0("".indexOf),SEe=t0("".slice),bEe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,vl=/a/g,Fx=/a/g,TEe=new jo(vl)!==vl,d9=u9.MISSED_STICKY,wEe=u9.UNSUPPORTED_Y,AEe=aEe&&(!TEe||d9||c9||f9||vEe(function(){return Fx[_Ee]=!1,jo(vl)!=vl||jo(Fx)==Fx||jo(vl,"i")!="/a/i"})),REe=function(e){for(var t=e.length,r=0,n="",i=!1,a;r<=t;r++){if(a=Tm(e,r),a==="\\"){n+=a+Tm(e,++r);continue}!i&&a==="."?n+="[\\s\\S]":(a==="["?i=!0:a==="]"&&(i=!1),n+=a)}return n},OEe=function(e){for(var t=e.length,r=0,n="",i=[],a={},o=!1,s=!1,l=0,u="",c;r<=t;r++){if(c=Tm(e,r),c==="\\")c=c+Tm(e,++r);else if(c==="]")o=!1;else if(!o)switch(!0){case c==="[":o=!0;break;case c==="(":xEe(bEe,SEe(e,r+1))&&(r+=2,s=!0),n+=c,l++;continue;case(c===">"&&s):if(u===""||pEe(a,u))throw new EEe("Invalid capture group name");a[u]=!0,i[i.length]=[u,l],s=!1,u="";continue}s?u+=c:n+=c}return[n,i]};if(oEe("RegExp",AEe)){for(var Us=function(t,r){var n=Pk(bu,this),i=cEe(t),a=r===void 0,o=[],s=t,l,u,c,d,f,m;if(!n&&i&&a&&t.constructor===Us)return t;if((i||Pk(bu,t))&&(t=t.source,a&&(r=fEe(s))),t=t===void 0?"":Lk(t),r=r===void 0?"":Lk(r),s=t,c9&&"dotAll"in vl&&(u=!!r&&$k(r,"s")>-1,u&&(r=Dk(r,/s/g,""))),l=r,d9&&"sticky"in vl&&(c=!!r&&$k(r,"y")>-1,c&&wEe&&(r=Dk(r,/y/g,""))),f9&&(d=OEe(t),t=d[0],o=d[1]),f=sEe(jo(t,r),n?this:bu,Us),(u||c||o.length)&&(m=gEe(f),u&&(m.dotAll=!0,m.raw=Us(REe(t),l)),c&&(m.sticky=!0),o.length&&(m.groups=o)),t!==s)try{lEe(f,"source",s===""?"(?:)":s)}catch{}return f},kk=uEe(jo),Nk=0;kk.length>Nk;)dEe(Us,jo,kk[Nk++]);bu.constructor=Us,Us.prototype=bu,hEe(uO,"RegExp",Us,{constructor:!0})}mEe("RegExp");var IEe=Oe,CEe=lO,PEe=Vr,LEe=vr,DEe=Vt.get,Mk=RegExp.prototype,$Ee=TypeError;IEe&&CEe&&LEe(Mk,"dotAll",{configurable:!0,get:function(){if(this!==Mk){if(PEe(this)==="RegExp")return!!DEe(this).dotAll;throw $Ee("Incompatible receiver, RegExp required")}}});var ku=Me,a_=de,kEe=Be,NEe=iO,MEe=i_,FEe=as,BEe=li,UEe=Vt.get,jEe=lO,HEe=l9,KEe=FEe("native-string-replace",String.prototype.replace),wm=RegExp.prototype.exec,cw=wm,GEe=a_("".charAt),WEe=a_("".indexOf),zEe=a_("".replace),Bx=a_("".slice),fw=function(){var e=/a/,t=/b*/g;return ku(wm,e,"a"),ku(wm,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),h9=MEe.BROKEN_CARET,dw=/()??/.exec("")[1]!==void 0,VEe=fw||dw||h9||jEe||HEe;VEe&&(cw=function(t){var r=this,n=UEe(r),i=kEe(t),a=n.raw,o,s,l,u,c,d,f;if(a)return a.lastIndex=r.lastIndex,o=ku(cw,a,i),r.lastIndex=a.lastIndex,o;var m=n.groups,_=h9&&r.sticky,x=ku(NEe,r),v=r.source,g=0,p=i;if(_&&(x=zEe(x,"y",""),WEe(x,"g")===-1&&(x+="g"),p=Bx(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&GEe(i,r.lastIndex-1)!==`
`)&&(v="(?: "+v+")",p=" "+p,g++),s=new RegExp("^(?:"+v+")",x)),dw&&(s=new RegExp("^"+v+"$(?!\\s)",x)),fw&&(l=r.lastIndex),u=ku(wm,_?s:r,p),_?u?(u.input=Bx(u.input,g),u[0]=Bx(u[0],g),u.index=r.lastIndex,r.lastIndex+=u[0].length):r.lastIndex=0:fw&&u&&(r.lastIndex=r.global?u.index+u[0].length:l),dw&&u&&u.length>1&&ku(KEe,u[0],s,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(u[c]=void 0)}),u&&m)for(u.groups=d=BEe(null),c=0;c<m.length;c++)f=m[c],d[f[0]]=u[f[1]];return u});var o_=cw,YEe=Z,Fk=o_;YEe({target:"RegExp",proto:!0,forced:/./.exec!==Fk},{exec:Fk});var XEe=Ee,qEe=Oe,QEe=vr,ZEe=iO,JEe=ce,v9=XEe.RegExp,p9=v9.prototype,exe=qEe&&JEe(function(){var e=!0;try{v9(".","d")}catch{e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(l,u){Object.defineProperty(t,l,{get:function(){return r+=u,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(a.hasIndices="d");for(var o in a)i(o,a[o]);var s=Object.getOwnPropertyDescriptor(p9,"flags").get.call(t);return s!==n||r!==n});exe&&QEe(p9,"flags",{configurable:!0,get:ZEe});var txe=Oe,rxe=i_.MISSED_STICKY,nxe=Vr,ixe=vr,axe=Vt.get,Bk=RegExp.prototype,oxe=TypeError;txe&&rxe&&ixe(Bk,"sticky",{configurable:!0,get:function(){if(this!==Bk){if(nxe(this)==="RegExp")return!!axe(this).sticky;throw oxe("Incompatible receiver, RegExp required")}}});var sxe=Z,Uk=Me,lxe=Ke,jk=De,uxe=Be,cxe=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),fxe=/./.test;sxe({target:"RegExp",proto:!0,forced:!cxe},{test:function(e){var t=jk(this),r=uxe(e),n=t.exec;if(!lxe(n))return Uk(fxe,t,r);var i=Uk(n,t,r);return i===null?!1:(jk(i),!0)}});var dxe=sf.PROPER,hxe=Nt,vxe=De,Hk=Be,pxe=ce,gxe=e0,cO="toString",mxe=RegExp.prototype,g9=mxe[cO],yxe=pxe(function(){return g9.call({source:"a",flags:"b"})!="/a/b"}),_xe=dxe&&g9.name!=cO;(yxe||_xe)&&hxe(RegExp.prototype,cO,function(){var t=vxe(this),r=Hk(t.source),n=Hk(gxe(t));return"/"+r+"/"+n},{unsafe:!0});var Exe=V1,xxe=o7;Exe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},xxe);var Sxe=Z,bxe=de,Txe=zt,wxe=jt,Axe=Be,Rxe=ce,Oxe=bxe("".charAt),Ixe=Rxe(function(){return"𠮷".at(-2)!=="\uD842"});Sxe({target:"String",proto:!0,forced:Ixe},{at:function(t){var r=Axe(Txe(this)),n=r.length,i=wxe(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:Oxe(r,a)}});var fO=de,Cxe=jt,Pxe=Be,Lxe=zt,Dxe=fO("".charAt),Kk=fO("".charCodeAt),$xe=fO("".slice),Gk=function(e){return function(t,r){var n=Pxe(Lxe(t)),i=Cxe(r),a=n.length,o,s;return i<0||i>=a?e?"":void 0:(o=Kk(n,i),o<55296||o>56319||i+1===a||(s=Kk(n,i+1))<56320||s>57343?e?Dxe(n,i):o:e?$xe(n,i,i+2):(o-55296<<10)+(s-56320)+65536)}},s_={codeAt:Gk(!1),charAt:Gk(!0)},kxe=Z,Nxe=s_.codeAt;kxe({target:"String",proto:!0},{codePointAt:function(t){return Nxe(this,t)}});var Mxe=Jv,Fxe=TypeError,dO=function(e){if(Mxe(e))throw Fxe("The method doesn't accept regular expressions");return e},Bxe=We,Uxe=Bxe("match"),hO=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[Uxe]=!1,"/./"[e](t)}catch{}}return!1},jxe=Z,m9=bs,Hxe=hr.f,Kxe=Pn,Wk=Be,Gxe=dO,Wxe=zt,zxe=hO,zk=m9("".endsWith),Vxe=m9("".slice),Yxe=Math.min,y9=zxe("endsWith"),Xxe=!y9&&!!function(){var e=Hxe(String.prototype,"endsWith");return e&&!e.writable}();jxe({target:"String",proto:!0,forced:!Xxe&&!y9},{endsWith:function(t){var r=Wk(Wxe(this));Gxe(t);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:Yxe(Kxe(n),i),o=Wk(t);return zk?zk(r,o,a):Vxe(r,a-o.length,a)===o}});var qxe=Z,Qxe=de,Zxe=fa,Jxe=RangeError,Vk=String.fromCharCode,Yk=String.fromCodePoint,eSe=Qxe([].join),tSe=!!Yk&&Yk.length!=1;qxe({target:"String",stat:!0,arity:1,forced:tSe},{fromCodePoint:function(t){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],Zxe(a,1114111)!==a)throw Jxe(a+" is not a valid code point");r[i]=a<65536?Vk(a):Vk(((a-=65536)>>10)+55296,a%1024+56320)}return eSe(r,"")}});var rSe=Z,nSe=de,iSe=dO,aSe=zt,Xk=Be,oSe=hO,sSe=nSe("".indexOf);rSe({target:"String",proto:!0,forced:!oSe("includes")},{includes:function(t){return!!~sSe(Xk(aSe(this)),Xk(iSe(t)),arguments.length>1?arguments[1]:void 0)}});var lSe=s_.charAt,uSe=Be,_9=Vt,cSe=ER,qk=B1,E9="String Iterator",fSe=_9.set,dSe=_9.getterFor(E9);cSe(String,"String",function(e){fSe(this,{type:E9,string:uSe(e),index:0})},function(){var t=dSe(this),r=t.string,n=t.index,i;return n>=r.length?qk(void 0,!0):(i=lSe(r,n),t.index+=i.length,qk(i,!1))});var Qk=bs,Zk=Nt,hSe=o_,Jk=ce,x9=We,vSe=Yr,pSe=x9("species"),Ux=RegExp.prototype,l_=function(e,t,r,n){var i=x9(e),a=!Jk(function(){var u={};return u[i]=function(){return 7},""[e](u)!=7}),o=a&&!Jk(function(){var u=!1,c=/a/;return e==="split"&&(c={},c.constructor={},c.constructor[pSe]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return u=!0,null},c[i](""),!u});if(!a||!o||r){var s=Qk(/./[i]),l=t(i,""[e],function(u,c,d,f,m){var _=Qk(u),x=c.exec;return x===hSe||x===Ux.exec?a&&!m?{done:!0,value:s(c,d,f)}:{done:!0,value:_(d,c,f)}:{done:!1}});Zk(String.prototype,e,l[0]),Zk(Ux,i,l[1])}n&&vSe(Ux[i],"sham",!0)},gSe=s_.charAt,u_=function(e,t,r){return t+(r?gSe(e,t).length:1)},eN=Me,mSe=De,ySe=Ke,_Se=Vr,ESe=o_,xSe=TypeError,r0=function(e,t){var r=e.exec;if(ySe(r)){var n=eN(r,e,t);return n!==null&&mSe(n),n}if(_Se(e)==="RegExp")return eN(ESe,e,t);throw xSe("RegExp#exec called on incompatible receiver")},SSe=Me,bSe=l_,TSe=De,wSe=vn,ASe=Pn,jx=Be,RSe=zt,OSe=to,ISe=u_,tN=r0;bSe("match",function(e,t,r){return[function(i){var a=RSe(this),o=wSe(i)?void 0:OSe(i,e);return o?SSe(o,i,a):new RegExp(i)[e](jx(a))},function(n){var i=TSe(this),a=jx(n),o=r(t,i,a);if(o.done)return o.value;if(!i.global)return tN(i,a);var s=i.unicode;i.lastIndex=0;for(var l=[],u=0,c;(c=tN(i,a))!==null;){var d=jx(c[0]);l[u]=d,d===""&&(i.lastIndex=ISe(a,ASe(i.lastIndex),s)),u++}return u===0?null:l}]});var CSe=Z,PSe=Me,S9=bs,LSe=_R,dp=B1,rN=zt,b9=Pn,kh=Be,DSe=De,$Se=vn,kSe=Vr,NSe=Jv,T9=e0,MSe=to,FSe=Nt,BSe=ce,USe=We,jSe=hf,HSe=u_,KSe=r0,w9=Vt,GSe=qA,Am=USe("matchAll"),A9="RegExp String",R9=A9+" Iterator",WSe=w9.set,zSe=w9.getterFor(R9),nN=RegExp.prototype,VSe=TypeError,hw=S9("".indexOf),Rm=S9("".matchAll),Hx=!!Rm&&!BSe(function(){Rm("a",/./)}),YSe=LSe(function(t,r,n,i){WSe(this,{type:R9,regexp:t,string:r,global:n,unicode:i,done:!1})},A9,function(){var t=zSe(this);if(t.done)return dp(void 0,!0);var r=t.regexp,n=t.string,i=KSe(r,n);return i===null?(t.done=!0,dp(void 0,!0)):t.global?(kh(i[0])===""&&(r.lastIndex=HSe(n,b9(r.lastIndex),t.unicode)),dp(i,!1)):(t.done=!0,dp(i,!1))}),O9=function(e){var t=DSe(this),r=kh(e),n=jSe(t,RegExp),i=kh(T9(t)),a,o,s;return a=new n(n===RegExp?t.source:t,i),o=!!~hw(i,"g"),s=!!~hw(i,"u"),a.lastIndex=b9(t.lastIndex),new YSe(a,r,o,s)};CSe({target:"String",proto:!0,forced:Hx},{matchAll:function(t){var r=rN(this),n,i,a,o;if($Se(t)){if(Hx)return Rm(r,t)}else{if(NSe(t)&&(n=kh(rN(T9(t))),!~hw(n,"g")))throw VSe("`.matchAll` does not allow non-global regexes");if(Hx)return Rm(r,t);if(a=MSe(t,Am),a===void 0&&GSe&&kSe(t)=="RegExp"&&(a=O9),a)return PSe(a,t,r)}return i=kh(r),o=new RegExp(t,"g"),o[Am](i)}});Am in nN||FSe(nN,Am,O9);var XSe=Ja,I9=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(XSe),qSe=Z,QSe=FR.end,ZSe=I9;qSe({target:"String",proto:!0,forced:ZSe},{padEnd:function(t){return QSe(this,t,arguments.length>1?arguments[1]:void 0)}});var JSe=Z,ebe=FR.start,tbe=I9;JSe({target:"String",proto:!0,forced:tbe},{padStart:function(t){return ebe(this,t,arguments.length>1?arguments[1]:void 0)}});var rbe=Z,C9=de,nbe=tr,ibe=nt,iN=Be,abe=st,aN=C9([].push),obe=C9([].join);rbe({target:"String",stat:!0},{raw:function(t){var r=nbe(ibe(t).raw),n=abe(r);if(!n)return"";for(var i=arguments.length,a=[],o=0;;){if(aN(a,iN(r[o++])),o===n)return obe(a,"");o<i&&aN(a,iN(arguments[o]))}}});var sbe=Z,lbe=z1;sbe({target:"String",proto:!0},{repeat:lbe});var vO=de,ube=nt,cbe=Math.floor,Kx=vO("".charAt),fbe=vO("".replace),Gx=vO("".slice),dbe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,hbe=/\$([$&'`]|\d{1,2})/g,P9=function(e,t,r,n,i,a){var o=r+e.length,s=n.length,l=hbe;return i!==void 0&&(i=ube(i),l=dbe),fbe(a,l,function(u,c){var d;switch(Kx(c,0)){case"$":return"$";case"&":return e;case"`":return Gx(t,0,r);case"'":return Gx(t,o);case"<":d=i[Gx(c,1,-1)];break;default:var f=+c;if(f===0)return u;if(f>s){var m=cbe(f/10);return m===0?u:m<=s?n[m-1]===void 0?Kx(c,1):n[m-1]+Kx(c,1):u}d=n[f-1]}return d===void 0?"":d})},vbe=ui,oN=Me,c_=de,pbe=l_,gbe=ce,mbe=De,ybe=Ke,_be=vn,Ebe=jt,xbe=Pn,au=Be,Sbe=zt,bbe=u_,Tbe=to,wbe=P9,Abe=r0,Rbe=We,vw=Rbe("replace"),Obe=Math.max,Ibe=Math.min,Cbe=c_([].concat),Wx=c_([].push),sN=c_("".indexOf),lN=c_("".slice),Pbe=function(e){return e===void 0?e:String(e)},Lbe=function(){return"a".replace(/./,"$0")==="$0"}(),uN=function(){return/./[vw]?/./[vw]("a","$0")==="":!1}(),Dbe=!gbe(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});pbe("replace",function(e,t,r){var n=uN?"$":"$0";return[function(a,o){var s=Sbe(this),l=_be(a)?void 0:Tbe(a,vw);return l?oN(l,a,s,o):oN(t,au(s),a,o)},function(i,a){var o=mbe(this),s=au(i);if(typeof a=="string"&&sN(a,n)===-1&&sN(a,"$<")===-1){var l=r(t,o,s,a);if(l.done)return l.value}var u=ybe(a);u||(a=au(a));var c=o.global;if(c){var d=o.unicode;o.lastIndex=0}for(var f=[];;){var m=Abe(o,s);if(m===null||(Wx(f,m),!c))break;var _=au(m[0]);_===""&&(o.lastIndex=bbe(s,xbe(o.lastIndex),d))}for(var x="",v=0,g=0;g<f.length;g++){m=f[g];for(var p=au(m[0]),h=Obe(Ibe(Ebe(m.index),s.length),0),S=[],O=1;O<m.length;O++)Wx(S,Pbe(m[O]));var y=m.groups;if(u){var E=Cbe([p],S,h,s);y!==void 0&&Wx(E,y);var b=au(vbe(a,void 0,E))}else b=wbe(p,s,h,S,y,a);h>=v&&(x+=lN(s,v,h)+b,v=h+p.length)}return x+lN(s,v)}]},!Dbe||!Lbe||uN);var $be=Z,kbe=Me,pO=de,cN=zt,Nbe=Ke,Mbe=vn,Fbe=Jv,Vf=Be,Bbe=to,Ube=e0,jbe=P9,Hbe=We,Kbe=Hbe("replace"),Gbe=TypeError,L9=pO("".indexOf);pO("".replace);var fN=pO("".slice),Wbe=Math.max,dN=function(e,t,r){return r>e.length?-1:t===""?r:L9(e,t,r)};$be({target:"String",proto:!0},{replaceAll:function(t,r){var n=cN(this),i,a,o,s,l,u,c,d,f,m=0,_=0,x="";if(!Mbe(t)){if(i=Fbe(t),i&&(a=Vf(cN(Ube(t))),!~L9(a,"g")))throw Gbe("`.replaceAll` does not allow non-global regexes");if(o=Bbe(t,Kbe),o)return kbe(o,t,n,r)}for(s=Vf(n),l=Vf(t),u=Nbe(r),u||(r=Vf(r)),c=l.length,d=Wbe(1,c),m=dN(s,l,0);m!==-1;)f=u?Vf(r(l,m,s)):jbe(l,s,m,[],void 0,r),x+=fN(s,_,m)+f,_=m+c,m=dN(s,l,m+d);return _<s.length&&(x+=fN(s,_)),x}});var zbe=Me,Vbe=l_,Ybe=De,Xbe=vn,qbe=zt,hN=I7,vN=Be,Qbe=to,Zbe=r0;Vbe("search",function(e,t,r){return[function(i){var a=qbe(this),o=Xbe(i)?void 0:Qbe(i,e);return o?zbe(o,i,a):new RegExp(i)[e](vN(a))},function(n){var i=Ybe(this),a=vN(n),o=r(t,i,a);if(o.done)return o.value;var s=i.lastIndex;hN(s,0)||(i.lastIndex=0);var l=Zbe(i,a);return hN(i.lastIndex,s)||(i.lastIndex=s),l===null?-1:l.index}]});var Jbe=ui,Yf=Me,gO=de,eTe=l_,tTe=De,rTe=vn,nTe=Jv,pN=zt,iTe=hf,aTe=u_,oTe=Pn,zx=Be,sTe=to,gN=Uv,mN=r0,lTe=o_,uTe=i_,cTe=ce,ou=uTe.UNSUPPORTED_Y,yN=4294967295,fTe=Math.min,D9=[].push,dTe=gO(/./.exec),su=gO(D9),Xf=gO("".slice),hTe=!cTe(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"});eTe("split",function(e,t,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,a){var o=zx(pN(this)),s=a===void 0?yN:a>>>0;if(s===0)return[];if(i===void 0)return[o];if(!nTe(i))return Yf(t,o,i,s);for(var l=[],u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),c=0,d=new RegExp(i.source,u+"g"),f,m,_;(f=Yf(lTe,d,o))&&(m=d.lastIndex,!(m>c&&(su(l,Xf(o,c,f.index)),f.length>1&&f.index<o.length&&Jbe(D9,l,gN(f,1)),_=f[0].length,c=m,l.length>=s)));)d.lastIndex===f.index&&d.lastIndex++;return c===o.length?(_||!dTe(d,""))&&su(l,""):su(l,Xf(o,c)),l.length>s?gN(l,0,s):l}:"0".split(void 0,0).length?n=function(i,a){return i===void 0&&a===0?[]:Yf(t,this,i,a)}:n=t,[function(a,o){var s=pN(this),l=rTe(a)?void 0:sTe(a,e);return l?Yf(l,a,s,o):Yf(n,zx(s),a,o)},function(i,a){var o=tTe(this),s=zx(i),l=r(n,o,s,a,n!==t);if(l.done)return l.value;var u=iTe(o,RegExp),c=o.unicode,d=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(ou?"g":"y"),f=new u(ou?"^(?:"+o.source+")":o,d),m=a===void 0?yN:a>>>0;if(m===0)return[];if(s.length===0)return mN(f,s)===null?[s]:[];for(var _=0,x=0,v=[];x<s.length;){f.lastIndex=ou?0:x;var g=mN(f,ou?Xf(s,x):s),p;if(g===null||(p=fTe(oTe(f.lastIndex+(ou?x:0)),s.length))===_)x=aTe(s,x,c);else{if(su(v,Xf(s,_,x)),v.length===m)return v;for(var h=1;h<=g.length-1;h++)if(su(v,g[h]),v.length===m)return v;x=_=p}}return su(v,Xf(s,_)),v}]},!hTe,ou);var vTe=Z,$9=bs,pTe=hr.f,gTe=Pn,_N=Be,mTe=dO,yTe=zt,_Te=hO,EN=$9("".startsWith),ETe=$9("".slice),xTe=Math.min,k9=_Te("startsWith"),STe=!k9&&!!function(){var e=pTe(String.prototype,"startsWith");return e&&!e.writable}();vTe({target:"String",proto:!0,forced:!STe&&!k9},{startsWith:function(t){var r=_N(yTe(this));mTe(t);var n=gTe(xTe(arguments.length>1?arguments[1]:void 0,r.length)),i=_N(t);return EN?EN(r,i,n):ETe(r,n,n+i.length)===i}});var bTe=Z,TTe=de,wTe=zt,xN=jt,ATe=Be,RTe=TTe("".slice),OTe=Math.max,ITe=Math.min,CTe=!"".substr||"ab".substr(-1)!=="b";bTe({target:"String",proto:!0,forced:CTe},{substr:function(t,r){var n=ATe(wTe(this)),i=n.length,a=xN(t),o,s;return a===1/0&&(a=0),a<0&&(a=OTe(i+a,0)),o=r===void 0?i:xN(r),o<=0||o===1/0?"":(s=ITe(a+o,i),a>=s?"":RTe(n,a,s))}});var PTe=sf.PROPER,LTe=ce,SN=Q1,bN="​᠎",mO=function(e){return LTe(function(){return!!SN[e]()||bN[e]()!==bN||PTe&&SN[e].name!==e})},DTe=Z,$Te=pf.trim,kTe=mO;DTe({target:"String",proto:!0,forced:kTe("trim")},{trim:function(){return $Te(this)}});var NTe=pf.end,MTe=mO,N9=MTe("trimEnd")?function(){return NTe(this)}:"".trimEnd,FTe=Z,TN=N9;FTe({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==TN},{trimRight:TN});var BTe=Z,wN=N9;BTe({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==wN},{trimEnd:wN});var UTe=pf.start,jTe=mO,M9=jTe("trimStart")?function(){return UTe(this)}:"".trimStart,HTe=Z,AN=M9;HTe({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==AN},{trimLeft:AN});var KTe=Z,RN=M9;KTe({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==RN},{trimStart:RN});var GTe=de,WTe=zt,ON=Be,zTe=/"/g,VTe=GTe("".replace),Dn=function(e,t,r,n){var i=ON(WTe(e)),a="<"+t;return r!==""&&(a+=" "+r+'="'+VTe(ON(n),zTe,"&quot;")+'"'),a+">"+i+"</"+t+">"},YTe=ce,$n=function(e){return YTe(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})},XTe=Z,qTe=Dn,QTe=$n;XTe({target:"String",proto:!0,forced:QTe("anchor")},{anchor:function(t){return qTe(this,"a","name",t)}});var ZTe=Z,JTe=Dn,ewe=$n;ZTe({target:"String",proto:!0,forced:ewe("big")},{big:function(){return JTe(this,"big","","")}});var twe=Z,rwe=Dn,nwe=$n;twe({target:"String",proto:!0,forced:nwe("blink")},{blink:function(){return rwe(this,"blink","","")}});var iwe=Z,awe=Dn,owe=$n;iwe({target:"String",proto:!0,forced:owe("bold")},{bold:function(){return awe(this,"b","","")}});var swe=Z,lwe=Dn,uwe=$n;swe({target:"String",proto:!0,forced:uwe("fixed")},{fixed:function(){return lwe(this,"tt","","")}});var cwe=Z,fwe=Dn,dwe=$n;cwe({target:"String",proto:!0,forced:dwe("fontcolor")},{fontcolor:function(t){return fwe(this,"font","color",t)}});var hwe=Z,vwe=Dn,pwe=$n;hwe({target:"String",proto:!0,forced:pwe("fontsize")},{fontsize:function(t){return vwe(this,"font","size",t)}});var gwe=Z,mwe=Dn,ywe=$n;gwe({target:"String",proto:!0,forced:ywe("italics")},{italics:function(){return mwe(this,"i","","")}});var _we=Z,Ewe=Dn,xwe=$n;_we({target:"String",proto:!0,forced:xwe("link")},{link:function(t){return Ewe(this,"a","href",t)}});var Swe=Z,bwe=Dn,Twe=$n;Swe({target:"String",proto:!0,forced:Twe("small")},{small:function(){return bwe(this,"small","","")}});var wwe=Z,Awe=Dn,Rwe=$n;wwe({target:"String",proto:!0,forced:Rwe("strike")},{strike:function(){return Awe(this,"strike","","")}});var Owe=Z,Iwe=Dn,Cwe=$n;Owe({target:"String",proto:!0,forced:Cwe("sub")},{sub:function(){return Iwe(this,"sub","","")}});var Pwe=Z,Lwe=Dn,Dwe=$n;Pwe({target:"String",proto:!0,forced:Dwe("sup")},{sup:function(){return Lwe(this,"sup","","")}});var Di={},IN={get exports(){return Di},set exports(e){Di=e}},F9=Ee,Vx=ce,$we=F1,kwe=Ue.NATIVE_ARRAY_BUFFER_VIEWS,Nwe=F9.ArrayBuffer,js=F9.Int8Array,yO=!kwe||!Vx(function(){js(1)})||!Vx(function(){new js(-1)})||!$we(function(e){new js,new js(null),new js(1.5),new js(e)},!0)||Vx(function(){return new js(new Nwe(2),1,void 0).length!==1}),Mwe=jt,Fwe=RangeError,Bwe=function(e){var t=Mwe(e);if(t<0)throw Fwe("The argument can't be less than 0");return t},Uwe=Bwe,jwe=RangeError,B9=function(e,t){var r=Uwe(e);if(r%t)throw jwe("Wrong offset");return r},Hwe=da,U9=function(e){var t=Hwe(e);return t=="BigInt64Array"||t=="BigUint64Array"},Kwe=T1,Gwe=TypeError,_O=function(e){var t=Kwe(e,"number");if(typeof t=="number")throw Gwe("Can't convert number to bigint");return BigInt(t)},Wwe=Ni,zwe=Me,Vwe=kR,Ywe=nt,Xwe=st,qwe=k1,Qwe=zv,Zwe=gR,Jwe=U9,e2e=Ue.aTypedArrayConstructor,t2e=_O,j9=function(t){var r=Vwe(this),n=Ywe(t),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0,s=Qwe(n),l,u,c,d,f,m,_,x;if(s&&!Zwe(s))for(_=qwe(n,s),x=_.next,n=[];!(m=zwe(x,_)).done;)n.push(m.value);for(o&&i>2&&(a=Wwe(a,arguments[2])),u=Xwe(n),c=new(e2e(r))(u),d=Jwe(c),l=0;u>l;l++)f=o?a(n[l],l):n[l],c[l]=d?t2e(f):+f;return c},CN=Z,H9=Ee,PN=Me,r2e=Oe,n2e=yO,gf=Ue,K9=K1,LN=ga,i2e=oi,qf=Yr,a2e=YR,o2e=Pn,DN=Pj,Yx=B9,G9=Ss,Qf=Qe,s2e=da,pw=Ge,l2e=kl,u2e=li,c2e=si,hp=ha,f2e=ro.f,$N=j9,d2e=pr.forEach,h2e=ff,v2e=vr,W9=Tt,z9=hr,EO=Vt,p2e=uf,gw=EO.get,g2e=EO.set,m2e=EO.enforce,V9=W9.f,y2e=z9.f,_2e=Math.round,Xx=H9.RangeError,Y9=K9.ArrayBuffer,E2e=Y9.prototype,x2e=K9.DataView,vp=gf.NATIVE_ARRAY_BUFFER_VIEWS,kN=gf.TYPED_ARRAY_TAG,NN=gf.TypedArray,Zf=gf.TypedArrayPrototype,S2e=gf.aTypedArrayConstructor,mw=gf.isTypedArray,pp="BYTES_PER_ELEMENT",qx="Wrong length",MN=function(e,t){S2e(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},gp=function(e,t){v2e(e,t,{configurable:!0,get:function(){return gw(this)[t]}})},FN=function(e){var t;return c2e(E2e,e)||(t=s2e(e))=="ArrayBuffer"||t=="SharedArrayBuffer"},X9=function(e,t){return mw(e)&&!l2e(t)&&t in e&&a2e(+t)&&t>=0},BN=function(t,r){return r=G9(r),X9(t,r)?i2e(2,t[r]):y2e(t,r)},UN=function(t,r,n){return r=G9(r),X9(t,r)&&pw(n)&&Qf(n,"value")&&!Qf(n,"get")&&!Qf(n,"set")&&!n.configurable&&(!Qf(n,"writable")||n.writable)&&(!Qf(n,"enumerable")||n.enumerable)?(t[r]=n.value,t):V9(t,r,n)};r2e?(vp||(z9.f=BN,W9.f=UN,gp(Zf,"buffer"),gp(Zf,"byteOffset"),gp(Zf,"byteLength"),gp(Zf,"length")),CN({target:"Object",stat:!0,forced:!vp},{getOwnPropertyDescriptor:BN,defineProperty:UN}),IN.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,i=e+(r?"Clamped":"")+"Array",a="get"+e,o="set"+e,s=H9[i],l=s,u=l&&l.prototype,c={},d=function(x,v){var g=gw(x);return g.view[a](v*n+g.byteOffset,!0)},f=function(x,v,g){var p=gw(x);r&&(g=(g=_2e(g))<0?0:g>255?255:g&255),p.view[o](v*n+p.byteOffset,g,!0)},m=function(x,v){V9(x,v,{get:function(){return d(this,v)},set:function(g){return f(this,v,g)},enumerable:!0})};vp?n2e&&(l=t(function(x,v,g,p){return LN(x,u),p2e(function(){return pw(v)?FN(v)?p!==void 0?new s(v,Yx(g,n),p):g!==void 0?new s(v,Yx(g,n)):new s(v):mw(v)?MN(l,v):PN($N,l,v):new s(DN(v))}(),x,l)}),hp&&hp(l,NN),d2e(f2e(s),function(x){x in l||qf(l,x,s[x])}),l.prototype=u):(l=t(function(x,v,g,p){LN(x,u);var h=0,S=0,O,y,E;if(!pw(v))E=DN(v),y=E*n,O=new Y9(y);else if(FN(v)){O=v,S=Yx(g,n);var b=v.byteLength;if(p===void 0){if(b%n||(y=b-S,y<0))throw Xx(qx)}else if(y=o2e(p)*n,y+S>b)throw Xx(qx);E=y/n}else return mw(v)?MN(l,v):PN($N,l,v);for(g2e(x,{buffer:O,byteOffset:S,byteLength:y,length:E,view:new x2e(O)});h<E;)m(x,h++)}),hp&&hp(l,NN),u=l.prototype=u2e(Zf)),u.constructor!==l&&qf(u,"constructor",l),m2e(u).TypedArrayConstructor=l,kN&&qf(u,kN,i);var _=l!=s;c[i]=l,CN({global:!0,constructor:!0,forced:_,sham:!vp},c),pp in l||qf(l,pp,n),pp in u||qf(u,pp,n),h2e(i)}):IN.exports=function(){};var b2e=Di;b2e("Float32",function(e){return function(r,n,i){return e(this,r,n,i)}});var T2e=Di;T2e("Float64",function(e){return function(r,n,i){return e(this,r,n,i)}});var w2e=Di;w2e("Int8",function(e){return function(r,n,i){return e(this,r,n,i)}});var A2e=Di;A2e("Int16",function(e){return function(r,n,i){return e(this,r,n,i)}});var R2e=Di;R2e("Int32",function(e){return function(r,n,i){return e(this,r,n,i)}});var O2e=Di;O2e("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}});var I2e=Di;I2e("Uint8",function(e){return function(r,n,i){return e(this,r,n,i)}},!0);var C2e=Di;C2e("Uint16",function(e){return function(r,n,i){return e(this,r,n,i)}});var P2e=Di;P2e("Uint32",function(e){return function(r,n,i){return e(this,r,n,i)}});var q9=Ue,L2e=st,D2e=jt,$2e=q9.aTypedArray,k2e=q9.exportTypedArrayMethod;k2e("at",function(t){var r=$2e(this),n=L2e(r),i=D2e(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]});var N2e=de,Q9=Ue,M2e=aj,F2e=N2e(M2e),B2e=Q9.aTypedArray,U2e=Q9.exportTypedArrayMethod;U2e("copyWithin",function(t,r){return F2e(B2e(this),t,r,arguments.length>2?arguments[2]:void 0)});var Z9=Ue,j2e=pr.every,H2e=Z9.aTypedArray,K2e=Z9.exportTypedArrayMethod;K2e("every",function(t){return j2e(H2e(this),t,arguments.length>1?arguments[1]:void 0)});var J9=Ue,G2e=yR,W2e=_O,z2e=da,V2e=Me,Y2e=de,X2e=ce,q2e=J9.aTypedArray,Q2e=J9.exportTypedArrayMethod,Z2e=Y2e("".slice),J2e=X2e(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});Q2e("fill",function(t){var r=arguments.length;q2e(this);var n=Z2e(z2e(this),0,3)==="Big"?W2e(t):+t;return V2e(G2e,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},J2e);var eH=Ue,eAe=hf,tAe=eH.aTypedArrayConstructor,rAe=eH.getTypedArrayConstructor,f_=function(e){return tAe(eAe(e,rAe(e)))},nAe=AR,iAe=f_,aAe=function(e,t){return nAe(iAe(e),t)},tH=Ue,oAe=pr.filter,sAe=aAe,lAe=tH.aTypedArray,uAe=tH.exportTypedArrayMethod;uAe("filter",function(t){var r=oAe(lAe(this),t,arguments.length>1?arguments[1]:void 0);return sAe(this,r)});var rH=Ue,cAe=pr.find,fAe=rH.aTypedArray,dAe=rH.exportTypedArrayMethod;dAe("find",function(t){return cAe(fAe(this),t,arguments.length>1?arguments[1]:void 0)});var nH=Ue,hAe=pr.findIndex,vAe=nH.aTypedArray,pAe=nH.exportTypedArrayMethod;pAe("findIndex",function(t){return hAe(vAe(this),t,arguments.length>1?arguments[1]:void 0)});var iH=Ue,gAe=M1.findLast,mAe=iH.aTypedArray,yAe=iH.exportTypedArrayMethod;yAe("findLast",function(t){return gAe(mAe(this),t,arguments.length>1?arguments[1]:void 0)});var aH=Ue,_Ae=M1.findLastIndex,EAe=aH.aTypedArray,xAe=aH.exportTypedArrayMethod;xAe("findLastIndex",function(t){return _Ae(EAe(this),t,arguments.length>1?arguments[1]:void 0)});var oH=Ue,SAe=pr.forEach,bAe=oH.aTypedArray,TAe=oH.exportTypedArrayMethod;TAe("forEach",function(t){SAe(bAe(this),t,arguments.length>1?arguments[1]:void 0)});var wAe=yO,AAe=Ue.exportTypedArrayStaticMethod,RAe=j9;AAe("from",RAe,wAe);var sH=Ue,OAe=kv.includes,IAe=sH.aTypedArray,CAe=sH.exportTypedArrayMethod;CAe("includes",function(t){return OAe(IAe(this),t,arguments.length>1?arguments[1]:void 0)});var lH=Ue,PAe=kv.indexOf,LAe=lH.aTypedArray,DAe=lH.exportTypedArrayMethod;DAe("indexOf",function(t){return PAe(LAe(this),t,arguments.length>1?arguments[1]:void 0)});var $Ae=Ee,kAe=ce,xO=de,uH=Ue,SO=xj,NAe=We,bO=NAe("iterator"),jN=$Ae.Uint8Array,MAe=xO(SO.values),FAe=xO(SO.keys),BAe=xO(SO.entries),TO=uH.aTypedArray,d_=uH.exportTypedArrayMethod,Tu=jN&&jN.prototype,h_=!kAe(function(){Tu[bO].call([1])}),cH=!!Tu&&Tu.values&&Tu[bO]===Tu.values&&Tu.values.name==="values",fH=function(){return MAe(TO(this))};d_("entries",function(){return BAe(TO(this))},h_);d_("keys",function(){return FAe(TO(this))},h_);d_("values",fH,h_||!cH,{name:"values"});d_(bO,fH,h_||!cH,{name:"values"});var dH=Ue,UAe=de,jAe=dH.aTypedArray,HAe=dH.exportTypedArrayMethod,KAe=UAe([].join);HAe("join",function(t){return KAe(jAe(this),t)});var hH=Ue,GAe=ui,WAe=bj,zAe=hH.aTypedArray,VAe=hH.exportTypedArrayMethod;VAe("lastIndexOf",function(t){var r=arguments.length;return GAe(WAe,zAe(this),r>1?[t,arguments[1]]:[t])});var vH=Ue,YAe=pr.map,XAe=f_,qAe=vH.aTypedArray,QAe=vH.exportTypedArrayMethod;QAe("map",function(t){return YAe(qAe(this),t,arguments.length>1?arguments[1]:void 0,function(r,n){return new(XAe(r))(n)})});var pH=Ue,ZAe=yO,JAe=pH.aTypedArrayConstructor,eRe=pH.exportTypedArrayStaticMethod;eRe("of",function(){for(var t=0,r=arguments.length,n=new(JAe(this))(r);r>t;)n[t]=arguments[t++];return n},ZAe);var gH=Ue,tRe=U1.left,rRe=gH.aTypedArray,nRe=gH.exportTypedArrayMethod;nRe("reduce",function(t){var r=arguments.length;return tRe(rRe(this),t,r,r>1?arguments[1]:void 0)});var mH=Ue,iRe=U1.right,aRe=mH.aTypedArray,oRe=mH.exportTypedArrayMethod;oRe("reduceRight",function(t){var r=arguments.length;return iRe(aRe(this),t,r,r>1?arguments[1]:void 0)});var yH=Ue,sRe=yH.aTypedArray,lRe=yH.exportTypedArrayMethod,uRe=Math.floor;lRe("reverse",function(){for(var t=this,r=sRe(t).length,n=uRe(r/2),i=0,a;i<n;)a=t[i],t[i++]=t[--r],t[r]=a;return t});var _H=Ee,EH=Me,wO=Ue,cRe=st,fRe=B9,dRe=nt,xH=ce,hRe=_H.RangeError,yw=_H.Int8Array,HN=yw&&yw.prototype,SH=HN&&HN.set,vRe=wO.aTypedArray,pRe=wO.exportTypedArrayMethod,_w=!xH(function(){var e=new Uint8ClampedArray(2);return EH(SH,e,{length:1,0:3},1),e[1]!==3}),gRe=_w&&wO.NATIVE_ARRAY_BUFFER_VIEWS&&xH(function(){var e=new yw(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});pRe("set",function(t){vRe(this);var r=fRe(arguments.length>1?arguments[1]:void 0,1),n=dRe(t);if(_w)return EH(SH,this,n,r);var i=this.length,a=cRe(n),o=0;if(a+r>i)throw hRe("Wrong length");for(;o<a;)this[r+o]=n[o++]},!_w||gRe);var bH=Ue,mRe=f_,yRe=ce,_Re=Ml,ERe=bH.aTypedArray,xRe=bH.exportTypedArrayMethod,SRe=yRe(function(){new Int8Array(1).slice()});xRe("slice",function(t,r){for(var n=_Re(ERe(this),t,r),i=mRe(this),a=0,o=n.length,s=new i(o);o>a;)s[a]=n[a++];return s},SRe);var TH=Ue,bRe=pr.some,TRe=TH.aTypedArray,wRe=TH.exportTypedArrayMethod;wRe("some",function(t){return bRe(TRe(this),t,arguments.length>1?arguments[1]:void 0)});var ARe=Ee,RRe=bs,Ew=ce,ORe=Ut,IRe=bR,wH=Ue,KN=wj,CRe=Aj,GN=eo,WN=TR,PRe=wH.aTypedArray,LRe=wH.exportTypedArrayMethod,Nh=ARe.Uint16Array,qu=Nh&&RRe(Nh.prototype.sort),DRe=!!qu&&!(Ew(function(){qu(new Nh(2),null)})&&Ew(function(){qu(new Nh(2),{})})),zN=!!qu&&!Ew(function(){if(GN)return GN<74;if(KN)return KN<67;if(CRe)return!0;if(WN)return WN<602;var e=new Nh(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(qu(e,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),$Re=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};LRe("sort",function(t){return t!==void 0&&ORe(t),zN?qu(this,t):IRe(PRe(this),$Re(t))},!zN||DRe);var AH=Ue,kRe=Pn,VN=fa,NRe=f_,MRe=AH.aTypedArray,FRe=AH.exportTypedArrayMethod;FRe("subarray",function(t,r){var n=MRe(this),i=n.length,a=VN(t,i),o=NRe(n);return new o(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,kRe((r===void 0?i:VN(r,i))-a))});var BRe=Ee,URe=ui,RH=Ue,xw=ce,YN=Ml,Om=BRe.Int8Array,XN=RH.aTypedArray,jRe=RH.exportTypedArrayMethod,OH=[].toLocaleString,HRe=!!Om&&xw(function(){OH.call(new Om(1))}),KRe=xw(function(){return[1,2].toLocaleString()!=new Om([1,2]).toLocaleString()})||!xw(function(){Om.prototype.toLocaleString.call([1,2])});jRe("toLocaleString",function(){return URe(OH,HRe?YN(XN(this)):XN(this),YN(arguments))},KRe);var GRe=Ij,AO=Ue,WRe=AO.aTypedArray,zRe=AO.exportTypedArrayMethod,VRe=AO.getTypedArrayConstructor;zRe("toReversed",function(){return GRe(WRe(this),VRe(this))});var v_=Ue,YRe=de,XRe=Ut,qRe=AR,QRe=v_.aTypedArray,ZRe=v_.getTypedArrayConstructor,JRe=v_.exportTypedArrayMethod,eOe=YRe(v_.TypedArrayPrototype.sort);JRe("toSorted",function(t){t!==void 0&&XRe(t);var r=QRe(this),n=qRe(ZRe(r),r);return eOe(n,t)});var tOe=Ue.exportTypedArrayMethod,rOe=ce,nOe=Ee,iOe=de,qN=nOe.Uint8Array,aOe=qN&&qN.prototype||{},Im=[].toString,oOe=iOe([].join);rOe(function(){Im.call({})})&&(Im=function(){return oOe(this)});var sOe=aOe.toString!=Im;tOe("toString",Im,sOe);var lOe=Cj,RO=Ue,uOe=U9,cOe=jt,fOe=_O,dOe=RO.aTypedArray,hOe=RO.getTypedArrayConstructor,vOe=RO.exportTypedArrayMethod,pOe=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();vOe("with",function(e,t){var r=dOe(this),n=cOe(e),i=uOe(r)?fOe(t):+t;return lOe(r,hOe(r),n,i)},!pOe);var gOe=Z,OO=de,mOe=Be,QN=String.fromCharCode,ZN=OO("".charAt),JN=OO(/./.exec),eM=OO("".slice),yOe=/^[\da-f]{2}$/i,_Oe=/^[\da-f]{4}$/i;gOe({global:!0},{unescape:function(t){for(var r=mOe(t),n="",i=r.length,a=0,o,s;a<i;){if(o=ZN(r,a++),o==="%"){if(ZN(r,a)==="u"){if(s=eM(r,a+1,a+5),JN(_Oe,s)){n+=QN(parseInt(s,16)),a+=5;continue}}else if(s=eM(r,a,a+2),JN(yOe,s)){n+=QN(parseInt(s,16)),a+=2;continue}}n+=o}return n}});var EOe=de,tM=Yv,mp=Ya.getWeakData,xOe=ga,SOe=De,bOe=vn,Qx=Ge,TOe=pa,IH=pr,rM=Qe,CH=Vt,wOe=CH.set,AOe=CH.getterFor,ROe=IH.find,OOe=IH.findIndex,IOe=EOe([].splice),COe=0,yp=function(e){return e.frozen||(e.frozen=new PH)},PH=function(){this.entries=[]},Zx=function(e,t){return ROe(e.entries,function(r){return r[0]===t})};PH.prototype={get:function(e){var t=Zx(this,e);if(t)return t[1]},has:function(e){return!!Zx(this,e)},set:function(e,t){var r=Zx(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=OOe(this.entries,function(r){return r[0]===e});return~t&&IOe(this.entries,t,1),!!~t}};var LH={getConstructor:function(e,t,r,n){var i=e(function(l,u){xOe(l,a),wOe(l,{type:t,id:COe++,frozen:void 0}),bOe(u)||TOe(u,l[n],{that:l,AS_ENTRIES:r})}),a=i.prototype,o=AOe(t),s=function(l,u,c){var d=o(l),f=mp(SOe(u),!0);return f===!0?yp(d).set(u,c):f[d.id]=c,l};return tM(a,{delete:function(l){var u=o(this);if(!Qx(l))return!1;var c=mp(l);return c===!0?yp(u).delete(l):c&&rM(c,u.id)&&delete c[u.id]},has:function(u){var c=o(this);if(!Qx(u))return!1;var d=mp(u);return d===!0?yp(c).has(u):d&&rM(d,c.id)}}),tM(a,r?{get:function(u){var c=o(this);if(Qx(u)){var d=mp(u);return d===!0?yp(c).get(u):d?d[c.id]:void 0}},set:function(u,c){return s(this,u,c)}}:{add:function(u){return s(this,u,!0)}}),i}},POe=vf,nM=Ee,Og=de,iM=Yv,LOe=Ya,DOe=V1,DH=LH,_p=Ge,Ep=Vt.enforce,$Oe=ce,kOe=lU,n0=Object,NOe=Array.isArray,xp=n0.isExtensible,$H=n0.isFrozen,MOe=n0.isSealed,kH=n0.freeze,FOe=n0.seal,aM={},oM={},BOe=!nM.ActiveXObject&&"ActiveXObject"in nM,Jf,NH=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},MH=DOe("WeakMap",NH,DH),wu=MH.prototype,Ig=Og(wu.set),UOe=function(){return POe&&$Oe(function(){var e=kH([]);return Ig(new MH,e,1),!$H(e)})};if(kOe)if(BOe){Jf=DH.getConstructor(NH,"WeakMap",!0),LOe.enable();var sM=Og(wu.delete),Sp=Og(wu.has),lM=Og(wu.get);iM(wu,{delete:function(e){if(_p(e)&&!xp(e)){var t=Ep(this);return t.frozen||(t.frozen=new Jf),sM(this,e)||t.frozen.delete(e)}return sM(this,e)},has:function(t){if(_p(t)&&!xp(t)){var r=Ep(this);return r.frozen||(r.frozen=new Jf),Sp(this,t)||r.frozen.has(t)}return Sp(this,t)},get:function(t){if(_p(t)&&!xp(t)){var r=Ep(this);return r.frozen||(r.frozen=new Jf),Sp(this,t)?lM(this,t):r.frozen.get(t)}return lM(this,t)},set:function(t,r){if(_p(t)&&!xp(t)){var n=Ep(this);n.frozen||(n.frozen=new Jf),Sp(this,t)?Ig(this,t,r):n.frozen.set(t,r)}else Ig(this,t,r);return this}})}else UOe()&&iM(wu,{set:function(t,r){var n;return NOe(t)&&($H(t)?n=aM:MOe(t)&&(n=oM)),Ig(this,t,r),n==aM&&kH(t),n==oM&&FOe(t),this}});var jOe=V1,HOe=LH;jOe("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},HOe);var FH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",BH={};for(var bp=0;bp<66;bp++)BH[FH.charAt(bp)]=bp;var UH={itoc:FH,ctoi:BH},KOe=Z,GOe=Ee,jH=It,IO=de,WOe=Me,CO=ce,zOe=Be,VOe=Qe,YOe=As,Jx=UH.ctoi,HH=/[^\d+/a-z]/i,XOe=/[\t\n\f\r ]+/g,qOe=/[=]{1,2}$/,i0=jH("atob"),QOe=String.fromCharCode,ZOe=IO("".charAt),uM=IO("".replace),JOe=IO(HH.exec),PO=CO(function(){return i0(" ")!==""}),LO=!CO(function(){i0("a")}),cM=!PO&&!LO&&!CO(function(){i0()}),fM=!PO&&!LO&&i0.length!==1;KOe({global:!0,bind:!0,enumerable:!0,forced:PO||LO||cM||fM},{atob:function(t){if(YOe(arguments.length,1),cM||fM)return WOe(i0,GOe,t);var r=uM(zOe(t),XOe,""),n="",i=0,a=0,o,s;if(r.length%4==0&&(r=uM(r,qOe,"")),r.length%4==1||JOe(HH,r))throw new(jH("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;o=ZOe(r,i++);)VOe(Jx,o)&&(s=a%4?s*64+Jx[o]:Jx[o],a++%4&&(n+=QOe(255&s>>(-2*a&6))));return n}});var eIe=Z,tIe=Ee,KH=It,GH=de,rIe=Me,WH=ce,dM=Be,nIe=As,iIe=UH.itoc,El=KH("btoa"),hM=GH("".charAt),aIe=GH("".charCodeAt),vM=!!El&&!WH(function(){El()}),pM=!!El&&WH(function(){return El(null)!=="bnVsbA=="}),gM=!!El&&El.length!==1;eIe({global:!0,bind:!0,enumerable:!0,forced:vM||pM||gM},{btoa:function(t){if(nIe(arguments.length,1),vM||pM||gM)return rIe(El,tIe,dM(t));for(var r=dM(t),n="",i=0,a=iIe,o,s;hM(r,i)||(a="=",i%1);){if(s=aIe(r,i+=3/4),s>255)throw new(KH("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o=o<<8|s,n+=hM(a,63&o>>8-i%1*8)}return n}});var zH={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},oIe=w1,eS=oIe("span").classList,mM=eS&&eS.constructor&&eS.constructor.prototype,VH=mM===Object.prototype?void 0:mM,yM=Ee,_M=zH,sIe=VH,tS=cj,lIe=Yr,YH=function(e){if(e&&e.forEach!==tS)try{lIe(e,"forEach",tS)}catch{e.forEach=tS}};for(var rS in _M)_M[rS]&&YH(yM[rS]&&yM[rS].prototype);YH(sIe);var EM=Ee,XH=zH,uIe=VH,Dd=xj,nS=Yr,qH=We,iS=qH("iterator"),xM=qH("toStringTag"),aS=Dd.values,QH=function(e,t){if(e){if(e[iS]!==aS)try{nS(e,iS,aS)}catch{e[iS]=aS}if(e[xM]||nS(e,xM,t),XH[t]){for(var r in Dd)if(e[r]!==Dd[r])try{nS(e,r,Dd[r])}catch{e[r]=Dd[r]}}}};for(var oS in XH)QH(EM[oS]&&EM[oS].prototype,oS);QH(uIe,"DOMTokenList");var cIe=ao,fIe=function(e){try{if(cIe)return Function('return require("'+e+'")')()}catch{}},ZH={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},dIe=Z,hIe=fIe,Cm=It,DO=ce,vIe=li,$O=oi,Pm=Tt.f,pIe=Nt,Cg=vr,Pg=Qe,gIe=ga,mIe=De,JH=tj,SM=Gv,Qu=ZH,yIe=hR,eK=Vt,kO=Oe,Rc="DOMException",Sw="DATA_CLONE_ERR",p_=Cm("Error"),qa=Cm(Rc)||function(){try{var e=Cm("MessageChannel")||hIe("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name==Sw&&t.code==25)return t.constructor}}(),_Ie=qa&&qa.prototype,tK=p_.prototype,EIe=eK.set,xIe=eK.getterFor(Rc),SIe="stack"in p_(Rc),rK=function(e){return Pg(Qu,e)&&Qu[e].m?Qu[e].c:0},NO=function(){gIe(this,Jd);var t=arguments.length,r=SM(t<1?void 0:arguments[0]),n=SM(t<2?void 0:arguments[1],"Error"),i=rK(n);if(EIe(this,{type:Rc,name:n,message:r,code:i}),kO||(this.name=n,this.message=r,this.code=i),SIe){var a=p_(r);a.name=Rc,Pm(this,"stack",$O(1,yIe(a.stack,1)))}},Jd=NO.prototype=vIe(tK),nK=function(e){return{enumerable:!0,configurable:!0,get:e}},sS=function(e){return nK(function(){return xIe(this)[e]})};kO&&(Cg(Jd,"code",sS("code")),Cg(Jd,"message",sS("message")),Cg(Jd,"name",sS("name")));Pm(Jd,"constructor",$O(1,NO));var g_=DO(function(){return!(new qa instanceof p_)}),bIe=g_||DO(function(){return tK.toString!==JH||String(new qa(1,2))!=="2: 1"}),TIe=g_||DO(function(){return new qa(1,"DataCloneError").code!==25});g_||qa[Sw]!==25||_Ie[Sw];var bM=g_;dIe({global:!0,constructor:!0,forced:bM},{DOMException:bM?NO:qa});var Mh=Cm(Rc),Lm=Mh.prototype;bIe&&qa===Mh&&pIe(Lm,"toString",JH);TIe&&kO&&qa===Mh&&Cg(Lm,"code",nK(function(){return rK(mIe(this).name)}));for(var TM in Qu)if(Pg(Qu,TM)){var wM=Qu[TM],Tp=wM.s,AM=$O(6,wM.c);Pg(Mh,Tp)||Pm(Mh,Tp,AM),Pg(Lm,Tp)||Pm(Lm,Tp,AM)}var wIe=Z,AIe=Ee,MO=It,bw=oi,Tw=Tt.f,RM=Qe,RIe=ga,OIe=uf,OM=Gv,lS=ZH,IIe=hR,CIe=Oe,a0="DOMException",iK=MO("Error"),o0=MO(a0),FO=function(){RIe(this,PIe);var t=arguments.length,r=OM(t<1?void 0:arguments[0]),n=OM(t<2?void 0:arguments[1],"Error"),i=new o0(r,n),a=iK(r);return a.name=a0,Tw(i,"stack",bw(1,IIe(a.stack,1))),OIe(i,this,FO),i},PIe=FO.prototype=o0.prototype,LIe="stack"in iK(a0),DIe="stack"in new o0(1,2),uS=o0&&CIe&&Object.getOwnPropertyDescriptor(AIe,a0),$Ie=!!uS&&!(uS.writable&&uS.configurable),IM=LIe&&!$Ie&&!DIe;wIe({global:!0,constructor:!0,forced:IM},{DOMException:IM?FO:o0});var $d=MO(a0),CM=$d.prototype;if(CM.constructor!==$d){Tw(CM,"constructor",bw(1,$d));for(var PM in lS)if(RM(lS,PM)){var LM=lS[PM],DM=LM.s;RM($d,DM)||Tw($d,DM,bw(6,LM.c))}}var kIe=It,NIe=Ln,$M="DOMException";NIe(kIe($M),$M);var MIe=Z,FIe=Ee,kM=t_.clear;MIe({global:!0,bind:!0,enumerable:!0,forced:FIe.clearImmediate!==kM},{clearImmediate:kM});var BIe=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",aK=Ee,UIe=ui,jIe=Ke,HIe=BIe,KIe=Ja,GIe=Ml,WIe=As,zIe=aK.Function,VIe=/MSIE .\./.test(KIe)||HIe&&function(){var e=aK.Bun.version.split(".");return e.length<3||e[0]==0&&(e[1]<3||e[1]==3&&e[2]==0)}(),BO=function(e,t){var r=t?2:1;return VIe?function(n,i){var a=WIe(arguments.length,1)>r,o=jIe(n)?n:zIe(n),s=a?GIe(arguments,r):[],l=a?function(){UIe(o,this,s)}:o;return t?e(l,i):e(l)}:e},YIe=Z,oK=Ee,NM=t_.set,XIe=BO,MM=oK.setImmediate?XIe(NM,!1):NM;YIe({global:!0,bind:!0,enumerable:!0,forced:oK.setImmediate!==MM},{setImmediate:MM});var qIe=Z,QIe=Ee,ZIe=M7,JIe=Ut,eCe=As,tCe=ao,rCe=QIe.process;qIe({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){eCe(arguments.length,1),JIe(t);var r=tCe&&rCe.domain;ZIe(r?r.bind(t):t)}});var nCe=Z,So=Ee,iCe=vr,aCe=Oe,oCe=TypeError,sCe=Object.defineProperty,FM=So.self!==So;try{if(aCe){var cS=Object.getOwnPropertyDescriptor(So,"self");(FM||!cS||!cS.get||!cS.enumerable)&&iCe(So,"self",{get:function(){return So},set:function(t){if(this!==So)throw oCe("Illegal invocation");sCe(So,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else nCe({global:!0,simple:!0,forced:FM},{self:So})}catch{}var wp=de,ed=Map.prototype,lCe={Map,set:wp(ed.set),get:wp(ed.get),has:wp(ed.has),remove:wp(ed.delete),proto:ed},fS=de,lu=Set.prototype,uCe={Set,add:fS(lu.add),has:fS(lu.has),remove:fS(lu.delete),proto:lu,$has:lu.has,$keys:lu.keys},cCe=Ee,fCe=ce,dS=eo,dCe=F7,hCe=ZR,vCe=ao,BM=cCe.structuredClone,pCe=!!BM&&!fCe(function(){if(hCe&&dS>92||vCe&&dS>94||dCe&&dS>97)return!1;var e=new ArrayBuffer(8),t=BM(e,{transfer:[e]});return e.byteLength!=0||t.byteLength!=8}),gCe=Z,Rt=Ee,UO=It,s0=de,jO=ce,mCe=of,Lg=Ke,yCe=lf,_Ce=vn,ww=Ge,ECe=kl,xCe=pa,sK=De,lK=da,SCe=Qe,bCe=no,hS=Yr,Dg=st,TCe=As,wCe=e0,m_=lCe,uK=uCe,ACe=qU,cK=pCe,kd=Rt.Object,RCe=Rt.Array,fK=Rt.Date,l0=Rt.Error,OCe=Rt.EvalError,ICe=Rt.RangeError,CCe=Rt.ReferenceError,PCe=Rt.SyntaxError,dK=Rt.TypeError,LCe=Rt.URIError,DCe=Rt.PerformanceMark,Oc=Rt.WebAssembly,$Ce=Oc&&Oc.CompileError||l0,kCe=Oc&&Oc.LinkError||l0,NCe=Oc&&Oc.RuntimeError||l0,xl=UO("DOMException"),Aw=m_.Map,hK=m_.has,MCe=m_.get,Dm=m_.set,FCe=uK.Set,BCe=uK.add,UCe=UO("Object","keys"),jCe=s0([].push),HCe=s0((!0).valueOf),KCe=s0(1 .valueOf),GCe=s0("".valueOf),WCe=s0(fK.prototype.getTime),Rw=mCe("structuredClone"),Fh="DataCloneError",Ap="Transferring",vK=function(e){return!jO(function(){var t=new Rt.Set([7]),r=e(t),n=e(kd(7));return r==t||!r.has(7)||typeof n!="object"||n!=7})&&e},UM=function(e,t){return!jO(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},zCe=function(e){return!jO(function(){var t=e(new Rt.AggregateError([1],Rw,{cause:3}));return t.name!="AggregateError"||t.errors[0]!=1||t.message!=Rw||t.cause!=3})},Zu=Rt.structuredClone,VCe=!UM(Zu,l0)||!UM(Zu,xl)||!zCe(Zu),YCe=!Zu&&vK(function(e){return new DCe(Rw,{detail:e}).detail}),mo=vK(Zu)||YCe,vS=function(e){throw new xl("Uncloneable type: "+e,Fh)},br=function(e,t){throw new xl((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Fh)},XCe=function(){var e;try{e=new Rt.DataTransfer}catch{try{e=new Rt.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},Sr=function(e,t){if(ECe(e)&&vS("Symbol"),!ww(e))return e;if(t){if(hK(t,e))return MCe(t,e)}else t=new Aw;var r=lK(e),n=!1,i,a,o,s,l,u,c,d,f,m,_;switch(r){case"Array":o=RCe(Dg(e)),n=!0;break;case"Object":o={},n=!0;break;case"Map":o=new Aw,n=!0;break;case"Set":o=new FCe,n=!0;break;case"RegExp":o=new RegExp(e.source,wCe(e));break;case"Error":switch(a=e.name,a){case"AggregateError":o=UO("AggregateError")([]);break;case"EvalError":o=OCe();break;case"RangeError":o=ICe();break;case"ReferenceError":o=CCe();break;case"SyntaxError":o=PCe();break;case"TypeError":o=dK();break;case"URIError":o=LCe();break;case"CompileError":o=$Ce();break;case"LinkError":o=kCe();break;case"RuntimeError":o=NCe();break;default:o=l0()}n=!0;break;case"DOMException":o=new xl(e.message,e.name),n=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=Rt[r],ww(i)||br(r),o=new i(Sr(e.buffer,t),e.byteOffset,r==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{o=new DOMQuad(Sr(e.p1,t),Sr(e.p2,t),Sr(e.p3,t),Sr(e.p4,t))}catch{mo?o=mo(e):br(r)}break;case"FileList":if(s=XCe(),s){for(l=0,u=Dg(e);l<u;l++)s.items.add(Sr(e[l],t));o=s.files}else mo?o=mo(e):br(r);break;case"ImageData":try{o=new ImageData(Sr(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch{mo?o=mo(e):br(r)}break;default:if(mo)o=mo(e);else switch(r){case"BigInt":o=kd(e.valueOf());break;case"Boolean":o=kd(HCe(e));break;case"Number":o=kd(KCe(e));break;case"String":o=kd(GCe(e));break;case"Date":o=new fK(WCe(e));break;case"ArrayBuffer":i=Rt.DataView,!i&&typeof e.slice!="function"&&br(r);try{if(typeof e.slice=="function"&&!e.resizable)o=e.slice(0);else for(u=e.byteLength,_=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,o=new ArrayBuffer(u,_),f=new i(e),m=new i(o),l=0;l<u;l++)m.setUint8(l,f.getUint8(l))}catch{throw new xl("ArrayBuffer is detached",Fh)}break;case"SharedArrayBuffer":o=e;break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch{br(r)}break;case"DOMPoint":case"DOMPointReadOnly":i=Rt[r];try{o=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch{br(r)}break;case"DOMRect":case"DOMRectReadOnly":i=Rt[r];try{o=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch{br(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=Rt[r];try{o=i.fromMatrix?i.fromMatrix(e):new i(e)}catch{br(r)}break;case"AudioData":case"VideoFrame":Lg(e.clone)||br(r);try{o=e.clone()}catch{vS(r)}break;case"File":try{o=new File([e],e.name,e)}catch{br(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":br(r);default:vS(r)}}if(Dm(t,e,o),n)switch(r){case"Array":case"Object":for(c=UCe(e),l=0,u=Dg(c);l<u;l++)d=c[l],bCe(o,d,Sr(e[d],t));break;case"Map":e.forEach(function(x,v){Dm(o,Sr(v,t),Sr(x,t))});break;case"Set":e.forEach(function(x){BCe(o,Sr(x,t))});break;case"Error":hS(o,"message",Sr(e.message,t)),SCe(e,"cause")&&hS(o,"cause",Sr(e.cause,t)),a=="AggregateError"&&(o.errors=Sr(e.errors,t));case"DOMException":ACe&&hS(o,"stack",Sr(e.stack,t))}return o},qCe=function(e,t){if(!ww(e))throw dK("Transfer option cannot be converted to a sequence");var r=[];xCe(e,function(f){jCe(r,sK(f))});var n=0,i=Dg(r),a,o,s,l,u,c,d;if(cK)for(l=Zu(r,{transfer:r});n<i;)Dm(t,r[n],l[n++]);else for(;n<i;){if(a=r[n++],hK(t,a))throw new xl("Duplicate transferable",Fh);switch(o=lK(a),o){case"ImageBitmap":s=Rt.OffscreenCanvas,yCe(s)||br(o,Ap);try{c=new s(a.width,a.height),d=c.getContext("bitmaprenderer"),d.transferFromImageBitmap(a),u=c.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!Lg(a.clone)||!Lg(a.close))&&br(o,Ap);try{u=a.clone(),a.close()}catch{}break;case"ArrayBuffer":Lg(a.transfer)||br(o,Ap),u=a.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":br(o,Ap)}if(u===void 0)throw new xl("This object cannot be transferred: "+o,Fh);Dm(t,a,u)}};gCe({global:!0,enumerable:!0,sham:!cK,forced:VCe},{structuredClone:function(t){var r=TCe(arguments.length,1)>1&&!_Ce(arguments[1])?sK(arguments[1]):void 0,n=r?r.transfer:void 0,i;return n!==void 0&&(i=new Aw,qCe(n,i)),Sr(t,i)}});var QCe=Z,pK=Ee,ZCe=BO,jM=ZCe(pK.setInterval,!0);QCe({global:!0,bind:!0,forced:pK.setInterval!==jM},{setInterval:jM});var JCe=Z,gK=Ee,ePe=BO,HM=ePe(gK.setTimeout,!0);JCe({global:!0,bind:!0,forced:gK.setTimeout!==HM},{setTimeout:HM});var tPe=ce,rPe=We,nPe=Oe,KM=qA,iPe=rPe("iterator"),mK=!tPe(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach(function(n,i){t.delete("b"),r+=i+n}),KM&&!e.toJSON||!t.size&&(KM||!nPe)||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[iPe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"}),Bl=de,pS=2147483647,eh=36,yK=1,Ow=26,aPe=38,oPe=700,sPe=72,lPe=128,uPe="-",cPe=/[^\0-\u007E]/,_K=/[.\u3002\uFF0E\uFF61]/g,GM="Overflow: input needs wider integers to process",gS=eh-yK,WM=RangeError,fPe=Bl(_K.exec),Nu=Math.floor,mS=String.fromCharCode,zM=Bl("".charCodeAt),EK=Bl([].join),Lo=Bl([].push),dPe=Bl("".replace),hPe=Bl("".split),vPe=Bl("".toLowerCase),pPe=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=zM(e,r++);if(i>=55296&&i<=56319&&r<n){var a=zM(e,r++);(a&64512)==56320?Lo(t,((i&1023)<<10)+(a&1023)+65536):(Lo(t,i),r--)}else Lo(t,i)}return t},VM=function(e){return e+22+75*(e<26)},gPe=function(e,t,r){var n=0;for(e=r?Nu(e/oPe):e>>1,e+=Nu(e/t);e>gS*Ow>>1;)e=Nu(e/gS),n+=eh;return Nu(n+(gS+1)*e/(e+aPe))},mPe=function(e){var t=[];e=pPe(e);var r=e.length,n=lPe,i=0,a=sPe,o,s;for(o=0;o<e.length;o++)s=e[o],s<128&&Lo(t,mS(s));var l=t.length,u=l;for(l&&Lo(t,uPe);u<r;){var c=pS;for(o=0;o<e.length;o++)s=e[o],s>=n&&s<c&&(c=s);var d=u+1;if(c-n>Nu((pS-i)/d))throw WM(GM);for(i+=(c-n)*d,n=c,o=0;o<e.length;o++){if(s=e[o],s<n&&++i>pS)throw WM(GM);if(s==n){for(var f=i,m=eh;;){var _=m<=a?yK:m>=a+Ow?Ow:m-a;if(f<_)break;var x=f-_,v=eh-_;Lo(t,mS(VM(_+x%v))),f=Nu(x/v),m+=eh}Lo(t,mS(VM(f))),a=gPe(i,d,u==l),i=0,u++}}i++,n++}return EK(t,"")},yPe=function(e){var t=[],r=hPe(dPe(vPe(e),_K,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Lo(t,fPe(cPe,i)?"xn--"+mPe(i):i);return EK(t,".")},Iw=Z,Ic=Ee,Rp=Me,aa=de,Ju=Oe,xK=mK,SK=Nt,_Pe=vr,EPe=Yv,xPe=Ln,SPe=_R,HO=Vt,bK=ga,yS=Ke,bPe=Qe,TPe=Ni,wPe=da,APe=De,TK=Ge,bn=Be,RPe=li,YM=oi,Cw=k1,OPe=zv,uu=As,IPe=We,CPe=bR,PPe=IPe("iterator"),u0="URLSearchParams",wK=u0+"Iterator",AK=HO.set,Wn=HO.getterFor(u0),LPe=HO.getterFor(wK),DPe=Object.getOwnPropertyDescriptor,KO=function(e){if(!Ju)return Ic[e];var t=DPe(Ic,e);return t&&t.value},XM=KO("fetch"),$m=KO("Request"),th=KO("Headers"),_S=$m&&$m.prototype,qM=th&&th.prototype,$Pe=Ic.RegExp,kPe=Ic.TypeError,RK=Ic.decodeURIComponent,NPe=Ic.encodeURIComponent,MPe=aa("".charAt),QM=aa([].join),tl=aa([].push),Pw=aa("".replace),FPe=aa([].shift),ZM=aa([].splice),JM=aa("".split),BPe=aa("".slice),UPe=/\+/g,e4=Array(4),jPe=function(e){return e4[e-1]||(e4[e-1]=$Pe("((?:%[\\da-f]{2}){"+e+"})","gi"))},HPe=function(e){try{return RK(e)}catch{return e}},t4=function(e){var t=Pw(e,UPe," "),r=4;try{return RK(t)}catch{for(;r;)t=Pw(t,jPe(r--),HPe);return t}},KPe=/[!'()~]|%20/g,GPe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},WPe=function(e){return GPe[e]},r4=function(e){return Pw(NPe(e),KPe,WPe)},ES=SPe(function(t,r){AK(this,{type:wK,iterator:Cw(Wn(t).entries),kind:r})},"Iterator",function(){var t=LPe(this),r=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),OK=function(e){this.entries=[],this.url=null,e!==void 0&&(TK(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?MPe(e,0)==="?"?BPe(e,1):e:bn(e)))};OK.prototype={type:u0,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=OPe(e),r,n,i,a,o,s,l;if(t)for(r=Cw(e,t),n=r.next;!(i=Rp(n,r)).done;){if(a=Cw(APe(i.value)),o=a.next,(s=Rp(o,a)).done||(l=Rp(o,a)).done||!Rp(o,a).done)throw kPe("Expected sequence with length 2");tl(this.entries,{key:bn(s.value),value:bn(l.value)})}else for(var u in e)bPe(e,u)&&tl(this.entries,{key:u,value:bn(e[u])})},parseQuery:function(e){if(e)for(var t=JM(e,"&"),r=0,n,i;r<t.length;)n=t[r++],n.length&&(i=JM(n,"="),tl(this.entries,{key:t4(FPe(i)),value:t4(QM(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],tl(t,r4(n.key)+"="+r4(n.value));return QM(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var y_=function(){bK(this,Cc);var t=arguments.length>0?arguments[0]:void 0,r=AK(this,new OK(t));Ju||(this.length=r.entries.length)},Cc=y_.prototype;EPe(Cc,{append:function(t,r){uu(arguments.length,2);var n=Wn(this);tl(n.entries,{key:bn(t),value:bn(r)}),Ju||this.length++,n.updateURL()},delete:function(e){uu(arguments.length,1);for(var t=Wn(this),r=t.entries,n=bn(e),i=0;i<r.length;)r[i].key===n?ZM(r,i,1):i++;Ju||(this.length=r.length),t.updateURL()},get:function(t){uu(arguments.length,1);for(var r=Wn(this).entries,n=bn(t),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(t){uu(arguments.length,1);for(var r=Wn(this).entries,n=bn(t),i=[],a=0;a<r.length;a++)r[a].key===n&&tl(i,r[a].value);return i},has:function(t){uu(arguments.length,1);for(var r=Wn(this).entries,n=bn(t),i=0;i<r.length;)if(r[i++].key===n)return!0;return!1},set:function(t,r){uu(arguments.length,1);for(var n=Wn(this),i=n.entries,a=!1,o=bn(t),s=bn(r),l=0,u;l<i.length;l++)u=i[l],u.key===o&&(a?ZM(i,l--,1):(a=!0,u.value=s));a||tl(i,{key:o,value:s}),Ju||(this.length=i.length),n.updateURL()},sort:function(){var t=Wn(this);CPe(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=Wn(this).entries,n=TPe(t,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},keys:function(){return new ES(this,"keys")},values:function(){return new ES(this,"values")},entries:function(){return new ES(this,"entries")}},{enumerable:!0});SK(Cc,PPe,Cc.entries,{name:"entries"});SK(Cc,"toString",function(){return Wn(this).serialize()},{enumerable:!0});Ju&&_Pe(Cc,"size",{get:function(){return Wn(this).entries.length},configurable:!0,enumerable:!0});xPe(y_,u0);Iw({global:!0,constructor:!0,forced:!xK},{URLSearchParams:y_});if(!xK&&yS(th)){var zPe=aa(qM.has),VPe=aa(qM.set),n4=function(e){if(TK(e)){var t=e.body,r;if(wPe(t)===u0)return r=e.headers?new th(e.headers):new th,zPe(r,"content-type")||VPe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),RPe(e,{body:YM(0,bn(t)),headers:YM(0,r)})}return e};if(yS(XM)&&Iw({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return XM(t,arguments.length>1?n4(arguments[1]):{})}}),yS($m)){var xS=function(t){return bK(this,_S),new $m(t,arguments.length>1?n4(arguments[1]):{})};_S.constructor=xS,xS.prototype=_S,Iw({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:xS})}}var YPe={URLSearchParams:y_,getState:Wn},XPe=Z,GO=Oe,qPe=mK,WO=Ee,i4=Ni,fi=de,km=Nt,Un=vr,QPe=ga,Lw=Qe,zO=b7,cu=fj,_i=Uv,ZPe=s_.codeAt,JPe=yPe,Aa=Be,eLe=Ln,tLe=As,IK=YPe,CK=Vt,rLe=CK.set,Nm=CK.getterFor("URL"),nLe=IK.URLSearchParams,iLe=IK.getState,td=WO.URL,Dw=WO.TypeError,Mm=WO.parseInt,aLe=Math.floor,a4=Math.pow,zn=fi("".charAt),Ai=fi(/./.exec),Nd=fi([].join),oLe=fi(1 .toString),sLe=fi([].pop),Au=fi([].push),SS=fi("".replace),lLe=fi([].shift),uLe=fi("".split),rh=fi("".slice),Fm=fi("".toLowerCase),cLe=fi([].unshift),fLe="Invalid authority",bS="Invalid scheme",Hs="Invalid host",o4="Invalid port",PK=/[a-z]/i,dLe=/[\d+-.a-z]/i,$w=/\d/,hLe=/^0x/i,vLe=/^[0-7]+$/,pLe=/^\d+$/,LK=/^[\da-f]+$/i,gLe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,mLe=/[\0\t\n\r #/:<>?@[\\\]^|]/,yLe=/^[\u0000-\u0020]+/,_Le=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ELe=/[\t\n\r]/g,jn,xLe=function(e){var t=uLe(e,"."),r,n,i,a,o,s,l;if(t.length&&t[t.length-1]==""&&t.length--,r=t.length,r>4)return e;for(n=[],i=0;i<r;i++){if(a=t[i],a=="")return e;if(o=10,a.length>1&&zn(a,0)=="0"&&(o=Ai(hLe,a)?16:8,a=rh(a,o==8?1:2)),a==="")s=0;else{if(!Ai(o==10?pLe:o==8?vLe:LK,a))return e;s=Mm(a,o)}Au(n,s)}for(i=0;i<r;i++)if(s=n[i],i==r-1){if(s>=a4(256,5-r))return null}else if(s>255)return null;for(l=sLe(n),i=0;i<n.length;i++)l+=n[i]*a4(256,3-i);return l},SLe=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,a,o,s,l,u,c,d,f=function(){return zn(e,i)};if(f()==":"){if(zn(e,1)!=":")return;i+=2,r++,n=r}for(;f();){if(r==8)return;if(f()==":"){if(n!==null)return;i++,r++,n=r;continue}for(a=o=0;o<4&&Ai(LK,f());)a=a*16+Mm(f(),16),i++,o++;if(f()=="."){if(o==0||(i-=o,r>6))return;for(s=0;f();){if(l=null,s>0)if(f()=="."&&s<4)i++;else return;if(!Ai($w,f()))return;for(;Ai($w,f());){if(u=Mm(f(),10),l===null)l=u;else{if(l==0)return;l=l*10+u}if(l>255)return;i++}t[r]=t[r]*256+l,s++,(s==2||s==4)&&r++}if(s!=4)return;break}else if(f()==":"){if(i++,!f())return}else if(f())return;t[r++]=a}if(n!==null)for(c=r-n,r=7;r!=0&&c>0;)d=t[r],t[r--]=t[n+c-1],t[n+--c]=d;else if(r!=8)return;return t},bLe=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)e[a]!==0?(i>r&&(t=n,r=i),n=null,i=0):(n===null&&(n=a),++i);return i>r&&(t=n,r=i),t},rd=function(e){var t,r,n,i;if(typeof e=="number"){for(t=[],r=0;r<4;r++)cLe(t,e%256),e=aLe(e/256);return Nd(t,".")}else if(typeof e=="object"){for(t="",n=bLe(e),r=0;r<8;r++)i&&e[r]===0||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=oLe(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},$g={},DK=zO({},$g,{" ":1,'"':1,"<":1,">":1,"`":1}),$K=zO({},DK,{"#":1,"?":1,"{":1,"}":1}),TS=zO({},$K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),yo=function(e,t){var r=ZPe(e,0);return r>32&&r<127&&!Lw(t,e)?e:encodeURIComponent(e)},Op={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Md=function(e,t){var r;return e.length==2&&Ai(PK,zn(e,0))&&((r=zn(e,1))==":"||!t&&r=="|")},s4=function(e){var t;return e.length>1&&Md(rh(e,0,2))&&(e.length==2||(t=zn(e,2))==="/"||t==="\\"||t==="?"||t==="#")},TLe=function(e){return e==="."||Fm(e)==="%2e"},wLe=function(e){return e=Fm(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},wS={},l4={},AS={},u4={},c4={},RS={},f4={},d4={},Ip={},Cp={},OS={},IS={},CS={},PS={},h4={},LS={},fu={},Ui={},v4={},Ks={},xa={},VO=function(e,t,r){var n=Aa(e),i,a,o;if(t){if(a=this.parse(n),a)throw Dw(a);this.searchParams=null}else{if(r!==void 0&&(i=new VO(r,!0)),a=this.parse(n,null,i),a)throw Dw(a);o=iLe(new nLe),o.bindURL(this),this.searchParams=o}};VO.prototype={type:"URL",parse:function(e,t,r){var n=this,i=t||wS,a=0,o="",s=!1,l=!1,u=!1,c,d,f,m;for(e=Aa(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=SS(e,yLe,""),e=SS(e,_Le,"$1")),e=SS(e,ELe,""),c=cu(e);a<=c.length;){switch(d=c[a],i){case wS:if(d&&Ai(PK,d))o+=Fm(d),i=l4;else{if(t)return bS;i=AS;continue}break;case l4:if(d&&(Ai(dLe,d)||d=="+"||d=="-"||d=="."))o+=Fm(d);else if(d==":"){if(t&&(n.isSpecial()!=Lw(Op,o)||o=="file"&&(n.includesCredentials()||n.port!==null)||n.scheme=="file"&&!n.host))return;if(n.scheme=o,t){n.isSpecial()&&Op[n.scheme]==n.port&&(n.port=null);return}o="",n.scheme=="file"?i=PS:n.isSpecial()&&r&&r.scheme==n.scheme?i=u4:n.isSpecial()?i=d4:c[a+1]=="/"?(i=c4,a++):(n.cannotBeABaseURL=!0,Au(n.path,""),i=v4)}else{if(t)return bS;o="",i=AS,a=0;continue}break;case AS:if(!r||r.cannotBeABaseURL&&d!="#")return bS;if(r.cannotBeABaseURL&&d=="#"){n.scheme=r.scheme,n.path=_i(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=xa;break}i=r.scheme=="file"?PS:RS;continue;case u4:if(d=="/"&&c[a+1]=="/")i=Ip,a++;else{i=RS;continue}break;case c4:if(d=="/"){i=Cp;break}else{i=Ui;continue}case RS:if(n.scheme=r.scheme,d==jn)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=_i(r.path),n.query=r.query;else if(d=="/"||d=="\\"&&n.isSpecial())i=f4;else if(d=="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=_i(r.path),n.query="",i=Ks;else if(d=="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=_i(r.path),n.query=r.query,n.fragment="",i=xa;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=_i(r.path),n.path.length--,i=Ui;continue}break;case f4:if(n.isSpecial()&&(d=="/"||d=="\\"))i=Ip;else if(d=="/")i=Cp;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=Ui;continue}break;case d4:if(i=Ip,d!="/"||zn(o,a+1)!="/")continue;a++;break;case Ip:if(d!="/"&&d!="\\"){i=Cp;continue}break;case Cp:if(d=="@"){s&&(o="%40"+o),s=!0,f=cu(o);for(var _=0;_<f.length;_++){var x=f[_];if(x==":"&&!u){u=!0;continue}var v=yo(x,TS);u?n.password+=v:n.username+=v}o=""}else if(d==jn||d=="/"||d=="?"||d=="#"||d=="\\"&&n.isSpecial()){if(s&&o=="")return fLe;a-=cu(o).length+1,o="",i=OS}else o+=d;break;case OS:case IS:if(t&&n.scheme=="file"){i=LS;continue}else if(d==":"&&!l){if(o=="")return Hs;if(m=n.parseHost(o),m)return m;if(o="",i=CS,t==IS)return}else if(d==jn||d=="/"||d=="?"||d=="#"||d=="\\"&&n.isSpecial()){if(n.isSpecial()&&o=="")return Hs;if(t&&o==""&&(n.includesCredentials()||n.port!==null))return;if(m=n.parseHost(o),m)return m;if(o="",i=fu,t)return;continue}else d=="["?l=!0:d=="]"&&(l=!1),o+=d;break;case CS:if(Ai($w,d))o+=d;else if(d==jn||d=="/"||d=="?"||d=="#"||d=="\\"&&n.isSpecial()||t){if(o!=""){var g=Mm(o,10);if(g>65535)return o4;n.port=n.isSpecial()&&g===Op[n.scheme]?null:g,o=""}if(t)return;i=fu;continue}else return o4;break;case PS:if(n.scheme="file",d=="/"||d=="\\")i=h4;else if(r&&r.scheme=="file")if(d==jn)n.host=r.host,n.path=_i(r.path),n.query=r.query;else if(d=="?")n.host=r.host,n.path=_i(r.path),n.query="",i=Ks;else if(d=="#")n.host=r.host,n.path=_i(r.path),n.query=r.query,n.fragment="",i=xa;else{s4(Nd(_i(c,a),""))||(n.host=r.host,n.path=_i(r.path),n.shortenPath()),i=Ui;continue}else{i=Ui;continue}break;case h4:if(d=="/"||d=="\\"){i=LS;break}r&&r.scheme=="file"&&!s4(Nd(_i(c,a),""))&&(Md(r.path[0],!0)?Au(n.path,r.path[0]):n.host=r.host),i=Ui;continue;case LS:if(d==jn||d=="/"||d=="\\"||d=="?"||d=="#"){if(!t&&Md(o))i=Ui;else if(o==""){if(n.host="",t)return;i=fu}else{if(m=n.parseHost(o),m)return m;if(n.host=="localhost"&&(n.host=""),t)return;o="",i=fu}continue}else o+=d;break;case fu:if(n.isSpecial()){if(i=Ui,d!="/"&&d!="\\")continue}else if(!t&&d=="?")n.query="",i=Ks;else if(!t&&d=="#")n.fragment="",i=xa;else if(d!=jn&&(i=Ui,d!="/"))continue;break;case Ui:if(d==jn||d=="/"||d=="\\"&&n.isSpecial()||!t&&(d=="?"||d=="#")){if(wLe(o)?(n.shortenPath(),d!="/"&&!(d=="\\"&&n.isSpecial())&&Au(n.path,"")):TLe(o)?d!="/"&&!(d=="\\"&&n.isSpecial())&&Au(n.path,""):(n.scheme=="file"&&!n.path.length&&Md(o)&&(n.host&&(n.host=""),o=zn(o,0)+":"),Au(n.path,o)),o="",n.scheme=="file"&&(d==jn||d=="?"||d=="#"))for(;n.path.length>1&&n.path[0]==="";)lLe(n.path);d=="?"?(n.query="",i=Ks):d=="#"&&(n.fragment="",i=xa)}else o+=yo(d,$K);break;case v4:d=="?"?(n.query="",i=Ks):d=="#"?(n.fragment="",i=xa):d!=jn&&(n.path[0]+=yo(d,$g));break;case Ks:!t&&d=="#"?(n.fragment="",i=xa):d!=jn&&(d=="'"&&n.isSpecial()?n.query+="%27":d=="#"?n.query+="%23":n.query+=yo(d,$g));break;case xa:d!=jn&&(n.fragment+=yo(d,DK));break}a++}},parseHost:function(e){var t,r,n;if(zn(e,0)=="["){if(zn(e,e.length-1)!="]"||(t=SLe(rh(e,1,-1)),!t))return Hs;this.host=t}else if(this.isSpecial()){if(e=JPe(e),Ai(gLe,e)||(t=xLe(e),t===null))return Hs;this.host=t}else{if(Ai(mLe,e))return Hs;for(t="",r=cu(e),n=0;n<r.length;n++)t+=yo(r[n],$g);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return Lw(Op,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!="file"||t!=1||!Md(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return i!==null?(u+="//",e.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=rd(i),a!==null&&(u+=":"+a)):t=="file"&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+Nd(o,"/"):"",s!==null&&(u+="?"+s),l!==null&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw Dw(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e=="blob")try{return new Pc(e.path[0]).origin}catch{return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+rd(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Aa(e)+":",wS)},getUsername:function(){return this.username},setUsername:function(e){var t=cu(Aa(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=yo(t[r],TS)}},getPassword:function(){return this.password},setPassword:function(e){var t=cu(Aa(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=yo(t[r],TS)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?rd(e):rd(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,OS)},getHostname:function(){var e=this.host;return e===null?"":rd(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,IS)},getPort:function(){var e=this.port;return e===null?"":Aa(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Aa(e),e==""?this.port=null:this.parse(e,CS))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Nd(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,fu))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Aa(e),e==""?this.query=null:(zn(e,0)=="?"&&(e=rh(e,1)),this.query="",this.parse(e,Ks)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Aa(e),e==""){this.fragment=null;return}zn(e,0)=="#"&&(e=rh(e,1)),this.fragment="",this.parse(e,xa)},update:function(){this.query=this.searchParams.serialize()||null}};var Pc=function(t){var r=QPe(this,Mr),n=tLe(arguments.length,1)>1?arguments[1]:void 0,i=rLe(r,new VO(t,!1,n));GO||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Mr=Pc.prototype,Hn=function(e,t){return{get:function(){return Nm(this)[e]()},set:t&&function(r){return Nm(this)[t](r)},configurable:!0,enumerable:!0}};GO&&(Un(Mr,"href",Hn("serialize","setHref")),Un(Mr,"origin",Hn("getOrigin")),Un(Mr,"protocol",Hn("getProtocol","setProtocol")),Un(Mr,"username",Hn("getUsername","setUsername")),Un(Mr,"password",Hn("getPassword","setPassword")),Un(Mr,"host",Hn("getHost","setHost")),Un(Mr,"hostname",Hn("getHostname","setHostname")),Un(Mr,"port",Hn("getPort","setPort")),Un(Mr,"pathname",Hn("getPathname","setPathname")),Un(Mr,"search",Hn("getSearch","setSearch")),Un(Mr,"searchParams",Hn("getSearchParams")),Un(Mr,"hash",Hn("getHash","setHash")));km(Mr,"toJSON",function(){return Nm(this).serialize()},{enumerable:!0});km(Mr,"toString",function(){return Nm(this).serialize()},{enumerable:!0});if(td){var p4=td.createObjectURL,g4=td.revokeObjectURL;p4&&km(Pc,"createObjectURL",i4(p4,td)),g4&&km(Pc,"revokeObjectURL",i4(g4,td))}eLe(Pc,"URL");XPe({global:!0,constructor:!0,forced:!qPe,sham:!GO},{URL:Pc});var ALe=Z,RLe=Me;ALe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return RLe(URL.prototype.toString,this)}});var OLe=Oe,ILe=de,CLe=vr,kw=URLSearchParams.prototype,PLe=ILe(kw.forEach);OLe&&!("size"in kw)&&CLe(kw,"size",{get:function(){var t=0;return PLe(this,function(){t++}),t},configurable:!0,enumerable:!0});(function(e){e.exports=oR})(Gq);var Sl={},LLe={get exports(){return Sl},set exports(e){Sl=e}},di={},Nw={},DLe={get exports(){return Nw},set exports(e){Nw=e}},kK={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var N=e.unstable_now();l(!0,N),l=null}catch($){throw setTimeout(c,0),$}};t=function(N){l!==null?setTimeout(t,0,N):(l=N,setTimeout(c,0))},r=function(N,$){u=setTimeout(N,$)},n=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if(typeof console<"u"){var m=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof m!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,x=null,v=-1,g=5,p=0;e.unstable_shouldYield=function(){return e.unstable_now()>=p},i=function(){},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<N?Math.floor(1e3/N):5};var h=new MessageChannel,S=h.port2;h.port1.onmessage=function(){if(x!==null){var N=e.unstable_now();p=N+g;try{x(!0,N)?S.postMessage(null):(_=!1,x=null)}catch($){throw S.postMessage(null),$}}else _=!1},t=function(N){x=N,_||(_=!0,S.postMessage(null))},r=function(N,$){v=d(function(){N(e.unstable_now())},$)},n=function(){f(v),v=-1}}function O(N,$){var B=N.length;N.push($);e:for(;;){var U=B-1>>>1,j=N[U];if(j!==void 0&&0<b(j,$))N[U]=$,N[B]=j,B=U;else break e}}function y(N){return N=N[0],N===void 0?null:N}function E(N){var $=N[0];if($!==void 0){var B=N.pop();if(B!==$){N[0]=B;e:for(var U=0,j=N.length;U<j;){var K=2*(U+1)-1,G=N[K],W=K+1,V=N[W];if(G!==void 0&&0>b(G,B))V!==void 0&&0>b(V,G)?(N[U]=V,N[W]=B,U=W):(N[U]=G,N[K]=B,U=K);else if(V!==void 0&&0>b(V,B))N[U]=V,N[W]=B,U=W;else break e}}return $}return null}function b(N,$){var B=N.sortIndex-$.sortIndex;return B!==0?B:N.id-$.id}var T=[],A=[],P=1,C=null,D=3,F=!1,R=!1,L=!1;function I(N){for(var $=y(A);$!==null;){if($.callback===null)E(A);else if($.startTime<=N)E(A),$.sortIndex=$.expirationTime,O(T,$);else break;$=y(A)}}function k(N){if(L=!1,I(N),!R)if(y(T)!==null)R=!0,t(w);else{var $=y(A);$!==null&&r(k,$.startTime-N)}}function w(N,$){R=!1,L&&(L=!1,n()),F=!0;var B=D;try{for(I($),C=y(T);C!==null&&(!(C.expirationTime>$)||N&&!e.unstable_shouldYield());){var U=C.callback;if(typeof U=="function"){C.callback=null,D=C.priorityLevel;var j=U(C.expirationTime<=$);$=e.unstable_now(),typeof j=="function"?C.callback=j:C===y(T)&&E(T),I($)}else E(T);C=y(T)}if(C!==null)var K=!0;else{var G=y(A);G!==null&&r(k,G.startTime-$),K=!1}return K}finally{C=null,D=B,F=!1}}var M=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){R||F||(R=!0,t(w))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return y(T)},e.unstable_next=function(N){switch(D){case 1:case 2:case 3:var $=3;break;default:$=D}var B=D;D=$;try{return N()}finally{D=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=D;D=N;try{return $()}finally{D=B}},e.unstable_scheduleCallback=function(N,$,B){var U=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=B+j,N={id:P++,callback:$,priorityLevel:N,startTime:B,expirationTime:j,sortIndex:-1},B>U?(N.sortIndex=B,O(A,N),y(T)===null&&N===y(A)&&(L?n():L=!0,r(k,B-U))):(N.sortIndex=j,O(T,N),R||F||(R=!0,t(w))),N},e.unstable_wrapCallback=function(N){var $=D;return function(){var B=D;D=$;try{return N.apply(this,arguments)}finally{D=B}}}})(kK);(function(e){e.exports=kK})(DLe);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=z,St=GA,er=Nw;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!__)throw Error(le(227));var NK=new Set,Bh={};function Ul(e,t){Lc(e,t),Lc(e+"Capture",t)}function Lc(e,t){for(Bh[e]=t,e=0;e<t.length;e++)NK.add(t[e])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$Le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m4=Object.prototype.hasOwnProperty,y4={},_4={};function kLe(e){return m4.call(_4,e)?!0:m4.call(y4,e)?!1:$Le.test(e)?_4[e]=!0:(y4[e]=!0,!1)}function NLe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MLe(e,t,r,n){if(t===null||typeof t>"u"||NLe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fr[e]=new Xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fr[t]=new Xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fr[e]=new Xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fr[e]=new Xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fr[e]=new Xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fr[e]=new Xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fr[e]=new Xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fr[e]=new Xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fr[e]=new Xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var YO=/[\-:]([a-z])/g;function XO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(YO,XO);fr[t]=new Xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(YO,XO);fr[t]=new Xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(YO,XO);fr[t]=new Xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fr[e]=new Xr(e,1,!1,e.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fr[e]=new Xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function qO(e,t,r,n){var i=fr.hasOwnProperty(t)?fr[t]:null,a=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");a||(MLe(t,r,i,n)&&(r=null),n||i===null?kLe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jl=__.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=60103,rl=60106,Ro=60107,QO=60108,nh=60114,ZO=60109,JO=60110,E_=60112,ih=60113,Bm=60120,x_=60115,eI=60116,tI=60121,rI=60128,MK=60129,nI=60130,Mw=60131;if(typeof Symbol=="function"&&Symbol.for){var Yt=Symbol.for;Fd=Yt("react.element"),rl=Yt("react.portal"),Ro=Yt("react.fragment"),QO=Yt("react.strict_mode"),nh=Yt("react.profiler"),ZO=Yt("react.provider"),JO=Yt("react.context"),E_=Yt("react.forward_ref"),ih=Yt("react.suspense"),Bm=Yt("react.suspense_list"),x_=Yt("react.memo"),eI=Yt("react.lazy"),tI=Yt("react.block"),Yt("react.scope"),rI=Yt("react.opaque.id"),MK=Yt("react.debug_trace_mode"),nI=Yt("react.offscreen"),Mw=Yt("react.legacy_hidden")}var E4=typeof Symbol=="function"&&Symbol.iterator;function nd(e){return e===null||typeof e!="object"?null:(e=E4&&e[E4]||e["@@iterator"],typeof e=="function"?e:null)}var DS;function Bd(e){if(DS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);DS=t&&t[1]||""}return`
`+DS+e}var $S=!1;function Pp(e,t){if(!e||$S)return"";$S=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=s);break}}}finally{$S=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bd(e):""}function FLe(e){switch(e.tag){case 5:return Bd(e.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return e=Pp(e.type,!1),e;case 11:return e=Pp(e.type.render,!1),e;case 22:return e=Pp(e.type._render,!1),e;case 1:return e=Pp(e.type,!0),e;default:return""}}function ec(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ro:return"Fragment";case rl:return"Portal";case nh:return"Profiler";case QO:return"StrictMode";case ih:return"Suspense";case Bm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JO:return(e.displayName||"Context")+".Consumer";case ZO:return(e._context.displayName||"Context")+".Provider";case E_:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case x_:return ec(e.type);case tI:return ec(e._render);case eI:t=e._payload,e=e._init;try{return ec(e(t))}catch{}}return null}function ls(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function FK(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BLe(e){var t=FK(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lp(e){e._valueTracker||(e._valueTracker=BLe(e))}function BK(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=FK(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fw(e,t){var r=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function x4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ls(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UK(e,t){t=t.checked,t!=null&&qO(e,"checked",t,!1)}function Bw(e,t){UK(e,t);var r=ls(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uw(e,t.type,r):t.hasOwnProperty("defaultValue")&&Uw(e,t.type,ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Uw(e,t,r){(t!=="number"||Um(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ULe(e){var t="";return __.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function jw(e,t){return e=St({children:void 0},t),(t=ULe(t.children))&&(e.children=t),e}function tc(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ls(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ls(r)}}function jK(e,t){var r=ls(t.value),n=ls(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function T4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Kw={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function HK(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gw(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?HK(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dp,KK=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==Kw.svg||"innerHTML"in e)e.innerHTML=t;else{for(Dp=Dp||document.createElement("div"),Dp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ah={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jLe=["Webkit","ms","Moz","O"];Object.keys(ah).forEach(function(e){jLe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ah[t]=ah[e]})});function GK(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ah.hasOwnProperty(e)&&ah[e]?(""+t).trim():t+"px"}function WK(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=GK(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var HLe=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ww(e,t){if(t){if(HLe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function zw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function iI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vw=null,rc=null,nc=null;function w4(e){if(e=f0(e)){if(typeof Vw!="function")throw Error(le(280));var t=e.stateNode;t&&(t=R_(t),Vw(e.stateNode,e.type,t))}}function zK(e){rc?nc?nc.push(e):nc=[e]:rc=e}function VK(){if(rc){var e=rc,t=nc;if(nc=rc=null,w4(e),t)for(e=0;e<t.length;e++)w4(t[e])}}function aI(e,t){return e(t)}function YK(e,t,r,n,i){return e(t,r,n,i)}function oI(){}var XK=aI,nl=!1,kS=!1;function sI(){(rc!==null||nc!==null)&&(oI(),VK())}function KLe(e,t,r){if(kS)return e(t,r);kS=!0;try{return XK(e,t,r)}finally{kS=!1,sI()}}function jh(e,t){var r=e.stateNode;if(r===null)return null;var n=R_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Yw=!1;if(Qa)try{var id={};Object.defineProperty(id,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{Yw=!1}function GLe(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var oh=!1,jm=null,Hm=!1,Xw=null,WLe={onError:function(e){oh=!0,jm=e}};function zLe(e,t,r,n,i,a,o,s,l){oh=!1,jm=null,GLe.apply(WLe,arguments)}function VLe(e,t,r,n,i,a,o,s,l){if(zLe.apply(this,arguments),oh){if(oh){var u=jm;oh=!1,jm=null}else throw Error(le(198));Hm||(Hm=!0,Xw=u)}}function Hl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qK(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A4(e){if(Hl(e)!==e)throw Error(le(188))}function YLe(e){var t=e.alternate;if(!t){if(t=Hl(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return A4(i),e;if(a===n)return A4(i),t;a=a.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function QK(e){if(e=YLe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function R4(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var ZK,lI,JK,eG,qw=!1,qi=[],Ho=null,Ko=null,Go=null,Hh=new Map,Kh=new Map,ad=[],O4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qw(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function I4(e,t){switch(e){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":Hh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(t.pointerId)}}function od(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e=Qw(t,r,n,i,a),t!==null&&(t=f0(t),t!==null&&lI(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function XLe(e,t,r,n,i){switch(t){case"focusin":return Ho=od(Ho,e,t,r,n,i),!0;case"dragenter":return Ko=od(Ko,e,t,r,n,i),!0;case"mouseover":return Go=od(Go,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Hh.set(a,od(Hh.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Kh.set(a,od(Kh.get(a)||null,e,t,r,n,i)),!0}return!1}function qLe(e){var t=il(e.target);if(t!==null){var r=Hl(t);if(r!==null){if(t=r.tag,t===13){if(t=qK(r),t!==null){e.blockedOn=t,eG(e.lanePriority,function(){er.unstable_runWithPriority(e.priority,function(){JK(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dI(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=f0(r),t!==null&&lI(t),e.blockedOn=r,!1;t.shift()}return!0}function C4(e,t,r){kg(e)&&r.delete(t)}function QLe(){for(qw=!1;0<qi.length;){var e=qi[0];if(e.blockedOn!==null){e=f0(e.blockedOn),e!==null&&ZK(e);break}for(var t=e.targetContainers;0<t.length;){var r=dI(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&qi.shift()}Ho!==null&&kg(Ho)&&(Ho=null),Ko!==null&&kg(Ko)&&(Ko=null),Go!==null&&kg(Go)&&(Go=null),Hh.forEach(C4),Kh.forEach(C4)}function sd(e,t){e.blockedOn===t&&(e.blockedOn=null,qw||(qw=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,QLe)))}function tG(e){function t(i){return sd(i,e)}if(0<qi.length){sd(qi[0],e);for(var r=1;r<qi.length;r++){var n=qi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ho!==null&&sd(Ho,e),Ko!==null&&sd(Ko,e),Go!==null&&sd(Go,e),Hh.forEach(t),Kh.forEach(t),r=0;r<ad.length;r++)n=ad[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ad.length&&(r=ad[0],r.blockedOn===null);)qLe(r),r.blockedOn===null&&ad.shift()}function $p(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mu={animationend:$p("Animation","AnimationEnd"),animationiteration:$p("Animation","AnimationIteration"),animationstart:$p("Animation","AnimationStart"),transitionend:$p("Transition","TransitionEnd")},NS={},rG={};Qa&&(rG=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function S_(e){if(NS[e])return NS[e];if(!Mu[e])return e;var t=Mu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rG)return NS[e]=t[r];return e}var nG=S_("animationend"),iG=S_("animationiteration"),aG=S_("animationstart"),oG=S_("transitionend"),sG=new Map,uI=new Map,ZLe=["abort","abort",nG,"animationEnd",iG,"animationIteration",aG,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",oG,"transitionEnd","waiting","waiting"];function cI(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),uI.set(n,t),sG.set(n,i),Ul(i,[n])}}var JLe=er.unstable_now;JLe();var ht=8;function Ru(e){if(1&e)return ht=15,1;if(2&e)return ht=14,2;if(4&e)return ht=13,4;var t=24&e;return t!==0?(ht=12,t):e&32?(ht=11,32):(t=192&e,t!==0?(ht=10,t):e&256?(ht=9,256):(t=3584&e,t!==0?(ht=8,t):e&4096?(ht=7,4096):(t=4186112&e,t!==0?(ht=6,t):(t=62914560&e,t!==0?(ht=5,t):e&67108864?(ht=4,67108864):e&134217728?(ht=3,134217728):(t=805306368&e,t!==0?(ht=2,t):1073741824&e?(ht=1,1073741824):(ht=8,e))))))}function eDe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function tDe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(le(358,e))}}function Gh(e,t){var r=e.pendingLanes;if(r===0)return ht=0;var n=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(a!==0)n=a,i=ht=15;else if(a=r&134217727,a!==0){var l=a&~o;l!==0?(n=Ru(l),i=ht):(s&=a,s!==0&&(n=Ru(s),i=ht))}else a=r&~o,a!==0?(n=Ru(a),i=ht):s!==0&&(n=Ru(s),i=ht);if(n===0)return 0;if(n=31-us(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&!(t&o)){if(Ru(t),i<=ht)return t;ht=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-us(t),i=1<<r,n|=e[r],t&=~i;return n}function lG(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Km(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ou(24&~t),e===0?Km(10,t):e;case 10:return e=Ou(192&~t),e===0?Km(8,t):e;case 8:return e=Ou(3584&~t),e===0&&(e=Ou(4186112&~t),e===0&&(e=512)),e;case 2:return t=Ou(805306368&~t),t===0&&(t=268435456),t}throw Error(le(358,e))}function Ou(e){return e&-e}function MS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function b_(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-us(t),e[t]=r}var us=Math.clz32?Math.clz32:iDe,rDe=Math.log,nDe=Math.LN2;function iDe(e){return e===0?32:31-(rDe(e)/nDe|0)|0}var aDe=er.unstable_UserBlockingPriority,oDe=er.unstable_runWithPriority,Ng=!0;function sDe(e,t,r,n){nl||oI();var i=fI,a=nl;nl=!0;try{YK(i,e,t,r,n)}finally{(nl=a)||sI()}}function lDe(e,t,r,n){oDe(aDe,fI.bind(null,e,t,r,n))}function fI(e,t,r,n){if(Ng){var i;if((i=(t&4)===0)&&0<qi.length&&-1<O4.indexOf(e))e=Qw(null,e,t,r,n),qi.push(e);else{var a=dI(e,t,r,n);if(a===null)i&&I4(e,n);else{if(i){if(-1<O4.indexOf(e)){e=Qw(a,e,t,r,n),qi.push(e);return}if(XLe(a,e,t,r,n))return;I4(e,n)}xG(e,t,n,null,r)}}}}function dI(e,t,r,n){var i=iI(n);if(i=il(i),i!==null){var a=Hl(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=qK(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return xG(e,t,n,i,r),null}var Do=null,hI=null,Mg=null;function uG(){if(Mg)return Mg;var e,t=hI,r=t.length,n,i="value"in Do?Do.value:Do.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Mg=i.slice(e,1<n?1-n:void 0)}function Fg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kp(){return!0}function P4(){return!1}function kn(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kp:P4,this.isPropagationStopped=P4,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kp)},persist:function(){},isPersistent:kp}),t}var mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vI=kn(mf),c0=St({},mf,{view:0,detail:0}),uDe=kn(c0),FS,BS,ld,T_=St({},c0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ld&&(ld&&e.type==="mousemove"?(FS=e.screenX-ld.screenX,BS=e.screenY-ld.screenY):BS=FS=0,ld=e),FS)},movementY:function(e){return"movementY"in e?e.movementY:BS}}),L4=kn(T_),cDe=St({},T_,{dataTransfer:0}),fDe=kn(cDe),dDe=St({},c0,{relatedTarget:0}),US=kn(dDe),hDe=St({},mf,{animationName:0,elapsedTime:0,pseudoElement:0}),vDe=kn(hDe),pDe=St({},mf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gDe=kn(pDe),mDe=St({},mf,{data:0}),D4=kn(mDe),yDe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_De={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EDe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xDe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EDe[e])?!!t[e]:!1}function pI(){return xDe}var SDe=St({},c0,{key:function(e){if(e.key){var t=yDe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_De[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pI,charCode:function(e){return e.type==="keypress"?Fg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bDe=kn(SDe),TDe=St({},T_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$4=kn(TDe),wDe=St({},c0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pI}),ADe=kn(wDe),RDe=St({},mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),ODe=kn(RDe),IDe=St({},T_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CDe=kn(IDe),PDe=[9,13,27,32],gI=Qa&&"CompositionEvent"in window,sh=null;Qa&&"documentMode"in document&&(sh=document.documentMode);var LDe=Qa&&"TextEvent"in window&&!sh,cG=Qa&&(!gI||sh&&8<sh&&11>=sh),k4=String.fromCharCode(32),N4=!1;function fG(e,t){switch(e){case"keyup":return PDe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fu=!1;function DDe(e,t){switch(e){case"compositionend":return dG(t);case"keypress":return t.which!==32?null:(N4=!0,k4);case"textInput":return e=t.data,e===k4&&N4?null:e;default:return null}}function $De(e,t){if(Fu)return e==="compositionend"||!gI&&fG(e,t)?(e=uG(),Mg=hI=Do=null,Fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cG&&t.locale!=="ko"?null:t.data;default:return null}}var kDe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kDe[e.type]:t==="textarea"}function hG(e,t,r,n){zK(n),t=Gm(t,"onChange"),0<t.length&&(r=new vI("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lh=null,Wh=null;function NDe(e){yG(e,0)}function w_(e){var t=Uu(e);if(BK(t))return e}function MDe(e,t){if(e==="change")return t}var vG=!1;if(Qa){var jS;if(Qa){var HS="oninput"in document;if(!HS){var F4=document.createElement("div");F4.setAttribute("oninput","return;"),HS=typeof F4.oninput=="function"}jS=HS}else jS=!1;vG=jS&&(!document.documentMode||9<document.documentMode)}function B4(){lh&&(lh.detachEvent("onpropertychange",pG),Wh=lh=null)}function pG(e){if(e.propertyName==="value"&&w_(Wh)){var t=[];if(hG(t,Wh,e,iI(e)),e=NDe,nl)e(t);else{nl=!0;try{aI(e,t)}finally{nl=!1,sI()}}}}function FDe(e,t,r){e==="focusin"?(B4(),lh=t,Wh=r,lh.attachEvent("onpropertychange",pG)):e==="focusout"&&B4()}function BDe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return w_(Wh)}function UDe(e,t){if(e==="click")return w_(t)}function jDe(e,t){if(e==="input"||e==="change")return w_(t)}function HDe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:HDe,KDe=Object.prototype.hasOwnProperty;function zh(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!KDe.call(t,r[n])||!Xn(e[r[n]],t[r[n]]))return!1;return!0}function U4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j4(e,t){var r=U4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U4(r)}}function gG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H4(){for(var e=window,t=Um();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Um(e.document)}return t}function Zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var GDe=Qa&&"documentMode"in document&&11>=document.documentMode,Bu=null,Jw=null,uh=null,e2=!1;function K4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e2||Bu==null||Bu!==Um(n)||(n=Bu,"selectionStart"in n&&Zw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uh&&zh(uh,n)||(uh=n,n=Gm(Jw,"onSelect"),0<n.length&&(t=new vI("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bu)))}cI("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);cI("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);cI(ZLe,2);for(var G4="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),KS=0;KS<G4.length;KS++)uI.set(G4[KS],0);Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);Ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ud));function W4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,VLe(n,t,void 0,e),e.currentTarget=null}function yG(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;W4(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;W4(i,s,u),a=l}}}if(Hm)throw e=Xw,Hm=!1,Xw=null,e}function pt(e,t){var r=bG(t),n=e+"__bubble";r.has(n)||(EG(t,e,2,!1),r.add(n))}var z4="_reactListening"+Math.random().toString(36).slice(2);function _G(e){e[z4]||(e[z4]=!0,NK.forEach(function(t){mG.has(t)||V4(t,!1,e,null),V4(t,!0,e,null)}))}function V4(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(e==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!t&&mG.has(e)){if(e!=="scroll")return;i|=2,a=n}var o=bG(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),EG(a,e,i,t),o.add(s))}function EG(e,t,r,n){var i=uI.get(t);switch(i===void 0?2:i){case 0:i=sDe;break;case 1:i=lDe;break;default:i=fI}r=i.bind(null,t,r,e),i=void 0,!Yw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function xG(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=il(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}KLe(function(){var u=a,c=iI(r),d=[];e:{var f=sG.get(e);if(f!==void 0){var m=vI,_=e;switch(e){case"keypress":if(Fg(r)===0)break e;case"keydown":case"keyup":m=bDe;break;case"focusin":_="focus",m=US;break;case"focusout":_="blur",m=US;break;case"beforeblur":case"afterblur":m=US;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=L4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fDe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ADe;break;case nG:case iG:case aG:m=vDe;break;case oG:m=ODe;break;case"scroll":m=uDe;break;case"wheel":m=CDe;break;case"copy":case"cut":case"paste":m=gDe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$4}var x=(t&4)!==0,v=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,h;p!==null;){h=p;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,g!==null&&(S=jh(p,g),S!=null&&x.push(Vh(p,S,h)))),v)break;p=p.return}0<x.length&&(f=new m(f,_,null,r,c),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&!(t&16)&&(_=r.relatedTarget||r.fromElement)&&(il(_)||_[yf]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=r.relatedTarget||r.toElement,m=u,_=_?il(_):null,_!==null&&(v=Hl(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(x=L4,S="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=$4,S="onPointerLeave",g="onPointerEnter",p="pointer"),v=m==null?f:Uu(m),h=_==null?f:Uu(_),f=new x(S,p+"leave",m,r,c),f.target=v,f.relatedTarget=h,S=null,il(c)===u&&(x=new x(g,p+"enter",_,r,c),x.target=h,x.relatedTarget=v,S=x),v=S,m&&_)t:{for(x=m,g=_,p=0,h=x;h;h=du(h))p++;for(h=0,S=g;S;S=du(S))h++;for(;0<p-h;)x=du(x),p--;for(;0<h-p;)g=du(g),h--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=du(x),g=du(g)}x=null}else x=null;m!==null&&Y4(d,f,m,x,!1),_!==null&&v!==null&&Y4(d,v,_,x,!0)}}e:{if(f=u?Uu(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=MDe;else if(M4(f))if(vG)O=jDe;else{O=BDe;var y=FDe}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=UDe);if(O&&(O=O(e,u))){hG(d,O,r,c);break e}y&&y(e,f,u),e==="focusout"&&(y=f._wrapperState)&&y.controlled&&f.type==="number"&&Uw(f,"number",f.value)}switch(y=u?Uu(u):window,e){case"focusin":(M4(y)||y.contentEditable==="true")&&(Bu=y,Jw=u,uh=null);break;case"focusout":uh=Jw=Bu=null;break;case"mousedown":e2=!0;break;case"contextmenu":case"mouseup":case"dragend":e2=!1,K4(d,r,c);break;case"selectionchange":if(GDe)break;case"keydown":case"keyup":K4(d,r,c)}var E;if(gI)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fu?fG(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(cG&&r.locale!=="ko"&&(Fu||b!=="onCompositionStart"?b==="onCompositionEnd"&&Fu&&(E=uG()):(Do=c,hI="value"in Do?Do.value:Do.textContent,Fu=!0)),y=Gm(u,b),0<y.length&&(b=new D4(b,e,null,r,c),d.push({event:b,listeners:y}),E?b.data=E:(E=dG(r),E!==null&&(b.data=E)))),(E=LDe?DDe(e,r):$De(e,r))&&(u=Gm(u,"onBeforeInput"),0<u.length&&(c=new D4("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=E))}yG(d,t)})}function Vh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gm(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=jh(e,r),a!=null&&n.unshift(Vh(e,a,i)),a=jh(e,t),a!=null&&n.push(Vh(e,a,i))),e=e.return}return n}function du(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y4(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=jh(r,a),l!=null&&o.unshift(Vh(r,l,s))):i||(l=jh(r,a),l!=null&&o.push(Vh(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}function Wm(){}var GS=null,WS=null;function SG(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function t2(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var X4=typeof setTimeout=="function"?setTimeout:void 0,WDe=typeof clearTimeout=="function"?clearTimeout:void 0;function mI(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function ic(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function q4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zS=0;function zDe(e){return{$$typeof:rI,toString:e,valueOf:e}}var A_=Math.random().toString(36).slice(2),$o="__reactFiber$"+A_,zm="__reactProps$"+A_,yf="__reactContainer$"+A_,Q4="__reactEvents$"+A_;function il(e){var t=e[$o];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yf]||r[$o]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=q4(e);e!==null;){if(r=e[$o])return r;e=q4(e)}return t}e=r,r=e.parentNode}return null}function f0(e){return e=e[$o]||e[yf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function R_(e){return e[zm]||null}function bG(e){var t=e[Q4];return t===void 0&&(t=e[Q4]=new Set),t}var r2=[],ju=-1;function Os(e){return{current:e}}function mt(e){0>ju||(e.current=r2[ju],r2[ju]=null,ju--)}function $t(e,t){ju++,r2[ju]=e.current,e.current=t}var cs={},Cr=Os(cs),cn=Os(!1),bl=cs;function Dc(e,t){var r=e.type.contextTypes;if(!r)return cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fn(e){return e=e.childContextTypes,e!=null}function Vm(){mt(cn),mt(Cr)}function Z4(e,t,r){if(Cr.current!==cs)throw Error(le(168));$t(Cr,t),$t(cn,r)}function TG(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(le(108,ec(t)||"Unknown",i));return St({},r,n)}function Bg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,bl=Cr.current,$t(Cr,e),$t(cn,cn.current),!0}function J4(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=TG(e,t,bl),n.__reactInternalMemoizedMergedChildContext=e,mt(cn),mt(Cr),$t(Cr,e)):mt(cn),$t(cn,r)}var yI=null,pl=null,VDe=er.unstable_runWithPriority,_I=er.unstable_scheduleCallback,n2=er.unstable_cancelCallback,YDe=er.unstable_shouldYield,e3=er.unstable_requestPaint,i2=er.unstable_now,XDe=er.unstable_getCurrentPriorityLevel,O_=er.unstable_ImmediatePriority,wG=er.unstable_UserBlockingPriority,AG=er.unstable_NormalPriority,RG=er.unstable_LowPriority,OG=er.unstable_IdlePriority,VS={},qDe=e3!==void 0?e3:function(){},La=null,Ug=null,YS=!1,t3=i2(),Ar=1e4>t3?i2:function(){return i2()-t3};function $c(){switch(XDe()){case O_:return 99;case wG:return 98;case AG:return 97;case RG:return 96;case OG:return 95;default:throw Error(le(332))}}function IG(e){switch(e){case 99:return O_;case 98:return wG;case 97:return AG;case 96:return RG;case 95:return OG;default:throw Error(le(332))}}function Tl(e,t){return e=IG(e),VDe(e,t)}function Yh(e,t,r){return e=IG(e),_I(e,t,r)}function ma(){if(Ug!==null){var e=Ug;Ug=null,n2(e)}CG()}function CG(){if(!YS&&La!==null){YS=!0;var e=0;try{var t=La;Tl(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),La=null}catch(r){throw La!==null&&(La=La.slice(e+1)),_I(O_,ma),r}finally{YS=!1}}}var QDe=jl.ReactCurrentBatchConfig;function bi(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Ym=Os(null),Xm=null,Hu=null,qm=null;function EI(){qm=Hu=Xm=null}function xI(e){var t=Ym.current;mt(Ym),e.type._context._currentValue=t}function PG(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function ac(e,t){Xm=e,qm=Hu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oi=!0),e.firstContext=null)}function ti(e,t){if(qm!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(qm=e,t=1073741823),t={context:e,observedBits:t,next:null},Hu===null){if(Xm===null)throw Error(le(308));Hu=t,Xm.dependencies={lanes:0,firstContext:t,responders:null}}else Hu=Hu.next=t;return e._currentValue}var bo=!1;function SI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function LG(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function r3(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xh(e,t,r,n){var i=e.updateQueue;bo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;if(c!==null){c=c.updateQueue;var d=c.lastBaseUpdate;d!==o&&(d===null?c.firstBaseUpdate=u:d.next=u,c.lastBaseUpdate=l)}}if(a!==null){d=i.baseState,o=0,c=u=l=null;do{s=a.lane;var f=a.eventTime;if((n&s)===s){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,_=a;switch(s=t,f=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){d=m.call(f,d,s);break e}d=m;break e;case 3:m.flags=m.flags&-4097|64;case 0:if(m=_.payload,s=typeof m=="function"?m.call(f,d,s):m,s==null)break e;d=St({},d,s);break e;case 2:bo=!0}}a.callback!==null&&(e.flags|=32,s=i.effects,s===null?i.effects=[a]:s.push(a))}else f={eventTime:f,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=s;if(a=a.next,a===null){if(s=i.shared.pending,s===null)break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,h0|=o,e.lanes=o,e.memoizedState=d}}function n3(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var DG=new __.Component().refs;function Qm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:St({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var I_={isMounted:function(e){return(e=e._reactInternals)?Hl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=In(),i=Vo(e),a=Wo(n,i);a.payload=t,r!=null&&(a.callback=r),zo(e,a),Yo(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=In(),i=Vo(e),a=Wo(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),zo(e,a),Yo(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=In(),n=Vo(e),i=Wo(r,n);i.tag=2,t!=null&&(i.callback=t),zo(e,i),Yo(e,n,r)}};function i3(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!zh(r,n)||!zh(i,a):!0}function $G(e,t,r){var n=!1,i=cs,a=t.contextType;return typeof a=="object"&&a!==null?a=ti(a):(i=fn(t)?bl:Cr.current,n=t.contextTypes,a=(n=n!=null)?Dc(e,i):cs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=I_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function a3(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&I_.enqueueReplaceState(t,t.state,null)}function a2(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=DG,SI(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ti(a):(a=fn(t)?bl:Cr.current,i.context=Dc(e,a)),Xh(e,r,i,n),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Qm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&I_.enqueueReplaceState(i,i.state,null),Xh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Np=Array.isArray;function ud(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=n.refs;o===DG&&(o=n.refs={}),a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Mp(e,t){if(e.type!=="textarea")throw Error(le(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function kG(e){function t(v,g){if(e){var p=v.lastEffect;p!==null?(p.nextEffect=g,v.lastEffect=g):v.firstEffect=v.lastEffect=g,g.nextEffect=null,g.flags=8}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=ds(v,g),v.index=0,v.sibling=null,v}function a(v,g,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<g?(v.flags=2,g):p):(v.flags=2,g)):g}function o(v){return e&&v.alternate===null&&(v.flags=2),v}function s(v,g,p,h){return g===null||g.tag!==6?(g=JS(p,v.mode,h),g.return=v,g):(g=i(g,p),g.return=v,g)}function l(v,g,p,h){return g!==null&&g.elementType===p.type?(h=i(g,p.props),h.ref=ud(v,g,p),h.return=v,h):(h=Gg(p.type,p.key,p.props,null,v.mode,h),h.ref=ud(v,g,p),h.return=v,h)}function u(v,g,p,h){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=eb(p,v.mode,h),g.return=v,g):(g=i(g,p.children||[]),g.return=v,g)}function c(v,g,p,h,S){return g===null||g.tag!==7?(g=uc(p,v.mode,h,S),g.return=v,g):(g=i(g,p),g.return=v,g)}function d(v,g,p){if(typeof g=="string"||typeof g=="number")return g=JS(""+g,v.mode,p),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fd:return p=Gg(g.type,g.key,g.props,null,v.mode,p),p.ref=ud(v,null,g),p.return=v,p;case rl:return g=eb(g,v.mode,p),g.return=v,g}if(Np(g)||nd(g))return g=uc(g,v.mode,p,null),g.return=v,g;Mp(v,g)}return null}function f(v,g,p,h){var S=g!==null?g.key:null;if(typeof p=="string"||typeof p=="number")return S!==null?null:s(v,g,""+p,h);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Fd:return p.key===S?p.type===Ro?c(v,g,p.props.children,h,S):l(v,g,p,h):null;case rl:return p.key===S?u(v,g,p,h):null}if(Np(p)||nd(p))return S!==null?null:c(v,g,p,h,null);Mp(v,p)}return null}function m(v,g,p,h,S){if(typeof h=="string"||typeof h=="number")return v=v.get(p)||null,s(g,v,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Fd:return v=v.get(h.key===null?p:h.key)||null,h.type===Ro?c(g,v,h.props.children,S,h.key):l(g,v,h,S);case rl:return v=v.get(h.key===null?p:h.key)||null,u(g,v,h,S)}if(Np(h)||nd(h))return v=v.get(p)||null,c(g,v,h,S,null);Mp(g,h)}return null}function _(v,g,p,h){for(var S=null,O=null,y=g,E=g=0,b=null;y!==null&&E<p.length;E++){y.index>E?(b=y,y=null):b=y.sibling;var T=f(v,y,p[E],h);if(T===null){y===null&&(y=b);break}e&&y&&T.alternate===null&&t(v,y),g=a(T,g,E),O===null?S=T:O.sibling=T,O=T,y=b}if(E===p.length)return r(v,y),S;if(y===null){for(;E<p.length;E++)y=d(v,p[E],h),y!==null&&(g=a(y,g,E),O===null?S=y:O.sibling=y,O=y);return S}for(y=n(v,y);E<p.length;E++)b=m(y,v,E,p[E],h),b!==null&&(e&&b.alternate!==null&&y.delete(b.key===null?E:b.key),g=a(b,g,E),O===null?S=b:O.sibling=b,O=b);return e&&y.forEach(function(A){return t(v,A)}),S}function x(v,g,p,h){var S=nd(p);if(typeof S!="function")throw Error(le(150));if(p=S.call(p),p==null)throw Error(le(151));for(var O=S=null,y=g,E=g=0,b=null,T=p.next();y!==null&&!T.done;E++,T=p.next()){y.index>E?(b=y,y=null):b=y.sibling;var A=f(v,y,T.value,h);if(A===null){y===null&&(y=b);break}e&&y&&A.alternate===null&&t(v,y),g=a(A,g,E),O===null?S=A:O.sibling=A,O=A,y=b}if(T.done)return r(v,y),S;if(y===null){for(;!T.done;E++,T=p.next())T=d(v,T.value,h),T!==null&&(g=a(T,g,E),O===null?S=T:O.sibling=T,O=T);return S}for(y=n(v,y);!T.done;E++,T=p.next())T=m(y,v,E,T.value,h),T!==null&&(e&&T.alternate!==null&&y.delete(T.key===null?E:T.key),g=a(T,g,E),O===null?S=T:O.sibling=T,O=T);return e&&y.forEach(function(P){return t(v,P)}),S}return function(v,g,p,h){var S=typeof p=="object"&&p!==null&&p.type===Ro&&p.key===null;S&&(p=p.props.children);var O=typeof p=="object"&&p!==null;if(O)switch(p.$$typeof){case Fd:e:{for(O=p.key,S=g;S!==null;){if(S.key===O){switch(S.tag){case 7:if(p.type===Ro){r(v,S.sibling),g=i(S,p.props.children),g.return=v,v=g;break e}break;default:if(S.elementType===p.type){r(v,S.sibling),g=i(S,p.props),g.ref=ud(v,S,p),g.return=v,v=g;break e}}r(v,S);break}else t(v,S);S=S.sibling}p.type===Ro?(g=uc(p.props.children,v.mode,h,p.key),g.return=v,v=g):(h=Gg(p.type,p.key,p.props,null,v.mode,h),h.ref=ud(v,g,p),h.return=v,v=h)}return o(v);case rl:e:{for(S=p.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(v,g.sibling),g=i(g,p.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=eb(p,v.mode,h),g.return=v,v=g}return o(v)}if(typeof p=="string"||typeof p=="number")return p=""+p,g!==null&&g.tag===6?(r(v,g.sibling),g=i(g,p),g.return=v,v=g):(r(v,g),g=JS(p,v.mode,h),g.return=v,v=g),o(v);if(Np(p))return _(v,g,p,h);if(nd(p))return x(v,g,p,h);if(O&&Mp(v,p),typeof p>"u"&&!S)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(le(152,ec(v.type)||"Component"))}return r(v,g)}}var Zm=kG(!0),NG=kG(!1),d0={},ta=Os(d0),qh=Os(d0),Qh=Os(d0);function al(e){if(e===d0)throw Error(le(174));return e}function o2(e,t){switch($t(Qh,t),$t(qh,e),$t(ta,d0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gw(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gw(t,e)}mt(ta),$t(ta,t)}function kc(){mt(ta),mt(qh),mt(Qh)}function o3(e){al(Qh.current);var t=al(ta.current),r=Gw(t,e.type);t!==r&&($t(qh,e),$t(ta,r))}function bI(e){qh.current===e&&(mt(ta),mt(qh))}var Dt=Os(0);function Jm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=null,ko=null,ra=!1;function MG(e,t){var r=qn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function s3(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function s2(e){if(ra){var t=ko;if(t){var r=t;if(!s3(e,t)){if(t=ic(r.nextSibling),!t||!s3(e,t)){e.flags=e.flags&-1025|2,ra=!1,Na=e;return}MG(Na,r)}Na=e,ko=ic(t.firstChild)}else e.flags=e.flags&-1025|2,ra=!1,Na=e}}function l3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Na=e}function Fp(e){if(e!==Na)return!1;if(!ra)return l3(e),ra=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!t2(t,e.memoizedProps))for(t=ko;t;)MG(e,t),t=ic(t.nextSibling);if(l3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ko=ic(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ko=null}}else ko=Na?ic(e.stateNode.nextSibling):null;return!0}function XS(){ko=Na=null,ra=!1}var oc=[];function TI(){for(var e=0;e<oc.length;e++)oc[e]._workInProgressVersionPrimary=null;oc.length=0}var ch=jl.ReactCurrentDispatcher,ei=jl.ReactCurrentBatchConfig,Zh=0,Bt=null,Tr=null,sr=null,ey=!1,fh=!1;function Qr(){throw Error(le(321))}function wI(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xn(e[r],t[r]))return!1;return!0}function AI(e,t,r,n,i,a){if(Zh=a,Bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ch.current=e===null||e.memoizedState===null?JDe:e$e,e=r(n,i),fh){a=0;do{if(fh=!1,!(25>a))throw Error(le(301));a+=1,sr=Tr=null,t.updateQueue=null,ch.current=t$e,e=r(n,i)}while(fh)}if(ch.current=iy,t=Tr!==null&&Tr.next!==null,Zh=0,sr=Tr=Bt=null,ey=!1,t)throw Error(le(300));return e}function ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Bt.memoizedState=sr=e:sr=sr.next=e,sr}function Kl(){if(Tr===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=sr===null?Bt.memoizedState:sr.next;if(t!==null)sr=t,Tr=e;else{if(e===null)throw Error(le(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},sr===null?Bt.memoizedState=sr=e:sr=sr.next=e}return sr}function Qi(e,t){return typeof t=="function"?t(e):t}function cd(e){var t=Kl(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=Tr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=o=a=null,l=i;do{var u=l.lane;if((Zh&u)===u)s!==null&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(o=s=c,a=n):s=s.next=c,Bt.lanes|=u,h0|=u}l=l.next}while(l!==null&&l!==i);s===null?a=n:s.next=o,Xn(n,t.memoizedState)||(Oi=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=s,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function fd(e){var t=Kl(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Xn(a,t.memoizedState)||(Oi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function u3(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Zh&e)===e)&&(t._workInProgressVersionPrimary=n,oc.push(t))),e)return r(t._source);throw oc.push(t),Error(le(350))}function FG(e,t,r,n){var i=Kr;if(i===null)throw Error(le(349));var a=t._getVersion,o=a(t._source),s=ch.current,l=s.useState(function(){return u3(i,t,r)}),u=l[1],c=l[0];l=sr;var d=e.memoizedState,f=d.refs,m=f.getSnapshot,_=d.source;d=d.subscribe;var x=Bt;return e.memoizedState={refs:f,source:t,subscribe:n},s.useEffect(function(){f.getSnapshot=r,f.setSnapshot=u;var v=a(t._source);if(!Xn(o,v)){v=r(t._source),Xn(c,v)||(u(v),v=Vo(x),i.mutableReadLanes|=v&i.pendingLanes),v=i.mutableReadLanes,i.entangledLanes|=v;for(var g=i.entanglements,p=v;0<p;){var h=31-us(p),S=1<<h;g[h]|=v,p&=~S}}},[r,t,n]),s.useEffect(function(){return n(t._source,function(){var v=f.getSnapshot,g=f.setSnapshot;try{g(v(t._source));var p=Vo(x);i.mutableReadLanes|=p&i.pendingLanes}catch(h){g(function(){throw h})}})},[t,n]),Xn(m,r)&&Xn(_,t)&&Xn(d,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:c},e.dispatch=u=II.bind(null,Bt,e),l.queue=e,l.baseQueue=null,c=u3(i,t,r),l.memoizedState=l.baseState=c),c}function BG(e,t,r){var n=Kl();return FG(n,e,t,r)}function dd(e){var t=ol();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},e=e.dispatch=II.bind(null,Bt,e),[t.memoizedState,e]}function ty(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bt.updateQueue,t===null?(t={lastEffect:null},Bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function c3(e){var t=ol();return e={current:e},t.memoizedState=e}function ry(){return Kl().memoizedState}function l2(e,t,r,n){var i=ol();Bt.flags|=e,i.memoizedState=ty(1|t,r,void 0,n===void 0?null:n)}function RI(e,t,r,n){var i=Kl();n=n===void 0?null:n;var a=void 0;if(Tr!==null){var o=Tr.memoizedState;if(a=o.destroy,n!==null&&wI(n,o.deps)){ty(t,r,a,n);return}}Bt.flags|=e,i.memoizedState=ty(1|t,r,a,n)}function f3(e,t){return l2(516,4,e,t)}function ny(e,t){return RI(516,4,e,t)}function UG(e,t){return RI(4,2,e,t)}function jG(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HG(e,t,r){return r=r!=null?r.concat([e]):null,RI(4,2,jG.bind(null,t,e),r)}function OI(){}function KG(e,t){var r=Kl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wI(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function GG(e,t){var r=Kl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wI(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ZDe(e,t){var r=$c();Tl(98>r?98:r,function(){e(!0)}),Tl(97<r?97:r,function(){var n=ei.transition;ei.transition=1;try{e(!1),t()}finally{ei.transition=n}})}function II(e,t,r){var n=In(),i=Vo(e),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(o===null?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Bt||o!==null&&o===Bt)fh=ey=!0;else{if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,r);if(a.eagerReducer=o,a.eagerState=l,Xn(l,s))return}catch{}finally{}Yo(e,i,n)}}var iy={readContext:ti,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useOpaqueIdentifier:Qr,unstable_isNewReconciler:!1},JDe={readContext:ti,useCallback:function(e,t){return ol().memoizedState=[e,t===void 0?null:t],e},useContext:ti,useEffect:f3,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,l2(4,2,jG.bind(null,t,e),r)},useLayoutEffect:function(e,t){return l2(4,2,e,t)},useMemo:function(e,t){var r=ol();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ol();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=II.bind(null,Bt,e),[n.memoizedState,e]},useRef:c3,useState:dd,useDebugValue:OI,useDeferredValue:function(e){var t=dd(e),r=t[0],n=t[1];return f3(function(){var i=ei.transition;ei.transition=1;try{n(e)}finally{ei.transition=i}},[e]),r},useTransition:function(){var e=dd(!1),t=e[0];return e=ZDe.bind(null,e[1]),c3(e),[e,t]},useMutableSource:function(e,t,r){var n=ol();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},FG(n,e,t,r)},useOpaqueIdentifier:function(){if(ra){var e=!1,t=zDe(function(){throw e||(e=!0,r("r:"+(zS++).toString(36))),Error(le(355))}),r=dd(t)[1];return!(Bt.mode&2)&&(Bt.flags|=516,ty(5,function(){r("r:"+(zS++).toString(36))},void 0,null)),t}return t="r:"+(zS++).toString(36),dd(t),t},unstable_isNewReconciler:!1},e$e={readContext:ti,useCallback:KG,useContext:ti,useEffect:ny,useImperativeHandle:HG,useLayoutEffect:UG,useMemo:GG,useReducer:cd,useRef:ry,useState:function(){return cd(Qi)},useDebugValue:OI,useDeferredValue:function(e){var t=cd(Qi),r=t[0],n=t[1];return ny(function(){var i=ei.transition;ei.transition=1;try{n(e)}finally{ei.transition=i}},[e]),r},useTransition:function(){var e=cd(Qi)[0];return[ry().current,e]},useMutableSource:BG,useOpaqueIdentifier:function(){return cd(Qi)[0]},unstable_isNewReconciler:!1},t$e={readContext:ti,useCallback:KG,useContext:ti,useEffect:ny,useImperativeHandle:HG,useLayoutEffect:UG,useMemo:GG,useReducer:fd,useRef:ry,useState:function(){return fd(Qi)},useDebugValue:OI,useDeferredValue:function(e){var t=fd(Qi),r=t[0],n=t[1];return ny(function(){var i=ei.transition;ei.transition=1;try{n(e)}finally{ei.transition=i}},[e]),r},useTransition:function(){var e=fd(Qi)[0];return[ry().current,e]},useMutableSource:BG,useOpaqueIdentifier:function(){return fd(Qi)[0]},unstable_isNewReconciler:!1},r$e=jl.ReactCurrentOwner,Oi=!1;function en(e,t,r,n){t.child=e===null?NG(t,null,r,n):Zm(t,e.child,r,n)}function d3(e,t,r,n,i){r=r.render;var a=t.ref;return ac(t,i),n=AI(e,t,r,n,a,i),e!==null&&!Oi?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ma(e,t,i)):(t.flags|=1,en(e,t,n,i),t.child)}function h3(e,t,r,n,i,a){if(e===null){var o=r.type;return typeof o=="function"&&!kI(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,WG(e,t,o,n,i,a)):(e=Gg(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}return o=e.child,!(i&a)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:zh,r(i,n)&&e.ref===t.ref)?Ma(e,t,a):(t.flags|=1,e=ds(o,n),e.ref=t.ref,e.return=t,t.child=e)}function WG(e,t,r,n,i,a){if(e!==null&&zh(e.memoizedProps,n)&&e.ref===t.ref)if(Oi=!1,(a&i)!==0)e.flags&16384&&(Oi=!0);else return t.lanes=e.lanes,Ma(e,t,a);return u2(e,t,r,n,a)}function qS(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(t.mode&4))t.memoizedState={baseLanes:0},Up(t,r);else if(r&1073741824)t.memoizedState={baseLanes:0},Up(t,a!==null?a.baseLanes:r);else return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Up(t,e),null;else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Up(t,n);return en(e,t,i,r),t.child}function zG(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function u2(e,t,r,n,i){var a=fn(r)?bl:Cr.current;return a=Dc(t,a),ac(t,i),r=AI(e,t,r,n,a,i),e!==null&&!Oi?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ma(e,t,i)):(t.flags|=1,en(e,t,r,i),t.child)}function v3(e,t,r,n,i){if(fn(r)){var a=!0;Bg(t)}else a=!1;if(ac(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),$G(t,r,n),a2(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ti(u):(u=fn(r)?bl:Cr.current,u=Dc(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&a3(t,o,n,u),bo=!1;var f=t.memoizedState;o.state=f,Xh(t,n,o,i),l=t.memoizedState,s!==n||f!==l||cn.current||bo?(typeof c=="function"&&(Qm(t,r,c,n),l=t.memoizedState),(s=bo||i3(t,r,s,n,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4)):(typeof o.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{o=t.stateNode,LG(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:bi(t.type,s),o.props=u,d=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ti(l):(l=fn(r)?bl:Cr.current,l=Dc(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||f!==l)&&a3(t,o,n,l),bo=!1,f=t.memoizedState,o.state=f,Xh(t,n,o,i);var _=t.memoizedState;s!==d||f!==_||cn.current||bo?(typeof m=="function"&&(Qm(t,r,m,n),_=t.memoizedState),(u=bo||i3(t,r,u,n,f,_,l))?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),n=!1)}return c2(e,t,r,n,a,i)}function c2(e,t,r,n,i,a){zG(e,t);var o=(t.flags&64)!==0;if(!n&&!o)return i&&J4(t,r,!1),Ma(e,t,a);n=t.stateNode,r$e.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zm(t,e.child,null,a),t.child=Zm(t,null,s,a)):en(e,t,s,a),t.memoizedState=n.state,i&&J4(t,r,!0),t.child}function p3(e){var t=e.stateNode;t.pendingContext?Z4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Z4(e,t.context,!1),o2(e,t.containerInfo)}var Bp={dehydrated:null,retryLane:0};function g3(e,t,r){var n=t.pendingProps,i=Dt.current,a=!1,o;return(o=(t.flags&64)!==0)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),$t(Dt,i&1),e===null?(n.fallback!==void 0&&s2(t),e=n.children,i=n.fallback,a?(e=m3(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Bp,e):typeof n.unstable_expectedLoadTime=="number"?(e=m3(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Bp,t.lanes=33554432,e):(r=NI({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?a?(n=_3(e,t,n.children,n.fallback,r),a=t.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=Bp,n):(r=y3(e,t,n.children,r),t.memoizedState=null,r):a?(n=_3(e,t,n.children,n.fallback,r),a=t.child,i=e.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=Bp,n):(r=y3(e,t,n.children,r),t.memoizedState=null,r)}function m3(e,t,r,n){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=t):a=NI(t,i,0,null),r=uc(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r}function y3(e,t,r,n){var i=e.child;return e=i.sibling,r=ds(i,{mode:"visible",children:r}),!(t.mode&2)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function _3(e,t,r,n,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:r};return!(a&2)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=s,o=r.lastEffect,o!==null?(t.firstEffect=r.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):r=ds(o,s),e!==null?n=ds(e,n):(n=uc(n,a,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function E3(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),PG(e.return,t)}function QS(e,t,r,n,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function x3(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(en(e,t,n.children,r),n=Dt.current,n&2)n=n&1|2,t.flags|=64;else{if(e!==null&&e.flags&64)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E3(e,r);else if(e.tag===19)E3(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($t(Dt,n),!(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Jm(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),QS(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Jm(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}QS(t,!0,r,null,a,t.lastEffect);break;case"together":QS(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ma(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),h0|=t.lanes,r&t.childLanes){if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=ds(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ds(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var VG,f2,YG,XG;VG=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f2=function(){};YG=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,al(ta.current);var a=null;switch(r){case"input":i=Fw(e,i),n=Fw(e,n),a=[];break;case"option":i=jw(e,i),n=jw(e,n),a=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),a=[];break;case"textarea":i=Hw(e,i),n=Hw(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wm)}Ww(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pt("scroll",e),a||s===l||(a=[])):typeof l=="object"&&l!==null&&l.$$typeof===rI?l.toString():(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};XG=function(e,t,r,n){r!==n&&(t.flags|=4)};function hd(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function n$e(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fn(t.type)&&Vm(),null;case 3:return kc(),mt(cn),mt(Cr),TI(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fp(t)?t.flags|=4:n.hydrate||(t.flags|=256)),f2(t),null;case 5:bI(t);var i=al(Qh.current);if(r=t.type,e!==null&&t.stateNode!=null)YG(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(le(166));return null}if(e=al(ta.current),Fp(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[$o]=t,n[zm]=a,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(e=0;e<Ud.length;e++)pt(Ud[e],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":x4(n,a),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},pt("invalid",n);break;case"textarea":b4(n,a),pt("invalid",n)}Ww(r,a),e=null;for(var o in a)a.hasOwnProperty(o)&&(i=a[o],o==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Bh.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&pt("scroll",n));switch(r){case"input":Lp(n),S4(n,a,!0);break;case"textarea":Lp(n),T4(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Wm)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,e===Kw.html&&(e=HK(r)),e===Kw.html?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[$o]=t,e[zm]=n,VG(e,t,!1,!1),t.stateNode=e,o=zw(r,n),r){case"dialog":pt("cancel",e),pt("close",e),i=n;break;case"iframe":case"object":case"embed":pt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ud.length;i++)pt(Ud[i],e);i=n;break;case"source":pt("error",e),i=n;break;case"img":case"image":case"link":pt("error",e),pt("load",e),i=n;break;case"details":pt("toggle",e),i=n;break;case"input":x4(e,n),i=Fw(e,n),pt("invalid",e);break;case"option":i=jw(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),pt("invalid",e);break;case"textarea":b4(e,n),i=Hw(e,n),pt("invalid",e);break;default:i=n}Ww(r,i);var s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?WK(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KK(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Uh(e,l):typeof l=="number"&&Uh(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bh.hasOwnProperty(a)?l!=null&&a==="onScroll"&&pt("scroll",e):l!=null&&qO(e,a,l,o))}switch(r){case"input":Lp(e),S4(e,n,!1);break;case"textarea":Lp(e),T4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ls(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?tc(e,!!n.multiple,a,!1):n.defaultValue!=null&&tc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wm)}SG(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)XG(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));r=al(Qh.current),al(ta.current),Fp(t)?(n=t.stateNode,r=t.memoizedProps,n[$o]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$o]=t,t.stateNode=n)}return null;case 13:return mt(Dt),n=t.memoizedState,t.flags&64?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&Fp(t):r=e.memoizedState!==null,n&&!r&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||Dt.current&1?lr===0&&(lr=3):((lr===0||lr===3)&&(lr=4),Kr===null||!(h0&134217727)&&!(Ef&134217727)||sc(Kr,Or))),(n||r)&&(t.flags|=4),null);case 4:return kc(),f2(t),e===null&&_G(t.stateNode.containerInfo),null;case 10:return xI(t),null;case 17:return fn(t.type)&&Vm(),null;case 19:if(mt(Dt),n=t.memoizedState,n===null)return null;if(a=(t.flags&64)!==0,o=n.rendering,o===null)if(a)hd(n,!1);else{if(lr!==0||e!==null&&e.flags&64)for(e=t.child;e!==null;){if(o=Jm(e),o!==null){for(t.flags|=64,hd(n,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(Dt,Dt.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ar()>m2&&(t.flags|=64,a=!0,hd(n,!1),t.lanes=33554432)}else{if(!a)if(e=Jm(o),e!==null){if(t.flags|=64,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hd(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!ra)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Ar()-n.renderingStartTime>m2&&r!==1073741824&&(t.flags|=64,a=!0,hd(n,!1),t.lanes=33554432);n.isBackwards?(o.sibling=t.child,t.child=o):(r=n.last,r!==null?r.sibling=o:t.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ar(),r.sibling=null,t=Dt.current,$t(Dt,a?t&1|2:t&1),r):null;case 23:case 24:return $I(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(le(156,t.tag))}function i$e(e){switch(e.tag){case 1:fn(e.type)&&Vm();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(kc(),mt(cn),mt(Cr),TI(),t=e.flags,t&64)throw Error(le(285));return e.flags=t&-4097|64,e;case 5:return bI(e),null;case 13:return mt(Dt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return mt(Dt),null;case 4:return kc(),null;case 10:return xI(e),null;case 23:case 24:return $I(),null;default:return null}}function CI(e,t){try{var r="",n=t;do r+=FLe(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i}}function d2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var a$e=typeof WeakMap=="function"?WeakMap:Map;function qG(e,t,r){r=Wo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){oy||(oy=!0,y2=n),d2(e,t)},r}function QG(e,t,r){r=Wo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return d2(e,t),n(i)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this),d2(e,t));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}var o$e=typeof WeakSet=="function"?WeakSet:Set;function S3(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Xo(e,r)}else t.current=null}function s$e(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:bi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&mI(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(le(163))}function l$e(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,i&4&&i&1&&(oW(r,e),g$e(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:bi(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&n3(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}n3(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&SG(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&tG(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(le(163))}function b3(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=GK("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function T3(e,t){if(pl&&typeof pl.onCommitFiberUnmount=="function")try{pl.onCommitFiberUnmount(yI,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)oW(t,r);else{n=t;try{i()}catch(a){Xo(n,a)}}r=r.next}while(r!==e)}break;case 1:if(S3(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Xo(t,a)}break;case 5:S3(t);break;case 4:ZG(e,t)}}function w3(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function A3(e){return e.tag===5||e.tag===3||e.tag===4}function R3(e){e:{for(var t=e.return;t!==null;){if(A3(t))break e;t=t.return}throw Error(le(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(le(161))}r.flags&16&&(Uh(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||A3(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?h2(e,r,t):v2(e,r,t)}function h2(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wm));else if(n!==4&&(e=e.child,e!==null))for(h2(e,t,r),e=e.sibling;e!==null;)h2(e,t,r),e=e.sibling}function v2(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(v2(e,t,r),e=e.sibling;e!==null;)v2(e,t,r),e=e.sibling}function ZG(e,t){for(var r=t,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(le(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=e,s=r,l=s;;)if(T3(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}a?(o=i,s=r.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(T3(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function ZS(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,a!==null){for(r[zm]=n,e==="input"&&n.type==="radio"&&n.name!=null&&UK(r,n),zw(e,i),t=zw(e,n),i=0;i<a.length;i+=2){var o=a[i],s=a[i+1];o==="style"?WK(r,s):o==="dangerouslySetInnerHTML"?KK(r,s):o==="children"?Uh(r,s):qO(r,o,s,t)}switch(e){case"input":Bw(r,n);break;case"textarea":jK(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?tc(r,!!n.multiple,a,!1):e!==!!n.multiple&&(n.defaultValue!=null?tc(r,!!n.multiple,n.defaultValue,!0):tc(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(le(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,tG(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(DI=Ar(),b3(t.child,!0)),O3(t);return;case 19:O3(t);return;case 17:return;case 23:case 24:b3(t,t.memoizedState!==null);return}throw Error(le(163))}function O3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new o$e),t.forEach(function(n){var i=_$e.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function u$e(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var c$e=Math.ceil,ay=jl.ReactCurrentDispatcher,PI=jl.ReactCurrentOwner,Re=0,Kr=null,Wt=null,Or=0,wl=0,p2=Os(0),lr=0,C_=null,_f=0,h0=0,Ef=0,LI=0,g2=null,DI=0,m2=1/0;function xf(){m2=Ar()+500}var _e=null,oy=!1,y2=null,Zi=null,fs=!1,dh=null,jd=90,_2=[],E2=[],ja=null,hh=0,x2=null,jg=-1,ka=0,Hg=0,vh=null,Kg=!1;function In(){return Re&48?Ar():jg!==-1?jg:jg=Ar()}function Vo(e){if(e=e.mode,!(e&2))return 1;if(!(e&4))return $c()===99?1:2;if(ka===0&&(ka=_f),QDe.transition!==0){Hg!==0&&(Hg=g2!==null?g2.pendingLanes:0),e=ka;var t=4186112&~Hg;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=$c(),Re&4&&e===98?e=Km(12,ka):(e=eDe(e),e=Km(e,ka)),e}function Yo(e,t,r){if(50<hh)throw hh=0,x2=null,Error(le(185));if(e=P_(e,t),e===null)return null;b_(e,t,r),e===Kr&&(Ef|=t,lr===4&&sc(e,Or));var n=$c();t===1?Re&8&&!(Re&48)?S2(e):(ri(e,r),Re===0&&(xf(),ma())):(!(Re&4)||n!==98&&n!==99||(ja===null?ja=new Set([e]):ja.add(e)),ri(e,r)),g2=e}function P_(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function ri(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-us(o),l=1<<s,u=a[s];if(u===-1){if(!(l&n)||l&i){u=t,Ru(l);var c=ht;a[s]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);o&=~l}if(n=Gh(e,e===Kr?Or:0),t=ht,n===0)r!==null&&(r!==VS&&n2(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==VS&&n2(r)}t===15?(r=S2.bind(null,e),La===null?(La=[r],Ug=_I(O_,CG)):La.push(r),r=VS):t===14?r=Yh(99,S2.bind(null,e)):(r=tDe(t),r=Yh(r,JG.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function JG(e){if(jg=-1,Hg=ka=0,Re&48)throw Error(le(327));var t=e.callbackNode;if(Is()&&e.callbackNode!==t)return null;var r=Gh(e,e===Kr?Or:0);if(r===0)return null;var n=r,i=Re;Re|=16;var a=nW();(Kr!==e||Or!==n)&&(xf(),lc(e,n));do try{h$e();break}catch(s){rW(e,s)}while(1);if(EI(),ay.current=a,Re=i,Wt!==null?n=0:(Kr=null,Or=0,n=lr),_f&Ef)lc(e,0);else if(n!==0){if(n===2&&(Re|=64,e.hydrate&&(e.hydrate=!1,mI(e.containerInfo)),r=lG(e),r!==0&&(n=Hd(e,r))),n===1)throw t=C_,lc(e,0),sc(e,r),ri(e,Ar()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(le(345));case 2:zs(e);break;case 3:if(sc(e,r),(r&62914560)===r&&(n=DI+500-Ar(),10<n)){if(Gh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){In(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=X4(zs.bind(null,e),n);break}zs(e);break;case 4:if(sc(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var o=31-us(r);a=1<<o,o=n[o],o>i&&(i=o),r&=~a}if(r=i,r=Ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c$e(r/1960))-r,10<r){e.timeoutHandle=X4(zs.bind(null,e),r);break}zs(e);break;case 5:zs(e);break;default:throw Error(le(329))}}return ri(e,Ar()),e.callbackNode===t?JG.bind(null,e):null}function sc(e,t){for(t&=~LI,t&=~Ef,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-us(t),n=1<<r;e[r]=-1,t&=~n}}function S2(e){if(Re&48)throw Error(le(327));if(Is(),e===Kr&&e.expiredLanes&Or){var t=Or,r=Hd(e,t);_f&Ef&&(t=Gh(e,t),r=Hd(e,t))}else t=Gh(e,0),r=Hd(e,t);if(e.tag!==0&&r===2&&(Re|=64,e.hydrate&&(e.hydrate=!1,mI(e.containerInfo)),t=lG(e),t!==0&&(r=Hd(e,t))),r===1)throw r=C_,lc(e,0),sc(e,t),ri(e,Ar()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e),ri(e,Ar()),null}function f$e(){if(ja!==null){var e=ja;ja=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,ri(t,Ar())})}ma()}function eW(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(xf(),ma())}}function tW(e,t){var r=Re;Re&=-2,Re|=8;try{return e(t)}finally{Re=r,Re===0&&(xf(),ma())}}function Up(e,t){$t(p2,wl),wl|=t,_f|=t}function $I(){wl=p2.current,mt(p2)}function lc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WDe(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vm();break;case 3:kc(),mt(cn),mt(Cr),TI();break;case 5:bI(n);break;case 4:kc();break;case 13:mt(Dt);break;case 19:mt(Dt);break;case 10:xI(n);break;case 23:case 24:$I()}r=r.return}Kr=e,Wt=ds(e.current,null),Or=wl=_f=t,lr=0,C_=null,LI=Ef=h0=0}function rW(e,t){do{var r=Wt;try{if(EI(),ch.current=iy,ey){for(var n=Bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ey=!1}if(Zh=0,sr=Tr=Bt=null,fh=!1,PI.current=null,r===null||r.return===null){lr=1,C_=t,Wt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Or,s.flags|=2048,s.firstEffect=s.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if(!(s.mode&2)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=(Dt.current&1)!==0,f=o;do{var m;if(m=f.tag===13){var _=f.memoizedState;if(_!==null)m=_.dehydrated!==null;else{var x=f.memoizedProps;m=x.fallback===void 0?!1:x.unstable_avoidThisFallback!==!0?!0:!d}}if(m){var v=f.updateQueue;if(v===null){var g=new Set;g.add(u),f.updateQueue=g}else v.add(u);if(!(f.mode&2)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var p=Wo(-1,1);p.tag=2,zo(s,p)}s.lanes|=1;break e}l=void 0,s=t;var h=a.pingCache;if(h===null?(h=a.pingCache=new a$e,l=new Set,h.set(u,l)):(l=h.get(u),l===void 0&&(l=new Set,h.set(u,l))),!l.has(s)){l.add(s);var S=y$e.bind(null,a,u,s);u.then(S,S)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(f!==null);l=Error((ec(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}lr!==5&&(lr=2),l=CI(l,s),f=o;do{switch(f.tag){case 3:a=l,f.flags|=4096,t&=-t,f.lanes|=t;var O=qG(f,a,t);r3(f,O);break e;case 1:a=l;var y=f.type,E=f.stateNode;if(!(f.flags&64)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Zi===null||!Zi.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t;var b=QG(f,a,t);r3(f,b);break e}}f=f.return}while(f!==null)}aW(r)}catch(T){t=T,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(1)}function nW(){var e=ay.current;return ay.current=iy,e===null?iy:e}function Hd(e,t){var r=Re;Re|=16;var n=nW();Kr===e&&Or===t||lc(e,t);do try{d$e();break}catch(i){rW(e,i)}while(1);if(EI(),Re=r,ay.current=n,Wt!==null)throw Error(le(261));return Kr=null,Or=0,lr}function d$e(){for(;Wt!==null;)iW(Wt)}function h$e(){for(;Wt!==null&&!YDe();)iW(Wt)}function iW(e){var t=sW(e.alternate,e,wl);e.memoizedProps=e.pendingProps,t===null?aW(e):Wt=t,PI.current=null}function aW(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&2048){if(r=i$e(t),r!==null){r.flags&=2047,Wt=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(r=n$e(r,t,wl),r!==null){Wt=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||wl&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&!(e.flags&2048)&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);lr===0&&(lr=5)}function zs(e){var t=$c();return Tl(99,v$e.bind(null,e,t)),null}function v$e(e,t){do Is();while(dh!==null);if(Re&48)throw Error(le(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,s=e.expirationTimes;0<a;){var l=31-us(a),u=1<<l;i[l]=0,o[l]=-1,s[l]=-1,a&=~u}if(ja!==null&&!(n&24)&&ja.has(e)&&ja.delete(e),e===Kr&&(Wt=Kr=null,Or=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Re,Re|=32,PI.current=null,GS=Ng,o=H4(),Zw(o)){if("selectionStart"in o)s={start:o.selectionStart,end:o.selectionEnd};else e:if(s=(s=o.ownerDocument)&&s.defaultView||window,(u=s.getSelection&&s.getSelection())&&u.rangeCount!==0){s=u.anchorNode,a=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var c=0,d=-1,f=-1,m=0,_=0,x=o,v=null;t:for(;;){for(var g;x!==s||a!==0&&x.nodeType!==3||(d=c+a),x!==l||u!==0&&x.nodeType!==3||(f=c+u),x.nodeType===3&&(c+=x.nodeValue.length),(g=x.firstChild)!==null;)v=x,x=g;for(;;){if(x===o)break t;if(v===s&&++m===a&&(d=c),v===l&&++_===u&&(f=c),(g=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=g}s=d===-1||f===-1?null:{start:d,end:f}}else s=null;s=s||{start:0,end:0}}else s=null;WS={focusedElem:o,selectionRange:s},Ng=!1,vh=null,Kg=!1,_e=n;do try{p$e()}catch(T){if(_e===null)throw Error(le(330));Xo(_e,T),_e=_e.nextEffect}while(_e!==null);vh=null,_e=n;do try{for(o=e;_e!==null;){var p=_e.flags;if(p&16&&Uh(_e.stateNode,""),p&128){var h=_e.alternate;if(h!==null){var S=h.ref;S!==null&&(typeof S=="function"?S(null):S.current=null)}}switch(p&1038){case 2:R3(_e),_e.flags&=-3;break;case 6:R3(_e),_e.flags&=-3,ZS(_e.alternate,_e);break;case 1024:_e.flags&=-1025;break;case 1028:_e.flags&=-1025,ZS(_e.alternate,_e);break;case 4:ZS(_e.alternate,_e);break;case 8:s=_e,ZG(o,s);var O=s.alternate;w3(s),O!==null&&w3(O)}_e=_e.nextEffect}}catch(T){if(_e===null)throw Error(le(330));Xo(_e,T),_e=_e.nextEffect}while(_e!==null);if(S=WS,h=H4(),p=S.focusedElem,o=S.selectionRange,h!==p&&p&&p.ownerDocument&&gG(p.ownerDocument.documentElement,p)){for(o!==null&&Zw(p)&&(h=o.start,S=o.end,S===void 0&&(S=h),"selectionStart"in p?(p.selectionStart=h,p.selectionEnd=Math.min(S,p.value.length)):(S=(h=p.ownerDocument||document)&&h.defaultView||window,S.getSelection&&(S=S.getSelection(),s=p.textContent.length,O=Math.min(o.start,s),o=o.end===void 0?O:Math.min(o.end,s),!S.extend&&O>o&&(s=o,o=O,O=s),s=j4(p,O),a=j4(p,o),s&&a&&(S.rangeCount!==1||S.anchorNode!==s.node||S.anchorOffset!==s.offset||S.focusNode!==a.node||S.focusOffset!==a.offset)&&(h=h.createRange(),h.setStart(s.node,s.offset),S.removeAllRanges(),O>o?(S.addRange(h),S.extend(a.node,a.offset)):(h.setEnd(a.node,a.offset),S.addRange(h)))))),h=[],S=p;S=S.parentNode;)S.nodeType===1&&h.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<h.length;p++)S=h[p],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}Ng=!!GS,WS=GS=null,e.current=r,_e=n;do try{for(p=e;_e!==null;){var y=_e.flags;if(y&36&&l$e(p,_e.alternate,_e),y&128){h=void 0;var E=_e.ref;if(E!==null){var b=_e.stateNode;switch(_e.tag){case 5:h=b;break;default:h=b}typeof E=="function"?E(h):E.current=h}}_e=_e.nextEffect}}catch(T){if(_e===null)throw Error(le(330));Xo(_e,T),_e=_e.nextEffect}while(_e!==null);_e=null,qDe(),Re=i}else e.current=r;if(fs)fs=!1,dh=e,jd=t;else for(_e=n;_e!==null;)t=_e.nextEffect,_e.nextEffect=null,_e.flags&8&&(y=_e,y.sibling=null,y.stateNode=null),_e=t;if(n=e.pendingLanes,n===0&&(Zi=null),n===1?e===x2?hh++:(hh=0,x2=e):hh=0,r=r.stateNode,pl&&typeof pl.onCommitFiberRoot=="function")try{pl.onCommitFiberRoot(yI,r,void 0,(r.current.flags&64)===64)}catch{}if(ri(e,Ar()),oy)throw oy=!1,e=y2,y2=null,e;return Re&8||ma(),null}function p$e(){for(;_e!==null;){var e=_e.alternate;Kg||vh===null||(_e.flags&8?R4(_e,vh)&&(Kg=!0):_e.tag===13&&u$e(e,_e)&&R4(_e,vh)&&(Kg=!0));var t=_e.flags;t&256&&s$e(e,_e),!(t&512)||fs||(fs=!0,Yh(97,function(){return Is(),null})),_e=_e.nextEffect}}function Is(){if(jd!==90){var e=97<jd?97:jd;return jd=90,Tl(e,m$e)}return!1}function g$e(e,t){_2.push(t,e),fs||(fs=!0,Yh(97,function(){return Is(),null}))}function oW(e,t){E2.push(t,e),fs||(fs=!0,Yh(97,function(){return Is(),null}))}function m$e(){if(dh===null)return!1;var e=dh;if(dh=null,Re&48)throw Error(le(331));var t=Re;Re|=32;var r=E2;E2=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(a===null)throw Error(le(330));Xo(a,l)}}for(r=_2,_2=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var s=i.create;i.destroy=s()}catch(l){if(a===null)throw Error(le(330));Xo(a,l)}}for(s=e.current.firstEffect;s!==null;)e=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=e;return Re=t,ma(),!0}function I3(e,t,r){t=CI(r,t),t=qG(e,t,1),zo(e,t),t=In(),e=P_(e,1),e!==null&&(b_(e,1,t),ri(e,t))}function Xo(e,t){if(e.tag===3)I3(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){I3(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n))){e=CI(t,e);var i=QG(r,e,1);if(zo(r,i),i=In(),r=P_(r,1),r!==null)b_(r,1,i),ri(r,i);else if(typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function y$e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=In(),e.pingedLanes|=e.suspendedLanes&r,Kr===e&&(Or&r)===r&&(lr===4||lr===3&&(Or&62914560)===Or&&500>Ar()-DI?lc(e,0):LI|=r),ri(e,t)}function _$e(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,t&2?t&4?(ka===0&&(ka=_f),t=Ou(62914560&~ka),t===0&&(t=4194304)):t=$c()===99?1:2:t=1),r=In(),e=P_(e,t),e!==null&&(b_(e,t,r),ri(e,r))}var sW;sW=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)Oi=!0;else if(r&n)Oi=!!(e.flags&16384);else{switch(Oi=!1,t.tag){case 3:p3(t),XS();break;case 5:o3(t);break;case 1:fn(t.type)&&Bg(t);break;case 4:o2(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;$t(Ym,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return r&t.child.childLanes?g3(e,t,r):($t(Dt,Dt.current&1),t=Ma(e,t,r),t!==null?t.sibling:null);$t(Dt,Dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&64){if(n)return x3(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(Dt,Dt.current),n)break;return null;case 23:case 24:return t.lanes=0,qS(e,t,r)}return Ma(e,t,r)}else Oi=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Dc(t,Cr.current),ac(t,r),i=AI(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(n)){var a=!0;Bg(t)}else a=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SI(t);var o=n.getDerivedStateFromProps;typeof o=="function"&&Qm(t,n,o,e),i.updater=I_,t.stateNode=i,i._reactInternals=t,a2(t,n,e,r),t=c2(null,t,n,!0,a,r)}else t.tag=0,en(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=x$e(i),e=bi(i,e),a){case 0:t=u2(null,t,i,e,r);break e;case 1:t=v3(null,t,i,e,r);break e;case 11:t=d3(null,t,i,e,r);break e;case 14:t=h3(null,t,i,bi(i.type,e),n,r);break e}throw Error(le(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bi(n,i),u2(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bi(n,i),v3(e,t,n,i,r);case 3:if(p3(t),n=t.updateQueue,e===null||n===null)throw Error(le(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,LG(e,t),Xh(t,n,null,r),n=t.memoizedState.element,n===i)XS(),t=Ma(e,t,r);else{if(i=t.stateNode,(a=i.hydrate)&&(ko=ic(t.stateNode.containerInfo.firstChild),Na=t,a=ra=!0),a){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)a=e[i],a._workInProgressVersionPrimary=e[i+1],oc.push(a);for(r=NG(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else en(e,t,n,r),XS();t=t.child}return t;case 5:return o3(t),e===null&&s2(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,t2(n,i)?o=null:a!==null&&t2(n,a)&&(t.flags|=16),zG(e,t),en(e,t,o,r),t.child;case 6:return e===null&&s2(t),null;case 13:return g3(e,t,r);case 4:return o2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zm(t,null,n,r):en(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bi(n,i),d3(e,t,n,i,r);case 7:return en(e,t,t.pendingProps,r),t.child;case 8:return en(e,t,t.pendingProps.children,r),t.child;case 12:return en(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;var s=t.type._context;if($t(Ym,s._currentValue),s._currentValue=a,o!==null)if(s=o.value,a=Xn(s,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,a):1073741823)|0,a===0){if(o.children===i.children&&!cn.current){t=Ma(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===n&&u.observedBits&a){s.tag===1&&(u=Wo(-1,r&-r),u.tag=2,zo(s,u)),s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),PG(s.return,r),l.lanes|=r;break}u=u.next}}else o=s.tag===10&&s.type===t.type?null:s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}en(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,n=a.children,ac(t,r),i=ti(i,a.unstable_observedBits),n=n(i),t.flags|=1,en(e,t,n,r),t.child;case 14:return i=t.type,a=bi(i,t.pendingProps),a=bi(i.type,a),h3(e,t,i,a,n,r);case 15:return WG(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bi(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fn(n)?(e=!0,Bg(t)):e=!1,ac(t,r),$G(t,n,i),a2(t,n,i,r),c2(null,t,n,!0,e,r);case 19:return x3(e,t,r);case 23:return qS(e,t,r);case 24:return qS(e,t,r)}throw Error(le(156,t.tag))};function E$e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,r,n){return new E$e(e,t,r,n)}function kI(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x$e(e){if(typeof e=="function")return kI(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E_)return 11;if(e===x_)return 14}return 2}function ds(e,t){var r=e.alternate;return r===null?(r=qn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gg(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")kI(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ro:return uc(r.children,i,a,t);case MK:o=8,i|=16;break;case QO:o=8,i|=1;break;case nh:return e=qn(12,r,t,i|8),e.elementType=nh,e.type=nh,e.lanes=a,e;case ih:return e=qn(13,r,t,i),e.type=ih,e.elementType=ih,e.lanes=a,e;case Bm:return e=qn(19,r,t,i),e.elementType=Bm,e.lanes=a,e;case nI:return NI(r,i,a,t);case Mw:return e=qn(24,r,t,i),e.elementType=Mw,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZO:o=10;break e;case JO:o=9;break e;case E_:o=11;break e;case x_:o=14;break e;case eI:o=16,n=null;break e;case tI:o=22;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=qn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function uc(e,t,r,n){return e=qn(7,e,n,t),e.lanes=r,e}function NI(e,t,r,n){return e=qn(23,e,n,t),e.elementType=nI,e.lanes=r,e}function JS(e,t,r){return e=qn(6,e,null,t),e.lanes=r,e}function eb(e,t,r){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S$e(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=MS(0),this.expirationTimes=MS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MS(0),this.mutableSourceEagerHydrationData=null}function b$e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sy(e,t,r,n){var i=t.current,a=In(),o=Vo(i);e:if(r){r=r._reactInternals;t:{if(Hl(r)!==r||r.tag!==1)throw Error(le(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(fn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(le(171))}if(r.tag===1){var l=r.type;if(fn(l)){r=TG(r,l,s);break e}}r=s}else r=cs;return t.context===null?t.context=r:t.pendingContext=r,t=Wo(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),zo(i,t),Yo(i,o,a),o}function tb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function MI(e,t){C3(e,t),(e=e.alternate)&&C3(e,t)}function T$e(){return null}function FI(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new S$e(e,t,r!=null&&r.hydrate===!0),t=qn(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,SI(t),e[yf]=r.current,_G(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}FI.prototype.render=function(e){sy(e,this._internalRoot,null,null)};FI.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;sy(null,e,null,function(){t[yf]=null})};function v0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function w$e(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new FI(e,0,t?{hydrate:!0}:void 0)}function L_(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if(typeof i=="function"){var s=i;i=function(){var u=tb(o);s.call(u)}}sy(t,o,e,i)}else{if(a=r._reactRootContainer=w$e(r,n),o=a._internalRoot,typeof i=="function"){var l=i;i=function(){var u=tb(o);l.call(u)}}tW(function(){sy(t,o,e,i)})}return tb(o)}ZK=function(e){if(e.tag===13){var t=In();Yo(e,4,t),MI(e,4)}};lI=function(e){if(e.tag===13){var t=In();Yo(e,67108864,t),MI(e,67108864)}};JK=function(e){if(e.tag===13){var t=In(),r=Vo(e);Yo(e,r,t),MI(e,r)}};eG=function(e,t){return t()};Vw=function(e,t,r){switch(t){case"input":if(Bw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=R_(n);if(!i)throw Error(le(90));BK(n),Bw(n,i)}}}break;case"textarea":jK(e,r);break;case"select":t=r.value,t!=null&&tc(e,!!r.multiple,t,!1)}};aI=eW;YK=function(e,t,r,n,i){var a=Re;Re|=4;try{return Tl(98,e.bind(null,t,r,n,i))}finally{Re=a,Re===0&&(xf(),ma())}};oI=function(){!(Re&49)&&(f$e(),Is())};XK=function(e,t){var r=Re;Re|=2;try{return e(t)}finally{Re=r,Re===0&&(xf(),ma())}};function lW(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(t))throw Error(le(200));return b$e(e,t,null,r)}var A$e={Events:[f0,Uu,R_,zK,VK,Is,{current:!1}]},vd={findFiberByHostInstance:il,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},R$e={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QK(e),e===null?null:e.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||T$e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{yI=jp.inject(R$e),pl=jp}catch{}}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A$e;di.createPortal=lW;di.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):Error(le(268,Object.keys(e)));return e=QK(t),e=e===null?null:e.stateNode,e};di.flushSync=function(e,t){var r=Re;if(r&48)return e(t);Re|=1;try{if(e)return Tl(99,e.bind(null,t))}finally{Re=r,ma()}};di.hydrate=function(e,t,r){if(!v0(t))throw Error(le(200));return L_(null,e,t,!0,r)};di.render=function(e,t,r){if(!v0(t))throw Error(le(200));return L_(null,e,t,!1,r)};di.unmountComponentAtNode=function(e){if(!v0(e))throw Error(le(40));return e._reactRootContainer?(tW(function(){L_(null,null,e,!1,function(){e._reactRootContainer=null,e[yf]=null})}),!0):!1};di.unstable_batchedUpdates=eW;di.unstable_createPortal=function(e,t){return lW(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};di.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!v0(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return L_(e,t,r,!1,n)};di.version="17.0.2";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=di})(LLe);const O$e=b1(Sl);function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ly(e,t)}function oa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ly(e,t)}var we={},I$e={get exports(){return we},set exports(e){we=e}},C$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P$e=C$e,L$e=P$e;function uW(){}function cW(){}cW.resetWarningCache=uW;var D$e=function(){function e(n,i,a,o,s,l){if(l!==L$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cW,resetWarningCache:uW};return r.PropTypes=r,r};I$e.exports=D$e();function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dr.apply(this,arguments)}function Hp(e){return e.charAt(0)==="/"}function rb(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}function $$e(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],n=t&&t.split("/")||[],i=e&&Hp(e),a=t&&Hp(t),o=i||a;if(e&&Hp(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var s;if(n.length){var l=n[n.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var u=0,c=n.length;c>=0;c--){var d=n[c];d==="."?rb(n,c):d===".."?(rb(n,c),u++):u&&(rb(n,c),u--)}if(!o)for(;u--;u)n.unshift("..");o&&n[0]!==""&&(!n[0]||!Hp(n[0]))&&n.unshift("");var f=n.join("/");return s&&f.substr(-1)!=="/"&&(f+="/"),f}function P3(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function Wg(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(i,a){return Wg(i,t[a])});if(typeof e=="object"||typeof t=="object"){var r=P3(e),n=P3(t);return r!==e||n!==t?Wg(r,n):Object.keys(Object.assign({},e,t)).every(function(i){return Wg(e[i],t[i])})}return!1}var k$e=!0,nb="Invariant failed";function Cs(e,t){if(!e){if(k$e)throw new Error(nb);var r=typeof t=="function"?t():t,n=r?"".concat(nb,": ").concat(r):nb;throw new Error(n)}}function ph(e){return e.charAt(0)==="/"?e:"/"+e}function L3(e){return e.charAt(0)==="/"?e.substr(1):e}function N$e(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function fW(e,t){return N$e(e,t)?e.substr(t.length):e}function dW(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function M$e(e){var t=e||"/",r="",n="",i=t.indexOf("#");i!==-1&&(n=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return a!==-1&&(r=t.substr(a),t=t.substr(0,a)),{pathname:t,search:r==="?"?"":r,hash:n==="#"?"":n}}function tn(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ur(e,t,r,n){var i;typeof e=="string"?(i=M$e(e),i.state=t):(i=dr({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return r&&(i.key=r),n?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=$$e(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i}function F$e(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Wg(e.state,t.state)}function BI(){var e=null;function t(o){return e=o,function(){e===o&&(e=null)}}function r(o,s,l,u){if(e!=null){var c=typeof e=="function"?e(o,s):e;typeof c=="string"?typeof l=="function"?l(c,u):u(!0):u(c!==!1)}else u(!0)}var n=[];function i(o){var s=!0;function l(){s&&o.apply(void 0,arguments)}return n.push(l),function(){s=!1,n=n.filter(function(u){return u!==l})}}function a(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];n.forEach(function(u){return u.apply(void 0,s)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:i,notifyListeners:a}}var hW=!!(typeof window<"u"&&window.document&&window.document.createElement);function vW(e,t){t(window.confirm(e))}function B$e(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function U$e(){return window.navigator.userAgent.indexOf("Trident")===-1}function j$e(){return window.navigator.userAgent.indexOf("Firefox")===-1}function H$e(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var D3="popstate",$3="hashchange";function k3(){try{return window.history.state||{}}catch{return{}}}function K$e(e){e===void 0&&(e={}),hW||Cs(!1);var t=window.history,r=B$e(),n=!U$e(),i=e,a=i.forceRefresh,o=a===void 0?!1:a,s=i.getUserConfirmation,l=s===void 0?vW:s,u=i.keyLength,c=u===void 0?6:u,d=e.basename?dW(ph(e.basename)):"";function f(w){var M=w||{},N=M.key,$=M.state,B=window.location,U=B.pathname,j=B.search,K=B.hash,G=U+j+K;return d&&(G=fW(G,d)),Ur(G,$,N)}function m(){return Math.random().toString(36).substr(2,c)}var _=BI();function x(w){dr(k,w),k.length=t.length,_.notifyListeners(k.location,k.action)}function v(w){H$e(w)||h(f(w.state))}function g(){h(f(k3()))}var p=!1;function h(w){if(p)p=!1,x();else{var M="POP";_.confirmTransitionTo(w,M,l,function(N){N?x({action:M,location:w}):S(w)})}}function S(w){var M=k.location,N=y.indexOf(M.key);N===-1&&(N=0);var $=y.indexOf(w.key);$===-1&&($=0);var B=N-$;B&&(p=!0,A(B))}var O=f(k3()),y=[O.key];function E(w){return d+tn(w)}function b(w,M){var N="PUSH",$=Ur(w,M,m(),k.location);_.confirmTransitionTo($,N,l,function(B){if(B){var U=E($),j=$.key,K=$.state;if(r)if(t.pushState({key:j,state:K},null,U),o)window.location.href=U;else{var G=y.indexOf(k.location.key),W=y.slice(0,G+1);W.push($.key),y=W,x({action:N,location:$})}else window.location.href=U}})}function T(w,M){var N="REPLACE",$=Ur(w,M,m(),k.location);_.confirmTransitionTo($,N,l,function(B){if(B){var U=E($),j=$.key,K=$.state;if(r)if(t.replaceState({key:j,state:K},null,U),o)window.location.replace(U);else{var G=y.indexOf(k.location.key);G!==-1&&(y[G]=$.key),x({action:N,location:$})}else window.location.replace(U)}})}function A(w){t.go(w)}function P(){A(-1)}function C(){A(1)}var D=0;function F(w){D+=w,D===1&&w===1?(window.addEventListener(D3,v),n&&window.addEventListener($3,g)):D===0&&(window.removeEventListener(D3,v),n&&window.removeEventListener($3,g))}var R=!1;function L(w){w===void 0&&(w=!1);var M=_.setPrompt(w);return R||(F(1),R=!0),function(){return R&&(R=!1,F(-1)),M()}}function I(w){var M=_.appendListener(w);return F(1),function(){F(-1),M()}}var k={length:t.length,action:"POP",location:O,createHref:E,push:b,replace:T,go:A,goBack:P,goForward:C,block:L,listen:I};return k}var N3="hashchange",G$e={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+L3(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:L3,decodePath:ph},slash:{encodePath:ph,decodePath:ph}};function pW(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function pd(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function W$e(e){window.location.hash=e}function ib(e){window.location.replace(pW(window.location.href)+"#"+e)}function z$e(e){e===void 0&&(e={}),hW||Cs(!1);var t=window.history;j$e();var r=e,n=r.getUserConfirmation,i=n===void 0?vW:n,a=r.hashType,o=a===void 0?"slash":a,s=e.basename?dW(ph(e.basename)):"",l=G$e[o],u=l.encodePath,c=l.decodePath;function d(){var M=c(pd());return s&&(M=fW(M,s)),Ur(M)}var f=BI();function m(M){dr(w,M),w.length=t.length,f.notifyListeners(w.location,w.action)}var _=!1,x=null;function v(M,N){return M.pathname===N.pathname&&M.search===N.search&&M.hash===N.hash}function g(){var M=pd(),N=u(M);if(M!==N)ib(N);else{var $=d(),B=w.location;if(!_&&v(B,$)||x===tn($))return;x=null,p($)}}function p(M){if(_)_=!1,m();else{var N="POP";f.confirmTransitionTo(M,N,i,function($){$?m({action:N,location:M}):h(M)})}}function h(M){var N=w.location,$=E.lastIndexOf(tn(N));$===-1&&($=0);var B=E.lastIndexOf(tn(M));B===-1&&(B=0);var U=$-B;U&&(_=!0,P(U))}var S=pd(),O=u(S);S!==O&&ib(O);var y=d(),E=[tn(y)];function b(M){var N=document.querySelector("base"),$="";return N&&N.getAttribute("href")&&($=pW(window.location.href)),$+"#"+u(s+tn(M))}function T(M,N){var $="PUSH",B=Ur(M,void 0,void 0,w.location);f.confirmTransitionTo(B,$,i,function(U){if(U){var j=tn(B),K=u(s+j),G=pd()!==K;if(G){x=j,W$e(K);var W=E.lastIndexOf(tn(w.location)),V=E.slice(0,W+1);V.push(j),E=V,m({action:$,location:B})}else m()}})}function A(M,N){var $="REPLACE",B=Ur(M,void 0,void 0,w.location);f.confirmTransitionTo(B,$,i,function(U){if(U){var j=tn(B),K=u(s+j),G=pd()!==K;G&&(x=j,ib(K));var W=E.indexOf(tn(w.location));W!==-1&&(E[W]=j),m({action:$,location:B})}})}function P(M){t.go(M)}function C(){P(-1)}function D(){P(1)}var F=0;function R(M){F+=M,F===1&&M===1?window.addEventListener(N3,g):F===0&&window.removeEventListener(N3,g)}var L=!1;function I(M){M===void 0&&(M=!1);var N=f.setPrompt(M);return L||(R(1),L=!0),function(){return L&&(L=!1,R(-1)),N()}}function k(M){var N=f.appendListener(M);return R(1),function(){R(-1),N()}}var w={length:t.length,action:"POP",location:y,createHref:b,push:T,replace:A,go:P,goBack:C,goForward:D,block:I,listen:k};return w}function M3(e,t,r){return Math.min(Math.max(e,t),r)}function V$e(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,i=n===void 0?["/"]:n,a=t.initialIndex,o=a===void 0?0:a,s=t.keyLength,l=s===void 0?6:s,u=BI();function c(b){dr(E,b),E.length=E.entries.length,u.notifyListeners(E.location,E.action)}function d(){return Math.random().toString(36).substr(2,l)}var f=M3(o,0,i.length-1),m=i.map(function(b){return typeof b=="string"?Ur(b,void 0,d()):Ur(b,void 0,b.key||d())}),_=tn;function x(b,T){var A="PUSH",P=Ur(b,T,d(),E.location);u.confirmTransitionTo(P,A,r,function(C){if(C){var D=E.index,F=D+1,R=E.entries.slice(0);R.length>F?R.splice(F,R.length-F,P):R.push(P),c({action:A,location:P,index:F,entries:R})}})}function v(b,T){var A="REPLACE",P=Ur(b,T,d(),E.location);u.confirmTransitionTo(P,A,r,function(C){C&&(E.entries[E.index]=P,c({action:A,location:P}))})}function g(b){var T=M3(E.index+b,0,E.entries.length-1),A="POP",P=E.entries[T];u.confirmTransitionTo(P,A,r,function(C){C?c({action:A,location:P,index:T}):c()})}function p(){g(-1)}function h(){g(1)}function S(b){var T=E.index+b;return T>=0&&T<E.entries.length}function O(b){return b===void 0&&(b=!1),u.setPrompt(b)}function y(b){return u.appendListener(b)}var E={length:m.length,action:"POP",location:m[f],index:f,entries:m,createHref:_,push:x,replace:v,go:g,goBack:p,goForward:h,canGo:S,block:O,listen:y};return E}var hs={},Y$e={get exports(){return hs},set exports(e){hs=e}},X$e=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},uy=X$e;Y$e.exports=yW;hs.parse=UI;hs.compile=Q$e;hs.tokensToFunction=gW;hs.tokensToRegExp=mW;var q$e=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function UI(e,t){for(var r=[],n=0,i=0,a="",o=t&&t.delimiter||"/",s;(s=q$e.exec(e))!=null;){var l=s[0],u=s[1],c=s.index;if(a+=e.slice(i,c),i=c+l.length,u){a+=u[1];continue}var d=e[i],f=s[2],m=s[3],_=s[4],x=s[5],v=s[6],g=s[7];a&&(r.push(a),a="");var p=f!=null&&d!=null&&d!==f,h=v==="+"||v==="*",S=v==="?"||v==="*",O=s[2]||o,y=_||x;r.push({name:m||n++,prefix:f||"",delimiter:O,optional:S,repeat:h,partial:p,asterisk:!!g,pattern:y?eke(y):g?".*":"[^"+zg(O)+"]+?"})}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function Q$e(e,t){return gW(UI(e,t),t)}function Z$e(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function J$e(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function gW(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",HI(t)));return function(i,a){for(var o="",s=i||{},l=a||{},u=l.pretty?Z$e:encodeURIComponent,c=0;c<e.length;c++){var d=e[c];if(typeof d=="string"){o+=d;continue}var f=s[d.name],m;if(f==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(uy(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var _=0;_<f.length;_++){if(m=u(f[_]),!r[c].test(m))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(m)+"`");o+=(_===0?d.prefix:d.delimiter)+m}continue}if(m=d.asterisk?J$e(f):u(f),!r[c].test(m))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+m+'"');o+=d.prefix+m}return o}}function zg(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function eke(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function jI(e,t){return e.keys=t,e}function HI(e){return e&&e.sensitive?"":"i"}function tke(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return jI(e,t)}function rke(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(yW(e[i],t,r).source);var a=new RegExp("(?:"+n.join("|")+")",HI(r));return jI(a,t)}function nke(e,t,r){return mW(UI(e,r),t,r)}function mW(e,t,r){uy(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,i=r.end!==!1,a="",o=0;o<e.length;o++){var s=e[o];if(typeof s=="string")a+=zg(s);else{var l=zg(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+l+u+")*"),s.optional?s.partial?u=l+"("+u+")?":u="(?:"+l+"("+u+"))?":u=l+"("+u+")",a+=u}}var c=zg(r.delimiter||"/"),d=a.slice(-c.length)===c;return n||(a=(d?a.slice(0,-c.length):a)+"(?:"+c+"(?=$))?"),i?a+="$":a+=n&&d?"":"(?="+c+"|$)",jI(new RegExp("^"+a,HI(r)),t)}function yW(e,t,r){return uy(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?tke(e,t):uy(e)?rke(e,t,r):nke(e,t,r)}var b2={},ike={get exports(){return b2},set exports(e){b2=e}},lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr=typeof Symbol=="function"&&Symbol.for,KI=rr?Symbol.for("react.element"):60103,GI=rr?Symbol.for("react.portal"):60106,D_=rr?Symbol.for("react.fragment"):60107,$_=rr?Symbol.for("react.strict_mode"):60108,k_=rr?Symbol.for("react.profiler"):60114,N_=rr?Symbol.for("react.provider"):60109,M_=rr?Symbol.for("react.context"):60110,WI=rr?Symbol.for("react.async_mode"):60111,F_=rr?Symbol.for("react.concurrent_mode"):60111,B_=rr?Symbol.for("react.forward_ref"):60112,U_=rr?Symbol.for("react.suspense"):60113,ake=rr?Symbol.for("react.suspense_list"):60120,j_=rr?Symbol.for("react.memo"):60115,H_=rr?Symbol.for("react.lazy"):60116,oke=rr?Symbol.for("react.block"):60121,ske=rr?Symbol.for("react.fundamental"):60117,lke=rr?Symbol.for("react.responder"):60118,uke=rr?Symbol.for("react.scope"):60119;function Nn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case KI:switch(e=e.type,e){case WI:case F_:case D_:case k_:case $_:case U_:return e;default:switch(e=e&&e.$$typeof,e){case M_:case B_:case H_:case j_:case N_:return e;default:return t}}case GI:return t}}}function _W(e){return Nn(e)===F_}lt.AsyncMode=WI;lt.ConcurrentMode=F_;lt.ContextConsumer=M_;lt.ContextProvider=N_;lt.Element=KI;lt.ForwardRef=B_;lt.Fragment=D_;lt.Lazy=H_;lt.Memo=j_;lt.Portal=GI;lt.Profiler=k_;lt.StrictMode=$_;lt.Suspense=U_;lt.isAsyncMode=function(e){return _W(e)||Nn(e)===WI};lt.isConcurrentMode=_W;lt.isContextConsumer=function(e){return Nn(e)===M_};lt.isContextProvider=function(e){return Nn(e)===N_};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===KI};lt.isForwardRef=function(e){return Nn(e)===B_};lt.isFragment=function(e){return Nn(e)===D_};lt.isLazy=function(e){return Nn(e)===H_};lt.isMemo=function(e){return Nn(e)===j_};lt.isPortal=function(e){return Nn(e)===GI};lt.isProfiler=function(e){return Nn(e)===k_};lt.isStrictMode=function(e){return Nn(e)===$_};lt.isSuspense=function(e){return Nn(e)===U_};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===D_||e===F_||e===k_||e===$_||e===U_||e===ake||typeof e=="object"&&e!==null&&(e.$$typeof===H_||e.$$typeof===j_||e.$$typeof===N_||e.$$typeof===M_||e.$$typeof===B_||e.$$typeof===ske||e.$$typeof===lke||e.$$typeof===uke||e.$$typeof===oke)};lt.typeOf=Nn;(function(e){e.exports=lt})(ike);function p0(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var EW=b2,cke={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fke={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xW={};xW[EW.ForwardRef]=cke;xW[EW.Memo]=fke;var ab=1073741823,F3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function dke(){var e="__global_unique_id__";return F3[e]=(F3[e]||0)+1}function hke(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vke(e){var t=[];return{on:function(n){t.push(n)},off:function(n){t=t.filter(function(i){return i!==n})},get:function(){return e},set:function(n,i){e=n,t.forEach(function(a){return a(e,i)})}}}function pke(e){return Array.isArray(e)?e[0]:e}function gke(e,t){var r,n,i="__create-react-context-"+dke()+"__",a=function(s){oa(l,s);function l(){for(var c,d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return c=s.call.apply(s,[this].concat(f))||this,c.emitter=vke(c.props.value),c}var u=l.prototype;return u.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},u.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var f=this.props.value,m=d.value,_;hke(f,m)?_=0:(_=typeof t=="function"?t(f,m):ab,_|=0,_!==0&&this.emitter.set(d.value,_))}},u.render=function(){return this.props.children},l}(me.Component);a.childContextTypes=(r={},r[i]=we.object.isRequired,r);var o=function(s){oa(l,s);function l(){for(var c,d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return c=s.call.apply(s,[this].concat(f))||this,c.observedBits=void 0,c.state={value:c.getValue()},c.onUpdate=function(_,x){var v=c.observedBits|0;v&x&&c.setState({value:c.getValue()})},c}var u=l.prototype;return u.componentWillReceiveProps=function(d){var f=d.observedBits;this.observedBits=f??ab},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??ab},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():e},u.render=function(){return pke(this.props.children)(this.state.value)},l}(me.Component);return o.contextTypes=(n={},n[i]=we.object,n),{Provider:a,Consumer:o}}var mke=me.createContext||gke,SW=function(t){var r=mke();return r.displayName=t,r},bW=SW("Router-History"),sa=SW("Router"),K_=function(e){oa(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(n){var i;return i=e.call(this,n)||this,i.state={location:n.history.location},i._isMounted=!1,i._pendingLocation=null,n.staticContext||(i.unlisten=n.history.listen(function(a){i._pendingLocation=a})),i}var r=t.prototype;return r.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(a){i._isMounted&&i.setState({location:a})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return me.createElement(sa.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},me.createElement(bW.Provider,{children:this.props.children||null,value:this.props.history}))},t}(me.Component);me.Component;var yke=function(e){oa(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(me.Component),ob={},_ke=1e4,B3=0;function Eke(e){if(ob[e])return ob[e];var t=hs.compile(e);return B3<_ke&&(ob[e]=t,B3++),t}function cy(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:Eke(e)(t,{pretty:!0})}function xke(e){var t=e.computedMatch,r=e.to,n=e.push,i=n===void 0?!1:n;return me.createElement(sa.Consumer,null,function(a){a||Cs(!1);var o=a.history,s=a.staticContext,l=i?o.push:o.replace,u=Ur(t?typeof r=="string"?cy(r,t.params):dr({},r,{pathname:cy(r.pathname,t.params)}):r);return s?(l(u),null):me.createElement(yke,{onMount:function(){l(u)},onUpdate:function(d,f){var m=Ur(f.to);F$e(m,dr({},u,{key:m.key}))||l(u)},to:r})})}var U3={},Ske=1e4,j3=0;function bke(e,t){var r=""+t.end+t.strict+t.sensitive,n=U3[r]||(U3[r]={});if(n[e])return n[e];var i=[],a=hs(e,i,t),o={regexp:a,keys:i};return j3<Ske&&(n[e]=o,j3++),o}function G_(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,i=r.exact,a=i===void 0?!1:i,o=r.strict,s=o===void 0?!1:o,l=r.sensitive,u=l===void 0?!1:l,c=[].concat(n);return c.reduce(function(d,f){if(!f&&f!=="")return null;if(d)return d;var m=bke(f,{end:a,strict:s,sensitive:u}),_=m.regexp,x=m.keys,v=_.exec(e);if(!v)return null;var g=v[0],p=v.slice(1),h=e===g;return a&&!h?null:{path:f,url:f==="/"&&g===""?"/":g,isExact:h,params:x.reduce(function(S,O,y){return S[O.name]=p[y],S},{})}},null)}function Tke(e){return me.Children.count(e)===0}var _o=function(e){oa(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this;return me.createElement(sa.Consumer,null,function(a){a||Cs(!1);var o=i.props.location||a.location,s=i.props.computedMatch?i.props.computedMatch:i.props.path?G_(o.pathname,i.props):a.match,l=dr({},a,{location:o,match:s}),u=i.props,c=u.children,d=u.component,f=u.render;return Array.isArray(c)&&Tke(c)&&(c=null),me.createElement(sa.Provider,{value:l},l.match?c?typeof c=="function"?c(l):c:d?me.createElement(d,l):f?f(l):null:typeof c=="function"?c(l):null)})},t}(me.Component);function zI(e){return e.charAt(0)==="/"?e:"/"+e}function wke(e,t){return e?dr({},t,{pathname:zI(e)+t.pathname}):t}function Ake(e,t){if(!e)return t;var r=zI(e);return t.pathname.indexOf(r)!==0?t:dr({},t,{pathname:t.pathname.substr(r.length)})}function H3(e){return typeof e=="string"?e:tn(e)}function sb(e){return function(){Cs(!1)}}function K3(){}me.Component;var Rke=function(e){oa(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var i=this;return me.createElement(sa.Consumer,null,function(a){a||Cs(!1);var o=i.props.location||a.location,s,l;return me.Children.forEach(i.props.children,function(u){if(l==null&&me.isValidElement(u)){s=u;var c=u.props.path||u.props.from;l=c?G_(o.pathname,dr({},u.props,{path:c})):a.match}}),l?me.cloneElement(s,{location:o,computedMatch:l}):null})},t}(me.Component),W_=me.useContext;function Sf(){return W_(bW)}function TW(){return W_(sa).location}function wW(){var e=W_(sa).match;return e?e.params:{}}function Oke(e){var t=TW(),r=W_(sa).match;return e?G_(t.pathname,e):r}var Ike=function(e){oa(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.history=K$e(n.props),n}var r=t.prototype;return r.render=function(){return me.createElement(K_,{history:this.history,children:this.props.children})},t}(me.Component),Cke=function(e){oa(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.history=z$e(n.props),n}var r=t.prototype;return r.render=function(){return me.createElement(K_,{history:this.history,children:this.props.children})},t}(me.Component),T2=function(t,r){return typeof t=="function"?t(r):t},w2=function(t,r){return typeof t=="string"?Ur(t,null,null,r):t},VI=function(t){return t},Nc=me.forwardRef;typeof Nc>"u"&&(Nc=VI);function Pke(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Lke=Nc(function(e,t){var r=e.innerRef,n=e.navigate,i=e.onClick,a=p0(e,["innerRef","navigate","onClick"]),o=a.target,s=dr({},a,{onClick:function(u){try{i&&i(u)}catch(c){throw u.preventDefault(),c}!u.defaultPrevented&&u.button===0&&(!o||o==="_self")&&!Pke(u)&&(u.preventDefault(),n())}});return VI!==Nc?s.ref=t||r:s.ref=r,me.createElement("a",s)}),g0=Nc(function(e,t){var r=e.component,n=r===void 0?Lke:r,i=e.replace,a=e.to,o=e.innerRef,s=p0(e,["component","replace","to","innerRef"]);return me.createElement(sa.Consumer,null,function(l){l||Cs(!1);var u=l.history,c=w2(T2(a,l.location),l.location),d=c?u.createHref(c):"",f=dr({},s,{href:d,navigate:function(){var _=T2(a,l.location),x=tn(l.location)===tn(w2(_)),v=i||x?u.replace:u.push;v(_)}});return VI!==Nc?f.ref=t||o:f.innerRef=o,me.createElement(n,f)})}),AW=function(t){return t},fy=me.forwardRef;typeof fy>"u"&&(fy=AW);function Dke(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n}).join(" ")}fy(function(e,t){var r=e["aria-current"],n=r===void 0?"page":r,i=e.activeClassName,a=i===void 0?"active":i,o=e.activeStyle,s=e.className,l=e.exact,u=e.isActive,c=e.location,d=e.sensitive,f=e.strict,m=e.style,_=e.to,x=e.innerRef,v=p0(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return me.createElement(sa.Consumer,null,function(g){g||Cs(!1);var p=c||g.location,h=w2(T2(_,p),p),S=h.pathname,O=S&&S.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),y=O?G_(p.pathname,{path:O,exact:l,sensitive:d,strict:f}):null,E=!!(u?u(y,p):y),b=typeof s=="function"?s(E):s,T=typeof m=="function"?m(E):m;E&&(b=Dke(b,a),T=dr({},T,o));var A=dr({"aria-current":E&&n||null,className:b,style:T,to:h},v);return AW!==fy?A.ref=t||x:A.innerRef=x,me.createElement(g0,A)})});const $ke="modulepreload",kke=function(e){return"/"+e},G3={},A2=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=kke(a),a in G3)return;G3[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":$ke,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};function Nke(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=e;let s,l;const u=async(d=!0)=>{await l};async function c(){if("serviceWorker"in navigator){const{Workbox:d}=await A2(()=>import("./workbox-window.prod.es5-dc90f814.js"),[]);s=new d("/sw.js",{scope:"/",type:"classic"}),s.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),s.addEventListener("installed",f=>{f.isUpdate||n==null||n()}),s.register({immediate:t}).then(f=>{a?a("/sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=c(),u}function ur(e){return ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(e)}function Mke(e,t){if(ur(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ur(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e){var t=Mke(e,"string");return ur(t)==="symbol"?t:String(t)}function hi(e,t,r){return t=RW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YI(e,t){if(e==null)return{};var r=p0(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Fke={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Bke=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function W3(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(Fke[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var i=new RegExp(Bke),a=null;(a=i.exec(e))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),t.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Uke=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,jke=/^\s*$/,Hke=Object.create(null);function OW(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(OW,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Kke={parse:function(e,t){t||(t={}),t.components||(t.components=Hke);var r,n=[],i=[],a=-1,o=!1;if(e.indexOf("<")!==0){var s=e.indexOf("<");n.push({type:"text",content:s===-1?e:e.substring(0,s)})}return e.replace(Uke,function(l,u){if(o){if(l!=="</"+r.name+">")return;o=!1}var c,d=l.charAt(1)!=="/",f=l.startsWith("<!--"),m=u+l.length,_=e.charAt(m);if(f){var x=W3(l);return a<0?(n.push(x),n):((c=i[a]).children.push(x),n)}if(d&&(a++,(r=W3(l)).type==="tag"&&t.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!_||_==="<"||r.children.push({type:"text",content:e.slice(m,e.indexOf("<",m))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!d||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&_!=="<"&&_)){c=a===-1?n:i[a].children;var v=e.indexOf("<",m),g=e.slice(m,v===-1?void 0:v);jke.test(g)&&(g=" "),(v>-1&&a+c.length>=0||g!==" ")&&c.push({type:"text",content:g})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+OW("",r)},"")}};function Vg(){if(console&&console.warn){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(e=console).warn.apply(e,r)}}var z3={};function dy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&z3[t[0]]||(typeof t[0]=="string"&&(z3[t[0]]=new Date),Vg.apply(void 0,t))}function V3(e,t,r){e.loadNamespaces(t,function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}})}function Gke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(l,u){var c=t.services.backendConnector.state["".concat(l,"|").concat(u)];return c===-1||c===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}function Wke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return dy("i18n.languages were undefined or empty",t.languages),!0;var n=t.options.ignoreJSONStructure!==void 0;return n?t.hasLoadedNamespace(e,{precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,e))return!1}}):Gke(e,t,r)}var zke=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Vke={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Yke=function(t){return Vke[t]},Xke=function(t){return t.replace(zke,Yke)};function Y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var R2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Xke};function qke(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R2=X3(X3({},R2),e)}function IW(){return R2}var CW;function Qke(e){CW=e}function XI(){return CW}var Zke=["format"],Jke=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lb(e,t){if(!e)return!1;var r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function ub(e){return e?e.props?e.props.children:e.children:[]}function eNe(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(t){return z.isValidElement(t)})}function Kd(e){return Array.isArray(e)?e:[e]}function tNe(e,t){var r=Kt({},t);return r.props=Object.assign(e.props,t.props),r}function PW(e,t){if(!e)return"";var r="",n=Kd(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(z.isValidElement(a)){var s=Object.keys(a.props).length,l=i.indexOf(a.type)>-1,u=a.props.children;if(!u&&l&&s===0)r+="<".concat(a.type,"/>");else if(!u&&(!l||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(l&&s===1&&typeof u=="string")r+="<".concat(a.type,">").concat(u,"</").concat(a.type,">");else{var c=PW(u,t);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)Vg("Trans: the passed in value is invalid - seems you passed in a null child.");else if(ur(a)==="object"){var d=a.format,f=YI(a,Zke),m=Object.keys(f);if(m.length===1){var _=d?"".concat(m[0],", ").concat(d):m[0];r+="{{".concat(_,"}}")}else Vg("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Vg("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function rNe(e,t,r,n,i,a){if(t==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(o.join("|")).test(t);if(!e&&!s)return[t];var l={};function u(v){var g=Kd(v);g.forEach(function(p){typeof p!="string"&&(lb(p)?u(ub(p)):ur(p)==="object"&&!z.isValidElement(p)&&Object.assign(l,p))})}u(e);var c=Kke.parse("<0>".concat(t,"</0>")),d=Kt(Kt({},l),i);function f(v,g,p){var h=ub(v),S=_(h,g.children,p);return eNe(h)&&S.length===0?h:S}function m(v,g,p,h,S){v.dummy&&(v.children=g),p.push(z.cloneElement(v,Kt(Kt({},v.props),{},{key:h}),S?void 0:g))}function _(v,g,p){var h=Kd(v),S=Kd(g);return S.reduce(function(O,y,E){var b=y.children&&y.children[0]&&y.children[0].content&&r.services.interpolator.interpolate(y.children[0].content,d,r.language);if(y.type==="tag"){var T=h[parseInt(y.name,10)];!T&&p.length===1&&p[0][y.name]&&(T=p[0][y.name]),T||(T={});var A=Object.keys(y.attrs).length!==0?tNe({props:y.attrs},T):T,P=z.isValidElement(A),C=P&&lb(y,!0)&&!y.voidElement,D=s&&ur(A)==="object"&&A.dummy&&!P,F=ur(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,y.name);if(typeof A=="string"){var R=r.services.interpolator.interpolate(A,d,r.language);O.push(R)}else if(lb(A)||C){var L=f(A,y,p);m(A,L,O,E)}else if(D){var I=_(h,y.children,p);O.push(z.cloneElement(A,Kt(Kt({},A.props),{},{key:E}),I))}else if(Number.isNaN(parseFloat(y.name)))if(F){var k=f(A,y,p);m(A,k,O,E,y.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(y.name)>-1)if(y.voidElement)O.push(z.createElement(y.name,{key:"".concat(y.name,"-").concat(E)}));else{var w=_(h,y.children,p);O.push(z.createElement(y.name,{key:"".concat(y.name,"-").concat(E)},w))}else if(y.voidElement)O.push("<".concat(y.name," />"));else{var M=_(h,y.children,p);O.push("<".concat(y.name,">").concat(M,"</").concat(y.name,">"))}else if(ur(A)==="object"&&!P){var N=y.children[0]?b:null;N&&O.push(N)}else y.children.length===1&&b?O.push(z.cloneElement(A,Kt(Kt({},A.props),{},{key:E}),b)):O.push(z.cloneElement(A,Kt(Kt({},A.props),{},{key:E})))}else if(y.type==="text"){var $=n.transWrapTextNodes,B=a?n.unescape(r.services.interpolator.interpolate(y.content,d,r.language)):r.services.interpolator.interpolate(y.content,d,r.language);$?O.push(z.createElement($,{key:"".concat(y.name,"-").concat(E)},B)):O.push(B)}return O},[])}var x=_([{dummy:!0,children:e||[]}],c,Kd(e||[]));return ub(x[0])}function nNe(e){var t=e.children,r=e.count,n=e.parent,i=e.i18nKey,a=e.context,o=e.tOptions,s=o===void 0?{}:o,l=e.values,u=e.defaults,c=e.components,d=e.ns,f=e.i18n,m=e.t,_=e.shouldUnescape,x=YI(e,Jke),v=f||XI();if(!v)return dy("You will need to pass in an i18next instance by using i18nextReactModule"),t;var g=m||v.t.bind(v)||function(C){return C};a&&(s.context=a);var p=Kt(Kt({},IW()),v.options&&v.options.react),h=d||g.ns||v.options&&v.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"];var S=u||PW(t,p)||p.transEmptyNodeValue||i,O=p.hashTransKey,y=i||(O?O(S):S),E=l?s.interpolation:{interpolation:Kt(Kt({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},b=Kt(Kt(Kt(Kt({},s),{},{count:r},l),E),{},{defaultValue:S,ns:h}),T=y?g(y,b):S,A=rNe(c||t,T,v,p,b,_),P=n!==void 0?n:p.defaultTransParent;return P?z.createElement(P,x,A):A}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RW(n.key),n)}}function pi(e,t,r){return t&&Q3(e.prototype,t),r&&Q3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var iNe={type:"3rdParty",init:function(t){qke(t.options.react),Qke(t)}},LW=z.createContext(),aNe=function(){function e(){vi(this,e),this.usedNamespaces={}}return pi(e,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}(),oNe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qI(e){var t=e.children,r=e.count,n=e.parent,i=e.i18nKey,a=e.context,o=e.tOptions,s=o===void 0?{}:o,l=e.values,u=e.defaults,c=e.components,d=e.ns,f=e.i18n,m=e.t,_=e.shouldUnescape,x=YI(e,oNe),v=z.useContext(LW)||{},g=v.i18n,p=v.defaultNS,h=f||g||XI(),S=m||h&&h.t.bind(h);return nNe(sNe({children:t,count:r,parent:n,i18nKey:i,context:a,tOptions:s,values:l,defaults:u,components:c,ns:d||S&&S.ns||p||h&&h.options&&h.options.defaultNS,i18n:h,t:m,shouldUnescape:_},x))}function DW(e){if(Array.isArray(e))return e}function lNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function J3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $W(e,t){if(e){if(typeof e=="string")return J3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(e,t)}}function kW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uNe(e,t){return DW(e)||lNe(e,t)||$W(e,t)||kW()}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var cNe=function(t,r){var n=z.useRef();return z.useEffect(function(){n.current=r?n.current:t},[t,r]),n.current};function Fe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.i18n,n=z.useContext(LW)||{},i=n.i18n,a=n.defaultNS,o=r||i||XI();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new aNe),!o){dy("You will need to pass in an i18next instance by using initReactI18next");var s=function(T,A){return typeof A=="string"?A:A&&ur(A)==="object"&&typeof A.defaultValue=="string"?A.defaultValue:Array.isArray(T)?T[T.length-1]:T},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}o.options.react&&o.options.react.wait!==void 0&&dy("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=cb(cb(cb({},IW()),o.options.react),t),c=u.useSuspense,d=u.keyPrefix,f=e||a||o.options&&o.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(f);var m=(o.isInitialized||o.initializedStoreOnce)&&f.every(function(b){return Wke(b,o,u)});function _(){return o.getFixedT(null,u.nsMode==="fallback"?f:f[0],d)}var x=z.useState(_),v=uNe(x,2),g=v[0],p=v[1],h=f.join(),S=cNe(h),O=z.useRef(!0);z.useEffect(function(){var b=u.bindI18n,T=u.bindI18nStore;O.current=!0,!m&&!c&&V3(o,f,function(){O.current&&p(_)}),m&&S&&S!==h&&O.current&&p(_);function A(){O.current&&p(_)}return b&&o&&o.on(b,A),T&&o&&o.store.on(T,A),function(){O.current=!1,b&&o&&b.split(" ").forEach(function(P){return o.off(P,A)}),T&&o&&T.split(" ").forEach(function(P){return o.store.off(P,A)})}},[o,h]);var y=z.useRef(!0);z.useEffect(function(){O.current&&!y.current&&p(_),y.current=!1},[o,d]);var E=[g,o,m];if(E.t=g,E.i18n=o,E.ready=m,m||!m&&!c)return E;throw new Promise(function(b){V3(o,f,function(){b()})})}var ye=(e=>(e.SEARCH="search",e.BOOKMARK="bookmark",e.BOOKMARK_OUTLINE="bookmark_outline",e.CLOCK="clock",e.EYE_SLASH="eyeSlash",e.ARROW_LEFT="arrowLeft",e.ARROW_RIGHT="arrowRight",e.CHEVRON_DOWN="chevronDown",e.CHEVRON_RIGHT="chevronRight",e.CHEVRON_LEFT="chevronLeft",e.CLAPPER_BOARD="clapperBoard",e.FILM="film",e.DRAGON="dragon",e.WARNING="warning",e.MOVIE_WEB="movieWeb",e.DISCORD="discord",e.GITHUB="github",e.PLAY="play",e.PAUSE="pause",e.EXPAND="expand",e.COMPRESS="compress",e.VOLUME="volume",e.VOLUME_X="volume_x",e.X="x",e.EDIT="edit",e.AIRPLAY="airplay",e.EPISODES="episodes",e.SKIP_FORWARD="skip_forward",e.SKIP_BACKWARD="skip_backward",e.FILE="file",e.CAPTIONS="captions",e.LINK="link",e.CASTING="casting",e.CIRCLE_EXCLAMATION="circle_exclamation",e.DOWNLOAD="download",e.GEAR="gear",e.WATCH_PARTY="watch_party",e.PICTURE_IN_PICTURE="pictureInPicture",e.CHECKMARK="checkmark",e.TACHOMETER="tachometer",e))(ye||{});const fNe={search:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M384 48V512l-192-112L0 512V48C0 21.5 21.5 0 48 0h288C362.5 0 384 21.5 384 48z"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',eyeSlash:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z"/></svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',chevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',chevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',clapperBoard:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"/></svg>',film:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M463.1 32h-416C21.49 32-.0001 53.49-.0001 80v352c0 26.51 21.49 48 47.1 48h416c26.51 0 48-21.49 48-48v-352C511.1 53.49 490.5 32 463.1 32zM111.1 408c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 408zM111.1 280c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM111.1 152c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 152zM351.1 400c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V400zM351.1 208c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V208zM463.1 408c0 4.418-3.582 8-8 8h-47.1c-4.418 0-7.1-3.582-7.1-8l0-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V408zM463.1 280c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM463.1 152c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8l0-48c0-4.418 3.582-8 7.1-8h47.1c4.418 0 8 3.582 8 8V152z"/></svg>',dragon:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M18.43 255.8L192 224L100.8 292.6C90.67 302.8 97.8 320 112 320h222.7c-9.499-26.5-14.75-54.5-14.75-83.38V194.2L200.3 106.8C176.5 90.88 145 92.75 123.3 111.2l-117.5 116.4C-6.562 238 2.436 258 18.43 255.8zM575.2 289.9l-100.7-50.25c-16.25-8.125-26.5-24.75-26.5-43V160h63.99l28.12 22.62C546.1 188.6 554.2 192 562.7 192h30.1c11.1 0 23.12-6.875 28.5-17.75l14.37-28.62c5.374-10.87 4.25-23.75-2.999-33.5l-74.49-99.37C552.1 4.75 543.5 0 533.5 0H296C288.9 0 285.4 8.625 290.4 13.62L351.1 64L292.4 88.75c-5.874 3-5.874 11.37 0 14.37L351.1 128l-.0011 108.6c0 72 35.99 139.4 95.99 179.4c-195.6 6.75-344.4 41-434.1 60.88c-8.124 1.75-13.87 9-13.87 17.38C.0463 504 8.045 512 17.79 512h499.1c63.24 0 119.6-47.5 122.1-110.8C642.3 354 617.1 310.9 575.2 289.9zM489.1 66.25l45.74 11.38c-2.75 11-12.5 18.88-24.12 18.25C497.7 95.25 484.8 83.38 489.1 66.25z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',movieWeb:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20.927 20.927"><path d="M18.186,4.5V6.241H16.445V4.5H9.482V6.241H7.741V4.5H6V20.168H7.741V18.427H9.482v1.741h6.964V18.427h1.741v1.741h1.741V4.5Zm-8.7,12.186H7.741V14.945H9.482Zm0-3.482H7.741V11.464H9.482Zm0-3.482H7.741V7.982H9.482Zm8.7,6.964H16.445V14.945h1.741Zm0-3.482H16.445V11.464h1.741Zm0-3.482H16.445V7.982h1.741Z" transform="translate(10.018 -7.425) rotate(45)" fill="currentColor"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg>',github:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 496 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" style="transform: translateX(5%)" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"/></svg>',compress:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"/></svg>',volume_x:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>',bookmark_outline:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M336 0h-288C21.49 0 0 21.49 0 48v431.9c0 24.7 26.79 40.08 48.12 27.64L192 423.6l143.9 83.93C357.2 519.1 384 504.6 384 479.9V48C384 21.49 362.5 0 336 0zM336 452L192 368l-144 84V54C48 50.63 50.63 48 53.1 48h276C333.4 48 336 50.63 336 54V452z"/></svg>',airplay:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-airplay"><path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon fill="currentColor" points="12 15 17 21 7 21 12 15"></polygon></svg>',episodes:'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4C1.34315 4 0 5.34314 0 7V13.9496C0 15.6065 1.34315 16.9496 3 16.9496H5.86645V14.9496H3C2.44772 14.9496 2 14.5019 2 13.9496V7C2 6.44771 2.44771 6 3 6H16.0327C16.585 6 17.0327 6.44772 17.0327 7V9.86645H19.0327V7C19.0327 5.34315 17.6896 4 16.0327 4H3Z" fill="currentColor"/><rect x="5.89929" y="10.5444" width="17" height="10" rx="2" stroke="currentColor" stroke-width="2"/></svg>',skip_forward:'<svg width="1em" height="1em" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3333 12.3333L16 7.66667M16 7.66667L11.3333 3M16 7.66667H6.66667C5.42899 7.66667 4.242 8.15833 3.36684 9.0335C2.49167 9.90867 2 11.0957 2 12.3333C2 13.571 2.49167 14.758 3.36684 15.6332C4.242 16.5083 5.42899 17 6.66667 17H9" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /><path d="M16.5043 14.2727V23H14.6591V16.0241H14.608L12.6094 17.277V15.6406L14.7699 14.2727H16.5043ZM22.0004 23.1918C21.2674 23.1889 20.6367 23.0085 20.1083 22.6506C19.5827 22.2926 19.1779 21.7741 18.8938 21.0952C18.6126 20.4162 18.4734 19.5994 18.4762 18.6449C18.4762 17.6932 18.6168 16.8821 18.8981 16.2116C19.1822 15.5412 19.587 15.0312 20.1126 14.6818C20.641 14.3295 21.2702 14.1534 22.0004 14.1534C22.7305 14.1534 23.3583 14.3295 23.8839 14.6818C24.4123 15.0341 24.8185 15.5455 25.1026 16.2159C25.3867 16.8835 25.5273 17.6932 25.5245 18.6449C25.5245 19.6023 25.3825 20.4205 25.0984 21.0994C24.8171 21.7784 24.4137 22.2969 23.8881 22.6548C23.3626 23.0128 22.7333 23.1918 22.0004 23.1918ZM22.0004 21.6619C22.5004 21.6619 22.8995 21.4105 23.1978 20.9077C23.4961 20.4048 23.6438 19.6506 23.641 18.6449C23.641 17.983 23.5728 17.4318 23.4364 16.9915C23.3029 16.5511 23.1126 16.2202 22.8654 15.9986C22.6211 15.777 22.3327 15.6662 22.0004 15.6662C21.5032 15.6662 21.1055 15.9148 20.8072 16.4119C20.5089 16.9091 20.3583 17.6534 20.3555 18.6449C20.3555 19.3153 20.4222 19.875 20.5558 20.3239C20.6921 20.7699 20.8839 21.1051 21.131 21.3295C21.3782 21.5511 21.668 21.6619 22.0004 21.6619Z" fill="currentColor" /></svg>',skip_backward:'<svg width="1em" height="1em" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.6667 12.3333L9 7.66667M9 7.66667L13.6667 3M9 7.66667H18.3333C19.571 7.66667 20.758 8.15833 21.6332 9.0335C22.5083 9.90867 23 11.0957 23 12.3333C23 13.571 22.5083 14.758 21.6332 15.6332C20.758 16.5083 19.571 17 18.3333 17H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M4.50426 14.2727V23H2.65909V16.0241H2.60795L0.609375 17.277V15.6406L2.76989 14.2727H4.50426ZM10.0004 23.1918C9.2674 23.1889 8.63672 23.0085 8.10831 22.6506C7.58274 22.2926 7.17791 21.7741 6.89382 21.0952C6.61257 20.4162 6.47337 19.5994 6.47621 18.6449C6.47621 17.6932 6.61683 16.8821 6.89808 16.2116C7.18217 15.5412 7.587 15.0312 8.11257 14.6818C8.64098 14.3295 9.27024 14.1534 10.0004 14.1534C10.7305 14.1534 11.3583 14.3295 11.8839 14.6818C12.4123 15.0341 12.8185 15.5455 13.1026 16.2159C13.3867 16.8835 13.5273 17.6932 13.5245 18.6449C13.5245 19.6023 13.3825 20.4205 13.0984 21.0994C12.8171 21.7784 12.4137 22.2969 11.8881 22.6548C11.3626 23.0128 10.7333 23.1918 10.0004 23.1918ZM10.0004 21.6619C10.5004 21.6619 10.8995 21.4105 11.1978 20.9077C11.4961 20.4048 11.6438 19.6506 11.641 18.6449C11.641 17.983 11.5728 17.4318 11.4364 16.9915C11.3029 16.5511 11.1126 16.2202 10.8654 15.9986C10.6211 15.777 10.3327 15.6662 10.0004 15.6662C9.5032 15.6662 9.10547 15.9148 8.80717 16.4119C8.50888 16.9091 8.35831 17.6534 8.35547 18.6449C8.35547 19.3153 8.42223 19.875 8.55575 20.3239C8.69212 20.7699 8.88388 21.1051 9.13104 21.3295C9.3782 21.5511 9.66797 21.6619 10.0004 21.6619Z" fill="currentColor"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',captions:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 25 20"><path transform="translate(-3 -6)" d="M25.5,6H5.5A2.507,2.507,0,0,0,3,8.5v15A2.507,2.507,0,0,0,5.5,26h20A2.507,2.507,0,0,0,28,23.5V8.5A2.507,2.507,0,0,0,25.5,6ZM5.5,16h5v2.5h-5ZM18,23.5H5.5V21H18Zm7.5,0h-5V21h5Zm0-5H13V16H25.5Z" fill="currentColor"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',circle_exclamation:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',casting:"",download:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M481.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-30.9 28.1c-7.7 7.1-11.4 17.5-10.9 27.9c.1 2.9 .2 5.8 .2 8.8s-.1 5.9-.2 8.8c-.5 10.5 3.1 20.9 10.9 27.9l30.9 28.1c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-39.7-12.6c-10-3.2-20.8-1.1-29.7 4.6c-4.9 3.1-9.9 6.1-15.1 8.7c-9.3 4.8-16.5 13.2-18.8 23.4l-8.9 40.7c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-8.9-40.7c-2.2-10.2-9.5-18.6-18.8-23.4c-5.2-2.7-10.2-5.6-15.1-8.7c-8.8-5.7-19.7-7.8-29.7-4.6L69.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l30.9-28.1c7.7-7.1 11.4-17.5 10.9-27.9c-.1-2.9-.2-5.8-.2-8.8s.1-5.9 .2-8.8c.5-10.5-3.1-20.9-10.9-27.9L8.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l39.7 12.6c10 3.2 20.8 1.1 29.7-4.6c4.9-3.1 9.9-6.1 15.1-8.7c9.3-4.8 16.5-13.2 18.8-23.4l8.9-40.7c2-9.1 9-16.3 18.2-17.8C213.3 1.2 227.5 0 242 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l8.9 40.7c2.2 10.2 9.4 18.6 18.8 23.4c5.2 2.7 10.2 5.6 15.1 8.7c8.8 5.7 19.7 7.7 29.7 4.6l39.7-12.6c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM242 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>',watch_party:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M319.4 372c48.5-31.3 80.6-85.9 80.6-148c0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148c1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224C0 100.3 100.3 0 224 0S448 100.3 448 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2c-5.8-9.7-13.5-17-21.9-22.4c19.5-17.6 31.8-43 31.8-71.3c0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3c-8.4 5.4-16.1 12.7-21.9 22.4c-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8c0 33-12.9 104.1-20.6 132.9c-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4c-7.8-28.5-20.6-99.7-20.6-132.8c0-35.1 31.1-43.8 64-43.8zm0-144a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"/></svg>',pictureInPicture:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z" /></svg>',tachometer:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 576 512"><!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M128 288c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm154.65-97.08l16.24-48.71c1.16-3.45 3.18-6.35 4.92-9.43-4.73-2.76-9.94-4.78-15.81-4.78-17.67 0-32 14.33-32 32 0 15.78 11.63 28.29 26.65 30.92zM176 176c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zM288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm212.27 400H75.73C57.56 397.63 48 359.12 48 320 48 187.66 155.66 80 288 80s240 107.66 240 240c0 39.12-9.56 77.63-27.73 112zM416 320c0 17.67 14.33 32 32 32s32-14.33 32-32-14.33-32-32-32-32 14.33-32 32zm-56.41-182.77c-12.72-4.23-26.16 2.62-30.38 15.17l-45.34 136.01C250.49 290.58 224 318.06 224 352c0 11.72 3.38 22.55 8.88 32h110.25c5.5-9.45 8.88-20.28 8.88-32 0-19.45-8.86-36.66-22.55-48.4l45.34-136.01c4.17-12.57-2.64-26.17-15.21-30.36zM432 208c0-15.8-11.66-28.33-26.72-30.93-.07.21-.07.43-.14.65l-19.5 58.49c4.37 2.24 9.11 3.8 14.36 3.8 17.67-.01 32-14.34 32-32.01z"/></svg>'};function dNe(){const e=z.useRef(null);return z.useEffect(()=>{var r;const t=document.createElement("google-cast-launcher");t.setAttribute("id","castbutton"),(r=e.current)==null||r.appendChild(t)},[]),H("div",{ref:e,className:"h-6"})}const tt=z.memo(e=>e.icon==="casting"?H(dNe,{}):H("span",{dangerouslySetInnerHTML:{__html:fNe[e.icon]},className:e.className}));function dn(e){const t=e.clickable?"cursor-pointer hover:scale-110 hover:bg-denim-600 hover:text-white active:scale-125":"",r=e.transparent?"bg-opacity-0 hover:bg-opacity-50":"",n=e.active?"border-bink-600 bg-bink-100 text-bink-600":"";return H("div",{className:e.className||void 0,onClick:e.onClick,children:H("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 border-transparent bg-denim-500 transition-[background-color,color,transform,border-color] duration-75 ${r} ${t} ${n}`,children:H(tt,{icon:e.icon})})})}function hy(e){const t=!!e.url,r=!!e.to,n=H("span",{className:"cursor-pointer font-bold text-bink-600 hover:text-bink-700",children:e.children});return t?H("a",{target:e.newTab?"_blank":void 0,rel:"noreferrer",href:e.url,children:n}):r?H(g0,{to:e.to,children:n}):H("span",{onClick:()=>e.onClick&&e.onClick(),children:n})}function m0(e){return H("h1",{className:`text-2xl font-bold text-white sm:text-3xl md:text-4xl ${e.className??""}`,children:e.children})}const hNe="3.0.14",vNe="https://discord.gg/skool",pNe="https://github.com/Skoolgq/SkoolTV",gNe="G-44YVXRL61C",mNe="https://b267ab7d52674c23af4e4e6cf2956251@o4505053491167232.ingest.sentry.io/4505053495296000",yNe={OMDB_API_KEY:{}.VITE_OMDB_API_KEY,TMDB_API_KEY:{}.VITE_TMDB_API_KEY,APP_VERSION:void 0,GITHUB_LINK:void 0,DISCORD_LINK:void 0,CORS_PROXY_URL:{}.VITE_CORS_PROXY_URL,NORMAL_ROUTER:{}.VITE_NORMAL_ROUTER},t8=[];function Kp(e,t){var i;let r=(i=window==null?void 0:window.__CONFIG__)==null?void 0:i[`VITE_${e}`];r!==void 0&&r.length===0&&(r=void 0);const n=yNe[e]??r??void 0;return n===void 0?t||(t8.includes(e)||(window.alert(`Misconfigured instance, missing key: ${e}`),t8.push(e)),""):n}function Wr(){return{APP_VERSION:hNe,GITHUB_LINK:pNe,DISCORD_LINK:vNe,OMDB_API_KEY:Kp("OMDB_API_KEY"),TMDB_API_KEY:Kp("TMDB_API_KEY"),PROXY_URLS:Kp("CORS_PROXY_URL").split(",").map(e=>e.trim()),NORMAL_ROUTER:Kp("NORMAL_ROUTER","false")==="true"}}function _Ne(e){return ee("div",{className:"w-4xl mt-12 max-w-full rounded bg-denim-300 px-6 py-4",children:[ee("p",{className:"mb-1 break-words font-bold text-white",children:[e.error.name," - ",e.error.description]}),H("p",{className:"break-words",children:e.error.path})]})}function QI(e){const{t}=Fe();return ee("div",{className:`${e.localSize?"h-full":"min-h-screen"} flex w-full flex-col items-center justify-center px-4 py-12`,children:[ee("div",{className:"flex flex-col items-center justify-start text-center",children:[H(dn,{icon:ye.WARNING,className:"mb-6 text-red-400"}),H(m0,{children:t("media.errors.genericTitle")}),e.children?H("p",{className:"my-6 max-w-lg",children:e.children}):H("p",{className:"my-6 max-w-lg",children:ee(qI,{i18nKey:"media.errors.videoFailed",children:[H(hy,{url:Wr().DISCORD_LINK,newTab:!0}),H(hy,{url:Wr().GITHUB_LINK,newTab:!0})]})})]}),e.error?H(_Ne,{error:e.error}):null]})}class ENe extends z.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){if(console.error("Render error caught",t,r),t instanceof Error){const n=t;this.setState(i=>({...i,hasError:!0,error:{name:n.name,description:n.message,path:r.componentStack.split(`
`)[1]}}))}}render(){return this.state.hasError?H(QI,{error:this.state.error}):this.props.children}}var Ae=(e=>(e.MOVIE="movie",e.SERIES="series",e.ANIME="anime",e))(Ae||{}),vy=function(){return vy=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},vy.apply(this,arguments)};function xNe(){var e=z.useRef(!1),t=z.useCallback(function(){return e.current},[]);return z.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function SNe(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={loading:!1});var n=z.useRef(0),i=xNe(),a=z.useState(r),o=a[0],s=a[1],l=z.useCallback(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var d=++n.current;return o.loading||s(function(f){return vy(vy({},f),{loading:!0})}),e.apply(void 0,u).then(function(f){return i()&&d===n.current&&s({value:f,loading:!1}),f},function(f){return i()&&d===n.current&&s({error:f,loading:!1}),f})},t);return[o,l]}function bNe(e,t){t===void 0&&(t=[]);var r=SNe(e,t,{loading:!0}),n=r[0],i=r[1];return z.useEffect(function(){i()},[i]),n}var TNe=function(){},NW=typeof window<"u",wNe=NW?z.useLayoutEffect:z.useEffect;const ANe=wNe;var MW={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function RNe(){var e=z.useState(null),t=e[0],r=e[1],n=z.useState(MW),i=n[0],a=n[1],o=z.useMemo(function(){return new window.ResizeObserver(function(s){if(s[0]){var l=s[0].contentRect,u=l.x,c=l.y,d=l.width,f=l.height,m=l.top,_=l.left,x=l.bottom,v=l.right;a({x:u,y:c,width:d,height:f,top:m,left:_,bottom:x,right:v})}})},[]);return ANe(function(){if(t)return o.observe(t),function(){o.disconnect()}},[t]),[r,i]}const ONe=NW&&typeof window.ResizeObserver<"u"?RNe:function(){return[TNe,MW]},ZI=z.createContext(null);function INe(e){const[t,r]=z.useState([]),n=z.useMemo(()=>[t,r],[t]);return H(ZI.Provider,{value:n,children:e.children})}function CNe(e){const[t,{height:r}]=ONe(),[n,i]=z.useContext(ZI);return z.useEffect(()=>(i(a=>[...a,{id:e,height:0}]),i(a=>{const o=a.find(s=>s.id===e);return o&&(o.height=r),a}),()=>{i(a=>a.filter(o=>o.id!==e))}),[r,e,i]),[t]}function z_(){const[e]=z.useContext(ZI);return e.reduce((t,r)=>t+r.height,0)}function PNe(e){const[t]=CNe("internet"),r={error:"bg-[#C93957] text-white"},n={error:ye.CIRCLE_EXCLAMATION};return H("div",{ref:t,children:H("div",{className:[r[e.type],"flex items-center justify-center p-1"].join(" "),children:ee("div",{className:"flex items-center space-x-3",children:[H(tt,{icon:n[e.type]}),H("div",{children:e.children})]})})})}function LNe(){const[e,t]=z.useState(!0),r=z.useRef(!0);return z.useEffect(()=>{let n=0,i=null;const a=setInterval(()=>{if(n+=1,r.current&&n<10)return;n=0,i&&i.abort(),i=new AbortController;const o=i.signal;fetch("/ping.txt",{signal:o}).then(()=>{t(!0),r.current=!0}).catch(s=>{s.name!=="AbortError"&&(t(!1),r.current=!1)})},5e3);return()=>{clearInterval(a),i&&i.abort()}},[]),e}function DNe(e){const{t}=Fe(),r=LNe(),n=z_();return ee("div",{children:[H("div",{className:"fixed inset-x-0 z-[1000]",children:r?null:H(PNe,{type:"error",children:t("errors.offline")})}),H("div",{style:{paddingTop:`${n}px`},className:"flex min-h-screen flex-col",children:e.children})]})}const Eo={},FW={};async function $Ne(){var e,t;for(const[r,n]of Object.values(FW)){const i=n.versions.sort((u,c)=>u.version-c.version),a=r._raw(),o=a["--version"]&&typeof a["--version"]=="number"?a["--version"]:0,s=i.filter(u=>u.version>=o);let l=a;try{for(const u of s)u.migrate&&(l=await u.migrate(l))}catch(u){console.error(`FAILED TO MIGRATE STORE ${n.key}`,u),l=((t=(e=s[s.length-1]).create)==null?void 0:t.call(e))??{}}r.save(l)}}function kNe(e){const t=e.key??"",r=e.versions.sort((s,l)=>l.version-s.version)[0];function n(s){return Eo[t]||(Eo[t]=[]),Eo[t].push(s),{destroy(){Eo[t]=Eo[t].filter(l=>l===s)}}}function i(){var l;const s=((l=r.create)==null?void 0:l.call(r))??{};return s["--version"]=r.version,s}function a(){const s=localStorage.getItem(t);if(!s)return i();try{return JSON.parse(s)}catch(l){return console.error(`FAILED TO PARSE LOCALSTORAGE FOR KEY ${t}`,l),i()}}function o(s){const l={...s};l["--version"]=r.version,localStorage.setItem(t,JSON.stringify(l)),Eo[t]||(Eo[t]=[]),Eo[t].forEach(u=>u(window.structuredClone(s)))}return{get(){const s=a();return delete s["--version"],s},_raw(){return a()},onChange:n,save:o}}function NNe(e){var n;const t=e.versions.sort((i,a)=>i.version-a.version);if(t.forEach((i,a,o)=>{if(a!==0&&i.version!==o[a-1].version+1)throw new Error("Version list of store is not incremental")}),t.forEach(i=>{if(i.version<0)throw new Error("Versions cannot be negative")}),((n=t[0])==null?void 0:n.version)!==0)throw new Error("Version 0 doesn't exist in version list of store");if(!e.versions[e.versions.length-1].create)throw new Error("Missing create function on latest version of store");if(!e.key)throw new Error("storage key not set in store");const r=[...t];r.pop(),r.forEach(i=>{if(!i.migrate)throw new Error(`Migration missing on version ${i.version}`)})}function V_(){const e={versions:[],key:null};return{setKey(t){return e.key=t,this},addVersion(t){return e.versions.push(t),this},build(){NNe(e);const t=kNe(e);return FW[e.key??""]=[t,e],t}}}function JI(e){const[t,r]=z.useState(e.get());z.useEffect(()=>{const{destroy:i}=e.onChange(a=>{r(a)});return()=>{i()}},[e]);function n(i){const a=i(t);e.save(a)}return[t,n]}const MNe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,FNe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,BNe=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function UNe(e,t){if(e!=="__proto__"&&!(e==="constructor"&&t&&typeof t=="object"&&"prototype"in t))return t}function jNe(e,t={}){if(typeof e!="string")return e;const r=e.toLowerCase().trim();if(r==="true")return!0;if(r==="false")return!1;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r!=="undefined"){if(!BNe.test(e)){if(t.strict)throw new SyntaxError("Invalid JSON");return e}try{return MNe.test(e)||FNe.test(e)?JSON.parse(e,UNe):JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}}const HNe=/#/g,KNe=/&/g,GNe=/=/g,BW=/\+/g,WNe=/%5e/gi,zNe=/%60/gi,VNe=/%7c/gi,YNe=/%20/gi;function XNe(e){return encodeURI(""+e).replace(VNe,"|")}function O2(e){return XNe(typeof e=="string"?e:JSON.stringify(e)).replace(BW,"%2B").replace(YNe,"+").replace(HNe,"%23").replace(KNe,"%26").replace(zNe,"`").replace(WNe,"^")}function fb(e){return O2(e).replace(GNe,"%3D")}function UW(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function qNe(e){return UW(e.replace(BW," "))}function QNe(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=UW(n[1]);if(i==="__proto__"||i==="constructor")continue;const a=qNe(n[2]||"");typeof t[i]<"u"?Array.isArray(t[i])?t[i].push(a):t[i]=[t[i],a]:t[i]=a}return t}function ZNe(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${fb(e)}=${O2(r)}`).join("&"):`${fb(e)}=${O2(t)}`:fb(e)}function JNe(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>ZNe(t,e[t])).join("&")}const eMe=/^\w{2,}:([/\\]{1,2})/,tMe=/^\w{2,}:([/\\]{2})?/,rMe=/^([/\\]\s*){2,}[^/\\]/;function jW(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?eMe.test(e):tMe.test(e)||(t.acceptRelative?rMe.test(e):!1)}const nMe=/\/$|\/\?/;function I2(e="",t=!1){return t?nMe.test(e):e.endsWith("/")}function iMe(e="",t=!1){if(!t)return(I2(e)?e.slice(0,-1):e)||"/";if(!I2(e,!0))return e||"/";const[r,...n]=e.split("?");return(r.slice(0,-1)||"/")+(n.length>0?`?${n.join("?")}`:"")}function aMe(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(I2(e,!0))return e||"/";const[r,...n]=e.split("?");return r+"/"+(n.length>0?`?${n.join("?")}`:"")}function oMe(e=""){return e.startsWith("/")}function sMe(e=""){return(oMe(e)?e.slice(1):e)||"/"}function lMe(e,t){if(cMe(t)||jW(e))return e;const r=iMe(t);return e.startsWith(r)?e:dMe(r,e)}function uMe(e,t){const r=HW(e),n={...QNe(r.search),...t};return r.search=JNe(n),hMe(r)}function cMe(e){return!e||e==="/"}function fMe(e){return e&&e!=="/"}function dMe(e,...t){let r=e||"";for(const n of t.filter(i=>fMe(i)))r=r?aMe(r)+sMe(n):n;return r}function HW(e="",t){if(!jW(e,{acceptRelative:!0}))return t?HW(t+e):r8(e);const[r="",n,i=""]=(e.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[a="",o=""]=(i.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:s,search:l,hash:u}=r8(o.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:r,auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:a,pathname:s,search:l,hash:u}}function r8(e=""){const[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}function hMe(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}class KW extends Error{constructor(){super(...arguments),this.name="FetchError"}}function vMe(e,t,r){let n="";t&&(n=t.message),e&&r?n=`${n} (${r.status} ${r.statusText} (${e.toString()}))`:e&&(n=`${n} (${e.toString()})`);const i=new KW(n);return Object.defineProperty(i,"request",{get(){return e}}),Object.defineProperty(i,"response",{get(){return r}}),Object.defineProperty(i,"data",{get(){return r&&r._data}}),Object.defineProperty(i,"status",{get(){return r&&r.status}}),Object.defineProperty(i,"statusText",{get(){return r&&r.statusText}}),Object.defineProperty(i,"statusCode",{get(){return r&&r.status}}),Object.defineProperty(i,"statusMessage",{get(){return r&&r.statusText}}),i}const pMe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function n8(e="GET"){return pMe.has(e.toUpperCase())}function gMe(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const mMe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),yMe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function _Me(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return yMe.test(t)?"json":mMe.has(t)||t.startsWith("text/")?"text":"blob"}const EMe=new Set([408,409,425,429,500,502,503,504]);function GW(e){const{fetch:t,Headers:r}=e;function n(o){const s=o.error&&o.error.name==="AbortError"||!1;if(o.options.retry!==!1&&!s){let u;typeof o.options.retry=="number"?u=o.options.retry:u=n8(o.options.method)?0:1;const c=o.response&&o.response.status||500;if(u>0&&EMe.has(c))return i(o.request,{...o.options,retry:u-1})}const l=vMe(o.request,o.error,o.response);throw Error.captureStackTrace&&Error.captureStackTrace(l,i),l}const i=async function(s,l={}){const u={request:s,options:{...e.defaults,...l},response:void 0,error:void 0};u.options.onRequest&&await u.options.onRequest(u),typeof u.request=="string"&&(u.options.baseURL&&(u.request=lMe(u.request,u.options.baseURL)),(u.options.query||u.options.params)&&(u.request=uMe(u.request,{...u.options.params,...u.options.query})),u.options.body&&n8(u.options.method)&&gMe(u.options.body)&&(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new r(u.options.headers),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json"))),u.response=await t(u.request,u.options).catch(async d=>(u.error=d,u.options.onRequestError&&await u.options.onRequestError(u),n(u)));const c=(u.options.parseResponse?"json":u.options.responseType)||_Me(u.response.headers.get("content-type")||"");if(c==="json"){const d=await u.response.text(),f=u.options.parseResponse||jNe;u.response._data=f(d)}else c==="stream"?u.response._data=u.response.body:u.response._data=await u.response[c]();return u.options.onResponse&&await u.options.onResponse(u),u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await u.options.onResponseError(u),n(u)):u.response},a=function(s,l){return i(s,l).then(u=>u._data)};return a.raw=i,a.native=t,a.create=(o={})=>GW({...e,defaults:{...e.defaults,...o}}),a}const WW=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),xMe=WW.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),SMe=WW.Headers,bMe=GW({fetch:xMe,Headers:SMe}),C2="https://apis.justwatch.com",TMe="https://images.justwatch.com";function eC(e){if(e===Ae.MOVIE)return"movie";if(e===Ae.SERIES)return"show";throw new Error("unsupported type")}function zW(e){if(e==="movie")return Ae.MOVIE;if(e==="show")return Ae.SERIES;throw new Error("unsupported type")}function VW(e,t){var i,a;const r=zW(e.object_type);let n;return r===Ae.SERIES&&(n=(i=e.seasons)==null?void 0:i.sort((o,s)=>o.season_number-s.season_number).map(o=>({id:o.id.toString(),number:o.season_number,title:o.title}))),{title:e.title,id:e.id.toString(),year:(a=e.original_release_year)==null?void 0:a.toString(),poster:e.poster?`${TMe}${e.poster.replace("{profile}","s166")}`:void 0,type:r,seasons:n,seasonData:t?{id:t.id.toString(),number:t.season_number,title:t.title,episodes:t.episodes.sort((o,s)=>o.episode_number-s.episode_number).map(o=>({id:o.id.toString(),number:o.episode_number,title:o.title}))}:void 0}}function wMe(e){return["JW",eC(e.type),e.id].join("-")}function YW(e){const[t,r,n]=e.split("-",3);if(t!=="JW")return null;let i;try{i=zW(r)}catch{return null}return{type:i,id:n}}let db=Math.floor(Math.random()*Wr().PROXY_URLS.length);function AMe(){const e=Wr().PROXY_URLS[db];return db=(db+1)%Wr().PROXY_URLS.length,e}const XW=bMe.create({retry:0});function i8(e,t){let r=e;return Object.entries(t).forEach(([n,i])=>{r=r.replace(`{${n}}`,encodeURIComponent(i))}),r}function RMe(e,t={}){return XW(e,t)}function Ft(e,t={}){let r=(t==null?void 0:t.baseURL)??"";r.length>0&&r.endsWith("/")&&e.startsWith("/")?r+=e.slice(1):r.length>0&&!r.endsWith("/")&&!e.startsWith("/")?r+=`/${e}`:r+=e;const n=new URL(r);return Object.entries((t==null?void 0:t.params)??{}).forEach(([i,a])=>{n.searchParams.set(i,a)}),XW(AMe(),{...t,baseURL:void 0,params:{destination:n.toString()}})}async function py(e,t,r){var l,u,c,d,f;const n=eC(e);let i;try{const m=i8("/content/titles/{type}/{id}/locale/en_US",{type:n,id:t});i=await Ft(m,{baseURL:C2})}catch(m){if(m instanceof KW&&(m.statusCode===400||m.statusCode===404))return null;throw m}let a=(l=i.external_ids.find(m=>m.provider==="imdb_latest"))==null?void 0:l.external_id;a||(a=(u=i.external_ids.find(m=>m.provider==="imdb"))==null?void 0:u.external_id);let o=(c=i.external_ids.find(m=>m.provider==="tmdb_latest"))==null?void 0:c.external_id;if(o||(o=(d=i.external_ids.find(m=>m.provider==="tmdb"))==null?void 0:d.external_id),!a||!o)throw new Error("not enough info");let s;if(i.object_type==="show"){const m=r??((f=i.seasons)==null?void 0:f[0].id.toString())??"",_=i8("/content/titles/show_season/{id}/locale/en_US",{id:m});s=await Ft(_,{baseURL:C2})}return{meta:VW(i,s),imdbId:a,tmdbId:o}}class OMe{constructor(){this.INTERVAL_MS=2*60*1e3,this._interval=null,this._compare=null,this._storage=[]}initialize(){if(this._interval)throw new Error("cache is already initialized");this._interval=setInterval(()=>{const t=new Date;this._storage.filter(r=>!(r.expiry<t))},this.INTERVAL_MS)}destroy(){this._interval&&clearInterval(this._interval),this.clear()}setCompare(t){this._compare=t}has(t){return!!this.get(t)}get(t){if(!this._compare)throw new Error("Compare function not set");const r=this._storage.find(n=>this._compare&&this._compare(n.key,t));if(r)return r.value}set(t,r,n){if(!this._compare)throw new Error("Compare function not set");const i=this._storage.find(o=>this._compare&&this._compare(o.key,t)),a=new Date(new Date().getTime()+n*1e3);if(i){i.key=t,i.value=r,i.expiry=a;return}this._storage.push({key:t,value:r,expiry:a})}remove(t){if(!this._compare)throw new Error("Compare function not set");this._storage.filter(r=>!(this._compare&&this._compare(r.key,t)))}clear(){this._storage=[]}}const gh=new OMe;gh.setCompare((e,t)=>e.type===t.type&&e.searchQuery.trim()===t.searchQuery.trim());gh.initialize();async function qW(e){if(gh.has(e))return gh.get(e);const{searchQuery:t,type:r}=e,i={content_types:[eC(r)],page:1,query:t,page_size:40},o=(await Ft("/content/titles/en_US/popular",{baseURL:C2,params:{body:JSON.stringify(i)}})).items.map(s=>VW(s));return gh.set(e,o,3600),o}function P2(e){return e.trim().toLowerCase().replace(/['":]/g,"").replace(/[^a-zA-Z0-9]+/g,"_")}function tC(e,t){return P2(e)===P2(t)}async function QW(e,t){const r=(a,o)=>Math.abs(a-o)<=1,n={},i=await Promise.all(Object.values(e).map(async a=>{const o=Number(a.year.toString().split("-")[0]),l=(await qW({searchQuery:`${a.title} ${o}`,type:a.mediaType})).find(u=>r(Number(u.year),o)&&tC(u.title,a.title));if(!l){console.error(`No item found for migration: ${a.title}`);return}return{id:a.mediaId,data:l}}));for(const a of i.filter(Boolean)){if(!a)continue;let o=[["0","0"]];if(a.data.type==="series"){const s=await py(a.data.type,a.data.id);if(!s||!(s!=null&&s.meta.seasons))return;o=[...new Set(t!=null&&t.items?t.items.filter(c=>c.mediaId===a.id).map(c=>c.seasonId):["0"])].map(c=>{var d,f;return{num:c,season:(f=(d=s.meta)==null?void 0:d.seasons)==null?void 0:f[Math.max(0,c-1)]}}).map(c=>{var d;return c?[c.num,(d=c==null?void 0:c.season)==null?void 0:d.id]:[]}).filter(c=>c.length>0)}n[a.id]||(n[a.id]={}),await Promise.all(o.map(async([s,l])=>{s&&(n[a.id][s]=await py(a.data.type,a.data.id,l==="0"||l===null?void 0:l))}))}return n}async function IMe(e){const t=e;if(!t)return;const r={};t.bookmarks.forEach(a=>{r[a.mediaId]||(r[a.mediaId]=a)});const n=await QW(r);return n?{bookmarks:Object.keys(n).map(a=>n[a][0]).map(a=>a==null?void 0:a.meta).filter(Boolean)}:void 0}async function CMe(e){var o,s,l,u;const t=e;if(!t)return;const r={};t.items.forEach(c=>{r[c.mediaId]||(r[c.mediaId]=c)});const n=await QW(r,t);if(!n)return;const i={...t,items:[]},a=Date.now();for(const c of t.items)if(c.mediaType==="movie"){if(!((o=n[c.mediaId][0])!=null&&o.meta))continue;const d={item:{meta:(s=n[c.mediaId][0])==null?void 0:s.meta},progress:c.progress,percentage:c.percentage,watchedAt:Date.now()};t.items=t.items.filter(f=>JSON.stringify(f)!==JSON.stringify(c)),i.items.push(d)}else if(c.mediaType==="series"){if(!((l=n[c.mediaId][c.seasonId])!=null&&l.meta))continue;const d=(u=n[c.mediaId][c.seasonId])==null?void 0:u.meta;if(d.type!=="series")return;const f={item:{meta:d,series:{episode:Number(c.episodeId),season:Number(c.seasonId),seasonId:d.seasonData.id,episodeId:d.seasonData.episodes[Number(c.episodeId)-1].id}},progress:c.progress,percentage:c.percentage,watchedAt:a+Number(c.seasonId)*1e3+Number(c.episodeId)};if(i.items.find(m=>{var _,x;return m.item.meta.id===f.item.meta.id&&((_=m.item.series)==null?void 0:_.episodeId)===((x=f.item.series)==null?void 0:x.episodeId)}))continue;t.items=t.items.filter(m=>JSON.stringify(m)!==JSON.stringify(c)),i.items.push(f)}return i}const PMe=V_().setKey("mw-bookmarks").addVersion({version:0,migrate(e){return IMe(e)}}).addVersion({version:1,create(){return{bookmarks:[]}}}).build(),ZW=z.createContext({setItemBookmark:()=>{},getFilteredBookmarks:()=>[],bookmarkStore:{bookmarks:[]}});function LMe(e,t){return e.findIndex(n=>n.id===t.id)}function DMe(e){const[t,r]=JI(PMe),n=z.useMemo(()=>({setItemBookmark(i,a){r(o=>{let s=[...o.bookmarks];return s=s.filter(l=>l.id!==i.id),a&&s.push({...i}),{bookmarks:s}})},getFilteredBookmarks(){return[...t.bookmarks]},bookmarkStore:t}),[t,r]);return H(ZW.Provider,{value:n,children:e.children})}function rC(){return z.useContext(ZW)}function JW(e,t){return LMe(e,t)!==-1}const $Me=V_().setKey("mw-settings").addVersion({version:0,create(){return{language:"en",captionSettings:{delay:0,style:{color:"#ffffff",fontSize:25,backgroundColor:"#00000096"}}}},migrate(e){return{language:e.language,captionSettings:{language:"none",...e.captionSettings}}}}).addVersion({version:1,create(){return{language:"en",captionSettings:{delay:0,language:"none",style:{color:"#ffffff",fontSize:25,backgroundColor:"#00000096"}}}}}).build(),ez=z.createContext(null);function kMe(e){function t(a,o,s){return Math.max(a,Math.min(o,s))}const[r,n]=JI($Me),i=z.useMemo(()=>({...r,setLanguage(o){n(s=>({...s,language:o}))},setCaptionLanguage(o){n(s=>{const l=s.captionSettings;return l.language=o,s})},setCaptionDelay(o){n(s=>{const l=s.captionSettings;return l.delay=t(-10,o,10),s})},setCaptionColor(o){n(s=>{const l=s.captionSettings.style;return l.color=o,s})},setCaptionFontSize(o){n(s=>{const l=s.captionSettings.style;return l.fontSize=t(10,o,60),s})},setCaptionBackgroundColor(o){n(s=>{const l=s.captionSettings.style;return l.backgroundColor=`${l.backgroundColor.substring(0,7)}${o.toString(16).padStart(2,"0")}`,s})}}),[r,n]);return H(ez.Provider,{value:i,children:e.children})}function bf(){return z.useContext(ez)}const NMe=V_().setKey("video-progress").addVersion({version:0,migrate(){return{items:[]}}}).addVersion({version:1,async migrate(e){return CMe(e)}}).addVersion({version:2,create(){return{items:[]}}}).build(),MMe=15*60,FMe=5*60;function BMe(e,t,r){const n=Math.max(0,t-e);return t<MMe?!(e<5||n<60):!(e<30||n<FMe&&!r)}const Y_=z.createContext({updateProgress:()=>{},getFilteredWatched:()=>[],removeProgress:()=>{},watched:{items:[]}});Y_.displayName="WatchedContext";function gy(e,t){var r,n;return e.meta.id===t.meta.id&&(!e.series||e.series.seasonId===((r=t.series)==null?void 0:r.seasonId)&&e.series.episodeId===((n=t.series)==null?void 0:n.episodeId))}function UMe(e){const[t,r]=JI(NMe),n=z.useMemo(()=>({removeProgress(i){r(a=>{const o={...a};return o.items=o.items.filter(s=>s.item.meta.id!==i),o})},updateProgress(i,a,o){r(s=>{const l={...s};let u=l.items.find(c=>gy(i,c.item));return u||(u={item:{...i,meta:{...i.meta},series:i.series?{...i.series}:void 0},progress:0,percentage:0,watchedAt:Date.now()},l.items.push(u)),u.progress=a,u.percentage=Math.round(a/o*100),u.watchedAt=Date.now(),BMe(a,o,!!i.series)||(l.items=s.items.filter(c=>!gy(c.item,i))),l})},getFilteredWatched(){let i=t.items;const a=[];return i=i.sort((o,s)=>s.watchedAt-o.watchedAt).filter(o=>{const s=o.item.meta.id;return a.includes(s)?!1:(a.push(s),!0)}),i},watched:t}),[t,r]);return H(Y_.Provider,{value:n,children:e.children})}function X_(){return z.useContext(Y_)}function jMe(e,t,r){return(t==null?void 0:t.meta.type)===Ae.SERIES&&r?gy(e,{meta:t.meta,series:{season:0,episode:0,episodeId:r,seasonId:t.meta.seasonData.id}}):t?gy(e,{meta:t.meta}):()=>!1}function HMe(e,t){const{watched:r,updateProgress:n}=z.useContext(Y_),i=z.useMemo(()=>r.items.find(s=>jMe(s.item,e,t)),[r,e,t]),a=z.useRef([0,0]);return{updateProgress:z.useCallback((s,l)=>{var c;const u=a.current[0]!==s||a.current[1]!==l;if(e&&u){a.current=[s,l];const d={meta:e.meta,series:e.meta.type===Ae.SERIES&&t?{seasonId:e.meta.seasonData.id,episodeId:t,season:e.meta.seasonData.number,episode:((c=e.meta.seasonData.episodes.find(f=>f.id===t))==null?void 0:c.number)||0}:void 0};n(d,s,l)}},[e,n,t]),watchedItem:i}}function KMe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var tz=z,GMe=KMe(tz);function a8(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WMe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var zMe=!!(typeof window<"u"&&window.document&&window.document.createElement);function VMe(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],s;function l(){s=e(o.map(function(c){return c.props})),u.canUseDOM?t(s):r&&(s=r(s))}var u=function(c){WMe(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return s},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var _=s;return s=void 0,o=[],_};var f=d.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),l()},f.componentDidUpdate=function(){l()},f.componentWillUnmount=function(){var _=o.indexOf(this);o.splice(_,1),l()},f.render=function(){return GMe.createElement(a,this.props)},d}(tz.PureComponent);return a8(u,"displayName","SideEffect("+n(a)+")"),a8(u,"canUseDOM",zMe),u}}var YMe=VMe,XMe=typeof Element<"u",qMe=typeof Map=="function",QMe=typeof Set=="function",ZMe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Yg(e[n],t[n]))return!1;return!0}var a;if(qMe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!Yg(n.value[1],t.get(n.value[0])))return!1;return!0}if(QMe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(ZMe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(XMe&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!Yg(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var JMe=function(t,r){try{return Yg(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},gl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ie={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ie).map(function(e){return Ie[e]});var Et={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},my={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Jh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},e4e=Object.keys(my).reduce(function(e,t){return e[my[t]]=t,e},{}),t4e=[Ie.NOSCRIPT,Ie.SCRIPT,Ie.STYLE],Ii="data-react-helmet",r4e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n4e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i4e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a4e=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o8=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},o4e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},L2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},s4e=function(t){var r=cc(t,Ie.TITLE),n=cc(t,Jh.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=cc(t,Jh.DEFAULT_TITLE);return r||i||void 0},l4e=function(t){return cc(t,Jh.ON_CHANGE_CLIENT_STATE)||function(){}},hb=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,i){return Zr({},n,i)},{})},u4e=function(t,r){return r.filter(function(n){return typeof n[Ie.BASE]<"u"}).map(function(n){return n[Ie.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=s.toLowerCase();if(t.indexOf(l)!==-1&&i[l])return n.concat(i)}return n},[])},gd=function(t,r,n){var i={};return n.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&h4e("Helmet: "+t+' should be of type "Array". Instead found type "'+r4e(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var s={};o.filter(function(f){for(var m=void 0,_=Object.keys(f),x=0;x<_.length;x++){var v=_[x],g=v.toLowerCase();r.indexOf(g)!==-1&&!(m===Et.REL&&f[m].toLowerCase()==="canonical")&&!(g===Et.REL&&f[g].toLowerCase()==="stylesheet")&&(m=g),r.indexOf(v)!==-1&&(v===Et.INNER_HTML||v===Et.CSS_TEXT||v===Et.ITEM_PROP)&&(m=v)}if(!m||!f[m])return!1;var p=f[m].toLowerCase();return i[m]||(i[m]={}),s[m]||(s[m]={}),i[m][p]?!1:(s[m][p]=!0,!0)}).reverse().forEach(function(f){return a.push(f)});for(var l=Object.keys(s),u=0;u<l.length;u++){var c=l[u],d=GA({},i[c],s[c]);i[c]=d}return a},[]).reverse()},cc=function(t,r){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.hasOwnProperty(r))return i[r]}return null},c4e=function(t){return{baseTag:u4e([Et.HREF,Et.TARGET],t),bodyAttributes:hb(gl.BODY,t),defer:cc(t,Jh.DEFER),encode:cc(t,Jh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:hb(gl.HTML,t),linkTags:gd(Ie.LINK,[Et.REL,Et.HREF],t),metaTags:gd(Ie.META,[Et.NAME,Et.CHARSET,Et.HTTPEQUIV,Et.PROPERTY,Et.ITEM_PROP],t),noscriptTags:gd(Ie.NOSCRIPT,[Et.INNER_HTML],t),onChangeClientState:l4e(t),scriptTags:gd(Ie.SCRIPT,[Et.SRC,Et.INNER_HTML],t),styleTags:gd(Ie.STYLE,[Et.CSS_TEXT],t),title:s4e(t),titleAttributes:hb(gl.TITLE,t)}},D2=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){D2(t)},0)}}(),s8=function(t){return clearTimeout(t)},f4e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||D2:global.requestAnimationFrame||D2,d4e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||s8:global.cancelAnimationFrame||s8,h4e=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},md=null,v4e=function(t){md&&d4e(md),t.defer?md=f4e(function(){l8(t,function(){md=null})}):(l8(t),md=null)},l8=function(t,r){var n=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,s=t.metaTags,l=t.noscriptTags,u=t.onChangeClientState,c=t.scriptTags,d=t.styleTags,f=t.title,m=t.titleAttributes;$2(Ie.BODY,i),$2(Ie.HTML,a),p4e(f,m);var _={baseTag:hu(Ie.BASE,n),linkTags:hu(Ie.LINK,o),metaTags:hu(Ie.META,s),noscriptTags:hu(Ie.NOSCRIPT,l),scriptTags:hu(Ie.SCRIPT,c),styleTags:hu(Ie.STYLE,d)},x={},v={};Object.keys(_).forEach(function(g){var p=_[g],h=p.newTags,S=p.oldTags;h.length&&(x[g]=h),S.length&&(v[g]=_[g].oldTags)}),r&&r(),u(t,x,v)},rz=function(t){return Array.isArray(t)?t.join(""):t},p4e=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=rz(t)),$2(Ie.TITLE,r)},$2=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var i=n.getAttribute(Ii),a=i?i.split(","):[],o=[].concat(a),s=Object.keys(r),l=0;l<s.length;l++){var u=s[l],c=r[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),a.indexOf(u)===-1&&a.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var f=o.length-1;f>=0;f--)n.removeAttribute(o[f]);a.length===o.length?n.removeAttribute(Ii):n.getAttribute(Ii)!==s.join(",")&&n.setAttribute(Ii,s.join(","))}},hu=function(t,r){var n=document.head||document.querySelector(Ie.HEAD),i=n.querySelectorAll(t+"["+Ii+"]"),a=Array.prototype.slice.call(i),o=[],s=void 0;return r&&r.length&&r.forEach(function(l){var u=document.createElement(t);for(var c in l)if(l.hasOwnProperty(c))if(c===Et.INNER_HTML)u.innerHTML=l.innerHTML;else if(c===Et.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[c]>"u"?"":l[c];u.setAttribute(c,d)}u.setAttribute(Ii,"true"),a.some(function(f,m){return s=m,u.isEqualNode(f)})?a.splice(s,1):o.push(u)}),a.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return n.appendChild(l)}),{oldTags:a,newTags:o}},nz=function(t){return Object.keys(t).reduce(function(r,n){var i=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+i:i},"")},g4e=function(t,r,n,i){var a=nz(n),o=rz(r);return a?"<"+t+" "+Ii+'="true" '+a+">"+L2(o,i)+"</"+t+">":"<"+t+" "+Ii+'="true">'+L2(o,i)+"</"+t+">"},m4e=function(t,r,n){return r.reduce(function(i,a){var o=Object.keys(a).filter(function(u){return!(u===Et.INNER_HTML||u===Et.CSS_TEXT)}).reduce(function(u,c){var d=typeof a[c]>"u"?c:c+'="'+L2(a[c],n)+'"';return u?u+" "+d:d},""),s=a.innerHTML||a.cssText||"",l=t4e.indexOf(t)===-1;return i+"<"+t+" "+Ii+'="true" '+o+(l?"/>":">"+s+"</"+t+">")},"")},iz=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[my[i]||i]=t[i],n},r)},y4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[e4e[i]||i]=t[i],n},r)},_4e=function(t,r,n){var i,a=(i={key:r},i[Ii]=!0,i),o=iz(n,a);return[me.createElement(Ie.TITLE,o,r)]},E4e=function(t,r){return r.map(function(n,i){var a,o=(a={key:i},a[Ii]=!0,a);return Object.keys(n).forEach(function(s){var l=my[s]||s;if(l===Et.INNER_HTML||l===Et.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[l]=n[s]}),me.createElement(t,o)})},Sa=function(t,r,n){switch(t){case Ie.TITLE:return{toComponent:function(){return _4e(t,r.title,r.titleAttributes)},toString:function(){return g4e(t,r.title,r.titleAttributes,n)}};case gl.BODY:case gl.HTML:return{toComponent:function(){return iz(r)},toString:function(){return nz(r)}};default:return{toComponent:function(){return E4e(t,r)},toString:function(){return m4e(t,r,n)}}}},az=function(t){var r=t.baseTag,n=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,s=t.metaTags,l=t.noscriptTags,u=t.scriptTags,c=t.styleTags,d=t.title,f=d===void 0?"":d,m=t.titleAttributes;return{base:Sa(Ie.BASE,r,i),bodyAttributes:Sa(gl.BODY,n,i),htmlAttributes:Sa(gl.HTML,a,i),link:Sa(Ie.LINK,o,i),meta:Sa(Ie.META,s,i),noscript:Sa(Ie.NOSCRIPT,l,i),script:Sa(Ie.SCRIPT,u,i),style:Sa(Ie.STYLE,c,i),title:Sa(Ie.TITLE,{title:f,titleAttributes:m},i)}},x4e=function(t){var r,n;return n=r=function(i){a4e(a,i);function a(){return n4e(this,a),o4e(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(s){return!JMe(this.props,s)},a.prototype.mapNestedChildrenToProps=function(s,l){if(!l)return null;switch(s.type){case Ie.SCRIPT:case Ie.NOSCRIPT:return{innerHTML:l};case Ie.STYLE:return{cssText:l}}throw new Error("<"+s.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(s){var l,u=s.child,c=s.arrayTypeChildren,d=s.newChildProps,f=s.nestedChildren;return Zr({},c,(l={},l[u.type]=[].concat(c[u.type]||[],[Zr({},d,this.mapNestedChildrenToProps(u,f))]),l))},a.prototype.mapObjectTypeChildren=function(s){var l,u,c=s.child,d=s.newProps,f=s.newChildProps,m=s.nestedChildren;switch(c.type){case Ie.TITLE:return Zr({},d,(l={},l[c.type]=m,l.titleAttributes=Zr({},f),l));case Ie.BODY:return Zr({},d,{bodyAttributes:Zr({},f)});case Ie.HTML:return Zr({},d,{htmlAttributes:Zr({},f)})}return Zr({},d,(u={},u[c.type]=Zr({},f),u))},a.prototype.mapArrayTypeChildrenToProps=function(s,l){var u=Zr({},l);return Object.keys(s).forEach(function(c){var d;u=Zr({},u,(d={},d[c]=s[c],d))}),u},a.prototype.warnOnInvalidChildren=function(s,l){return!0},a.prototype.mapChildrenToProps=function(s,l){var u=this,c={};return me.Children.forEach(s,function(d){if(!(!d||!d.props)){var f=d.props,m=f.children,_=o8(f,["children"]),x=y4e(_);switch(u.warnOnInvalidChildren(d,m),d.type){case Ie.LINK:case Ie.META:case Ie.NOSCRIPT:case Ie.SCRIPT:case Ie.STYLE:c=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:c,newChildProps:x,nestedChildren:m});break;default:l=u.mapObjectTypeChildren({child:d,newProps:l,newChildProps:x,nestedChildren:m});break}}}),l=this.mapArrayTypeChildrenToProps(c,l),l},a.prototype.render=function(){var s=this.props,l=s.children,u=o8(s,["children"]),c=Zr({},u);return l&&(c=this.mapChildrenToProps(l,c)),me.createElement(t,c)},i4e(a,null,[{key:"canUseDOM",set:function(s){t.canUseDOM=s}}]),a}(me.Component),r.propTypes={base:we.object,bodyAttributes:we.object,children:we.oneOfType([we.arrayOf(we.node),we.node]),defaultTitle:we.string,defer:we.bool,encodeSpecialCharacters:we.bool,htmlAttributes:we.object,link:we.arrayOf(we.object),meta:we.arrayOf(we.object),noscript:we.arrayOf(we.object),onChangeClientState:we.func,script:we.arrayOf(we.object),style:we.arrayOf(we.object),title:we.string,titleAttributes:we.object,titleTemplate:we.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var i=t.rewind();return i||(i=az({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},S4e=function(){return null},b4e=YMe(c4e,v4e,az)(S4e),la=x4e(b4e);la.renderStatic=la.rewind;function y0(e){return H("div",{className:e.className,children:ee("div",{className:"flex flex-col items-center justify-center",children:[ee("div",{className:"flex h-12 items-center justify-center",children:[H("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300"}),H("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:150ms]"}),H("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:300ms]"}),H("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:450ms]"})]}),e.text&&e.text.length?H("p",{className:"mt-3 max-w-xs text-sm opacity-75",children:e.text}):null]})})}function q_(){const e=Sf();return z.useCallback(()=>{e.action!=="POP"?e.goBack():e.push("/")},[e])}function Tf(e){const[t,r]=z.useState(!1),[n,i]=z.useState(!1),[a,o]=z.useState(void 0),s=z.useRef(!0),l=z.useMemo(()=>e,[]);return me.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),[z.useMemo(()=>async(...c)=>(r(!0),i(!1),o(void 0),new Promise(d=>{l(...c).then(f=>s.current?(i(!0),d(f),null):d(void 0)).catch(f=>{s&&(o(f),console.error("USELOADING ERROR",f),i(!1)),d(void 0)})}).finally(()=>s.current&&r(!1))),[l]),t,a,n]}let Zs=[],Ku=[];function _0(e){e.disabled||Zs.push(e)}function oz(e){e.disabled||Ku.push(e)}function T4e(){Zs=Zs.sort((i,a)=>a.rank-i.rank),Ku=Ku.sort((i,a)=>a.rank-i.rank);let e=null;Zs.forEach(i=>{if(e===null){e=i.rank;return}if(e===i.rank)throw new Error(`Duplicate rank number for provider ${i.id}`);e=i.rank}),e=null,Zs.forEach(i=>{if(e===null){e=i.rank;return}if(e===i.rank)throw new Error(`Duplicate rank number for embed scraper ${i.id}`);e=i.rank});const t=Zs.map(i=>i.id);if(t.length>0&&new Set(t).size!==t.length)throw new Error("Duplicate IDS in providers");const r=Ku.map(i=>i.id);if(r.length>0&&new Set(r).size!==r.length)throw new Error("Duplicate IDS in embed scrapers");const n=Ku.map(i=>i.for);if(n.length>0&&new Set(n).size!==n.length)throw new Error("Duplicate types in embed scrapers")}function sz(){return Zs}function w4e(){return Ku}function Q_(e){return w4e().find(t=>t.for===e)??null}function A4e(e){return e.embeds=e.embeds.map(t=>[t,t.type?Q_(t.type):null]).sort(([,t],[,r])=>((r==null?void 0:r.rank)??0)-((t==null?void 0:t.rank)??0)).map(t=>t[0]),e}async function lz(e,t){try{const r=await e.scrape(t);return A4e(r)}catch(r){throw console.error("Failed to run provider",r,{id:e.id,ctx:{...t}}),r}}async function nC(e,t){try{return await e.getStream(t)}catch(r){throw console.error("Failed to run embed scraper",{id:e.id,ctx:{...t}}),r}}async function R4e(e,t,r){var i,a,o;if(e.stream)return{...e.stream,providerId:t,embedId:t};let n=0;for(const s of e.embeds){if(n+=1,!s.type)continue;const l=Q_(s.type);if(!l)throw new Error(`Type for embed not found: ${s.type}`);const u=[t,l.id,n].join("|");(i=r.onNext)==null||i.call(r,{id:l.id,type:"embed",eventId:u});let c;try{c=await nC(l,{url:s.url,progress(d){var f;(f=r.onProgress)==null||f.call(r,{errored:!1,eventId:u,id:l.id,percentage:d,type:"embed"})}})}catch{(a=r.onProgress)==null||a.call(r,{errored:!0,eventId:u,id:l.id,percentage:100,type:"embed"});continue}return(o=r.onProgress)==null||o.call(r,{errored:!1,eventId:u,id:l.id,percentage:100,type:"embed"}),c.providerId=t,c}return null}async function O4e(e){var r,n,i;const t=sz();for(const a of t){const o=a.id;(r=e.onNext)==null||r.call(e,{id:a.id,type:"provider",eventId:o});let s;try{let u;e.type===Ae.SERIES?u={media:e.media,type:e.type,episode:e.episode,season:e.season,progress(c){var d;(d=e.onProgress)==null||d.call(e,{percentage:c,eventId:o,errored:!1,id:a.id,type:"provider"})}}:u={media:e.media,type:e.type,progress(c){var d;(d=e.onProgress)==null||d.call(e,{percentage:c,eventId:o,errored:!1,id:a.id,type:"provider"})}},s=await lz(a,u)}catch{(n=e.onProgress)==null||n.call(e,{percentage:100,errored:!0,eventId:o,id:a.id,type:"provider"});continue}(i=e.onProgress)==null||i.call(e,{errored:!1,id:a.id,eventId:o,percentage:100,type:"provider"});const l=await R4e(s,a.id,e);if(l)return l}return null}function I4e(e,t){const[r,n]=z.useState([]),[i,a]=z.useState(null),[o,s]=z.useState(!0);return z.useEffect(()=>{s(!0),a(null),n([]),(async()=>{const l=await O4e({media:e,...t,onNext(u){n(c=>[...c,{errored:!1,id:u.id,eventId:u.eventId,type:u.type,percentage:0}])},onProgress(u){n(c=>{const d=c.reverse().find(f=>f.id===u.id);return d&&(d.errored=u.errored,d.percentage=u.percentage),[...c]})}});s(!1),a(l)})()},[e,t]),{stream:i,pending:o,eventLog:r}}let C4e=e=>crypto.getRandomValues(new Uint8Array(e)),P4e=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(a=t)=>{let o="";for(;;){let s=r(i),l=i;for(;l--;)if(o+=e[s[l]&n]||"",o.length===a)return o}}},L4e=(e,t=21)=>P4e(e,t,C4e),D4e=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const ev=new Map;function Pr(e){const t=ev.get(e);if(!t)throw new Error("invalid descriptor or has been unregistered");return t}function $4e(e){const t=e;t.mediaPlaying={isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,isFirstLoading:!0,hasPlayedOnce:!1,volume:t.mediaPlaying.volume,playbackSpeed:1},t.progress={time:0,duration:0,buffered:0,draggingTime:0},t.initalized=!1}function k4e(){return{interface:{popout:null,isFullscreen:!1,isFocused:!1,leftControlHovering:!1,popoutBounds:null,volumeChangedWithKeybind:!1,volumeChangedWithKeybindDebounce:null,timeFormat:0},mediaPlaying:{isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,isFirstLoading:!0,hasPlayedOnce:!1,volume:0,playbackSpeed:1},progress:{time:0,duration:0,buffered:0,draggingTime:0},casting:{isCasting:!1,controller:null,instance:null,player:null},meta:null,source:null,error:null,canAirplay:!1,initalized:!1,stateProviderId:"video",pausedWhenSeeking:!1,hlsInstance:null,stateProvider:null,wrapperElement:null}}function N4e(){const e=D4e();if(ev.has(e))throw new Error("duplicate id");return ev.set(e,k4e()),e}function M4e(e){ev.has(e)&&ev.delete(e)}const uz=z.createContext("");function F4e(e){const[t,r]=z.useState(null);return z.useEffect(()=>{const n=N4e();return r(n),()=>{M4e(n)}},[r]),t?H(uz.Provider,{value:t,children:e.children}):null}function Pe(){return z.useContext(uz)}function iC(e,t){return`_vid:::${e}:::${t}`}function Gl(e,t,r){const n=new CustomEvent(iC(e,t),{detail:r});document.dispatchEvent(n)}function Wl(e,t,r){document.addEventListener(iC(e,t),r)}function zl(e,t,r){document.removeEventListener(iC(e,t),r)}function cz(e){return{popout:e.interface.popout,leftControlHovering:e.interface.leftControlHovering,isFocused:e.interface.isFocused,isFullscreen:e.interface.isFullscreen,popoutBounds:e.interface.popoutBounds,volumeChangedWithKeybind:e.interface.volumeChangedWithKeybind,timeFormat:e.interface.timeFormat}}function Sn(e,t){Gl(e,"interface",cz(t))}function Mi(e){const t=Pr(e),[r,n]=z.useState(cz(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"interface",i),()=>{zl(e,"interface",i)}},[e]),r}function fz(e){return e.meta?{...e.meta}:null}function u8(e,t){Gl(e,"meta",fz(t))}function gi(e){const t=Pr(e),[r,n]=z.useState(fz(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"meta",i),()=>{zl(e,"meta",i)}},[e]),r}function dz(e){return{time:e.progress.time,duration:e.progress.duration,buffered:e.progress.buffered,draggingTime:e.progress.draggingTime}}function Fa(e,t){Gl(e,"progress",dz(t))}function Ps(e){const t=Pr(e),[r,n]=z.useState(dz(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"progress",i),()=>{zl(e,"progress",i)}},[e]),r}function yt(e){const t=Pr(e);return{getId(){var r;return((r=t.stateProvider)==null?void 0:r.getId())??""},pause(){var r;(r=t.stateProvider)==null||r.pause()},play(){var r;(r=t.stateProvider)==null||r.play()},setSource(r){var n;(n=t.stateProvider)==null||n.setSource(r)},setSeeking(r){var n;(n=t.stateProvider)==null||n.setSeeking(r)},setTime(r){var n;(n=t.stateProvider)==null||n.setTime(r)},exitFullscreen(){var r;(r=t.stateProvider)==null||r.exitFullscreen()},enterFullscreen(){var r;(r=t.stateProvider)==null||r.enterFullscreen()},setVolume(r,n=!1){var i;n&&(t.interface.volumeChangedWithKeybindDebounce&&clearTimeout(t.interface.volumeChangedWithKeybindDebounce),t.interface.volumeChangedWithKeybind=!0,Sn(e,t),t.interface.volumeChangedWithKeybindDebounce=setTimeout(()=>{t.interface.volumeChangedWithKeybind=!1,Sn(e,t)},3e3)),(i=t.stateProvider)==null||i.setVolume(r,n)},startAirplay(){var r;(r=t.stateProvider)==null||r.startAirplay()},setCaption(r,n){var i;(i=t.stateProvider)==null||i.setCaption(r,n)},clearCaption(){var r;(r=t.stateProvider)==null||r.clearCaption()},setLeftControlsHover(r){t.interface.leftControlHovering=r,Sn(e,t)},setDraggingTime(r){t.progress.draggingTime=Math.max(0,Math.min(t.progress.duration,r)),Fa(e,t)},openPopout(r){t.interface.popout=r,Sn(e,t)},closePopout(){t.interface.popout=null,Sn(e,t)},setFocused(r){t.interface.isFocused=r,Sn(e,t)},setMeta(r){r?t.meta=r:t.meta=null,u8(e,t)},setCurrentEpisode(r,n){t.meta&&(t.meta.episode={seasonId:r,episodeId:n},u8(e,t))},togglePictureInPicture(){var r;(r=t.stateProvider)==null||r.togglePictureInPicture(),Sn(e,t)},setPlaybackSpeed(r){var n;(n=t.stateProvider)==null||n.setPlaybackSpeed(r),Sn(e,t)},setTimeFormat(r){t.interface.timeFormat=r,Sn(e,t)}}}function B4e(e){var r,n;const t=(n=(r=e.data)==null?void 0:r.seasons)==null?void 0:n.map(i=>{var a;return i.id===((a=e.seasonData)==null?void 0:a.id)?{...i,episodes:e.seasonData.episodes}:i});if(e.data)return{meta:e.data.meta,episode:e.data.episode,seasons:t,captions:e.linkedCaptions??[]}}function U4e(e){const t=Pe(),r=yt(t);return z.useEffect(()=>{r.setMeta(B4e(e))},[e,r]),null}var hz="Expected a function",c8=0/0,j4e="[object Symbol]",H4e=/^\s+|\s+$/g,K4e=/^[-+]0x[0-9a-f]+$/i,G4e=/^0b[01]+$/i,W4e=/^0o[0-7]+$/i,z4e=parseInt,V4e=typeof be=="object"&&be&&be.Object===Object&&be,Y4e=typeof self=="object"&&self&&self.Object===Object&&self,X4e=V4e||Y4e||Function("return this")(),q4e=Object.prototype,Q4e=q4e.toString,Z4e=Math.max,J4e=Math.min,vb=function(){return X4e.Date.now()};function e3e(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(hz);t=f8(t)||0,yy(r)&&(c=!!r.leading,d="maxWait"in r,a=d?Z4e(f8(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function m(y){var E=n,b=i;return n=i=void 0,u=y,o=e.apply(b,E),o}function _(y){return u=y,s=setTimeout(g,t),c?m(y):o}function x(y){var E=y-l,b=y-u,T=t-E;return d?J4e(T,a-b):T}function v(y){var E=y-l,b=y-u;return l===void 0||E>=t||E<0||d&&b>=a}function g(){var y=vb();if(v(y))return p(y);s=setTimeout(g,x(y))}function p(y){return s=void 0,f&&n?m(y):(n=i=void 0,o)}function h(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:p(vb())}function O(){var y=vb(),E=v(y);if(n=arguments,i=this,l=y,E){if(s===void 0)return _(l);if(d)return s=setTimeout(g,t),m(l)}return s===void 0&&(s=setTimeout(g,t)),o}return O.cancel=h,O.flush=S,O}function t3e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(hz);return yy(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),e3e(e,t,{leading:n,maxWait:t,trailing:i})}function yy(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function r3e(e){return!!e&&typeof e=="object"}function n3e(e){return typeof e=="symbol"||r3e(e)&&Q4e.call(e)==j4e}function f8(e){if(typeof e=="number")return e;if(n3e(e))return c8;if(yy(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yy(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(H4e,"");var r=G4e.test(e);return r||W4e.test(e)?z4e(e.slice(2),r?2:8):K4e.test(e)?c8:+e}var i3e=t3e;function vz(e){return{hasPlayedOnce:e.mediaPlaying.hasPlayedOnce,isLoading:e.mediaPlaying.isLoading,isPaused:e.mediaPlaying.isPaused,isPlaying:e.mediaPlaying.isPlaying,isSeeking:e.mediaPlaying.isSeeking,isDragSeeking:e.mediaPlaying.isDragSeeking,isFirstLoading:e.mediaPlaying.isFirstLoading,volume:e.mediaPlaying.volume,playbackSpeed:e.mediaPlaying.playbackSpeed}}function or(e,t){Gl(e,"mediaplaying",vz(t))}function Mn(e){const t=Pr(e),[r,n]=z.useState(vz(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"mediaplaying",i),()=>{zl(e,"mediaplaying",i)}},[e]),r}function pz(e){return{canAirplay:e.canAirplay,wrapperInitialized:!!e.wrapperElement,initalized:e.initalized,isCasting:e.casting.isCasting,stateProviderId:e.stateProviderId}}function wf(e,t){Gl(e,"misc",pz(t))}function so(e){const t=Pr(e),[r,n]=z.useState(pz(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"misc",i),()=>{zl(e,"misc",i)}},[e]),r}function a3e(e){const t=Pe(),r=Mn(t),n=Ps(t),i=yt(t),a=so(t),o=z.useRef(null),s=z.useRef(e.startAt??0),l=z.useMemo(()=>i3e((d,f)=>{var m;s.current=d,(m=e.onProgress)==null||m.call(e,d,f)},1e3),[e]);z.useEffect(()=>{r.isPlaying&&(n.duration===0||n.time===0||l(n.time,n.duration))},[n,r,l]),z.useEffect(()=>()=>{l.cancel()},[l]),z.useEffect(()=>{o.current||r.isFirstLoading||Number.isNaN(n.duration)||(i.setTime(s.current),o.current=!0)},[o,e,n,r,i]);const u=z.useRef(null),c=z.useMemo(()=>a.stateProviderId,[a]);return z.useEffect(()=>{u.current!==c&&(r.isFirstLoading||(u.current=c,i.setTime(s.current)))},[i,r,c]),z.useEffect(()=>{o.current&&r.isFirstLoading&&(o.current=null)},[r]),null}function o3e(e){const t=Pe(),r=gi(t),n=Sf(),i=z.useRef(null);return z.useEffect(()=>{var o,s,l,u,c;const a={episodeId:(o=r==null?void 0:r.episode)==null?void 0:o.episodeId,seasonId:(s=r==null?void 0:r.episode)==null?void 0:s.seasonId};if(i.current===null){if(!r)return;i.current=a;return}(a.episodeId!==((l=i.current)==null?void 0:l.episodeId)||a.seasonId!==((u=i.current)==null?void 0:u.seasonId))&&(i.current=a,(c=e.onSelect)==null||c.call(e,a))},[r,e,n]),null}/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */function sl(e){return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function k2(e,t){return k2=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},k2(e,t)}function s3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xg(e,t,r){return s3e()?Xg=Reflect.construct:Xg=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),u=new l;return o&&k2(u,o.prototype),u},Xg.apply(null,arguments)}function l3e(e,t){return c3e(e)||d3e(e,t)||aC(e,t)||v3e()}function Si(e){return u3e(e)||f3e(e)||aC(e)||h3e()}function u3e(e){if(Array.isArray(e))return N2(e)}function c3e(e){if(Array.isArray(e))return e}function f3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,s;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw s}}return n}}function aC(e,t){if(e){if(typeof e=="string")return N2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N2(e,t)}}function N2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=aC(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var gz=Object.entries,d8=Object.setPrototypeOf,g3e=Object.isFrozen,m3e=Object.getPrototypeOf,y3e=Object.getOwnPropertyDescriptor,zr=Object.freeze,$i=Object.seal,_3e=Object.create,mz=typeof Reflect<"u"&&Reflect,M2=mz.apply,F2=mz.construct;M2||(M2=function(t,r,n){return t.apply(r,n)});zr||(zr=function(t){return t});$i||($i=function(t){return t});F2||(F2=function(t,r){return Xg(t,Si(r))});var E3e=ni(Array.prototype.forEach),h8=ni(Array.prototype.pop),yd=ni(Array.prototype.push),qg=ni(String.prototype.toLowerCase),pb=ni(String.prototype.toString),x3e=ni(String.prototype.match),Ei=ni(String.prototype.replace),S3e=ni(String.prototype.indexOf),b3e=ni(String.prototype.trim),yn=ni(RegExp.prototype.test),gb=T3e(TypeError);function ni(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return M2(e,t,n)}}function T3e(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return F2(e,r)}}function Le(e,t,r){r=r||qg,d8&&d8(e,null);for(var n=t.length;n--;){var i=t[n];if(typeof i=="string"){var a=r(i);a!==i&&(g3e(t)||(t[n]=a),i=a)}e[i]=!0}return e}function vu(e){var t=_3e(null),r=p3e(gz(e)),n;try{for(r.s();!(n=r.n()).done;){var i=l3e(n.value,2),a=i[0],o=i[1];t[a]=o}}catch(s){r.e(s)}finally{r.f()}return t}function Gp(e,t){for(;e!==null;){var r=y3e(e,t);if(r){if(r.get)return ni(r.get);if(typeof r.value=="function")return ni(r.value)}e=m3e(e)}function n(i){return console.warn("fallback value for",i),null}return n}var v8=zr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mb=zr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),yb=zr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),w3e=zr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_b=zr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),A3e=zr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),p8=zr(["#text"]),g8=zr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Eb=zr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),m8=zr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Wp=zr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R3e=$i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),O3e=$i(/<%[\w\W]*|[\w\W]*%>/gm),I3e=$i(/\${[\w\W]*}/gm),C3e=$i(/^data-[\-\w.\u00B7-\uFFFF]/),P3e=$i(/^aria-[\-\w]+$/),L3e=$i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),D3e=$i(/^(?:\w+script|data):/i),$3e=$i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),k3e=$i(/^html$/i),N3e=function(){return typeof window>"u"?null:window},M3e=function(t,r){if(sl(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML:function(s){return s},createScriptURL:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function yz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N3e(),t=function(J){return yz(J)};if(t.version="3.0.1",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,n=e.document,i=e.DocumentFragment,a=e.HTMLTemplateElement,o=e.Node,s=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,c=u===void 0?e.NamedNodeMap||e.MozNamedAttrMap:u,d=e.HTMLFormElement,f=e.DOMParser,m=e.trustedTypes,_=s.prototype,x=Gp(_,"cloneNode"),v=Gp(_,"nextSibling"),g=Gp(_,"childNodes"),p=Gp(_,"parentNode");if(typeof a=="function"){var h=n.createElement("template");h.content&&h.content.ownerDocument&&(n=h.content.ownerDocument)}var S=M3e(m,r),O=S?S.createHTML(""):"",y=n,E=y.implementation,b=y.createNodeIterator,T=y.createDocumentFragment,A=y.getElementsByTagName,P=r.importNode,C={};t.isSupported=typeof gz=="function"&&typeof p=="function"&&E&&typeof E.createHTMLDocument<"u";var D=R3e,F=O3e,R=I3e,L=C3e,I=P3e,k=D3e,w=$3e,M=L3e,N=null,$=Le({},[].concat(Si(v8),Si(mb),Si(yb),Si(_b),Si(p8))),B=null,U=Le({},[].concat(Si(g8),Si(Eb),Si(m8),Si(Wp))),j=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,G=null,W=!0,V=!0,Y=!1,X=!0,q=!1,Q=!1,te=!1,re=!1,ne=!1,oe=!1,he=!1,fe=!0,ie=!1,pe="user-content-",xe=!0,Te=!1,Ye={},$e=null,ze=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ke=null,Ze=Le({},["audio","video","img","source","image","track"]),Xe=null,ut=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml",Ht=at,Ct=!1,Dr=null,$r=Le({},[it,Je,at],pb),wt,mr=["application/xhtml+xml","text/html"],Mt="text/html",Ne,Pt=null,kr=n.createElement("form"),vt=function(J){return J instanceof RegExp||J instanceof Function},yr=function(J){Pt&&Pt===J||((!J||sl(J)!=="object")&&(J={}),J=vu(J),wt=mr.indexOf(J.PARSER_MEDIA_TYPE)===-1?wt=Mt:wt=J.PARSER_MEDIA_TYPE,Ne=wt==="application/xhtml+xml"?pb:qg,N="ALLOWED_TAGS"in J?Le({},J.ALLOWED_TAGS,Ne):$,B="ALLOWED_ATTR"in J?Le({},J.ALLOWED_ATTR,Ne):U,Dr="ALLOWED_NAMESPACES"in J?Le({},J.ALLOWED_NAMESPACES,pb):$r,Xe="ADD_URI_SAFE_ATTR"in J?Le(vu(ut),J.ADD_URI_SAFE_ATTR,Ne):ut,ke="ADD_DATA_URI_TAGS"in J?Le(vu(Ze),J.ADD_DATA_URI_TAGS,Ne):Ze,$e="FORBID_CONTENTS"in J?Le({},J.FORBID_CONTENTS,Ne):ze,K="FORBID_TAGS"in J?Le({},J.FORBID_TAGS,Ne):{},G="FORBID_ATTR"in J?Le({},J.FORBID_ATTR,Ne):{},Ye="USE_PROFILES"in J?J.USE_PROFILES:!1,W=J.ALLOW_ARIA_ATTR!==!1,V=J.ALLOW_DATA_ATTR!==!1,Y=J.ALLOW_UNKNOWN_PROTOCOLS||!1,X=J.ALLOW_SELF_CLOSE_IN_ATTR!==!1,q=J.SAFE_FOR_TEMPLATES||!1,Q=J.WHOLE_DOCUMENT||!1,ne=J.RETURN_DOM||!1,oe=J.RETURN_DOM_FRAGMENT||!1,he=J.RETURN_TRUSTED_TYPE||!1,re=J.FORCE_BODY||!1,fe=J.SANITIZE_DOM!==!1,ie=J.SANITIZE_NAMED_PROPS||!1,xe=J.KEEP_CONTENT!==!1,Te=J.IN_PLACE||!1,M=J.ALLOWED_URI_REGEXP||M,Ht=J.NAMESPACE||at,j=J.CUSTOM_ELEMENT_HANDLING||{},J.CUSTOM_ELEMENT_HANDLING&&vt(J.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=J.CUSTOM_ELEMENT_HANDLING.tagNameCheck),J.CUSTOM_ELEMENT_HANDLING&&vt(J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),J.CUSTOM_ELEMENT_HANDLING&&typeof J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(V=!1),oe&&(ne=!0),Ye&&(N=Le({},Si(p8)),B=[],Ye.html===!0&&(Le(N,v8),Le(B,g8)),Ye.svg===!0&&(Le(N,mb),Le(B,Eb),Le(B,Wp)),Ye.svgFilters===!0&&(Le(N,yb),Le(B,Eb),Le(B,Wp)),Ye.mathMl===!0&&(Le(N,_b),Le(B,m8),Le(B,Wp))),J.ADD_TAGS&&(N===$&&(N=vu(N)),Le(N,J.ADD_TAGS,Ne)),J.ADD_ATTR&&(B===U&&(B=vu(B)),Le(B,J.ADD_ATTR,Ne)),J.ADD_URI_SAFE_ATTR&&Le(Xe,J.ADD_URI_SAFE_ATTR,Ne),J.FORBID_CONTENTS&&($e===ze&&($e=vu($e)),Le($e,J.FORBID_CONTENTS,Ne)),xe&&(N["#text"]=!0),Q&&Le(N,["html","head","body"]),N.table&&(Le(N,["tbody"]),delete K.tbody),zr&&zr(J),Pt=J)},nr=Le({},["mi","mo","mn","ms","mtext"]),_a=Le({},["foreignobject","desc","title","annotation-xml"]),mi=Le({},["title","style","font","a","script"]),qr=Le({},mb);Le(qr,yb),Le(qr,w3e);var ho=Le({},_b);Le(ho,A3e);var Ea=function(J){var ae=p(J);(!ae||!ae.tagName)&&(ae={namespaceURI:Ht,tagName:"template"});var ve=qg(J.tagName),rt=qg(ae.tagName);return Dr[J.namespaceURI]?J.namespaceURI===Je?ae.namespaceURI===at?ve==="svg":ae.namespaceURI===it?ve==="svg"&&(rt==="annotation-xml"||nr[rt]):!!qr[ve]:J.namespaceURI===it?ae.namespaceURI===at?ve==="math":ae.namespaceURI===Je?ve==="math"&&_a[rt]:!!ho[ve]:J.namespaceURI===at?ae.namespaceURI===Je&&!_a[rt]||ae.namespaceURI===it&&!nr[rt]?!1:!ho[ve]&&(mi[ve]||!qr[ve]):!!(wt==="application/xhtml+xml"&&Dr[J.namespaceURI]):!1},At=function(J){yd(t.removed,{element:J});try{J.parentNode.removeChild(J)}catch{J.remove()}},_r=function(J,ae){try{yd(t.removed,{attribute:ae.getAttributeNode(J),from:ae})}catch{yd(t.removed,{attribute:null,from:ae})}if(ae.removeAttribute(J),J==="is"&&!B[J])if(ne||oe)try{At(ae)}catch{}else try{ae.setAttribute(J,"")}catch{}},Ds=function(J){var ae,ve;if(re)J="<remove></remove>"+J;else{var rt=x3e(J,/^[\r\n\t ]+/);ve=rt&&rt[0]}wt==="application/xhtml+xml"&&Ht===at&&(J='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+J+"</body></html>");var ir=S?S.createHTML(J):J;if(Ht===at)try{ae=new f().parseFromString(ir,wt)}catch{}if(!ae||!ae.documentElement){ae=E.createDocument(Ht,"template",null);try{ae.documentElement.innerHTML=Ct?O:ir}catch{}}var Bn=ae.body||ae.documentElement;return J&&ve&&Bn.insertBefore(n.createTextNode(ve),Bn.childNodes[0]||null),Ht===at?A.call(ae,Q?"html":"body")[0]:Q?ae.documentElement:Bn},$s=function(J){return b.call(J.ownerDocument||J,J,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Bf=function(J){return J instanceof d&&(typeof J.nodeName!="string"||typeof J.textContent!="string"||typeof J.removeChild!="function"||!(J.attributes instanceof c)||typeof J.removeAttribute!="function"||typeof J.setAttribute!="function"||typeof J.namespaceURI!="string"||typeof J.insertBefore!="function"||typeof J.hasChildNodes!="function")},Er=function(J){return sl(o)==="object"?J instanceof o:J&&sl(J)==="object"&&typeof J.nodeType=="number"&&typeof J.nodeName=="string"},Fn=function(J,ae,ve){C[J]&&E3e(C[J],function(rt){rt.call(t,ae,ve,Pt)})},Uf=function(J){var ae;if(Fn("beforeSanitizeElements",J,null),Bf(J))return At(J),!0;var ve=Ne(J.nodeName);if(Fn("uponSanitizeElement",J,{tagName:ve,allowedTags:N}),J.hasChildNodes()&&!Er(J.firstElementChild)&&(!Er(J.content)||!Er(J.content.firstElementChild))&&yn(/<[/\w]/g,J.innerHTML)&&yn(/<[/\w]/g,J.textContent))return At(J),!0;if(!N[ve]||K[ve]){if(!K[ve]&&H0(ve)&&(j.tagNameCheck instanceof RegExp&&yn(j.tagNameCheck,ve)||j.tagNameCheck instanceof Function&&j.tagNameCheck(ve)))return!1;if(xe&&!$e[ve]){var rt=p(J)||J.parentNode,ir=g(J)||J.childNodes;if(ir&&rt)for(var Bn=ir.length,xr=Bn-1;xr>=0;--xr)rt.insertBefore(x(ir[xr],!0),v(J))}return At(J),!0}return J instanceof s&&!Ea(J)||(ve==="noscript"||ve==="noembed")&&yn(/<\/no(script|embed)/i,J.innerHTML)?(At(J),!0):(q&&J.nodeType===3&&(ae=J.textContent,ae=Ei(ae,D," "),ae=Ei(ae,F," "),ae=Ei(ae,R," "),J.textContent!==ae&&(yd(t.removed,{element:J.cloneNode()}),J.textContent=ae)),Fn("afterSanitizeElements",J,null),!1)},j0=function(J,ae,ve){if(fe&&(ae==="id"||ae==="name")&&(ve in n||ve in kr))return!1;if(!(V&&!G[ae]&&yn(L,ae))){if(!(W&&yn(I,ae))){if(!B[ae]||G[ae]){if(!(H0(J)&&(j.tagNameCheck instanceof RegExp&&yn(j.tagNameCheck,J)||j.tagNameCheck instanceof Function&&j.tagNameCheck(J))&&(j.attributeNameCheck instanceof RegExp&&yn(j.attributeNameCheck,ae)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(ae))||ae==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&yn(j.tagNameCheck,ve)||j.tagNameCheck instanceof Function&&j.tagNameCheck(ve))))return!1}else if(!Xe[ae]){if(!yn(M,Ei(ve,w,""))){if(!((ae==="src"||ae==="xlink:href"||ae==="href")&&J!=="script"&&S3e(ve,"data:")===0&&ke[J])){if(!(Y&&!yn(k,Ei(ve,w,"")))){if(ve)return!1}}}}}}return!0},H0=function(J){return J.indexOf("-")>0},K0=function(J){var ae,ve,rt,ir;Fn("beforeSanitizeAttributes",J,null);var Bn=J.attributes;if(Bn){var xr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B};for(ir=Bn.length;ir--;){ae=Bn[ir];var mn=ae,ks=mn.name,DE=mn.namespaceURI;if(ve=ks==="value"?ae.value:b3e(ae.value),rt=Ne(ks),xr.attrName=rt,xr.attrValue=ve,xr.keepAttr=!0,xr.forceKeepAttr=void 0,Fn("uponSanitizeAttribute",J,xr),ve=xr.attrValue,!xr.forceKeepAttr&&(_r(ks,J),!!xr.keepAttr)){if(!X&&yn(/\/>/i,ve)){_r(ks,J);continue}q&&(ve=Ei(ve,D," "),ve=Ei(ve,F," "),ve=Ei(ve,R," "));var mP=Ne(J.nodeName);if(j0(mP,rt,ve)){if(ie&&(rt==="id"||rt==="name")&&(_r(ks,J),ve=pe+ve),S&&sl(m)==="object"&&typeof m.getAttributeType=="function"&&!DE)switch(m.getAttributeType(mP,rt)){case"TrustedHTML":ve=S.createHTML(ve);break;case"TrustedScriptURL":ve=S.createScriptURL(ve);break}try{DE?J.setAttributeNS(DE,ks,ve):J.setAttribute(ks,ve),h8(t.removed)}catch{}}}}Fn("afterSanitizeAttributes",J,null)}},LE=function Se(J){var ae,ve=$s(J);for(Fn("beforeSanitizeShadowDOM",J,null);ae=ve.nextNode();)Fn("uponSanitizeShadowNode",ae,null),!Uf(ae)&&(ae.content instanceof i&&Se(ae.content),K0(ae));Fn("afterSanitizeShadowDOM",J,null)};return t.sanitize=function(Se){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae,ve,rt,ir;if(Ct=!Se,Ct&&(Se="<!-->"),typeof Se!="string"&&!Er(Se)){if(typeof Se.toString!="function")throw gb("toString is not a function");if(Se=Se.toString(),typeof Se!="string")throw gb("dirty is not a string, aborting")}if(!t.isSupported)return Se;if(te||yr(J),t.removed=[],typeof Se=="string"&&(Te=!1),Te){if(Se.nodeName){var Bn=Ne(Se.nodeName);if(!N[Bn]||K[Bn])throw gb("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof o)ae=Ds("<!---->"),ve=ae.ownerDocument.importNode(Se,!0),ve.nodeType===1&&ve.nodeName==="BODY"||ve.nodeName==="HTML"?ae=ve:ae.appendChild(ve);else{if(!ne&&!q&&!Q&&Se.indexOf("<")===-1)return S&&he?S.createHTML(Se):Se;if(ae=Ds(Se),!ae)return ne?null:he?O:""}ae&&re&&At(ae.firstChild);for(var xr=$s(Te?Se:ae);rt=xr.nextNode();)Uf(rt)||(rt.content instanceof i&&LE(rt.content),K0(rt));if(Te)return Se;if(ne){if(oe)for(ir=T.call(ae.ownerDocument);ae.firstChild;)ir.appendChild(ae.firstChild);else ir=ae;return(B.shadowroot||B.shadowrootmod)&&(ir=P.call(r,ir,!0)),ir}var mn=Q?ae.outerHTML:ae.innerHTML;return Q&&N["!doctype"]&&ae.ownerDocument&&ae.ownerDocument.doctype&&ae.ownerDocument.doctype.name&&yn(k3e,ae.ownerDocument.doctype.name)&&(mn="<!DOCTYPE "+ae.ownerDocument.doctype.name+`>
`+mn),q&&(mn=Ei(mn,D," "),mn=Ei(mn,F," "),mn=Ei(mn,R," ")),S&&he?S.createHTML(mn):mn},t.setConfig=function(Se){yr(Se),te=!0},t.clearConfig=function(){Pt=null,te=!1},t.isValidAttribute=function(Se,J,ae){Pt||yr({});var ve=Ne(Se),rt=Ne(J);return j0(ve,rt,ae)},t.addHook=function(Se,J){typeof J=="function"&&(C[Se]=C[Se]||[],yd(C[Se],J))},t.removeHook=function(Se){if(C[Se])return h8(C[Se])},t.removeHooks=function(Se){C[Se]&&(C[Se]=[])},t.removeAllHooks=function(){C={}},t}var F3e=yz();class B3e{constructor({name:t,build:r,detect:n,helper:i,parse:a}){this.name=t,this.helper=i,this.build=r,this.detect=o=>{if(typeof o!="string")throw new Error("Expected string content!");return n(o)},this.parse=(o,s)=>{if(typeof o!="string")throw new Error("Expected string content!");return a(o,s)}}}const lo=e=>new B3e(e),U3e="ssa",Mc={toMilliseconds:e=>{const t=/^\s*(\d+:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new Error(`Invalid time format: ${e}`);const r=t[1]?parseInt(t[1].replace(":","")):0,n=parseInt(t[2]),i=parseInt(t[3]),a=t[4]?parseInt(t[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a*10},toTimeString:e=>{const t=Math.floor(e/1e3/3600),r=Math.floor(e/1e3/60%60),n=Math.floor(e/1e3%60),i=Math.floor(e%1e3/10);return`${t}:${r<10?"0":""}${r}:${n<10?"0":""}${n}.${i<10?"0":""}${i}`}},_z=(e,t)=>{let r,n=null;const i=[],a=t.eol||`\r
`,o=e.split(/\r?\n\s*\n/);for(let s=0;s<o.length;s++){const u=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)$/.exec(o[s]);if(u){const c=u[1],d=u[2].split(/\r?\n/);for(let f=0;f<d.length;f++){const m=d[f];if(/^\s*;/.test(m))continue;const _=/^\s*([^\s:]+):\s*(.*)$/.exec(m);if(_){if(c==="Script Info")if(r||(r={},r.type="meta",r.data={},i.push(r)),typeof r.data=="object"){const x=_[1].trim(),v=_[2].trim();r.data[x]=v}else throw new Error(`Invalid meta data: ${m}`);else if(c==="V4 Styles"||c==="V4+ Styles"){const x=_[1].trim(),v=_[2].trim();if(x==="Format")n=v.split(/\s*,\s*/g);else if(x==="Style"&&n){const g=v.split(/\s*,\s*/g),p={};p.type="style",p.data={};for(let h=0;h<n.length&&h<g.length;h++)p.data[n[h]]=g[h];i.push(p)}}else if(c==="Events"){const x=_[1].trim(),v=_[2].trim();if(x==="Format")n=v.split(/\s*,\s*/g);else if(x==="Dialogue"&&n){const g=v.split(/\s*,\s*/g),p={};p.type="caption",p.data={};for(let O=0;O<n.length&&O<g.length;O++)p.data[n[O]]=g[O];p.start=Mc.toMilliseconds(p.data.Start),p.end=Mc.toMilliseconds(p.data.End),p.duration=p.end-p.start,p.content=p.data.Text;const S=((O,y,E)=>O.split(y,E).join(y).length)(v,",",n.length-1)+1;p.content=v.substring(S),p.data.Text=p.content,p.text=p.content.replace(/\\N/g,a).replace(/\{[^}]+\}/g,""),i.push(p)}}}}}t.verbose&&console.log("WARN: Unknown part",o[s])}return i},Ez=(e,t)=>{const r=t.eol||`\r
`,n=t.format==="ass";let i="";i+=`[Script Info]${r}`,i+=`; Script generated by subsrt ${r}`,i+=`ScriptType: v4.00${n?"+":""}${r}`,i+=`Collisions: Normal${r}`,i+=r,n?(i+=`[V4+ Styles]${r}`,i+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding${r}`,i+=`Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0${r}`):(i+=`[V4 Styles]${r}`,i+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding${r}`,i+=`Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0${r}`),i+=r,i+=`[Events]${r}`,i+=`Format: ${n?"Layer":"Marked"}, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text${r}`;for(let a=0;a<e.length;a++){const o=e[a];if(o.type!=="meta"){if(!o.type||o.type==="caption"){i+=`Dialogue: ${n?"0":"Marked=0"},${Mc.toTimeString(o.start)},${Mc.toTimeString(o.end)},DefaultVCD, NTP,0000,0000,0000,,${o.text.replace(/\r?\n/g,"\\N")}${r}`;continue}t.verbose&&console.log("SKIP:",o)}}return i},xz=e=>/^\s*\[Script Info\]\r?\n/.test(e)&&/\s*\[Events\]\r?\n/.test(e)?e.indexOf("[V4+ Styles]")>0?"ass":"ssa":!1,j3e=lo({name:U3e,build:Ez,detect:xz,helper:Mc,parse:_z}),H3e="ass",K3e=lo({name:H3e,build:Ez,detect:xz,helper:Mc,parse:_z}),G3e="json",W3e=(e,t)=>JSON.parse(e),z3e=(e,t)=>JSON.stringify(e,void 0,2),V3e=e=>{try{const t=JSON.parse(e);return Array.isArray(t)&&t.length>0&&typeof t[0]=="object"}catch{return!1}},Y3e=lo({name:G3e,build:z3e,detect:V3e,parse:W3e}),X3e="lrc",oC={toMilliseconds:e=>{const t=/^\s*(\d+):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new Error(`Invalid time format: ${e}`);const r=parseInt(t[1]),n=parseInt(t[2]),i=t[3]?parseInt(t[3]):0;return r*60*1e3+n*1e3+i*10},toTimeString:e=>{const t=Math.floor(e/1e3/60),r=Math.floor(e/1e3%60),n=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${r<10?"0":""}${r}.${n<100?"0":""}${n<10?"0":Math.floor(n/10)}`}},q3e=(e,t)=>{let r=null;const n=[],i=e.split(/\r?\n/);for(let a=0;a<i.length;a++){if(!i[a]||i[a].trim().length===0)continue;const s=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)(?:\r?\n)*$/.exec(i[a]);if(s){const u={};u.type="caption",u.start=oC.toMilliseconds(s[1]),u.end=u.start+2e3,u.duration=u.end-u.start,u.content=s[2],u.text=u.content,n.push(u),r&&(r.end=u.start,r.duration=r.end-r.start),r=u;continue}const l=/^\[(\w+):([^\]]*)\](?:\r?\n)*$/.exec(i[a]);if(l){const u={};u.type="meta",u.tag=l[1],l[2]&&(u.data=l[2]),n.push(u);continue}t.verbose&&console.log("WARN: Unknown part",i[a])}return n},Q3e=(e,t)=>{let r="",n=!1;const i=t.eol||`\r
`;for(let a=0;a<e.length;a++){const o=e[a];if(o.type==="meta"){o.tag&&o.data&&typeof o.data=="string"&&(r+=`[${o.tag}:${o.data.replace(/[\r\n]+/g," ")}]${i}`);continue}if(!o.type||o.type==="caption"){n||(r+=i,n=!0),r+=`[${oC.toTimeString(o.start)}]${o.text}${i}`;continue}t.verbose&&console.log("SKIP:",o)}return r},Z3e=e=>/\r?\n\[\d+:\d{1,2}(?:[.,]\d{1,3})?\].*\r?\n/.test(e),J3e=lo({name:X3e,build:Q3e,detect:Z3e,helper:oC,parse:q3e}),e8e="sbv",tv={toMilliseconds:e=>{const t=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new Error(`Invalid time format: ${e}`);const r=parseInt(t[1]),n=parseInt(t[2]),i=parseInt(t[3]),a=t[4]?parseInt(t[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a},toTimeString:e=>{const t=Math.floor(e/1e3/3600),r=Math.floor(e/1e3/60%60),n=Math.floor(e/1e3%60),i=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${r<10?"0":""}${r}:${n<10?"0":""}${n}.${i<100?"0":""}${i<10?"0":""}${i}`}},t8e=(e,t)=>{const r=[],n=t.eol||`\r
`,i=e.split(/\r?\n\s*\n/);for(let a=0;a<i.length;a++){const s=/^(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*[,;]\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(i[a]);if(s){const l={};l.type="caption",l.start=tv.toMilliseconds(s[1]),l.end=tv.toMilliseconds(s[2]),l.duration=l.end-l.start;const u=s[3].split(/\[br\]|\r?\n/gi);l.content=u.join(n),l.text=l.content.replace(/>>[^:]+:\s*/g,""),r.push(l);continue}t.verbose&&console.log("WARN: Unknown part",i[a])}return r},r8e=(e,t)=>{let r="";const n=t.eol||`\r
`;for(let i=0;i<e.length;i++){const a=e[i];if(!a.type||a.type==="caption"){r+=`${tv.toTimeString(a.start)},${tv.toTimeString(a.end)}${n}`,r+=a.text+n,r+=n;continue}t.verbose&&console.log("SKIP:",a)}return r},n8e=e=>/\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*[,;]\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(e),i8e=lo({name:e8e,build:r8e,detect:n8e,helper:tv,parse:t8e}),Sz="smi",sC={htmlEncode:e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n/g,"<BR>"),htmlDecode:(e,t)=>e.replace(/<BR\s*\/?>/gi,t||`\r
`).replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},a8e=(e,t)=>{if(t.format&&t.format!==Sz)throw new Error(`Invalid format: ${t.format}`);const r=[],n=t.eol||`\r
`,i=/<TITLE[^>]*>([\s\S]*)<\/TITLE>/i.exec(e);if(i){const u={};u.type="meta",u.name="title",u.data=i[1].replace(/^\s*/g,"").replace(/\s*$/g,""),r.push(u)}const a=/<STYLE[^>]*>([\s\S]*)<\/STYLE>/i.exec(e);if(a){const u={};u.type="meta",u.name="style",u.data=a[1],r.push(u)}const o=e.replace(/^[\s\S]*<BODY[^>]*>/gi,"").replace(/<\/BODY[^>]*>[\s\S]*$/gi,"");let s=null;const l=o.split(/<SYNC/gi);for(let u=0;u<l.length;u++){if(!l[u]||l[u].trim().length===0)continue;const c=`<SYNC${l[u]}`,d=/^<SYNC[^>]+Start\s*=\s*["']?(\d+)[^\d>]*>([\s\S]*)/i.exec(c);if(d){const f={};f.type="caption",f.start=parseInt(d[1]),f.end=f.start+2e3,f.duration=f.end-f.start,f.content=d[2].replace(/^<\/SYNC[^>]*>/gi,"");let m=!0;const _=/^<P.+Class\s*=\s*["']?([\w-]+)(?: .*)?>([\s\S]*)/i.exec(f.content)||/^<P([^>]*)>([\s\S]*)/i.exec(f.content);if(_){let x=_[2].replace(/<P[\s\S]+$/gi,"");x=x.replace(/<BR\s*\/?>\s+/gi,n).replace(/<BR\s*\/?>/gi,n).replace(/<[^>]+>/g,""),x=x.replace(/^\s+/g,"").replace(/\s+$/g,""),m=x.replace(/&nbsp;/gi," ").replace(/\s+/g,"").length===0,f.text=sC.htmlDecode(x,n)}!t.preserveSpaces&&m?t.verbose&&console.log(`INFO: Skipping white space caption at ${f.start}`):r.push(f),s&&(s.end=f.start,s.duration=s.end-s.start),s=f;continue}t.verbose&&console.log("WARN: Unknown part",l[u])}return r},o8e=(e,t)=>{const r=t.eol||`\r
`;let n="";n+=`<SAMI>${r}`,n+=`<HEAD>${r}`,n+=`<TITLE>${t.title||""}</TITLE>${r}`,n+=`<STYLE TYPE="text/css">${r}`,n+=`<!--${r}`,n+=`P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }${r}`,n+=`.LANG { Name: ${t.langName||"English"}; lang: ${t.langCode||"en-US"}; SAMIType: CC; }${r}`,n+=`-->${r}`,n+=`</STYLE>${r}`,n+=`</HEAD>${r}`,n+=`<BODY>${r}`;for(let i=0;i<e.length;i++){const a=e[i];if(a.type!=="meta"){if(!a.type||a.type==="caption"){n+=`<SYNC Start=${a.start}>${r}`,n+=`  <P Class=LANG>${sC.htmlEncode(a.text||"")}${t.closeTags?"</P>":""}${r}`,t.closeTags&&(n+=`</SYNC>${r}`),n+=`<SYNC Start=${a.end}>${r}`,n+=`  <P Class=LANG>&nbsp;${t.closeTags?"</P>":""}${r}`,t.closeTags&&(n+=`</SYNC>${r}`);continue}t.verbose&&console.log("SKIP:",a)}}return n+=`</BODY>${r}`,n+=`</SAMI>${r}`,n},s8e=e=>/<SAMI[^>]*>[\s\S]*<BODY[^>]*>/.test(e),l8e=lo({name:Sz,build:o8e,detect:s8e,helper:sC,parse:a8e}),u8e="srt",rv={toMilliseconds:e=>{const t=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new Error(`Invalid time format: ${e}`);const r=parseInt(t[1]),n=parseInt(t[2]),i=parseInt(t[3]),a=t[4]?parseInt(t[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a},toTimeString:e=>{const t=Math.floor(e/1e3/3600),r=Math.floor(e/1e3/60%60),n=Math.floor(e/1e3%60),i=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${r<10?"0":""}${r}:${n<10?"0":""}${n},${i<100?"0":""}${i<10?"0":""}${i}`}},c8e=(e,t)=>{const r=[],n=t.eol||`\r
`,i=e.split(/\r?\n\s*\n/g);for(let a=0;a<i.length;a++){const s=/^(\d+)\r?\n(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(i[a]);if(s){const l={};l.type="caption",l.index=parseInt(s[1]),l.start=rv.toMilliseconds(s[2]),l.end=rv.toMilliseconds(s[3]),l.duration=l.end-l.start;const u=s[4].split(/\r?\n/);l.content=u.join(n),l.text=l.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,"").replace(/>>[^:]*:\s*/g,""),r.push(l);continue}t.verbose&&console.log("WARN: Unknown part",i[a])}return r},f8e=(e,t)=>{let r="";const n=t.eol||`\r
`;for(let i=0;i<e.length;i++){const a=e[i];if(!a.type||a.type==="caption"){r+=(i+1).toString()+n,r+=`${rv.toTimeString(a.start)} --> ${rv.toTimeString(a.end)}${n}`,r+=a.text+n,r+=n;continue}t.verbose&&console.log("SKIP:",a)}return r},d8e=e=>/\d+\r?\n\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*-->\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(e),h8e=lo({name:u8e,build:f8e,detect:d8e,helper:rv,parse:c8e}),v8e="sub",B2=25,p8e=(e,t)=>{t.fps||(t.fps=B2);const r=t.fps>0?t.fps:B2,n=[],i=t.eol||`\r
`,a=e.split(/\r?\n/g);for(let o=0;o<a.length;o++){const l=/^\{(\d+)\}\{(\d+)\}(.*)$/.exec(a[o]);if(l){const u={};u.type="caption",u.index=o+1,u.frame={start:parseInt(l[1]),end:parseInt(l[2]),count:parseInt(l[2])-parseInt(l[1])},u.start=Math.round(u.frame.start/r),u.end=Math.round(u.frame.end/r),u.duration=u.end-u.start;const c=l[3].split(/\|/g);u.content=c.join(i),u.text=u.content.replace(/\{[^}]+\}/g,""),n.push(u);continue}t.verbose&&console.log("WARN: Unknown part",a[o])}return n},g8e=(e,t)=>{const r=(t.fps||0)>0?t.fps:B2;let n="";const i=t.eol||`\r
`;for(let a=0;a<e.length;a++){const o=e[a];if(!o.type||o.type==="caption"){const s=typeof o.frame=="object"&&o.frame.start>=0?o.frame.start:o.start*r,l=typeof o.frame=="object"&&o.frame.end>=0?o.frame.end:o.end*r,u=o.text.replace(/\r?\n/,"|");n+=`{${s}}{${l}}${u}${i}`;continue}t.verbose&&console.log("SKIP:",o)}return n},m8e=e=>/^\{\d+\}\{\d+\}.*/.test(e),y8e=lo({name:v8e,build:g8e,detect:m8e,parse:p8e}),_8e="vtt",nv={toMilliseconds:e=>{const t=/^\s*(\d{1,2}:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(e);if(!t)throw new Error(`Invalid time format: ${e}`);const r=t[1]?parseInt(t[1].replace(":","")):0,n=parseInt(t[2]),i=parseInt(t[3]),a=t[4]?parseInt(t[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a},toTimeString:e=>{const t=Math.floor(e/1e3/3600),r=Math.floor(e/1e3/60%60),n=Math.floor(e/1e3%60),i=Math.floor(e%1e3);return`${(t<10?"0":"")+t}:${r<10?"0":""}${r}:${n<10?"0":""}${n}.${i<100?"0":""}${i<10?"0":""}${i}`}},E8e=(e,t)=>{let r=1;const n=[],i=e.split(/\r?\n\s*\n/);for(let a=0;a<i.length;a++){const s=/^([^\r\n]+\r?\n)?((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s?.*\r?\n([\s\S]*)$/.exec(i[a]);if(s){const u={};u.type="caption",u.index=r++,s[1]&&(u.cue=s[1].replace(/[\r\n]*/g,"")),u.start=nv.toMilliseconds(s[2]),u.end=nv.toMilliseconds(s[3]),u.duration=u.end-u.start;const c=s[4].split(/\r?\n/);u.content=c.join(" "),u.text=u.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,""),n.push(u);continue}const l=/^([A-Z]+)(\r?\n([\s\S]*))?$/.exec(i[a])||/^([A-Z]+)\s+([^\r\n]*)$/.exec(i[a]);if(l){const u={};u.type="meta",u.name=l[1],l[3]&&(u.data=l[3]),n.push(u);continue}t.verbose&&console.log("WARN: Unknown part",i[a])}return n},x8e=(e,t)=>{const r=t.eol||`\r
`;let n=`WEBVTT${r}${r}`;for(let i=0;i<e.length;i++){const a=e[i];if(a.type==="meta"){if(a.name==="WEBVTT")continue;n+=a.name+r,n+=a.data?a.data+r:"",n+=r;continue}if(!a.type||a.type==="caption"){n+=(i+1).toString()+r,n+=`${nv.toTimeString(a.start)} --> ${nv.toTimeString(a.end)}${r}`,n+=a.text+r,n+=r;continue}t.verbose&&console.log("SKIP:",a)}return n},S8e=e=>/^\s*WEBVTT\r?\n/.test(e),b8e=lo({name:_8e,build:x8e,detect:S8e,helper:nv,parse:E8e}),T8e={vtt:b8e,lrc:J3e,smi:l8e,ssa:j3e,ass:K3e,sub:y8e,srt:h8e,sbv:i8e,json:Y3e},w8e=e=>JSON.parse(JSON.stringify(e));class A8e{constructor(){this.format=T8e,this.list=()=>Object.keys(this.format),this.detect=t=>{const r=this.list();for(let n=0;n<r.length;n++){const i=r[n],a=this.format[i];if(typeof a>"u"||typeof a.detect!="function")continue;const o=a.detect(t);if(o===!0||o===i)return i}return""},this.parse=(t,r={})=>{const n=r.format||this.detect(t);if(!n||n.trim().length===0)throw new Error("Cannot determine subtitle format!");const i=this.format[n];if(typeof i>"u")throw new Error(`Unsupported subtitle format: ${n}`);const a=i.parse;if(typeof a!="function")throw new Error(`Subtitle format does not support 'parse' op: ${n}`);return a(t,r)},this.build=(t,r={})=>{const n=r.format||"srt";if(!n||n.trim().length===0)throw new Error("Cannot determine subtitle format!");const i=this.format[n];if(typeof i>"u")throw new Error(`Unsupported subtitle format: ${n}`);const a=i.build;if(typeof a!="function")throw new Error(`Subtitle format does not support 'build' op: ${n}`);return a(t,r)},this.convert=(t,r={})=>{let n={};typeof r=="string"?n.to=r:n=r;const i={format:n.from||void 0,verbose:n.verbose,eol:n.eol};let a=this.parse(t,i);n.resync&&(a=this.resync(a,n.resync));const o={format:n.to||n.format,verbose:n.verbose,eol:n.eol};return this.build(a,o)},this.resync=(t,r={})=>{let n,i,a=!1,o;if(typeof r=="function")n=r;else if(typeof r=="number")o=r,n=l=>[l[0]+o,l[1]+o];else if(typeof r=="object")o=(r.offset||0)*(r.frame?r.fps||25:1),i=r.ratio||1,a=r.frame||!1,n=l=>[Math.round(l[0]*i+o),Math.round(l[1]*i+o)];else throw new Error("Argument 'options' not defined!");const s=[];for(let l=0;l<t.length;l++){const u=w8e(t[l]);if(!u.type||u.type==="caption")if(a){const c=n([u.frame.start,u.frame.end]);c&&c.length===2&&(u.frame.start=c[0],u.frame.end=c[1],u.frame.count=u.frame.end-u.frame.start)}else{const c=n([u.start,u.end]);c&&c.length===2&&(u.start=c[0],u.end=c[1],u.duration=u.end-u.start)}s.push(u)}return s}}}const R8e=new A8e,{format:Hat,list:O8e,detect:I8e,parse:C8e,build:Kat,convert:Gat,resync:Wat}=R8e,_d="external-custom";function U2(e,t){return t?`linked-${e.langIso}`:`external-${e.langIso}`}const P8e=O8e().map(e=>`.${e}`),L8e=F3e.sanitize;async function bz(e){if(e.url.startsWith("blob:"))return e.url;let t;return e.needsProxy?t=await Ft(e.url,{responseType:"blob"}):t=await RMe(e.url,{responseType:"blob"}),URL.createObjectURL(t)}function _y(e){e&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}function Tz(e){if(I8e(e)==="")throw new Error("Invalid subtitle format");return C8e(e).filter(t=>t.type==="caption")}const Ey=[{id:"none",englishName:"None",name:"None",nativeName:"Lorem ipsum"},{id:"aa",englishName:"Afar",name:"Afar - Afaraf",nativeName:"Afaraf"},{id:"ab",englishName:"Abkhaz",name:"Abkhaz - Аҧсуа бызшәа",nativeName:"Аҧсуа бызшәа"},{id:"ae",englishName:"Avestan",name:"Avestan - Avesta",nativeName:"Avesta"},{id:"af",englishName:"Afrikaans",name:"Afrikaans - Afrikaans",nativeName:"Afrikaans"},{id:"ak",englishName:"Akan",name:"Akan - Akan",nativeName:"Akan"},{id:"am",englishName:"Amharic",name:"Amharic - አማርኛ",nativeName:"አማርኛ"},{id:"an",englishName:"Aragonese",name:"Aragonese - Aragonés",nativeName:"Aragonés"},{id:"ar",englishName:"Arabic",name:"Arabic - اللغة العربية",nativeName:"اللغة العربية"},{id:"as",englishName:"Assamese",name:"Assamese - অসমীয়া",nativeName:"অসমীয়া"},{id:"av",englishName:"Avaric",name:"Avaric - Авар мацӀ",nativeName:"Авар мацӀ"},{id:"ay",englishName:"Aymara",name:"Aymara - Aymar aru",nativeName:"Aymar aru"},{id:"az",englishName:"Azerbaijani",name:"Azerbaijani - Azərbaycan dili",nativeName:"Azərbaycan dili"},{id:"ba",englishName:"Bashkir",name:"Bashkir - Башҡорт теле",nativeName:"Башҡорт теле"},{id:"be",englishName:"Belarusian",name:"Belarusian - Беларуская мова",nativeName:"Беларуская мова"},{id:"bg",englishName:"Bulgarian",name:"Bulgarian - Български език",nativeName:"Български език"},{id:"bh",englishName:"Bihari",name:"Bihari - भोजपुरी",nativeName:"भोजपुरी"},{id:"bi",englishName:"Bislama",name:"Bislama - Bislama",nativeName:"Bislama"},{id:"bm",englishName:"Bambara",name:"Bambara - Bamanankan",nativeName:"Bamanankan"},{id:"bn",englishName:"Bengali",name:"Bengali - বাংলা",nativeName:"বাংলা"},{id:"bo",englishName:"Tibetan Standard",name:"Tibetan Standard - བོད་ཡིག",nativeName:"བོད་ཡིག"},{id:"br",englishName:"Breton",name:"Breton - Brezhoneg",nativeName:"Brezhoneg"},{id:"bs",englishName:"Bosnian",name:"Bosnian - Bosanski jezik",nativeName:"Bosanski jezik"},{id:"ca",englishName:"Catalan",name:"Catalan - Català",nativeName:"Català"},{id:"ce",englishName:"Chechen",name:"Chechen - Нохчийн мотт",nativeName:"Нохчийн мотт"},{id:"ch",englishName:"Chamorro",name:"Chamorro - Chamoru",nativeName:"Chamoru"},{id:"co",englishName:"Corsican",name:"Corsican - Corsu",nativeName:"Corsu"},{id:"cr",englishName:"Cree",name:"Cree - ᓀᐦᐃᔭᐍᐏᐣ",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},{id:"cs",englishName:"Czech",name:"Czech - Čeština",nativeName:"Čeština"},{id:"cu",englishName:"Old Church Slavonic",name:"Old Church Slavonic - Ѩзыкъ словѣньскъ",nativeName:"Ѩзыкъ словѣньскъ"},{id:"cv",englishName:"Chuvash",name:"Chuvash - Чӑваш чӗлхи",nativeName:"Чӑваш чӗлхи"},{id:"cy",englishName:"Welsh",name:"Welsh - Cymraeg",nativeName:"Cymraeg"},{id:"da",englishName:"Danish",name:"Danish - Dansk",nativeName:"Dansk"},{id:"de",englishName:"German",name:"German - Deutsch",nativeName:"Deutsch"},{id:"dv",englishName:"Divehi",name:"Divehi - Dhivehi",nativeName:"Dhivehi"},{id:"dz",englishName:"Dzongkha",name:"Dzongkha - རྫོང་ཁ",nativeName:"རྫོང་ཁ"},{id:"ee",englishName:"Ewe",name:"Ewe - Eʋegbe",nativeName:"Eʋegbe"},{id:"el",englishName:"Greek",name:"Greek - Ελληνικά",nativeName:"Ελληνικά"},{id:"en",englishName:"English",name:"English - English",nativeName:"English"},{id:"eo",englishName:"Esperanto",name:"Esperanto - Esperanto",nativeName:"Esperanto"},{id:"es",englishName:"Spanish",name:"Spanish - Español",nativeName:"Español"},{id:"et",englishName:"Estonian",name:"Estonian - Eesti",nativeName:"Eesti"},{id:"eu",englishName:"Basque",name:"Basque - Euskara",nativeName:"Euskara"},{id:"fa",englishName:"Persian",name:"Persian - فارسی",nativeName:"فارسی"},{id:"ff",englishName:"Fula",name:"Fula - Fulfulde",nativeName:"Fulfulde"},{id:"fi",englishName:"Finnish",name:"Finnish - Suomi",nativeName:"Suomi"},{id:"fj",englishName:"Fijian",name:"Fijian - Vakaviti",nativeName:"Vakaviti"},{id:"fo",englishName:"Faroese",name:"Faroese - Føroyskt",nativeName:"Føroyskt"},{id:"fr",englishName:"French",name:"French - Français",nativeName:"Français"},{id:"fy",englishName:"Western Frisian",name:"Western Frisian - Frysk",nativeName:"Frysk"},{id:"ga",englishName:"Irish",name:"Irish - Gaeilge",nativeName:"Gaeilge"},{id:"gd",englishName:"Scottish Gaelic",name:"Scottish Gaelic - Gàidhlig",nativeName:"Gàidhlig"},{id:"gl",englishName:"Galician",name:"Galician - Galego",nativeName:"Galego"},{id:"gn",englishName:"Guaraní",name:"Guaraní - Avañeẽ",nativeName:"Avañeẽ"},{id:"gu",englishName:"Gujarati",name:"Gujarati - ગુજરાતી",nativeName:"ગુજરાતી"},{id:"gv",englishName:"Manx",name:"Manx - Gaelg",nativeName:"Gaelg"},{id:"ha",englishName:"Hausa",name:"Hausa - هَوُسَ",nativeName:"هَوُسَ"},{id:"he",englishName:"Hebrew",name:"Hebrew - עברית",nativeName:"עברית"},{id:"hi",englishName:"Hindi",name:"Hindi - हिन्दी",nativeName:"हिन्दी"},{id:"ho",englishName:"Hiri Motu",name:"Hiri Motu - Hiri Motu",nativeName:"Hiri Motu"},{id:"hr",englishName:"Croatian",name:"Croatian - Hrvatski jezik",nativeName:"Hrvatski jezik"},{id:"ht",englishName:"Haitian",name:"Haitian - Kreyòl ayisyen",nativeName:"Kreyòl ayisyen"},{id:"hu",englishName:"Hungarian",name:"Hungarian - Magyar",nativeName:"Magyar"},{id:"hy",englishName:"Armenian",name:"Armenian - Հայերեն",nativeName:"Հայերեն"},{id:"hz",englishName:"Herero",name:"Herero - Otjiherero",nativeName:"Otjiherero"},{id:"ia",englishName:"Interlingua",name:"Interlingua - Interlingua",nativeName:"Interlingua"},{id:"id",englishName:"Indonesian",name:"Indonesian - Indonesian",nativeName:"Indonesian"},{id:"ie",englishName:"Interlingue",name:"Interlingue - Interlingue",nativeName:"Interlingue"},{id:"ig",englishName:"Igbo",name:"Igbo - Asụsụ Igbo",nativeName:"Asụsụ Igbo"},{id:"ii",englishName:"Nuosu",name:"Nuosu - ꆈꌠ꒿ Nuosuhxop",nativeName:"ꆈꌠ꒿ Nuosuhxop"},{id:"ik",englishName:"Inupiaq",name:"Inupiaq - Iñupiaq",nativeName:"Iñupiaq"},{id:"io",englishName:"Ido",name:"Ido - Ido",nativeName:"Ido"},{id:"is",englishName:"Icelandic",name:"Icelandic - Íslenska",nativeName:"Íslenska"},{id:"it",englishName:"Italian",name:"Italian - Italiano",nativeName:"Italiano"},{id:"iu",englishName:"Inuktitut",name:"Inuktitut - ᐃᓄᒃᑎᑐᑦ",nativeName:"ᐃᓄᒃᑎᑐᑦ"},{id:"ja",englishName:"Japanese",name:"Japanese - 日本語",nativeName:"日本語"},{id:"jv",englishName:"Javanese",name:"Javanese - Basa Jawa",nativeName:"Basa Jawa"},{id:"ka",englishName:"Georgian",name:"Georgian - Ქართული",nativeName:"Ქართული"},{id:"kg",englishName:"Kongo",name:"Kongo - Kikongo",nativeName:"Kikongo"},{id:"ki",englishName:"Kikuyu",name:"Kikuyu - Gĩkũyũ",nativeName:"Gĩkũyũ"},{id:"kj",englishName:"Kwanyama",name:"Kwanyama - Kuanyama",nativeName:"Kuanyama"},{id:"kk",englishName:"Kazakh",name:"Kazakh - Қазақ тілі",nativeName:"Қазақ тілі"},{id:"kl",englishName:"Kalaallisut",name:"Kalaallisut - Kalaallisut",nativeName:"Kalaallisut"},{id:"km",englishName:"Khmer",name:"Khmer - ខេមរភាសា",nativeName:"ខេមរភាសា"},{id:"kn",englishName:"Kannada",name:"Kannada - ಕನ್ನಡ",nativeName:"ಕನ್ನಡ"},{id:"ko",englishName:"Korean",name:"Korean - 한국어",nativeName:"한국어"},{id:"kr",englishName:"Kanuri",name:"Kanuri - Kanuri",nativeName:"Kanuri"},{id:"ks",englishName:"Kashmiri",name:"Kashmiri - कश्मीरी",nativeName:"कश्मीरी"},{id:"ku",englishName:"Kurdish",name:"Kurdish - Kurdî",nativeName:"Kurdî"},{id:"kv",englishName:"Komi",name:"Komi - Коми кыв",nativeName:"Коми кыв"},{id:"kw",englishName:"Cornish",name:"Cornish - Kernewek",nativeName:"Kernewek"},{id:"ky",englishName:"Kyrgyz",name:"Kyrgyz - Кыргызча",nativeName:"Кыргызча"},{id:"la",englishName:"Latin",name:"Latin - Latine",nativeName:"Latine"},{id:"lb",englishName:"Luxembourgish",name:"Luxembourgish - Lëtzebuergesch",nativeName:"Lëtzebuergesch"},{id:"lg",englishName:"Ganda",name:"Ganda - Luganda",nativeName:"Luganda"},{id:"li",englishName:"Limburgish",name:"Limburgish - Limburgs",nativeName:"Limburgs"},{id:"ln",englishName:"Lingala",name:"Lingala - Lingála",nativeName:"Lingála"},{id:"lo",englishName:"Lao",name:"Lao - ພາສາ",nativeName:"ພາສາ"},{id:"lt",englishName:"Lithuanian",name:"Lithuanian - Lietuvių kalba",nativeName:"Lietuvių kalba"},{id:"lu",englishName:"Luba-Katanga",name:"Luba-Katanga - Tshiluba",nativeName:"Tshiluba"},{id:"lv",englishName:"Latvian",name:"Latvian - Latviešu valoda",nativeName:"Latviešu valoda"},{id:"mg",englishName:"Malagasy",name:"Malagasy - Fiteny malagasy",nativeName:"Fiteny malagasy"},{id:"mh",englishName:"Marshallese",name:"Marshallese - Kajin M̧ajeļ",nativeName:"Kajin M̧ajeļ"},{id:"mi",englishName:"Māori",name:"Māori - Te reo Māori",nativeName:"Te reo Māori"},{id:"mk",englishName:"Macedonian",name:"Macedonian - Македонски јазик",nativeName:"Македонски јазик"},{id:"ml",englishName:"Malayalam",name:"Malayalam - മലയാളം",nativeName:"മലയാളം"},{id:"mn",englishName:"Mongolian",name:"Mongolian - Монгол хэл",nativeName:"Монгол хэл"},{id:"mr",englishName:"Marathi",name:"Marathi - मराठी",nativeName:"मराठी"},{id:"ms",englishName:"Malay",name:"Malay - هاس ملايو‎",nativeName:"هاس ملايو‎"},{id:"mt",englishName:"Maltese",name:"Maltese - Malti",nativeName:"Malti"},{id:"my",englishName:"Burmese",name:"Burmese - ဗမာစာ",nativeName:"ဗမာစာ"},{id:"na",englishName:"Nauru",name:"Nauru - Ekakairũ Naoero",nativeName:"Ekakairũ Naoero"},{id:"nb",englishName:"Norwegian Bokmål",name:"Norwegian Bokmål - Norsk bokmål",nativeName:"Norsk bokmål"},{id:"nd",englishName:"Northern Ndebele",name:"Northern Ndebele - IsiNdebele",nativeName:"IsiNdebele"},{id:"ne",englishName:"Nepali",name:"Nepali - नेपाली",nativeName:"नेपाली"},{id:"ng",englishName:"Ndonga",name:"Ndonga - Owambo",nativeName:"Owambo"},{id:"nl",englishName:"Dutch",name:"Dutch - Nederlands",nativeName:"Nederlands"},{id:"nn",englishName:"Norwegian Nynorsk",name:"Norwegian Nynorsk - Norsk nynorsk",nativeName:"Norsk nynorsk"},{id:"no",englishName:"Norwegian",name:"Norwegian - Norsk",nativeName:"Norsk"},{id:"nr",englishName:"Southern Ndebele",name:"Southern Ndebele - IsiNdebele",nativeName:"IsiNdebele"},{id:"nv",englishName:"Navajo",name:"Navajo - Diné bizaad",nativeName:"Diné bizaad"},{id:"ny",englishName:"Chichewa",name:"Chichewa - ChiCheŵa",nativeName:"ChiCheŵa"},{id:"oc",englishName:"Occitan",name:"Occitan - Occitan",nativeName:"Occitan"},{id:"oj",englishName:"Ojibwe",name:"Ojibwe - ᐊᓂᔑᓈᐯᒧᐎᓐ",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},{id:"om",englishName:"Oromo",name:"Oromo - Afaan Oromoo",nativeName:"Afaan Oromoo"},{id:"or",englishName:"Oriya",name:"Oriya - ଓଡ଼ିଆ",nativeName:"ଓଡ଼ିଆ"},{id:"os",englishName:"Ossetian",name:"Ossetian - Ирон æвзаг",nativeName:"Ирон æвзаг"},{id:"pa",englishName:"Panjabi",name:"Panjabi - ਪੰਜਾਬੀ",nativeName:"ਪੰਜਾਬੀ"},{id:"pi",englishName:"Pāli",name:"Pāli - पाऴि",nativeName:"पाऴि"},{id:"pl",englishName:"Polish",name:"Polish - Język polski",nativeName:"Język polski"},{id:"ps",englishName:"Pashto",name:"Pashto - پښتو",nativeName:"پښتو"},{id:"pt",englishName:"Portuguese",name:"Portuguese - Português",nativeName:"Português"},{id:"qu",englishName:"Quechua",name:"Quechua - Runa Simi",nativeName:"Runa Simi"},{id:"rm",englishName:"Romansh",name:"Romansh - Rumantsch grischun",nativeName:"Rumantsch grischun"},{id:"rn",englishName:"Kirundi",name:"Kirundi - Ikirundi",nativeName:"Ikirundi"},{id:"ro",englishName:"Romanian",name:"Romanian - Română",nativeName:"Română"},{id:"ru",englishName:"Russian",name:"Russian - Русский",nativeName:"Русский"},{id:"rw",englishName:"Kinyarwanda",name:"Kinyarwanda - Ikinyarwanda",nativeName:"Ikinyarwanda"},{id:"sa",englishName:"Sanskrit",name:"Sanskrit - संस्कृतम्",nativeName:"संस्कृतम्"},{id:"sc",englishName:"Sardinian",name:"Sardinian - Sardu",nativeName:"Sardu"},{id:"sd",englishName:"Sindhi",name:"Sindhi - सिन्धी",nativeName:"सिन्धी"},{id:"se",englishName:"Northern Sami",name:"Northern Sami - Davvisámegiella",nativeName:"Davvisámegiella"},{id:"sg",englishName:"Sango",name:"Sango - Yângâ tî sängö",nativeName:"Yângâ tî sängö"},{id:"si",englishName:"Sinhala",name:"Sinhala - සිංහල",nativeName:"සිංහල"},{id:"sk",englishName:"Slovak",name:"Slovak - Slovenčina",nativeName:"Slovenčina"},{id:"sl",englishName:"Slovene",name:"Slovene - Slovenski jezik",nativeName:"Slovenski jezik"},{id:"sm",englishName:"Samoan",name:"Samoan - Gagana faa Samoa",nativeName:"Gagana faa Samoa"},{id:"sn",englishName:"Shona",name:"Shona - ChiShona",nativeName:"ChiShona"},{id:"so",englishName:"Somali",name:"Somali - Soomaaliga",nativeName:"Soomaaliga"},{id:"sq",englishName:"Albanian",name:"Albanian - Shqip",nativeName:"Shqip"},{id:"sr",englishName:"Serbian",name:"Serbian - Српски језик",nativeName:"Српски језик"},{id:"ss",englishName:"Swati",name:"Swati - SiSwati",nativeName:"SiSwati"},{id:"st",englishName:"Southern Sotho",name:"Southern Sotho - Sesotho",nativeName:"Sesotho"},{id:"su",englishName:"Sundanese",name:"Sundanese - Basa Sunda",nativeName:"Basa Sunda"},{id:"sv",englishName:"Swedish",name:"Swedish - Svenska",nativeName:"Svenska"},{id:"sw",englishName:"Swahili",name:"Swahili - Kiswahili",nativeName:"Kiswahili"},{id:"ta",englishName:"Tamil",name:"Tamil - தமிழ்",nativeName:"தமிழ்"},{id:"te",englishName:"Telugu",name:"Telugu - తెలుగు",nativeName:"తెలుగు"},{id:"tg",englishName:"Tajik",name:"Tajik - Тоҷикӣ",nativeName:"Тоҷикӣ"},{id:"th",englishName:"Thai",name:"Thai - ไทย",nativeName:"ไทย"},{id:"ti",englishName:"Tigrinya",name:"Tigrinya - ትግርኛ",nativeName:"ትግርኛ"},{id:"tk",englishName:"Turkmen",name:"Turkmen - Türkmen",nativeName:"Türkmen"},{id:"tl",englishName:"Tagalog",name:"Tagalog - Wikang Tagalog",nativeName:"Wikang Tagalog"},{id:"tn",englishName:"Tswana",name:"Tswana - Setswana",nativeName:"Setswana"},{id:"to",englishName:"Tonga",name:"Tonga - Faka Tonga",nativeName:"Faka Tonga"},{id:"tr",englishName:"Turkish",name:"Turkish - Türkçe",nativeName:"Türkçe"},{id:"ts",englishName:"Tsonga",name:"Tsonga - Xitsonga",nativeName:"Xitsonga"},{id:"tt",englishName:"Tatar",name:"Tatar - Татар теле",nativeName:"Татар теле"},{id:"tw",englishName:"Twi",name:"Twi - Twi",nativeName:"Twi"},{id:"ty",englishName:"Tahitian",name:"Tahitian - Reo Tahiti",nativeName:"Reo Tahiti"},{id:"ug",englishName:"Uyghur",name:"Uyghur - ئۇيغۇرچە‎",nativeName:"ئۇيغۇرچە‎"},{id:"uk",englishName:"Ukrainian",name:"Ukrainian - Українська",nativeName:"Українська"},{id:"ur",englishName:"Urdu",name:"Urdu - اردو",nativeName:"اردو"},{id:"uz",englishName:"Uzbek",name:"Uzbek - Ўзбек",nativeName:"Ўзбек"},{id:"ve",englishName:"Venda",name:"Venda - Tshivenḓa",nativeName:"Tshivenḓa"},{id:"vi",englishName:"Vietnamese",name:"Vietnamese - Tiếng Việt",nativeName:"Tiếng Việt"},{id:"vo",englishName:"Volapük",name:"Volapük - Volapük",nativeName:"Volapük"},{id:"wa",englishName:"Walloon",name:"Walloon - Walon",nativeName:"Walon"},{id:"wo",englishName:"Wolof",name:"Wolof - Wollof",nativeName:"Wollof"},{id:"xh",englishName:"Xhosa",name:"Xhosa - IsiXhosa",nativeName:"IsiXhosa"},{id:"yi",englishName:"Yiddish",name:"Yiddish - ייִדיש",nativeName:"ייִדיש"},{id:"yo",englishName:"Yoruba",name:"Yoruba - Yorùbá",nativeName:"Yorùbá"},{id:"za",englishName:"Zhuang",name:"Zhuang - Saɯ cueŋƅ",nativeName:"Saɯ cueŋƅ"},{id:"zh",englishName:"Chinese",name:"Chinese - 中文",nativeName:"中文"},{id:"zu",englishName:"Zulu",name:"Zulu - IsiZulu",nativeName:"IsiZulu"}];function D8e(e){const t=so(e);return{initialized:z.useMemo(()=>!!t.initalized,[t])}}async function $8e(e){for(let t=0;t<e.length;t+=1){const r=e[t];try{const n=await bz(r);return{caption:r,blobUrl:n}}catch{continue}}return null}function k8e(e){const t=Pe(),r=yt(t),{initialized:n}=D8e(t),i=z.useRef(!1),{captionSettings:a}=bf();return z.useEffect(()=>{if(i.current||!n)return;r.setSource(e);const o=Ey.find(l=>l.id===a.language);if(!o)return;const s=e.captions.filter(l=>l.langIso.indexOf(o.englishName)!==-1||l.langIso.indexOf(o.nativeName)!==-1);s&&($8e(s).then(l=>{if(!l)return;const u=U2(l.caption,!0);r.setCaption(u,l.blobUrl)}),i.current=!0)},[e,r,n,a.language]),null}function wz(e){const{t}=Fe();return ee("div",{className:`flex items-center space-x-2 rounded-full bg-bink-300 bg-opacity-50 px-4 py-2 text-bink-600 ${e.clickable?"transition-[transform,background-color] hover:scale-105 hover:bg-bink-400 hover:text-bink-700 active:scale-95":""}`,children:[H(tt,{className:"text-xl",icon:ye.MOVIE_WEB}),H("span",{className:["font-semibold text-white",e.hideTextOnMobile?"hidden sm:block":""].join(" "),children:t("global.name")})]})}function ya(e){const[t,r]=z.useState(!1),n=z.useRef(!1);return z.useEffect(()=>{function i(){const a=e?window.innerHeight<600:window.innerWidth<1024;n.current!==a&&(n.current=a,r(a))}return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[e]),{isMobile:t}}const uo=z.forwardRef((e,t)=>H("div",{className:e.className,ref:t,children:H("button",{type:"button",onClick:e.onClick,className:["group pointer-events-auto p-2 text-white transition-transform duration-100 active:scale-110",e.disabled?"pointer-events-none cursor-not-allowed opacity-50":""].join(" "),children:ee("div",{className:["flex items-center justify-center rounded-full bg-denim-600 bg-opacity-0 transition-colors duration-100",e.active?"!bg-denim-500 !bg-opacity-100":"",e.noPadding?"":e.wide?"p-2 sm:px-4":"p-2",e.disabled?"":"group-hover:bg-opacity-50 group-active:bg-denim-500 group-active:bg-opacity-100"].join(" "),children:[H(tt,{icon:e.icon,className:e.iconSize??"text-2xl"}),H("p",{className:"hidden sm:block",children:e.text?H("span",{className:"ml-2",children:e.text}):null})]})})}));function Az(e){const t=Pe(),r=yt(t),n=so(t),i=z.useCallback(()=>{r.startAirplay()},[r]);return n.canAirplay?H(uo,{className:e.className,onClick:i,icon:ye.AIRPLAY}):null}function Rz(e){const[t,r]=z.useState(!1),n=Pe(),a=so(n).isCasting,o=z.useRef(null),s=z.useCallback(l=>{const u=(l.getAttribute("style")??"").includes("inline");r(!u)},[r]);return z.useEffect(()=>{var c;const l=(c=o.current)==null?void 0:c.querySelector("google-cast-launcher");if(!l)return;const u=new MutationObserver(()=>{s(l)});return u.observe(l,{attributes:!0,attributeFilter:["style"]}),s(l),()=>{u.disconnect()}},[s]),H(uo,{ref:o,className:[e.className??"","google-cast-button",a?"casting":"",t?"hidden":""].join(" "),icon:ye.CASTING,onClick:l=>{const u=l.currentTarget.querySelector("google-cast-launcher");u&&u.click()}})}function Vl(e){const{isMobile:t}=ya(),{bookmarkStore:r,setItemBookmark:n}=rC(),i=e.media?JW(r.bookmarks,e.media):!1,a=e.media&&e.onClick,{t:o}=Fe(),s=z_();return ee("div",{className:"flex items-center",style:{paddingTop:e.isFullScreen?`${s}px`:void 0},children:[ee("div",{className:"flex min-w-0 flex-1 items-center",children:[ee("p",{className:"flex items-center truncate",children:[e.onClick?ee("span",{onClick:e.onClick,className:"flex cursor-pointer items-center py-1 text-white opacity-50 transition-opacity hover:opacity-100",children:[H(tt,{className:"mr-2",icon:ye.ARROW_LEFT}),t?H("span",{children:o("videoPlayer.backToHomeShort")}):H("span",{children:o("videoPlayer.backToHome")})]}):null,a?H("span",{className:"mx-4 h-6 w-[1.5px] rotate-[30deg] bg-white opacity-50"}):null,e.media?H("span",{className:"truncate text-white",children:e.media.title}):null]}),e.media&&H(dn,{clickable:!0,transparent:!0,icon:i?ye.BOOKMARK:ye.BOOKMARK_OUTLINE,className:"ml-2 text-white",onClick:()=>e.media&&n(e.media,!i)})]}),e.showControls?ee(Ir,{children:[H(Az,{}),H(Rz,{})]}):H(wz,{hideTextOnMobile:!0})]})}var N8e=Object.defineProperty,M8e=(e,t,r)=>t in e?N8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xb=(e,t,r)=>(M8e(e,typeof t!="symbol"?t+"":t,r),r);let F8e=class{constructor(){xb(this,"current",this.detect()),xb(this,"handoffState","pending"),xb(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qo=new F8e,ii=(e,t)=>{qo.isServer?z.useEffect(e,t):z.useLayoutEffect(e,t)};function Ha(e){let t=z.useRef(e);return ii(()=>{t.current=e},[e]),t}function Oz(e,t){let[r,n]=z.useState(e),i=Ha(e);return ii(()=>n(i.current),[i,n,...t]),r}function B8e(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function vs(){let e=[],t={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),t.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return B8e(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=vs();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function Fc(){let[e]=z.useState(vs);return z.useEffect(()=>()=>e.dispose(),[e]),e}let ot=function(e){let t=Ha(e);return me.useCallback((...r)=>t.current(...r),[t])};function lC(){let[e,t]=z.useState(qo.isHandoffComplete);return e&&qo.isHandoffComplete===!1&&t(!1),z.useEffect(()=>{e!==!0&&t(!0)},[e]),z.useEffect(()=>qo.handoff(),[]),e}var y8;let Z_=(y8=me.useId)!=null?y8:function(){let e=lC(),[t,r]=me.useState(e?()=>qo.nextId():null);return ii(()=>{t===null&&r(qo.nextId())},[t]),t!=null?""+t:void 0};function cr(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cr),n}function Iz(e){return qo.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let _8=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var U8e=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(U8e||{}),j8e=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(j8e||{}),H8e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(H8e||{}),uC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(uC||{});function Cz(e,t=0){var r;return e===((r=Iz(e))==null?void 0:r.body)?!1:cr(t,{[0](){return e.matches(_8)},[1](){let n=e;for(;n!==null;){if(n.matches(_8))return!0;n=n.parentElement}return!1}})}function K8e(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),a=t(n);if(i===null||a===null)return 0;let o=i.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Sb(e,t,r){let n=Ha(t);z.useEffect(()=>{function i(a){n.current(a)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[e,r])}function G8e(e,t,r=!0){let n=z.useRef(!1);z.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,s){if(!n.current||o.defaultPrevented)return;let l=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e),u=s(o);if(u!==null&&u.getRootNode().contains(u)){for(let c of l){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(u)||o.composed&&o.composedPath().includes(d))return}return!Cz(u,uC.Loose)&&u.tabIndex!==-1&&o.preventDefault(),t(o,u)}}let a=z.useRef(null);Sb("mousedown",o=>{var s,l;n.current&&(a.current=((l=(s=o.composedPath)==null?void 0:s.call(o))==null?void 0:l[0])||o.target)},!0),Sb("click",o=>{a.current&&(i(o,()=>a.current),a.current=null)},!0),Sb("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function E8(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function W8e(e,t){let[r,n]=z.useState(()=>E8(e));return ii(()=>{n(E8(e))},[e.type,e.as]),ii(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}let z8e=Symbol();function Yl(...e){let t=z.useRef(e);z.useEffect(()=>{t.current=e},[e]);let r=ot(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||(n==null?void 0:n[z8e]))?void 0:r}function V8e(e){throw new Error("Unexpected object: "+e)}var ln=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ln||{});function Y8e(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n??-1,a=(()=>{switch(e.focus){case 0:return r.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=r.slice().reverse().findIndex((s,l,u)=>i!==-1&&u.length-l-1>=i?!1:!t.resolveDisabled(s));return o===-1?o:r.length-1-o}case 2:return r.findIndex((o,s)=>s<=i?!1:!t.resolveDisabled(o));case 3:{let o=r.slice().reverse().findIndex(s=>!t.resolveDisabled(s));return o===-1?o:r.length-1-o}case 4:return r.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:V8e(e)}})();return a===-1?n:a}function Pz(...e){return e.filter(Boolean).join(" ")}var xy=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(xy||{}),Ba=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ba||{});function Ls({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:a=!0,name:o}){let s=Lz(t,e);if(a)return zp(s,r,n,o);let l=i??0;if(l&2){let{static:u=!1,...c}=s;if(u)return zp(c,r,n,o)}if(l&1){let{unmount:u=!0,...c}=s;return cr(u?0:1,{[0](){return null},[1](){return zp({...c,hidden:!0,style:{display:"none"}},r,n,o)}})}return zp(s,r,n,o)}function zp(e,t={},r,n){var i;let{as:a=r,children:o,refName:s="ref",...l}=bb(e,["unmount","static"]),u=e.ref!==void 0?{[s]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t));let d={};if(t){let f=!1,m=[];for(let[_,x]of Object.entries(t))typeof x=="boolean"&&(f=!0),x===!0&&m.push(_);f&&(d["data-headlessui-state"]=m.join(" "))}if(a===z.Fragment&&Object.keys(j2(l)).length>0){if(!z.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let f=Pz((i=c.props)==null?void 0:i.className,l.className),m=f?{className:f}:{};return z.cloneElement(c,Object.assign({},Lz(c.props,j2(bb(l,["ref"]))),d,u,X8e(c.ref,u.ref),m))}return z.createElement(a,Object.assign({},bb(l,["ref"]),a!==z.Fragment&&u,a!==z.Fragment&&d),c)}function X8e(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}}function Lz(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](i,...a){let o=r[n];for(let s of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;s(i,...a)}}});return t}function co(e){var t;return Object.assign(z.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function j2(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function bb(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function q8e(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&Q8e(r)?!1:n}function Q8e(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function Dz(e={},t=null,r=[]){for(let[n,i]of Object.entries(e))kz(r,$z(t,n),i);return r}function $z(e,t){return e?e+"["+t+"]":t}function kz(e,t,r){if(Array.isArray(r))for(let[n,i]of r.entries())kz(e,$z(t,n.toString()),i);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Dz(r,t,e)}let Z8e="div";var Nz=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Nz||{});function J8e(e,t){let{features:r=1,...n}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ls({ourProps:i,theirProps:n,slot:{},defaultTag:Z8e,name:"Hidden"})}let eFe=co(J8e),cC=z.createContext(null);cC.displayName="OpenClosedContext";var Tn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Tn||{});function fC(){return z.useContext(cC)}function Mz({value:e,children:t}){return me.createElement(cC.Provider,{value:e},t)}var Xt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Xt||{});function tFe(e,t,r){let[n,i]=z.useState(r),a=e!==void 0,o=z.useRef(a),s=z.useRef(!1),l=z.useRef(!1);return a&&!o.current&&!s.current?(s.current=!0,o.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&o.current&&!l.current&&(l.current=!0,o.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:n,ot(u=>(a||i(u),t==null?void 0:t(u)))]}function x8(e){return[e.screenX,e.screenY]}function rFe(){let e=z.useRef([-1,-1]);return{wasMoved(t){let r=x8(t);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(t){e.current=x8(t)}}}function Fz(){let e=z.useRef(!1);return ii(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var nFe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nFe||{}),iFe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(iFe||{}),aFe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(aFe||{}),oFe=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(oFe||{});function Tb(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=K8e(t(e.options.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{options:n,activeOptionIndex:i}}let sFe={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(i=>r(i.dataRef.current.value));return n!==-1&&(t=n),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){var r;if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=Tb(e),i=Y8e(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:i,activationTrigger:(r=t.trigger)!=null?r:1}},[3]:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(o=>{var s;return!o.dataRef.current.disabled&&((s=o.dataRef.current.textValue)==null?void 0:s.startsWith(n))}),a=i?e.options.indexOf(i):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=Tb(e,i=>[...i,r]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},[6]:(e,t)=>{let r=Tb(e,n=>{let i=n.findIndex(a=>a.id===t.id);return i!==-1&&n.splice(i,1),n});return{...e,...r,activationTrigger:1}},[7]:(e,t)=>({...e,labelId:t.id})},dC=z.createContext(null);dC.displayName="ListboxActionsContext";function E0(e){let t=z.useContext(dC);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,E0),r}return t}let hC=z.createContext(null);hC.displayName="ListboxDataContext";function x0(e){let t=z.useContext(hC);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,x0),r}return t}function lFe(e,t){return cr(t.type,sFe,e,t)}let uFe=z.Fragment;function cFe(e,t){let{value:r,defaultValue:n,name:i,onChange:a,by:o=(B,U)=>B===U,disabled:s=!1,horizontal:l=!1,multiple:u=!1,...c}=e;const d=l?"horizontal":"vertical";let f=Yl(t),[m=u?[]:void 0,_]=tFe(r,a,n),[x,v]=z.useReducer(lFe,{dataRef:z.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=z.useRef({static:!1,hold:!1}),p=z.useRef(null),h=z.useRef(null),S=z.useRef(null),O=ot(typeof o=="string"?(B,U)=>{let j=o;return(B==null?void 0:B[j])===(U==null?void 0:U[j])}:o),y=z.useCallback(B=>cr(E.mode,{[1]:()=>m.some(U=>O(U,B)),[0]:()=>O(m,B)}),[m]),E=z.useMemo(()=>({...x,value:m,disabled:s,mode:u?1:0,orientation:d,compare:O,isSelected:y,optionsPropsRef:g,labelRef:p,buttonRef:h,optionsRef:S}),[m,s,u,x]);ii(()=>{x.dataRef.current=E},[E]),G8e([E.buttonRef,E.optionsRef],(B,U)=>{var j;v({type:1}),Cz(U,uC.Loose)||(B.preventDefault(),(j=E.buttonRef.current)==null||j.focus())},E.listboxState===0);let b=z.useMemo(()=>({open:E.listboxState===0,disabled:s,value:m}),[E,s,m]),T=ot(B=>{let U=E.options.find(j=>j.id===B);U&&L(U.dataRef.current.value)}),A=ot(()=>{if(E.activeOptionIndex!==null){let{dataRef:B,id:U}=E.options[E.activeOptionIndex];L(B.current.value),v({type:2,focus:ln.Specific,id:U})}}),P=ot(()=>v({type:0})),C=ot(()=>v({type:1})),D=ot((B,U,j)=>B===ln.Specific?v({type:2,focus:ln.Specific,id:U,trigger:j}):v({type:2,focus:B,trigger:j})),F=ot((B,U)=>(v({type:5,id:B,dataRef:U}),()=>v({type:6,id:B}))),R=ot(B=>(v({type:7,id:B}),()=>v({type:7,id:null}))),L=ot(B=>cr(E.mode,{[0](){return _==null?void 0:_(B)},[1](){let U=E.value.slice(),j=U.findIndex(K=>O(K,B));return j===-1?U.push(B):U.splice(j,1),_==null?void 0:_(U)}})),I=ot(B=>v({type:3,value:B})),k=ot(()=>v({type:4})),w=z.useMemo(()=>({onChange:L,registerOption:F,registerLabel:R,goToOption:D,closeListbox:C,openListbox:P,selectActiveOption:A,selectOption:T,search:I,clearSearch:k}),[]),M={ref:f},N=z.useRef(null),$=Fc();return z.useEffect(()=>{N.current&&n!==void 0&&$.addEventListener(N.current,"reset",()=>{L(n)})},[N,L]),me.createElement(dC.Provider,{value:w},me.createElement(hC.Provider,{value:E},me.createElement(Mz,{value:cr(E.listboxState,{[0]:Tn.Open,[1]:Tn.Closed})},i!=null&&m!=null&&Dz({[i]:m}).map(([B,U],j)=>me.createElement(eFe,{features:Nz.Hidden,ref:j===0?K=>{var G;N.current=(G=K==null?void 0:K.closest("form"))!=null?G:null}:void 0,...j2({key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:B,value:U})})),Ls({ourProps:M,theirProps:c,slot:b,defaultTag:uFe,name:"Listbox"}))))}let fFe="button";function dFe(e,t){var r;let n=Z_(),{id:i=`headlessui-listbox-button-${n}`,...a}=e,o=x0("Listbox.Button"),s=E0("Listbox.Button"),l=Yl(o.buttonRef,t),u=Fc(),c=ot(v=>{switch(v.key){case Xt.Space:case Xt.Enter:case Xt.ArrowDown:v.preventDefault(),s.openListbox(),u.nextFrame(()=>{o.value||s.goToOption(ln.First)});break;case Xt.ArrowUp:v.preventDefault(),s.openListbox(),u.nextFrame(()=>{o.value||s.goToOption(ln.Last)});break}}),d=ot(v=>{switch(v.key){case Xt.Space:v.preventDefault();break}}),f=ot(v=>{if(q8e(v.currentTarget))return v.preventDefault();o.listboxState===0?(s.closeListbox(),u.nextFrame(()=>{var g;return(g=o.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(v.preventDefault(),s.openListbox())}),m=Oz(()=>{if(o.labelId)return[o.labelId,i].join(" ")},[o.labelId,i]),_=z.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),x={ref:l,id:i,type:W8e(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(r=o.optionsRef.current)==null?void 0:r.id,"aria-expanded":o.disabled?void 0:o.listboxState===0,"aria-labelledby":m,disabled:o.disabled,onKeyDown:c,onKeyUp:d,onClick:f};return Ls({ourProps:x,theirProps:a,slot:_,defaultTag:fFe,name:"Listbox.Button"})}let hFe="label";function vFe(e,t){let r=Z_(),{id:n=`headlessui-listbox-label-${r}`,...i}=e,a=x0("Listbox.Label"),o=E0("Listbox.Label"),s=Yl(a.labelRef,t);ii(()=>o.registerLabel(n),[n]);let l=ot(()=>{var c;return(c=a.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=z.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled}),[a]);return Ls({ourProps:{ref:s,id:n,onClick:l},theirProps:i,slot:u,defaultTag:hFe,name:"Listbox.Label"})}let pFe="ul",gFe=xy.RenderStrategy|xy.Static;function mFe(e,t){var r;let n=Z_(),{id:i=`headlessui-listbox-options-${n}`,...a}=e,o=x0("Listbox.Options"),s=E0("Listbox.Options"),l=Yl(o.optionsRef,t),u=Fc(),c=Fc(),d=fC(),f=(()=>d!==null?(d&Tn.Open)===Tn.Open:o.listboxState===0)();z.useEffect(()=>{var g;let p=o.optionsRef.current;p&&o.listboxState===0&&p!==((g=Iz(p))==null?void 0:g.activeElement)&&p.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let m=ot(g=>{switch(c.dispose(),g.key){case Xt.Space:if(o.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),s.search(g.key);case Xt.Enter:if(g.preventDefault(),g.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:p}=o.options[o.activeOptionIndex];s.onChange(p.current.value)}o.mode===0&&(s.closeListbox(),vs().nextFrame(()=>{var p;return(p=o.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case cr(o.orientation,{vertical:Xt.ArrowDown,horizontal:Xt.ArrowRight}):return g.preventDefault(),g.stopPropagation(),s.goToOption(ln.Next);case cr(o.orientation,{vertical:Xt.ArrowUp,horizontal:Xt.ArrowLeft}):return g.preventDefault(),g.stopPropagation(),s.goToOption(ln.Previous);case Xt.Home:case Xt.PageUp:return g.preventDefault(),g.stopPropagation(),s.goToOption(ln.First);case Xt.End:case Xt.PageDown:return g.preventDefault(),g.stopPropagation(),s.goToOption(ln.Last);case Xt.Escape:return g.preventDefault(),g.stopPropagation(),s.closeListbox(),u.nextFrame(()=>{var p;return(p=o.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case Xt.Tab:g.preventDefault(),g.stopPropagation();break;default:g.key.length===1&&(s.search(g.key),c.setTimeout(()=>s.clearSearch(),350));break}}),_=Oz(()=>{var g,p,h;return(h=(g=o.labelRef.current)==null?void 0:g.id)!=null?h:(p=o.buttonRef.current)==null?void 0:p.id},[o.labelRef.current,o.buttonRef.current]),x=z.useMemo(()=>({open:o.listboxState===0}),[o]),v={"aria-activedescendant":o.activeOptionIndex===null||(r=o.options[o.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":_,"aria-orientation":o.orientation,id:i,onKeyDown:m,role:"listbox",tabIndex:0,ref:l};return Ls({ourProps:v,theirProps:a,slot:x,defaultTag:pFe,features:gFe,visible:f,name:"Listbox.Options"})}let yFe="li";function _Fe(e,t){let r=Z_(),{id:n=`headlessui-listbox-option-${r}`,disabled:i=!1,value:a,...o}=e,s=x0("Listbox.Option"),l=E0("Listbox.Option"),u=s.activeOptionIndex!==null?s.options[s.activeOptionIndex].id===n:!1,c=s.isSelected(a),d=z.useRef(null),f=Ha({disabled:i,value:a,domRef:d,get textValue(){var O,y;return(y=(O=d.current)==null?void 0:O.textContent)==null?void 0:y.toLowerCase()}}),m=Yl(t,d);ii(()=>{if(s.listboxState!==0||!u||s.activationTrigger===0)return;let O=vs();return O.requestAnimationFrame(()=>{var y,E;(E=(y=d.current)==null?void 0:y.scrollIntoView)==null||E.call(y,{block:"nearest"})}),O.dispose},[d,u,s.listboxState,s.activationTrigger,s.activeOptionIndex]),ii(()=>l.registerOption(n,f),[f,n]);let _=ot(O=>{if(i)return O.preventDefault();l.onChange(a),s.mode===0&&(l.closeListbox(),vs().nextFrame(()=>{var y;return(y=s.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}))}),x=ot(()=>{if(i)return l.goToOption(ln.Nothing);l.goToOption(ln.Specific,n)}),v=rFe(),g=ot(O=>v.update(O)),p=ot(O=>{v.wasMoved(O)&&(i||u||l.goToOption(ln.Specific,n,0))}),h=ot(O=>{v.wasMoved(O)&&(i||u&&l.goToOption(ln.Nothing))}),S=z.useMemo(()=>({active:u,selected:c,disabled:i}),[u,c,i]);return Ls({ourProps:{id:n,ref:m,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:_,onFocus:x,onPointerEnter:g,onMouseEnter:g,onPointerMove:p,onMouseMove:p,onPointerLeave:h,onMouseLeave:h},theirProps:o,slot:S,defaultTag:yFe,name:"Listbox.Option"})}let EFe=co(cFe),xFe=co(dFe),SFe=co(vFe),bFe=co(mFe),TFe=co(_Fe),Vp=Object.assign(EFe,{Button:xFe,Label:SFe,Options:bFe,Option:TFe});function wFe(e=0){let[t,r]=z.useState(e),n=z.useCallback(s=>r(l=>l|s),[t]),i=z.useCallback(s=>!!(t&s),[t]),a=z.useCallback(s=>r(l=>l&~s),[r]),o=z.useCallback(s=>r(l=>l^s),[r]);return{flags:t,addFlag:n,hasFlag:i,removeFlag:a,toggleFlag:o}}function AFe(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function wb(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ab(e,...t){e&&t.length>0&&e.classList.remove(...t)}function RFe(e,t){let r=vs();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[a,o]=[n,i].map(l=>{let[u=0]=l.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,d)=>d-c);return u}),s=a+o;if(s!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},s),u.addEventListener(e,"transitionrun",c=>{c.target===c.currentTarget&&u.dispose()})});let l=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),l())})}else t();return r.add(()=>t()),r.dispose}function OFe(e,t,r,n){let i=r?"enter":"leave",a=vs(),o=n!==void 0?AFe(n):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let s=cr(i,{enter:()=>t.enter,leave:()=>t.leave}),l=cr(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=cr(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Ab(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),wb(e,...s,...u),a.nextFrame(()=>{Ab(e,...u),wb(e,...l),RFe(e,()=>(Ab(e,...s),wb(e,...t.entered),o()))}),a.dispose}function IFe({container:e,direction:t,classes:r,onStart:n,onStop:i}){let a=Fz(),o=Fc(),s=Ha(t);ii(()=>{let l=vs();o.add(l.dispose);let u=e.current;if(u&&s.current!=="idle"&&a.current)return l.dispose(),n.current(s.current),l.add(OFe(u,r.current,s.current==="enter",()=>{l.dispose(),i.current(s.current)})),l.dispose},[t])}function Gs(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let J_=z.createContext(null);J_.displayName="TransitionContext";var CFe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(CFe||{});function PFe(){let e=z.useContext(J_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function LFe(){let e=z.useContext(eE);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let eE=z.createContext(null);eE.displayName="NestingContext";function tE(e){return"children"in e?tE(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Bz(e,t){let r=Ha(e),n=z.useRef([]),i=Fz(),a=Fc(),o=ot((m,_=Ba.Hidden)=>{let x=n.current.findIndex(({el:v})=>v===m);x!==-1&&(cr(_,{[Ba.Unmount](){n.current.splice(x,1)},[Ba.Hidden](){n.current[x].state="hidden"}}),a.microTask(()=>{var v;!tE(n)&&i.current&&((v=r.current)==null||v.call(r))}))}),s=ot(m=>{let _=n.current.find(({el:x})=>x===m);return _?_.state!=="visible"&&(_.state="visible"):n.current.push({el:m,state:"visible"}),()=>o(m,Ba.Unmount)}),l=z.useRef([]),u=z.useRef(Promise.resolve()),c=z.useRef({enter:[],leave:[],idle:[]}),d=ot((m,_,x)=>{l.current.splice(0),t&&(t.chains.current[_]=t.chains.current[_].filter(([v])=>v!==m)),t==null||t.chains.current[_].push([m,new Promise(v=>{l.current.push(v)})]),t==null||t.chains.current[_].push([m,new Promise(v=>{Promise.all(c.current[_].map(([g,p])=>p)).then(()=>v())})]),_==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>x(_)):x(_)}),f=ot((m,_,x)=>{Promise.all(c.current[_].splice(0).map(([v,g])=>g)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>x(_))});return z.useMemo(()=>({children:n,register:s,unregister:o,onStart:d,onStop:f,wait:u,chains:c}),[s,o,n,d,f,c,u])}function DFe(){}let $Fe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function S8(e){var t;let r={};for(let n of $Fe)r[n]=(t=e[n])!=null?t:DFe;return r}function kFe(e){let t=z.useRef(S8(e));return z.useEffect(()=>{t.current=S8(e)},[e]),t}let NFe="div",Uz=xy.RenderStrategy;function MFe(e,t){let{beforeEnter:r,afterEnter:n,beforeLeave:i,afterLeave:a,enter:o,enterFrom:s,enterTo:l,entered:u,leave:c,leaveFrom:d,leaveTo:f,...m}=e,_=z.useRef(null),x=Yl(_,t),v=m.unmount?Ba.Unmount:Ba.Hidden,{show:g,appear:p,initial:h}=PFe(),[S,O]=z.useState(g?"visible":"hidden"),y=LFe(),{register:E,unregister:b}=y,T=z.useRef(null);z.useEffect(()=>E(_),[E,_]),z.useEffect(()=>{if(v===Ba.Hidden&&_.current){if(g&&S!=="visible"){O("visible");return}return cr(S,{hidden:()=>b(_),visible:()=>E(_)})}},[S,_,E,b,g,v]);let A=Ha({enter:Gs(o),enterFrom:Gs(s),enterTo:Gs(l),entered:Gs(u),leave:Gs(c),leaveFrom:Gs(d),leaveTo:Gs(f)}),P=kFe({beforeEnter:r,afterEnter:n,beforeLeave:i,afterLeave:a}),C=lC();z.useEffect(()=>{if(C&&S==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,S,C]);let D=h&&!p,F=(()=>!C||D||T.current===g?"idle":g?"enter":"leave")(),R=wFe(0),L=ot(N=>cr(N,{enter:()=>{R.addFlag(Tn.Opening),P.current.beforeEnter()},leave:()=>{R.addFlag(Tn.Closing),P.current.beforeLeave()},idle:()=>{}})),I=ot(N=>cr(N,{enter:()=>{R.removeFlag(Tn.Opening),P.current.afterEnter()},leave:()=>{R.removeFlag(Tn.Closing),P.current.afterLeave()},idle:()=>{}})),k=Bz(()=>{O("hidden"),b(_)},y);IFe({container:_,classes:A,direction:F,onStart:Ha(N=>{k.onStart(_,N,L)}),onStop:Ha(N=>{k.onStop(_,N,I),N==="leave"&&!tE(k)&&(O("hidden"),b(_))})}),z.useEffect(()=>{D&&(v===Ba.Hidden?T.current=null:T.current=g)},[g,D,S]);let w=m,M={ref:x};return p&&g&&qo.isServer&&(w={...w,className:Pz(m.className,...A.current.enter,...A.current.enterFrom)}),me.createElement(eE.Provider,{value:k},me.createElement(Mz,{value:cr(S,{visible:Tn.Open,hidden:Tn.Closed})|R.flags},Ls({ourProps:M,theirProps:w,defaultTag:NFe,features:Uz,visible:S==="visible",name:"Transition.Child"})))}function FFe(e,t){let{show:r,appear:n=!1,unmount:i,...a}=e,o=z.useRef(null),s=Yl(o,t);lC();let l=fC();if(r===void 0&&l!==null&&(r=(l&Tn.Open)===Tn.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=z.useState(r?"visible":"hidden"),d=Bz(()=>{c("hidden")}),[f,m]=z.useState(!0),_=z.useRef([r]);ii(()=>{f!==!1&&_.current[_.current.length-1]!==r&&(_.current.push(r),m(!1))},[_,r]);let x=z.useMemo(()=>({show:r,appear:n,initial:f}),[r,n,f]);z.useEffect(()=>{if(r)c("visible");else if(!tE(d))c("hidden");else{let g=o.current;if(!g)return;let p=g.getBoundingClientRect();p.x===0&&p.y===0&&p.width===0&&p.height===0&&c("hidden")}},[r,d]);let v={unmount:i};return me.createElement(eE.Provider,{value:d},me.createElement(J_.Provider,{value:x},Ls({ourProps:{...v,as:z.Fragment,children:me.createElement(jz,{ref:s,...v,...a})},theirProps:{},defaultTag:z.Fragment,features:Uz,visible:u==="visible",name:"Transition"})))}function BFe(e,t){let r=z.useContext(J_)!==null,n=fC()!==null;return me.createElement(me.Fragment,null,!r&&n?me.createElement(H2,{ref:t,...e}):me.createElement(jz,{ref:t,...e}))}let H2=co(FFe),jz=co(MFe),UFe=co(BFe),K2=Object.assign(H2,{Child:UFe,Root:H2});function jFe(e,t){return e==="slide-down"?{leave:`transition-[transform,opacity] ${t}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"-translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${t}`,enterFrom:"opacity-0 -translate-y-4",enterTo:"translate-y-0 opacity-100"}:e==="slide-up"?{leave:`transition-[transform,opacity] ${t}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${t}`,enterFrom:"opacity-0 translate-y-4",enterTo:"translate-y-0 opacity-100"}:e==="slide-full-left"?{leave:`transition-[transform] ${t}`,leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",enter:`transition-[transform] ${t}`,enterFrom:"-translate-x-full",enterTo:"translate-x-0"}:e==="slide-full-right"?{leave:`transition-[transform] ${t}`,leaveFrom:"translate-x-0",leaveTo:"translate-x-full",enter:`transition-[transform] ${t}`,enterFrom:"translate-x-full",enterTo:"translate-x-0"}:e==="fade"?{leave:`transition-[transform,opacity] ${t}`,leaveFrom:"opacity-100",leaveTo:"opacity-0",enter:`transition-[transform,opacity] ${t}`,enterFrom:"opacity-0",enterTo:"opacity-100"}:{}}function Pi(e){const t=e.durationClass??"duration-200",r=jFe(e.animation,t);return e.isChild?H(K2.Child,{as:z.Fragment,...r,children:H("div",{className:e.className,children:e.children})}):H(K2,{show:e.show,as:z.Fragment,...r,children:H("div",{className:e.className,children:e.children})})}function HFe(e){const t=Pe(),r=yt(t),n=Mn(t),i=Mi(t),[a,o]=z.useState(!1),s=z.useRef(null),l=z.useRef(null),u=z.useRef(0),c=z.useCallback(()=>{a||setTimeout(()=>{Date.now()-u.current<200||o(!0)},20),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(!1),s.current=null},3e3)},[o,a]),d=z.useCallback(()=>{o(!1)},[o]),f=z.useCallback(v=>{if(!(!l.current||l.current!==v.target)&&i.popout===null){if(v.type==="touchend"){u.current=Date.now();return}v.button===0&&setTimeout(()=>{if(Date.now()-u.current<200){o(g=>!g);return}n.isPlaying?r.pause():r.play()},20)}},[r,n,i]),m=z.useCallback(v=>{!l.current||l.current!==v.target||(i.isFullscreen?r.exitFullscreen():r.enterFullscreen())},[r,i]),_=z.useRef(null);z.useEffect(()=>{var g;const v=a||n.isPaused||!!i.popout;v!==_.current&&(_.current=v,(g=e.onBackdropChange)==null||g.call(e,v))},[a,n,e,i]);const x=a||n.isPaused||!!i.popout;return ee("div",{className:`absolute inset-0 ${x?"":"cursor-none"}`,onMouseMove:c,onMouseLeave:d,ref:l,onMouseUp:f,onTouchEnd:f,onDoubleClick:m,children:[H("div",{className:`pointer-events-none absolute inset-0 bg-black bg-opacity-20 transition-opacity duration-200 ${x?"":"!opacity-0"}`}),H("div",{className:`pointer-events-none absolute inset-x-0 bottom-0 h-[20%] bg-gradient-to-t from-black to-transparent transition-opacity duration-200 ${x?"":"!opacity-0"}`}),H("div",{className:`pointer-events-none absolute inset-x-0 top-0 h-[20%] bg-gradient-to-b from-black to-transparent transition-opacity duration-200 ${x?"":"!opacity-0"}`}),H("div",{className:"pointer-events-none absolute inset-0",children:e.children})]})}function KFe(){const{t:e}=Fe(),t=Pe();return so(t).isCasting?ee("div",{className:"flex flex-col items-center justify-center gap-4",children:[H("div",{className:"rounded-full bg-denim-200 p-3 brightness-100 grayscale",children:H(tt,{icon:ye.CASTING})}),H("p",{className:"text-center text-gray-300",children:e("casting.casting")})]}):null}var _n={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},b8=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],T8=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],w8=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Jr=typeof window<"u"&&typeof window.document<"u"?window.document:{},Kn="fullscreenEnabled"in Jr&&Object.keys(_n)||b8[0]in Jr&&b8||T8[0]in Jr&&T8||w8[0]in Jr&&w8||[],GFe={requestFullscreen:function(e){return e[Kn[_n.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[Kn[_n.requestFullscreen]]},get exitFullscreen(){return Jr[Kn[_n.exitFullscreen]].bind(Jr)},get fullscreenPseudoClass(){return":"+Kn[_n.fullscreen]},addEventListener:function(e,t,r){return Jr.addEventListener(Kn[_n[e]],t,r)},removeEventListener:function(e,t,r){return Jr.removeEventListener(Kn[_n[e]],t,r)},get fullscreenEnabled(){return!!Jr[Kn[_n.fullscreenEnabled]]},set fullscreenEnabled(e){},get fullscreenElement(){return Jr[Kn[_n.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return Jr[("on"+Kn[_n.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return Jr[("on"+Kn[_n.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return Jr[("on"+Kn[_n.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return Jr[("on"+Kn[_n.fullscreenerror]).toLowerCase()]=e}};const wn=GFe,WFe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let Rb=null;async function iv(){if(Rb===null){const e=new Promise(r=>{setTimeout(()=>r(!1),1e3)}),t=new Promise(r=>{const n=document.createElement("video"),i=()=>{n.removeEventListener("volumechange",i),r(!0)};n.addEventListener("volumechange",i),n.volume=.5});Rb=await Promise.race([t,e])}return Rb}function rE(){return wn.fullscreenEnabled}function vC(){return rE()||WFe}function pC(){return rE()||vC()}function Hz(){return"pictureInPictureEnabled"in document}function Kz(){return"webkitSupportsPresentationMode"in document.createElement("video")}function A8(e){const t=Pe(),r=Mi(t),n=yt(t),i=z.useCallback(()=>{r.isFullscreen?n.exitFullscreen():n.enterFullscreen()},[n,r]);return pC()?H(uo,{className:e.className,onClick:i,icon:r.isFullscreen?ye.COMPRESS:ye.EXPAND}):null}function zFe(e){const t=Pe(),r=gi(t);return H(Vl,{media:r==null?void 0:r.meta.meta,...e})}function Gz(e){const[t,r]=z.useState(1),n=yt(e),i=Mn(e);return{storedVolume:t,setStoredVolume:r,toggleVolume:(o=!1)=>{i.volume>0?(r(i.volume),n.setVolume(0,o)):n.setVolume(t>0?t:1,o)}}}function VFe(){const e=Pe(),t=yt(e),r=Mi(e),n=Mn(e),i=Ps(e),{toggleVolume:a}=Gz(e),o=z.useRef(0);return z.useEffect(()=>{o.current=i.time},[i]),z.useEffect(()=>{const l=Pr(e).wrapperElement;if(!l)return;let u=!1;const c=d=>{if(r.isFocused)switch(d.key.toLowerCase()){case"f":r.isFullscreen?t.exitFullscreen():t.enterFullscreen();break;case"arrowleft":t.setTime(o.current-5);break;case"arrowright":t.setTime(o.current+5);break;case" ":n.isPaused?t.play():t.pause();break;case"m":a(!0);break;case"arrowdown":t.setVolume(Math.max(n.volume-.1,0),!0);break;case"arrowup":t.setVolume(Math.min(n.volume+.1,1),!0);break;case"r":if(u||d.ctrlKey||d.metaKey)return;u=!0,l.classList.add("roll"),setTimeout(()=>{u=!1,l.classList.remove("roll")},1e3);break}};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[t,e,n,r,a]),null}function Wz(e){return H("div",{className:["spinner",e.className??""].join(" ")})}function YFe(){const e=Pe(),t=Mn(e),r=so(e),n=t.isFirstLoading||t.isLoading,i=!r.isCasting;return!n||!i?null:H(Wz,{})}function XFe(){const e=Pe(),t=yt(e),r=Mn(e),n=z.useCallback(()=>{r!=null&&r.isPlaying?t.pause():t.play()},[t,r]);return r.hasPlayedOnce||r.isPlaying||r.isFirstLoading?null:H("div",{onClick:n,className:"group pointer-events-auto flex h-16 w-16 items-center justify-center rounded-full bg-denim-400 text-white transition-[background-color,transform] hover:scale-125 hover:bg-denim-500 active:scale-100",children:H(tt,{icon:ye.PLAY,className:"text-2xl transition-transform group-hover:scale-125"})})}function zz(e){const t=Pe(),r=Mn(t),n=yt(t),i=z.useCallback(()=>{r.isPlaying?n.pause():n.play()},[r,n]),a=r.isPlaying||r.isSeeking?ye.PAUSE:ye.PLAY;return H(uo,{iconSize:e.iconSize,className:e.className,icon:a,onClick:i})}function Vz(){const e=Pe(),t=yt(e),r=Ps(e),n=()=>{t.setTime(r.time-10)};return H(uo,{icon:ye.SKIP_BACKWARD,onClick:n})}function Yz(){const e=Pe(),t=yt(e),r=Ps(e),n=()=>{t.setTime(r.time+10)};return H(uo,{icon:ye.SKIP_FORWARD,onClick:n})}function qFe(e){return H("div",{className:e.className,children:ee("div",{className:"flex select-none items-center text-white",children:[H(Vz,{}),H(Yz,{})]})})}function QFe(){const e=Pe(),t=Mn(e),r=t.isFirstLoading||t.isLoading;return ee("div",{className:"flex items-center space-x-8",children:[H(Vz,{}),H(zz,{iconSize:"text-5xl",className:r?"pointer-events-none opacity-0":""}),H(Yz,{})]})}function Xz(e){const t=gi(e),{t:r}=Fe(),n=z.useMemo(()=>{var s;return(s=t==null?void 0:t.seasons)==null?void 0:s.find(l=>{var u;return l.id===((u=t==null?void 0:t.episode)==null?void 0:u.seasonId)})},[t]),i=z.useMemo(()=>{var s;return(s=n==null?void 0:n.episodes)==null?void 0:s.find(l=>{var u;return l.id===((u=t==null?void 0:t.episode)==null?void 0:u.episodeId)})},[n,t]);return!((t==null?void 0:t.meta.meta.type)===Ae.SERIES&&(t!=null&&t.episode))?{isSeries:!1}:{isSeries:!0,humanizedEpisodeId:r("videoPlayer.seasonAndEpisode",{season:n==null?void 0:n.number,episode:i==null?void 0:i.number}),currentSeasonInfo:n,currentEpisodeInfo:i,meta:t==null?void 0:t.meta}}function ZFe(){const e=Pe(),{isSeries:t,humanizedEpisodeId:r,meta:n}=Xz(e);if(!n)return null;const i=t?`${n.meta.title} - ${r}`:n.meta.title;return H(la,{children:H("title",{children:i})})}function R8(e){const{isMobile:t}=ya(),{t:r}=Fe(),n=Pe(),i=yt(n),a=z.useCallback(()=>{i.togglePictureInPicture()},[i]);return!Hz()&&!Kz()?null:H(uo,{className:e.className,icon:ye.PICTURE_IN_PICTURE,onClick:a,text:t?r("videoPlayer.buttons.pictureInPicture"):""})}function Qg(e){return`${e.toFixed(2)}%`}function mh(e){return Number(Math.max(0,Math.min(e,100)).toFixed(2))}function JFe(e){return e.type==="mousedown"||e.type==="mouseup"||e.type==="mousemove"}const Ob=e=>JFe(e)?e.pageX:e.changedTouches[0].pageX;function qz(e,t,r=!1){const[n,i]=z.useState(!1),[a,o]=z.useState(0);z.useEffect(()=>{function l(c){if(!n||!e.current)return;const d=e.current.getBoundingClientRect(),f=(Ob(c)-d.left)/e.current.offsetWidth;o(f*100),r&&t(f)}function u(c){if(!n||(i(!1),document.body.removeAttribute("data-no-select"),!e.current))return;const d=e.current.getBoundingClientRect(),f=(Ob(c)-d.left)/e.current.offsetWidth;t(f)}return document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.addEventListener("mouseup",u),document.addEventListener("touchend",u),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l),document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u)}},[n,e,t,r]);const s=z.useCallback(l=>{if(i(!0),document.body.setAttribute("data-no-select","true"),!e.current)return;const u=e.current.getBoundingClientRect(),c=(Ob(l)-u.left)/e.current.offsetWidth*100;o(c)},[o,e]);return{dragging:n,dragPercentage:a,dragMouseDown:s}}function e6e(){const e=Pe(),t=yt(e),r=Ps(e),n=z.useRef(null),i=z.useRef(!1),a=z.useRef(t);z.useEffect(()=>{a.current=t},[t]);const o=z.useCallback(f=>{t.setTime(f*r.duration)},[t,r]),{dragging:s,dragPercentage:l,dragMouseDown:u}=qz(n,o);z.useEffect(()=>{i.current!==s&&(i.current=s,t.setSeeking(s))},[i,s,t]),z.useEffect(()=>{if(s){const f=Pr(e);a.current.setDraggingTime(f.progress.duration*(l/100))}},[e,s,l]);let c=Qg(mh(r.time/r.duration*100));s&&(c=Qg(mh(l)));const d=Qg(mh(r.buffered/r.duration*100));return H("div",{className:"group pointer-events-auto w-full cursor-pointer rounded-full px-2",children:H("div",{ref:n,className:"-my-3 flex h-8 items-center",onMouseDown:u,onTouchStart:u,children:ee("div",{className:`relative h-1 flex-1 rounded-full bg-gray-500 bg-opacity-50 transition-[height] duration-100 group-hover:h-2 ${s?"!h-2":""}`,children:[H("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-gray-300 bg-opacity-20",style:{width:d}}),H("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-bink-600",style:{width:c},children:H("div",{className:`absolute h-1 w-1 translate-x-1/2 rounded-full bg-white opacity-0 transition-[transform,opacity] group-hover:scale-[400%] group-hover:opacity-100 ${s?"!scale-[400%] !opacity-100":""}`})})]})})})}function G2(e){return`__floating::anchor::${e}`}function Qz(e){const t=z.useRef(null),r=z.useRef(null);return z.useEffect(()=>{if(!t.current)return;let n=!1;function i(){if(!n){if(t.current){const a=r.current,o=t.current.getBoundingClientRect(),s=JSON.stringify(o);if(a!==s){r.current=s;const l=G2(e.id);window[l]=o;const u=new CustomEvent(G2(e.id),{detail:o});document.dispatchEvent(u)}}window.requestAnimationFrame(i)}}return window.requestAnimationFrame(i),()=>{n=!0}},[e]),H("div",{ref:t,children:e.children})}function O8(e){const{t}=Fe(),r=Pe(),n=gi(r),i=Mi(r),a=yt(r);return(n==null?void 0:n.meta.meta.type)!==Ae.SERIES?null:H("div",{className:e.className,children:H("div",{className:"relative",children:H(Qz,{id:"episodes",children:H(uo,{active:i.popout==="episodes",icon:ye.EPISODES,text:t("videoPlayer.buttons.episodes"),wide:!0,onClick:()=>a.openPopout("episodes")})})})})}function t6e(){const e=Pe(),{isSeries:t,currentEpisodeInfo:r,humanizedEpisodeId:n}=Xz(e);return t?ee("p",{className:"ml-8 select-none space-x-2 text-white",children:[H("span",{children:n}),H("span",{className:"opacity-50",children:r==null?void 0:r.title})]}):null}var Vs=(e=>(e[e.REGULAR=0]="REGULAR",e[e.REMAINING=1]="REMAINING",e))(Vs||{});function r6e(e){return e>60*60}function Ib(e,t=!1){if(Number.isNaN(e))return t?"0:00:00":"0:00";let r=e;const n=Math.floor(r%60);r/=60;const i=Math.floor(r%60);r/=60;const a=Math.floor(r),o=n.toString().padStart(2,"0"),s=i.toString().padStart(2,"0");return t?[a,s,o].join(":"):[s,o].join(":")}function Zz(e){const t=Pe(),r=Ps(t),n=Mn(t),{setTimeFormat:i}=yt(t),{timeFormat:a}=Mi(t),{isMobile:o}=ya(),{t:s}=Fe(),l=r6e(r.duration),u=Ib(n.isDragSeeking?r.draggingTime:r.time,l),c=Ib(r.duration,l),d=Ib((r.duration-r.time)/n.playbackSpeed,l),f=new Date(new Date().getTime()+r.duration*1e3/n.playbackSpeed).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),m=` - ${s("videoPlayer.finishAt",{timeFinished:f})}`;let _;return a===Vs.REGULAR?_=`${u} ${e.noDuration?"":`/ ${c}`}`:a===Vs.REMAINING&&!o?_=`${s("videoPlayer.timeLeft",{timeLeft:d})}${r.time===r.duration?"":m} `:a===Vs.REMAINING&&o?_=`-${d}`:_="",H("button",{type:"button",className:["group pointer-events-auto text-white transition-transform duration-100 active:scale-110"].join(" "),onClick:()=>{i(a===Vs.REGULAR?Vs.REMAINING:Vs.REGULAR)},children:H("div",{className:["flex items-center justify-center rounded-full bg-denim-600 bg-opacity-0 p-2 transition-colors duration-100 group-hover:bg-opacity-50 group-active:bg-denim-500 group-active:bg-opacity-100 sm:px-4"].join(" "),children:H("div",{className:e.className,children:H("p",{className:"select-none text-white",children:_})})})})}function n6e(e){const t=Pe(),r=yt(t),n=Mn(t),i=Mi(t),{setStoredVolume:a,toggleVolume:o}=Gz(t),s=z.useRef(null),[l,u]=z.useState(!1),c=z.useCallback(p=>{r.setVolume(p),a(p)},[r,a]),{dragging:d,dragPercentage:f,dragMouseDown:m}=qz(s,c,!0);z.useEffect(()=>{i.leftControlHovering||u(!1)},[i]);const _=z.useCallback(()=>{o()},[o]),x=z.useCallback(async()=>{await iv()&&u(!0)},[u]);let v=mh(n.volume*100);d&&(v=mh(f));const g=Qg(v);return H("div",{className:e.className,children:ee("div",{className:"pointer-events-auto flex cursor-pointer items-center",onMouseEnter:x,children:[H("div",{className:"px-4 text-2xl text-white",onClick:_,children:H(tt,{icon:v>0?ye.VOLUME:ye.VOLUME_X})}),H("div",{className:`linear -ml-2 w-0 overflow-hidden transition-[width,opacity] duration-300 ${l||d?"!w-24 opacity-100":"w-4 opacity-0"}`,children:H("div",{ref:s,className:"flex h-10 w-20 items-center px-2",onMouseDown:m,onTouchStart:m,children:H("div",{className:"relative h-1 flex-1 rounded-full bg-gray-500 bg-opacity-50",children:H("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-bink-500",style:{width:g},children:H("div",{className:"absolute h-3 w-3 translate-x-1/2 rounded-full bg-white"})})})})})]})})}function Jz(e){return{error:e.error}}function Cb(e,t){Gl(e,"error",Jz(t))}function i6e(e){const t=Pr(e),[r,n]=z.useState(Jz(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"error",i),()=>{zl(e,"error",i)}},[e]),r}function a6e(e){const t=Pe(),r=gi(t),i=i6e(t).error;return i?ee("div",{children:[ee("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-denim-100",children:[H(dn,{icon:ye.WARNING,className:"mb-6 text-red-400"}),H(m0,{children:"Failed to load media"}),ee("p",{className:"my-6 max-w-lg text-center",children:[i==null?void 0:i.name,": ",i==null?void 0:i.description]})]}),H("div",{className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col py-6 px-8 pb-2",children:H(Vl,{media:r==null?void 0:r.meta.meta,onClick:e.onGoBack})})]}):e.children}var gC=b0(),Ce=e=>S0(e,gC),mC=b0();Ce.write=e=>S0(e,mC);var nE=b0();Ce.onStart=e=>S0(e,nE);var yC=b0();Ce.onFrame=e=>S0(e,yC);var _C=b0();Ce.onFinish=e=>S0(e,_C);var fc=[];Ce.setTimeout=(e,t)=>{let r=Ce.now()+t,n=()=>{let a=fc.findIndex(o=>o.cancel==n);~a&&fc.splice(a,1),Mo-=~a?1:0},i={time:r,handler:e,cancel:n};return fc.splice(eV(r),0,i),Mo+=1,tV(),i};var eV=e=>~(~fc.findIndex(t=>t.time>e)||~fc.length);Ce.cancel=e=>{nE.delete(e),yC.delete(e),_C.delete(e),gC.delete(e),mC.delete(e)};Ce.sync=e=>{W2=!0,Ce.batchedUpdates(e),W2=!1};Ce.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...i){t=i,Ce.onStart(r)}return n.handler=e,n.cancel=()=>{nE.delete(r),t=null},n};var EC=typeof window<"u"?window.requestAnimationFrame:()=>{};Ce.use=e=>EC=e;Ce.now=typeof performance<"u"?()=>performance.now():Date.now;Ce.batchedUpdates=e=>e();Ce.catch=console.error;Ce.frameLoop="always";Ce.advance=()=>{Ce.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):nV()};var No=-1,Mo=0,W2=!1;function S0(e,t){W2?(t.delete(e),e(0)):(t.add(e),tV())}function tV(){No<0&&(No=0,Ce.frameLoop!=="demand"&&EC(rV))}function o6e(){No=-1}function rV(){~No&&(EC(rV),Ce.batchedUpdates(nV))}function nV(){let e=No;No=Ce.now();let t=eV(No);if(t&&(iV(fc.splice(0,t),r=>r.handler()),Mo-=t),!Mo){o6e();return}nE.flush(),gC.flush(e?Math.min(64,No-e):16.667),yC.flush(),mC.flush(),_C.flush()}function b0(){let e=new Set,t=e;return{add(r){Mo+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return Mo-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,Mo-=t.size,iV(t,n=>n(r)&&e.add(n)),Mo+=e.size,t=e)}}}function iV(e,t){e.forEach(r=>{try{t(r)}catch(n){Ce.catch(n)}})}var s6e=Object.defineProperty,l6e=(e,t)=>{for(var r in t)s6e(e,r,{get:t[r],enumerable:!0})},ki={};l6e(ki,{assign:()=>c6e,colors:()=>Qo,createStringInterpolator:()=>SC,skipAnimation:()=>oV,to:()=>aV,willAdvance:()=>bC});function z2(){}var u6e=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),ue={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ia(e,t){if(ue.arr(e)){if(!ue.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var He=(e,t)=>e.forEach(t);function ua(e,t,r){if(ue.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(let n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var Rn=e=>ue.und(e)?[]:ue.arr(e)?e:[e];function yh(e,t){if(e.size){let r=Array.from(e);e.clear(),He(r,t)}}var Gd=(e,...t)=>yh(e,r=>r(...t)),xC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),SC,aV,Qo=null,oV=!1,bC=z2,c6e=e=>{e.to&&(aV=e.to),e.now&&(Ce.now=e.now),e.colors!==void 0&&(Qo=e.colors),e.skipAnimation!=null&&(oV=e.skipAnimation),e.createStringInterpolator&&(SC=e.createStringInterpolator),e.requestAnimationFrame&&Ce.use(e.requestAnimationFrame),e.batchedUpdates&&(Ce.batchedUpdates=e.batchedUpdates),e.willAdvance&&(bC=e.willAdvance),e.frameLoop&&(Ce.frameLoop=e.frameLoop)},_h=new Set,Qn=[],Pb=[],Sy=0,iE={get idle(){return!_h.size&&!Qn.length},start(e){Sy>e.priority?(_h.add(e),Ce.onStart(f6e)):(sV(e),Ce(V2))},advance:V2,sort(e){if(Sy)Ce.onFrame(()=>iE.sort(e));else{let t=Qn.indexOf(e);~t&&(Qn.splice(t,1),lV(e))}},clear(){Qn=[],_h.clear()}};function f6e(){_h.forEach(sV),_h.clear(),Ce(V2)}function sV(e){Qn.includes(e)||lV(e)}function lV(e){Qn.splice(d6e(Qn,t=>t.priority>e.priority),0,e)}function V2(e){let t=Pb;for(let r=0;r<Qn.length;r++){let n=Qn[r];Sy=n.priority,n.idle||(bC(n),n.advance(e),n.idle||t.push(n))}return Sy=0,Pb=Qn,Pb.length=0,Qn=t,Qn.length>0}function d6e(e,t){let r=e.findIndex(t);return r<0?e.length:r}var h6e=(e,t,r)=>Math.min(Math.max(r,e),t),v6e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ci="[-+]?\\d*\\.?\\d+",by=Ci+"%";function aE(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var p6e=new RegExp("rgb"+aE(Ci,Ci,Ci)),g6e=new RegExp("rgba"+aE(Ci,Ci,Ci,Ci)),m6e=new RegExp("hsl"+aE(Ci,by,by)),y6e=new RegExp("hsla"+aE(Ci,by,by,Ci)),_6e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,E6e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,x6e=/^#([0-9a-fA-F]{6})$/,S6e=/^#([0-9a-fA-F]{8})$/;function b6e(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=x6e.exec(e))?parseInt(t[1]+"ff",16)>>>0:Qo&&Qo[e]!==void 0?Qo[e]:(t=p6e.exec(e))?(pu(t[1])<<24|pu(t[2])<<16|pu(t[3])<<8|255)>>>0:(t=g6e.exec(e))?(pu(t[1])<<24|pu(t[2])<<16|pu(t[3])<<8|P8(t[4]))>>>0:(t=_6e.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=S6e.exec(e))?parseInt(t[1],16)>>>0:(t=E6e.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=m6e.exec(e))?(I8(C8(t[1]),Yp(t[2]),Yp(t[3]))|255)>>>0:(t=y6e.exec(e))?(I8(C8(t[1]),Yp(t[2]),Yp(t[3]))|P8(t[4]))>>>0:null}function Lb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function I8(e,t,r){let n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,a=Lb(i,n,e+1/3),o=Lb(i,n,e),s=Lb(i,n,e-1/3);return Math.round(a*255)<<24|Math.round(o*255)<<16|Math.round(s*255)<<8}function pu(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function C8(e){return(parseFloat(e)%360+360)%360/360}function P8(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Yp(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function L8(e){let t=b6e(e);if(t===null)return e;t=t||0;let r=(t&4278190080)>>>24,n=(t&16711680)>>>16,i=(t&65280)>>>8,a=(t&255)/255;return`rgba(${r}, ${n}, ${i}, ${a})`}var av=(e,t,r)=>{if(ue.fun(e))return e;if(ue.arr(e))return av({range:e,output:t,extrapolate:r});if(ue.str(e.output[0]))return SC(e);let n=e,i=n.output,a=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",s=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(u=>u);return u=>{let c=w6e(u,a);return T6e(u,a[c],a[c+1],i[c],i[c+1],l,o,s,n.map)}};function T6e(e,t,r,n,i,a,o,s,l){let u=l?l(e):e;if(u<t){if(o==="identity")return u;o==="clamp"&&(u=t)}if(u>r){if(s==="identity")return u;s==="clamp"&&(u=r)}return n===i?n:t===r?e<=t?n:i:(t===-1/0?u=-u:r===1/0?u=u-t:u=(u-t)/(r-t),u=a(u),n===-1/0?u=-u:i===1/0?u=u+n:u=u*(i-n)+n,u)}function w6e(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var A6e=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);let n=r*e,i=t==="end"?Math.floor(n):Math.ceil(n);return h6e(0,1,i/e)},Ty=1.70158,Xp=Ty*1.525,D8=Ty+1,$8=2*Math.PI/3,k8=2*Math.PI/4.5,qp=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Y2={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>D8*e*e*e-Ty*e*e,easeOutBack:e=>1+D8*Math.pow(e-1,3)+Ty*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((Xp+1)*2*e-Xp)/2:(Math.pow(2*e-2,2)*((Xp+1)*(e*2-2)+Xp)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*$8),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*$8)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*k8))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*k8)/2+1,easeInBounce:e=>1-qp(1-e),easeOutBounce:qp,easeInOutBounce:e=>e<.5?(1-qp(1-2*e))/2:(1+qp(2*e-1))/2,steps:A6e},Bc=Symbol.for("FluidValue.get"),Al=Symbol.for("FluidValue.observers"),Vn=e=>!!(e&&e[Bc]),nn=e=>e&&e[Bc]?e[Bc]():e,N8=e=>e[Al]||null;function R6e(e,t){e.eventObserved?e.eventObserved(t):e(t)}function ov(e,t){let r=e[Al];r&&r.forEach(n=>{R6e(n,t)})}var Fat,Bat,PB,uV=(PB=class{constructor(e){ge(this,Fat);ge(this,Bat);if(!e&&!(e=this.get))throw Error("Unknown getter");O6e(this,e)}},Fat=Bc,Bat=Al,PB),O6e=(e,t)=>cV(e,Bc,t);function Af(e,t){if(e[Bc]){let r=e[Al];r||cV(e,Al,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function sv(e,t){let r=e[Al];if(r&&r.has(t)){let n=r.size-1;n?r.delete(t):e[Al]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var cV=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),Zg=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,I6e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,M8=new RegExp(`(${Zg.source})(%|[a-z]+)`,"i"),C6e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,oE=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,fV=e=>{let[t,r]=P6e(e);if(!t||xC())return e;let n=window.getComputedStyle(document.documentElement).getPropertyValue(t);return n?n.trim():r&&r.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(r)||e:r&&oE.test(r)?fV(r):r||e},P6e=e=>{let t=oE.exec(e);if(!t)return[,];let[,r,n]=t;return[r,n]},Db,L6e=(e,t,r,n,i)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,dV=e=>{Db||(Db=Qo?new RegExp(`(${Object.keys(Qo).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(i=>nn(i).replace(oE,fV).replace(I6e,L8).replace(Db,L8)),r=t.map(i=>i.match(Zg).map(Number)),n=r[0].map((i,a)=>r.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(i=>av({...e,output:i}));return i=>{var s;let a=!M8.test(t[0])&&((s=t.find(l=>M8.test(l)))==null?void 0:s.replace(Zg,"")),o=0;return t[0].replace(Zg,()=>`${n[o++](i)}${a||""}`).replace(C6e,L6e)}},TC="react-spring: ",hV=e=>{let t=e,r=!1;if(typeof t!="function")throw new TypeError(`${TC}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},D6e=hV(console.warn);function $6e(){D6e(`${TC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var k6e=hV(console.warn);function N6e(){k6e(`${TC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function sE(e){return ue.str(e)&&(e[0]=="#"||/\d/.test(e)||!xC()&&oE.test(e)||e in(Qo||{}))}function M6e(e){let t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}var wC=xC()?z.useEffect:z.useLayoutEffect,F6e=()=>{let e=z.useRef(!1);return wC(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function vV(){let e=z.useState()[1],t=F6e();return()=>{t.current&&e(Math.random())}}function B6e(e,t){let[r]=z.useState(()=>({inputs:t,result:e()})),n=z.useRef(),i=n.current,a=i;return a?t&&a.inputs&&U6e(t,a.inputs)||(a={inputs:t,result:e()}):a=r,z.useEffect(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}function U6e(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var AC=e=>z.useEffect(e,j6e),j6e=[];function F8(e){let t=z.useRef();return z.useEffect(()=>{t.current=e}),t.current}var lv=Symbol.for("Animated:node"),H6e=e=>!!e&&e[lv]===e,Wi=e=>e&&e[lv],RC=(e,t)=>u6e(e,lv,t),lE=e=>e&&e[lv]&&e[lv].getPayload(),pV=class{constructor(){ge(this,"payload");RC(this,this)}getPayload(){return this.payload||[]}},T0=class extends pV{constructor(t){super();ge(this,"done",!0);ge(this,"elapsedTime");ge(this,"lastPosition");ge(this,"lastVelocity");ge(this,"v0");ge(this,"durationProgress",0);this._value=t,ue.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new T0(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,r){return ue.num(t)&&(this.lastPosition=t,r&&(t=Math.round(t/r)*r,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,ue.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},uv=class extends T0{constructor(t){super(0);ge(this,"_string",null);ge(this,"_toString");this._toString=av({output:[t,t]})}static create(t){return new uv(t)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(t){if(ue.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=av({output:[this.getValue(),t]})),this._value=0,super.reset()}},wy={dependencies:null},uE=class extends pV{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return ua(this.source,(r,n)=>{H6e(r)?t[n]=r.getValue(e):Vn(r)?t[n]=nn(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&He(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return ua(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){wy.dependencies&&Vn(e)&&wy.dependencies.add(e);let t=lE(e);t&&He(t,r=>this.add(r))}},gV=class extends uE{constructor(t){super(t)}static create(t){return new gV(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let r=this.getPayload();return t.length==r.length?r.map((n,i)=>n.setValue(t[i])).some(Boolean):(super.setValue(t.map(K6e)),!0)}};function K6e(e){return(sE(e)?uv:T0).create(e)}function X2(e){let t=Wi(e);return t?t.constructor:ue.arr(e)?gV:sE(e)?uv:T0}var B8=(e,t)=>{let r=!ue.fun(e)||e.prototype&&e.prototype.isReactComponent;return z.forwardRef((n,i)=>{let a=z.useRef(null),o=r&&z.useCallback(_=>{a.current=z6e(i,_)},[i]),[s,l]=W6e(n,t),u=vV(),c=()=>{let _=a.current;r&&!_||(_?t.applyAnimatedValues(_,s.getValue(!0)):!1)===!1&&u()},d=new G6e(c,l),f=z.useRef();wC(()=>(f.current=d,He(l,_=>Af(_,d)),()=>{f.current&&(He(f.current.deps,_=>sv(_,f.current)),Ce.cancel(f.current.update))})),z.useEffect(c,[]),AC(()=>()=>{let _=f.current;He(_.deps,x=>sv(x,_))});let m=t.getComponentProps(s.getValue());return z.createElement(e,{...m,ref:o})})},G6e=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Ce.write(this.update)}};function W6e(e,t){let r=new Set;return wy.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new uE(e),wy.dependencies=null,[e,r]}function z6e(e,t){return e&&(ue.fun(e)?e(t):e.current=t),t}var U8=Symbol.for("AnimatedComponent"),V6e=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=i=>new uE(i),getComponentProps:n=i=>i}={})=>{let i={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},a=o=>{let s=j8(o)||"Anonymous";return ue.str(o)?o=a[o]||(a[o]=B8(o,i)):o=o[U8]||(o[U8]=B8(o,i)),o.displayName=`Animated(${s})`,o};return ua(e,(o,s)=>{ue.arr(e)&&(s=j8(o)),a[s]=a(o)}),{animated:a}},j8=e=>ue.str(e)?e:e&&ue.str(e.displayName)?e.displayName:ue.fun(e)&&e.name||null;function Js(e,...t){return ue.fun(e)?e(...t):e}var Eh=(e,t)=>e===!0||!!(t&&e&&(ue.fun(e)?e(t):Rn(e).includes(t))),mV=(e,t)=>ue.obj(e)?t&&e[t]:e,yV=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Y6e=e=>e,OC=(e,t=Y6e)=>{let r=X6e;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));let n={};for(let i of r){let a=t(e[i],i);ue.und(a)||(n[i]=a)}return n},X6e=["config","onProps","onStart","onChange","onPause","onResume","onRest"],q6e={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Q6e(e){let t={},r=0;if(ua(e,(n,i)=>{q6e[i]||(t[i]=n,r++)}),r)return t}function _V(e){let t=Q6e(e);if(t){let r={to:t};return ua(e,(n,i)=>i in t||(r[i]=n)),r}return{...e}}function cv(e){return e=nn(e),ue.arr(e)?e.map(cv):sE(e)?ki.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Z6e(e){for(let t in e)return!0;return!1}function q2(e){return ue.fun(e)||ue.arr(e)&&ue.obj(e[0])}function J6e(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function e5e(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var Q2={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Z2={...Q2.default,mass:1,damping:1,easing:Y2.linear,clamp:!1},t5e=class{constructor(){ge(this,"tension");ge(this,"friction");ge(this,"frequency");ge(this,"damping");ge(this,"mass");ge(this,"velocity",0);ge(this,"restVelocity");ge(this,"precision");ge(this,"progress");ge(this,"duration");ge(this,"easing");ge(this,"clamp");ge(this,"bounce");ge(this,"decay");ge(this,"round");Object.assign(this,Z2)}};function r5e(e,t,r){r&&(r={...r},H8(r,t),t={...r,...t}),H8(e,t),Object.assign(e,t);for(let o in Z2)e[o]==null&&(e[o]=Z2[o]);let{mass:n,frequency:i,damping:a}=e;return ue.und(i)||(i<.01&&(i=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/i,2)*n,e.friction=4*Math.PI*a*n/i),e}function H8(e,t){if(!ue.und(t.decay))e.duration=void 0;else{let r=!ue.und(t.tension)||!ue.und(t.friction);(r||!ue.und(t.frequency)||!ue.und(t.damping)||!ue.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var K8=[],n5e=class{constructor(){ge(this,"changed",!1);ge(this,"values",K8);ge(this,"toValues",null);ge(this,"fromValues",K8);ge(this,"to");ge(this,"from");ge(this,"config",new t5e);ge(this,"immediate",!1)}};function EV(e,{key:t,props:r,defaultProps:n,state:i,actions:a}){return new Promise((o,s)=>{let l,u,c=Eh(r.cancel??(n==null?void 0:n.cancel),t);if(c)m();else{ue.und(r.pause)||(i.paused=Eh(r.pause,t));let _=n==null?void 0:n.pause;_!==!0&&(_=i.paused||Eh(_,t)),l=Js(r.delay||0,t),_?(i.resumeQueue.add(f),a.pause()):(a.resume(),f())}function d(){i.resumeQueue.add(f),i.timeouts.delete(u),u.cancel(),l=u.time-Ce.now()}function f(){l>0&&!ki.skipAnimation?(i.delayed=!0,u=Ce.setTimeout(m,l),i.pauseQueue.add(d),i.timeouts.add(u)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),e<=(i.cancelId||0)&&(c=!0);try{a.start({...r,callId:e,cancel:c},o)}catch(_){s(_)}}})}var IC=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?dc(e.get()):t.every(r=>r.noop)?xV(e.get()):wi(e.get(),t.every(r=>r.finished)),xV=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),wi=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),dc=e=>({value:e,cancelled:!0,finished:!1});function SV(e,t,r,n){let{callId:i,parentId:a,onRest:o}=t,{asyncTo:s,promise:l}=r;return!a&&e===s&&!t.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=e;let u=OC(t,(v,g)=>g==="onRest"?void 0:v),c,d,f=new Promise((v,g)=>(c=v,d=g)),m=v=>{let g=i<=(r.cancelId||0)&&dc(n)||i!==r.asyncId&&wi(n,!1);if(g)throw v.result=g,d(v),v},_=(v,g)=>{let p=new G8,h=new W8;return(async()=>{if(ki.skipAnimation)throw fv(r),h.result=wi(n,!1),d(h),h;m(p);let S=ue.obj(v)?{...v}:{...g,to:v};S.parentId=i,ua(u,(y,E)=>{ue.und(S[E])&&(S[E]=y)});let O=await n.start(S);return m(p),r.paused&&await new Promise(y=>{r.resumeQueue.add(y)}),O})()},x;if(ki.skipAnimation)return fv(r),wi(n,!1);try{let v;ue.arr(e)?v=(async g=>{for(let p of g)await _(p)})(e):v=Promise.resolve(e(_,n.stop.bind(n))),await Promise.all([v.then(c),f]),x=wi(n.get(),!0,!1)}catch(v){if(v instanceof G8)x=v.result;else if(v instanceof W8)x=v.result;else throw v}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?s:void 0,r.promise=a?l:void 0)}return ue.fun(o)&&Ce.batchedUpdates(()=>{o(x,n,n.item)}),x})()}function fv(e,t){yh(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var G8=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");ge(this,"result")}},W8=class extends Error{constructor(){super("SkipAnimationSignal");ge(this,"result")}},J2=e=>e instanceof CC,i5e=1,CC=class extends uV{constructor(){super(...arguments);ge(this,"id",i5e++);ge(this,"_priority",0)}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=Wi(this);return t&&t.getValue()}to(...t){return ki.to(this,t)}interpolate(...t){return $6e(),ki.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,r=!1){ov(this,{type:"change",parent:this,value:t,idle:r})}_onPriorityChange(t){this.idle||iE.sort(this),ov(this,{type:"priority",parent:this,priority:t})}},Rl=Symbol.for("SpringPhase"),bV=1,eA=2,tA=4,$b=e=>(e[Rl]&bV)>0,xo=e=>(e[Rl]&eA)>0,Ed=e=>(e[Rl]&tA)>0,z8=(e,t)=>t?e[Rl]|=eA|bV:e[Rl]&=~eA,V8=(e,t)=>t?e[Rl]|=tA:e[Rl]&=~tA,TV=class extends CC{constructor(t,r){super();ge(this,"key");ge(this,"animation",new n5e);ge(this,"queue");ge(this,"defaultProps",{});ge(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});ge(this,"_pendingCalls",new Set);ge(this,"_lastCallId",0);ge(this,"_lastToId",0);ge(this,"_memoizedDuration",0);if(!ue.und(t)||!ue.und(r)){let n=ue.obj(t)?{...t}:{...r,from:t};ue.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(xo(this)||this._state.asyncTo)||Ed(this)}get goal(){return nn(this.animation.to)}get velocity(){let t=Wi(this);return t instanceof T0?t.lastVelocity||0:t.getPayload().map(r=>r.lastVelocity||0)}get hasAnimated(){return $b(this)}get isAnimating(){return xo(this)}get isPaused(){return Ed(this)}get isDelayed(){return this._state.delayed}advance(t){let r=!0,n=!1,i=this.animation,{config:a,toValues:o}=i,s=lE(i.to);!s&&Vn(i.to)&&(o=Rn(nn(i.to))),i.values.forEach((c,d)=>{if(c.done)return;let f=c.constructor==uv?1:s?s[d].lastPosition:o[d],m=i.immediate,_=f;if(!m){if(_=c.lastPosition,a.tension<=0){c.done=!0;return}let x=c.elapsedTime+=t,v=i.fromValues[d],g=c.v0!=null?c.v0:c.v0=ue.arr(a.velocity)?a.velocity[d]:a.velocity,p,h=a.precision||(v==f?.005:Math.min(1,Math.abs(f-v)*.001));if(ue.und(a.duration))if(a.decay){let S=a.decay===!0?.998:a.decay,O=Math.exp(-(1-S)*x);_=v+g/(1-S)*(1-O),m=Math.abs(c.lastPosition-_)<=h,p=g*O}else{p=c.lastVelocity==null?g:c.lastVelocity;let S=a.restVelocity||h/10,O=a.clamp?0:a.bounce,y=!ue.und(O),E=v==f?c.v0>0:v<f,b,T=!1,A=1,P=Math.ceil(t/A);for(let C=0;C<P&&(b=Math.abs(p)>S,!(!b&&(m=Math.abs(f-_)<=h,m)));++C){y&&(T=_==f||_>f==E,T&&(p=-p*O,_=f));let D=-a.tension*1e-6*(_-f),F=-a.friction*.001*p,R=(D+F)/a.mass;p=p+R*A,_=_+p*A}}else{let S=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,c.durationProgress>0&&(c.elapsedTime=a.duration*c.durationProgress,x=c.elapsedTime+=t)),S=(a.progress||0)+x/this._memoizedDuration,S=S>1?1:S<0?0:S,c.durationProgress=S),_=v+a.easing(S)*(f-v),p=(_-c.lastPosition)/t,m=S==1}c.lastVelocity=p,Number.isNaN(_)&&(console.warn("Got NaN while animating:",this),m=!0)}s&&!s[d].done&&(m=!1),m?c.done=!0:r=!1,c.setValue(_,a.round)&&(n=!0)});let l=Wi(this),u=l.getValue();if(r){let c=nn(i.to);(u!==c||n)&&!a.decay?(l.setValue(c),this._onChange(c)):n&&a.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(t){return Ce.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(xo(this)){let{to:t,config:r}=this.animation;Ce.batchedUpdates(()=>{this._onStart(),r.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,r){let n;return ue.und(t)?(n=this.queue||[],this.queue=[]):n=[ue.obj(t)?t:{...r,to:t}],Promise.all(n.map(i=>this._update(i))).then(i=>IC(this,i))}stop(t){let{to:r}=this.animation;return this._focus(this.get()),fv(this._state,t&&this._lastCallId),Ce.batchedUpdates(()=>this._stop(r,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let r=this.key||"",{to:n,from:i}=t;n=ue.obj(n)?n[r]:n,(n==null||q2(n))&&(n=void 0),i=ue.obj(i)?i[r]:i,i==null&&(i=void 0);let a={to:n,from:i};return $b(this)||(t.reverse&&([n,i]=[i,n]),i=nn(i),ue.und(i)?Wi(this)||this._set(n):this._set(i)),a}_update({...t},r){let{key:n,defaultProps:i}=this;t.default&&Object.assign(i,OC(t,(s,l)=>/^on/.test(l)?mV(s,n):s)),X8(this,t,"onProps"),Sd(this,"onProps",t,this);let a=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return EV(++this._lastCallId,{key:n,props:t,defaultProps:i,state:o,actions:{pause:()=>{Ed(this)||(V8(this,!0),Gd(o.pauseQueue),Sd(this,"onPause",wi(this,xd(this,this.animation.to)),this))},resume:()=>{Ed(this)&&(V8(this,!1),xo(this)&&this._resume(),Gd(o.resumeQueue),Sd(this,"onResume",wi(this,xd(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(s=>{if(t.loop&&s.finished&&!(r&&s.noop)){let l=wV(t);if(l)return this._update(l,!0)}return s})}_merge(t,r,n){if(r.cancel)return this.stop(!0),n(dc(this));let i=!ue.und(t.to),a=!ue.und(t.from);if(i||a)if(r.callId>this._lastToId)this._lastToId=r.callId;else return n(dc(this));let{key:o,defaultProps:s,animation:l}=this,{to:u,from:c}=l,{to:d=u,from:f=c}=t;a&&!i&&(!r.default||ue.und(d))&&(d=f),r.reverse&&([d,f]=[f,d]);let m=!Ia(f,c);m&&(l.from=f),f=nn(f);let _=!Ia(d,u);_&&this._focus(d);let x=q2(r.to),{config:v}=l,{decay:g,velocity:p}=v;(i||a)&&(v.velocity=0),r.config&&!x&&r5e(v,Js(r.config,o),r.config!==s.config?Js(s.config,o):void 0);let h=Wi(this);if(!h||ue.und(d))return n(wi(this,!0));let S=ue.und(r.reset)?a&&!r.default:!ue.und(f)&&Eh(r.reset,o),O=S?f:this.get(),y=cv(d),E=ue.num(y)||ue.arr(y)||sE(y),b=!x&&(!E||Eh(s.immediate||r.immediate,o));if(_){let C=X2(d);if(C!==h.constructor)if(b)h=this._set(y);else throw Error(`Cannot animate between ${h.constructor.name} and ${C.name}, as the "to" prop suggests`)}let T=h.constructor,A=Vn(d),P=!1;if(!A){let C=S||!$b(this)&&m;(_||C)&&(P=Ia(cv(O),y),A=!P),(!Ia(l.immediate,b)&&!b||!Ia(v.decay,g)||!Ia(v.velocity,p))&&(A=!0)}if(P&&xo(this)&&(l.changed&&!S?A=!0:A||this._stop(u)),!x&&((A||Vn(u))&&(l.values=h.getPayload(),l.toValues=Vn(d)?null:T==uv?[1]:Rn(y)),l.immediate!=b&&(l.immediate=b,!b&&!S&&this._set(u)),A)){let{onRest:C}=l;He(o5e,F=>X8(this,r,F));let D=wi(this,xd(this,u));Gd(this._pendingCalls,D),this._pendingCalls.add(n),l.changed&&Ce.batchedUpdates(()=>{var F;l.changed=!S,C==null||C(D,this),S?Js(s.onRest,D):(F=l.onStart)==null||F.call(l,D,this)})}S&&this._set(O),x?n(SV(r.to,r,this._state,this)):A?this._start():xo(this)&&!_?this._pendingCalls.add(n):n(xV(O))}_focus(t){let r=this.animation;t!==r.to&&(N8(this)&&this._detach(),r.to=t,N8(this)&&this._attach())}_attach(){let t=0,{to:r}=this.animation;Vn(r)&&(Af(r,this),J2(r)&&(t=r.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;Vn(t)&&sv(t,this)}_set(t,r=!0){let n=nn(t);if(!ue.und(n)){let i=Wi(this);if(!i||!Ia(n,i.getValue())){let a=X2(n);!i||i.constructor!=a?RC(this,a.create(n)):i.setValue(n),i&&Ce.batchedUpdates(()=>{this._onChange(n,r)})}}return Wi(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,Sd(this,"onStart",wi(this,xd(this,t.to)),this))}_onChange(t,r){r||(this._onStart(),Js(this.animation.onChange,t,this)),Js(this.defaultProps.onChange,t,this),super._onChange(t,r)}_start(){let t=this.animation;Wi(this).reset(nn(t.to)),t.immediate||(t.fromValues=t.values.map(r=>r.lastPosition)),xo(this)||(z8(this,!0),Ed(this)||this._resume())}_resume(){ki.skipAnimation?this.finish():iE.start(this)}_stop(t,r){if(xo(this)){z8(this,!1);let n=this.animation;He(n.values,a=>{a.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),ov(this,{type:"idle",parent:this});let i=r?dc(this.get()):wi(this.get(),xd(this,t??n.to));Gd(this._pendingCalls,i),n.changed&&(n.changed=!1,Sd(this,"onRest",i,this))}}};function xd(e,t){let r=cv(t),n=cv(e.get());return Ia(n,r)}function wV(e,t=e.loop,r=e.to){let n=Js(t);if(n){let i=n!==!0&&_V(n),a=(i||e).reverse,o=!i||i.reset;return dv({...e,loop:t,default:!1,pause:void 0,to:!a||q2(r)?r:void 0,from:o?e.from:void 0,reset:o,...i})}}function dv(e){let{to:t,from:r}=e=_V(e),n=new Set;return ue.obj(t)&&Y8(t,n),ue.obj(r)&&Y8(r,n),e.keys=n.size?Array.from(n):null,e}function a5e(e){let t=dv(e);return ue.und(t.default)&&(t.default=OC(t)),t}function Y8(e,t){ua(e,(r,n)=>r!=null&&t.add(n))}var o5e=["onStart","onRest","onChange","onPause","onResume"];function X8(e,t,r){e.animation[r]=t[r]!==yV(t,r)?mV(t[r],e.key):void 0}function Sd(e,t,...r){var n,i,a,o;(i=(n=e.animation)[t])==null||i.call(n,...r),(o=(a=e.defaultProps)[t])==null||o.call(a,...r)}var s5e=["onStart","onChange","onRest"],l5e=1,u5e=class{constructor(e,t){ge(this,"id",l5e++);ge(this,"springs",{});ge(this,"queue",[]);ge(this,"ref");ge(this,"_flush");ge(this,"_initialProps");ge(this,"_lastAsyncId",0);ge(this,"_active",new Set);ge(this,"_changed",new Set);ge(this,"_started",!1);ge(this,"_item");ge(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});ge(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];ue.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(dv(e)),this}start(e){let{queue:t}=this;return e?t=Rn(e).map(dv):this.queue=[],this._flush?this._flush(this,t):(CV(this,t),rA(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let r=this.springs;He(Rn(t),n=>r[n].stop(!!e))}else fv(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(ue.und(e))this.start({pause:!0});else{let t=this.springs;He(Rn(e),r=>t[r].pause())}return this}resume(e){if(ue.und(e))this.start({pause:!1});else{let t=this.springs;He(Rn(e),r=>t[r].resume())}return this}each(e){ua(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,yh(e,([s,l])=>{l.value=this.get(),s(l,this,this._item)}));let a=!n&&this._started,o=i||a&&r.size?this.get():null;i&&t.size&&yh(t,([s,l])=>{l.value=o,s(l,this,this._item)}),a&&(this._started=!1,yh(r,([s,l])=>{l.value=o,s(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ce.onFrame(this._onFrame)}};function rA(e,t){return Promise.all(t.map(r=>AV(e,r))).then(r=>IC(e,r))}async function AV(e,t,r){let{keys:n,to:i,from:a,loop:o,onRest:s,onResolve:l}=t,u=ue.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),a===!1&&(t.from=null);let c=ue.arr(i)||ue.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):He(s5e,x=>{let v=t[x];if(ue.fun(v)){let g=e._events[x];t[x]=({finished:p,cancelled:h})=>{let S=g.get(v);S?(p||(S.finished=!1),h&&(S.cancelled=!0)):g.set(v,{value:null,finished:p||!1,cancelled:h||!1})},u&&(u[x]=t[x])}});let d=e._state;t.pause===!d.paused?(d.paused=t.pause,Gd(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let f=(n||Object.keys(e.springs)).map(x=>e.springs[x].start(t)),m=t.cancel===!0||yV(t,"cancel")===!0;(c||m&&d.asyncId)&&f.push(EV(++e._lastAsyncId,{props:t,state:d,actions:{pause:z2,resume:z2,start(x,v){m?(fv(d,e._lastAsyncId),v(dc(e))):(x.onRest=s,v(SV(c,x,d,e)))}}})),d.paused&&await new Promise(x=>{d.resumeQueue.add(x)});let _=IC(e,await Promise.all(f));if(o&&_.finished&&!(r&&_.noop)){let x=wV(t,o,i);if(x)return CV(e,[x]),AV(e,x,!0)}return l&&Ce.batchedUpdates(()=>l(_,e,e.item)),_}function q8(e,t){let r={...e.springs};return t&&He(Rn(t),n=>{ue.und(n.keys)&&(n=dv(n)),ue.obj(n.to)||(n={...n,to:void 0}),IV(r,n,i=>OV(i))}),RV(e,r),r}function RV(e,t){ua(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,Af(r,e))})}function OV(e,t){let r=new TV;return r.key=e,t&&Af(r,t),r}function IV(e,t,r){t.keys&&He(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function CV(e,t){He(t,r=>{IV(e.springs,r,n=>OV(n,e))})}var cE=({children:e,...t})=>{let r=z.useContext(Ay),n=t.pause||!!r.pause,i=t.immediate||!!r.immediate;t=B6e(()=>({pause:n,immediate:i}),[n,i]);let{Provider:a}=Ay;return z.createElement(a,{value:t},e)},Ay=c5e(cE,{});cE.Provider=Ay.Provider;cE.Consumer=Ay.Consumer;function c5e(e,t){return Object.assign(e,z.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var f5e=()=>{let e=[],t=function(n){N6e();let i=[];return He(e,(a,o)=>{if(ue.und(n))i.push(a.start());else{let s=r(n,a,o);s&&i.push(a.start(s))}}),i};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){let i=e.indexOf(n);~i&&e.splice(i,1)},t.pause=function(){return He(e,n=>n.pause(...arguments)),this},t.resume=function(){return He(e,n=>n.resume(...arguments)),this},t.set=function(n){He(e,(i,a)=>{let o=ue.fun(n)?n(a,i):n;o&&i.set(o)})},t.start=function(n){let i=[];return He(e,(a,o)=>{if(ue.und(n))i.push(a.start());else{let s=this._getProps(n,a,o);s&&i.push(a.start(s))}}),i},t.stop=function(){return He(e,n=>n.stop(...arguments)),this},t.update=function(n){return He(e,(i,a)=>i.update(this._getProps(n,i,a))),this};let r=function(n,i,a){return ue.fun(n)?n(a,i):n};return t._getProps=r,t};function d5e(e,t,r){let n=ue.fun(t)&&t;n&&!r&&(r=[]);let i=z.useMemo(()=>n||arguments.length==3?f5e():void 0,[]),a=z.useRef(0),o=vV(),s=z.useMemo(()=>({ctrls:[],queue:[],flush(g,p){let h=q8(g,p);return a.current>0&&!s.queue.length&&!Object.keys(h).some(S=>!g.springs[S])?rA(g,p):new Promise(S=>{RV(g,h),s.queue.push(()=>{S(rA(g,p))}),o()})}}),[]),l=z.useRef([...s.ctrls]),u=[],c=F8(e)||0;z.useMemo(()=>{He(l.current.slice(e,c),g=>{J6e(g,i),g.stop(!0)}),l.current.length=e,d(c,e)},[e]),z.useMemo(()=>{d(0,Math.min(c,e))},r);function d(g,p){for(let h=g;h<p;h++){let S=l.current[h]||(l.current[h]=new u5e(null,s.flush)),O=n?n(h,S):t[h];O&&(u[h]=a5e(O))}}let f=l.current.map((g,p)=>q8(g,u[p])),m=z.useContext(cE),_=F8(m),x=m!==_&&Z6e(m);wC(()=>{a.current++,s.ctrls=l.current;let{queue:g}=s;g.length&&(s.queue=[],He(g,p=>p())),He(l.current,(p,h)=>{i==null||i.add(p),x&&p.start({default:m});let S=u[h];S&&(e5e(p,S.ref),p.ref?p.queue.push(S):p.start(S))})}),AC(()=>()=>{He(s.ctrls,g=>g.stop(!0))});let v=f.map(g=>({...g}));return i?[v,i]:v}function h5e(e,t){let r=ue.fun(e),[[n],i]=d5e(1,r?e:[e],r?t||[]:t);return r||arguments.length==2?[n,i]:n}var Q8=(e,t)=>{let r=M6e(()=>new TV(e,t));return AC(()=>()=>{r.stop()}),r},v5e=class extends CC{constructor(t,r){super();ge(this,"key");ge(this,"idle",!0);ge(this,"calc");ge(this,"_active",new Set);this.source=t,this.calc=av(...r);let n=this._get(),i=X2(n);RC(this,i.create(n))}advance(t){let r=this._get(),n=this.get();Ia(r,n)||(Wi(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&Z8(this._active)&&kb(this)}_get(){let t=ue.arr(this.source)?this.source.map(nn):Rn(nn(this.source));return this.calc(...t)}_start(){this.idle&&!Z8(this._active)&&(this.idle=!1,He(lE(this),t=>{t.done=!1}),ki.skipAnimation?(Ce.batchedUpdates(()=>this.advance()),kb(this)):iE.start(this))}_attach(){let t=1;He(Rn(this.source),r=>{Vn(r)&&Af(r,this),J2(r)&&(r.idle||this._active.add(r),t=Math.max(t,r.priority+1))}),this.priority=t,this._start()}_detach(){He(Rn(this.source),t=>{Vn(t)&&sv(t,this)}),this._active.clear(),kb(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Rn(this.source).reduce((r,n)=>Math.max(r,(J2(n)?n.priority:0)+1),0))}};function p5e(e){return e.idle!==!1}function Z8(e){return!e.size||Array.from(e).every(p5e)}function kb(e){e.idle||(e.idle=!0,He(lE(e),t=>{t.done=!0}),ov(e,{type:"idle",parent:e}))}ki.assign({createStringInterpolator:dV,to:(e,t)=>new v5e(e,t)});var PV=/^--/;function g5e(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!PV.test(e)&&!(xh.hasOwnProperty(e)&&xh[e])?t+"px":(""+t).trim()}var J8={};function m5e(e,t){if(!e.nodeType||!e.setAttribute)return!1;let r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:a,scrollLeft:o,viewBox:s,...l}=t,u=Object.values(l),c=Object.keys(l).map(d=>r||e.hasAttribute(d)?d:J8[d]||(J8[d]=d.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(e.textContent=i);for(let d in n)if(n.hasOwnProperty(d)){let f=g5e(d,n[d]);PV.test(d)?e.style.setProperty(d,f):e.style[d]=f}c.forEach((d,f)=>{e.setAttribute(d,u[f])}),a!==void 0&&(e.scrollTop=a),o!==void 0&&(e.scrollLeft=o),s!==void 0&&e.setAttribute("viewBox",s)}var xh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y5e=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),_5e=["Webkit","Ms","Moz","O"];xh=Object.keys(xh).reduce((e,t)=>(_5e.forEach(r=>e[y5e(r,t)]=e[t]),e),xh);var E5e=/^(matrix|translate|scale|rotate|skew)/,x5e=/^(translate)/,S5e=/^(rotate|skew)/,Nb=(e,t)=>ue.num(e)&&e!==0?e+t:e,Jg=(e,t)=>ue.arr(e)?e.every(r=>Jg(r,t)):ue.num(e)?e===t:parseFloat(e)===t,b5e=class extends uE{constructor({x:e,y:t,z:r,...n}){let i=[],a=[];(e||t||r)&&(i.push([e||0,t||0,r||0]),a.push(o=>[`translate3d(${o.map(s=>Nb(s,"px")).join(",")})`,Jg(o,0)])),ua(n,(o,s)=>{if(s==="transform")i.push([o||""]),a.push(l=>[l,l===""]);else if(E5e.test(s)){if(delete n[s],ue.und(o))return;let l=x5e.test(s)?"px":S5e.test(s)?"deg":"";i.push(Rn(o)),a.push(s==="rotate3d"?([u,c,d,f])=>[`rotate3d(${u},${c},${d},${Nb(f,l)})`,Jg(f,0)]:u=>[`${s}(${u.map(c=>Nb(c,l)).join(",")})`,Jg(u,s.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new T5e(i,a)),super(n)}},T5e=class extends uV{constructor(t,r){super();ge(this,"_value",null);this.inputs=t,this.transforms=r}get(){return this._value||(this._value=this._get())}_get(){let t="",r=!0;return He(this.inputs,(n,i)=>{let a=nn(n[0]),[o,s]=this.transforms[i](ue.arr(a)?a:n.map(nn));t+=" "+o,r=r&&s}),r?"none":t}observerAdded(t){t==1&&He(this.inputs,r=>He(r,n=>Vn(n)&&Af(n,this)))}observerRemoved(t){t==0&&He(this.inputs,r=>He(r,n=>Vn(n)&&sv(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),ov(this,t)}},w5e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ki.assign({batchedUpdates:Sl.unstable_batchedUpdates,createStringInterpolator:dV,colors:v6e});var A5e=V6e(w5e,{applyAnimatedValues:m5e,createAnimatedStyle:e=>new b5e(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),LV=A5e.animated;function R5e(e){const t=z.useRef(null),[r,n]=z.useState(0),[i,a]=z.useState(0),[o,s]=z.useState(null),[l,u]=z.useState(null),c=z.useCallback((d,f)=>{const m=d.left+d.width/2,_=window.innerHeight-d.bottom;a(window.innerHeight-_-d.height-f.height-30),n(Math.min(m-f.width/2,window.innerWidth-f.width-30))},[]);return z.useEffect(()=>{!l||!o||c(l,o)},[l,c,o]),z.useEffect(()=>{if(!t.current)return;function d(){var _;const m=(_=t.current)==null?void 0:_.getBoundingClientRect();s(m??null)}d();const f=new ResizeObserver(d);return f.observe(t.current),()=>{f.disconnect()}},[]),z.useEffect(()=>{const d=G2(e.id);window[d]&&u(window[d]);function f(m){u(m.detail)}return document.addEventListener(d,f),()=>{document.removeEventListener(d,f)}},[e.id]),H("div",{ref:t,style:{transform:`translateX(${r}px) translateY(${i}px)`},className:["pointer-events-auto z-10 inline-block origin-top-left touch-none overflow-hidden",e.className??""].join(" "),children:e.children})}function O5e(e,t,r){return Math.max(t,Math.min(e,r))}const Rr={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function eF(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function tF(e,t,r,n=.15){return n===0?O5e(e,t,r):e<t?-eF(t-e,r-t,n)+t:e>r?+eF(e-r,r-t,n)+r:e}function I5e(e,[t,r],[n,i]){const[[a,o],[s,l]]=e;return[tF(t,a,o,n),tF(r,s,l,i)]}function C5e(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P5e(e){var t=C5e(e,"string");return typeof t=="symbol"?t:String(t)}function rn(e,t,r){return t=P5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(n){rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const DV={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function nF(e){return e?e[0].toUpperCase()+e.slice(1):""}const L5e=["enter","leave"];function D5e(e=!1,t){return e&&!L5e.includes(t)}function $5e(e,t="",r=!1){const n=DV[e],i=n&&n[t]||t;return"on"+nF(e)+nF(i)+(D5e(r,i)?"Capture":"")}const k5e=["gotpointercapture","lostpointercapture"];function N5e(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const n=k5e.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(n);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:r}}function M5e(e,t=""){const r=DV[e],n=r&&r[t]||t;return e+n}function fE(e){return"touches"in e}function $V(e){return fE(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function F5e(e){return Array.from(e.touches).filter(t=>{var r,n;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,t.target))})}function B5e(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function kV(e){return fE(e)?B5e(e)[0]:e}function U5e(e){return F5e(e).map(t=>t.identifier)}function Mb(e){const t=kV(e);return fE(e)?t.identifier:t.pointerId}function iF(e){const t=kV(e);return[t.clientX,t.clientY]}function j5e(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a}=e;Object.assign(t,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a})}return t}function Ry(e,...t){return typeof e=="function"?e(...t):e}function H5e(){}function K5e(...e){return e.length===0?H5e:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function aF(e,t){return Object.assign({},t,e||{})}const G5e=32;class W5e{constructor(t,r,n){this.ctrl=t,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:n,args:i}=this;r[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=n.from?Ry(n.from,r):r.offset,r.offset=r.lastOffset),r.startTime=r.timeStamp=t.timeStamp}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:n,shared:i}=this;r.args=this.args;let a=0;if(t&&(r.event=t,n.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,j5e(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const y=r._delta.map(Math.abs);Rr.addTo(r._distance,y)}this.axisIntent&&this.axisIntent(t);const[o,s]=r._movement,[l,u]=n.threshold,{_step:c,values:d}=r;if(n.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&d[0]),c[1]===!1&&(c[1]=Math.abs(s)>=u&&d[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(s)>=u&&Math.sign(s)*u)),r.intentional=c[0]!==!1||c[1]!==!1,!r.intentional)return;const f=[0,0];if(n.hasCustomTransform){const[y,E]=d;f[0]=c[0]!==!1?y-c[0]:0,f[1]=c[1]!==!1?E-c[1]:0}else f[0]=c[0]!==!1?o-c[0]:0,f[1]=c[1]!==!1?s-c[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(f);const m=r.offset,_=r._active&&!r._blocked||r.active;_&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=i[this.ingKey]=r._active,t&&(r.first&&("bounds"in n&&(r._bounds=Ry(n.bounds,r)),this.setup&&this.setup()),r.movement=f,this.computeOffset()));const[x,v]=r.offset,[[g,p],[h,S]]=r._bounds;r.overflow=[x<g?-1:x>p?1:0,v<h?-1:v>S?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const O=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=I5e(r._bounds,r.offset,O),r.delta=Rr.sub(r.offset,m),this.computeMovement(),_&&(!r.last||a>G5e)){r.delta=Rr.sub(r.offset,m);const y=r.delta.map(Math.abs);Rr.addTo(r.distance,y),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&a>0&&(r.velocity=[y[0]/a,y[1]/a])}}emit(){const t=this.state,r=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const i=this.handler(Ot(Ot(Ot({},r),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function z5e([e,t],r){const n=Math.abs(e),i=Math.abs(t);if(n>i&&n>r)return"x";if(i>n&&i>r)return"y"}class V5e extends W5e{constructor(...t){super(...t),rn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Rr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Rr.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,n=this.config;if(!r.axis&&t){const i=typeof n.axisThreshold=="object"?n.axisThreshold[$V(t)]:n.axisThreshold;r.axis=z5e(r._movement,i)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const Y5e=e=>e,oF=.15,NV={enabled(e=!0){return e},eventOptions(e,t,r){return Ot(Ot({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[oF,oF];case!1:return[0,0];default:return Rr.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return Rr.toVector(e)},transform(e,t,r){const n=e||r.shared.transform;return this.hasCustomTransform=!!n,n||Y5e},threshold(e){return Rr.toVector(e,0)}},X5e=0,w0=Ot(Ot({},NV),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=X5e){return e},bounds(e={}){if(typeof e=="function")return a=>w0.bounds(e(a));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=e;return[[t,r],[n,i]]}}),sF={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class q5e extends V5e{constructor(...t){super(...t),rn(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const r=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),i={left:r.left-n.left+t.offset[0],right:r.right-n.right+t.offset[0],top:r.top-n.top+t.offset[1],bottom:r.bottom-n.bottom+t.offset[1]};t._bounds=w0.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const r=this.config,n=this.state;if(t.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):r.pointerButtons!==-1&&r.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&n._pointerActive)&&(this.start(t),this.setupPointer(t),n._pointerId=Mb(t),n._pointerActive=!0,this.computeValues(iF(t)),this.computeInitial(),r.preventScrollAxis&&$V(t)!=="mouse"?(n._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const r=this.state,n=this.config;if(!r._pointerActive||r.type===t.type&&t.timeStamp===r.timeStamp)return;const i=Mb(t);if(r._pointerId!==void 0&&i!==r._pointerId)return;const a=iF(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=Rr.sub(a,r._values),this.computeValues(a)),Rr.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(n.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const r=this.state,n=this.config;if(!r._active||!r._pointerActive)return;const i=Mb(t);if(r._pointerId!==void 0&&i!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,o]=r._distance;if(r.tap=a<=n.tapsThreshold&&o<=n.tapsThreshold,r.tap&&n.filterTaps)r._force=!0;else{const[s,l]=r.direction,[u,c]=r.velocity,[d,f]=r.movement,[m,_]=n.swipe.velocity,[x,v]=n.swipe.distance,g=n.swipe.duration;r.elapsedTime<g&&(Math.abs(u)>m&&Math.abs(d)>x&&(r.swipe[0]=s),Math.abs(c)>_&&Math.abs(f)>v&&(r.swipe[1]=l))}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const r=this.config,n=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,Q5e(t);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const r=sF[t.key];if(r){const n=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=r(this.config.keyboardDisplacement,i),n._keyboardActive=!0,Rr.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in sF&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Q5e(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const A0=typeof window<"u"&&window.document&&window.document.createElement;function Z5e(){return A0&&"ontouchstart"in window}function lF(){return Z5e()||A0&&window.navigator.maxTouchPoints>1}function J5e(){return A0&&"onpointerdown"in window}function eBe(){return A0&&"exitPointerLock"in window.document}function tBe(){try{return"constructor"in GestureEvent}catch{return!1}}const Yn={isBrowser:A0,gesture:tBe(),touch:lF(),touchscreen:lF(),pointer:J5e(),pointerLock:eBe()},rBe=250,nBe=180,iBe=.5,aBe=50,oBe=250,sBe=10,uF={mouse:0,touch:0,pen:8},lBe=Ot(Ot({},w0),{},{device(e,t,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&Yn.pointerLock,Yn.touch&&r?"touch":this.pointerLock?"mouse":Yn.pointer&&!i?"pointer":Yn.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?rBe:void 0,!(!Yn.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&r},threshold(e,t,{filterTaps:r=!1,tapsThreshold:n=3,axis:i=void 0}){const a=Rr.toVector(e,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:e=iBe,distance:t=aBe,duration:r=oBe}={}){return{velocity:this.transform(Rr.toVector(e)),distance:this.transform(Rr.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return nBe;case!1:return 0;default:return e}},axisThreshold(e){return e?Ot(Ot({},uF),e):uF},keyboardDisplacement(e=sBe){return e}});Ot(Ot({},NV),{},{device(e,t,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!Yn.touch&&Yn.gesture)return"gesture";if(Yn.touch&&n)return"touch";if(Yn.touchscreen){if(Yn.pointer)return"pointer";if(Yn.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:n={}}){const i=o=>{const s=aF(Ry(r,o),{min:-1/0,max:1/0});return[s.min,s.max]},a=o=>{const s=aF(Ry(n,o),{min:-1/0,max:1/0});return[s.min,s.max]};return typeof r!="function"&&typeof n!="function"?[i(),a()]:o=>[i(o),a(o)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",Rr.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Ot(Ot({},w0),{},{mouseOnly:(e=!0)=>e});Ot(Ot({},w0),{},{mouseOnly:(e=!0)=>e});const MV=new Map,nA=new Map;function uBe(e){MV.set(e.key,e.engine),nA.set(e.key,e.resolver)}const cBe={key:"drag",engine:q5e,resolver:lBe};function fBe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function dBe(e,t){if(e==null)return{};var r=fBe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const hBe={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Yn.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},vBe=["target","eventOptions","window","enabled","transform"];function em(e={},t){const r={};for(const[n,i]of Object.entries(t))switch(typeof i){case"function":r[n]=i.call(r,e[n],n,e);break;case"object":r[n]=em(e[n],i);break;case"boolean":i&&(r[n]=e[n]);break}return r}function pBe(e,t,r={}){const n=e,{target:i,eventOptions:a,window:o,enabled:s,transform:l}=n,u=dBe(n,vBe);if(r.shared=em({target:i,eventOptions:a,window:o,enabled:s,transform:l},hBe),t){const c=nA.get(t);r[t]=em(Ot({shared:r.shared},u),c)}else for(const c in u){const d=nA.get(c);d&&(r[c]=em(Ot({shared:r.shared},u[c]),d))}return r}class FV{constructor(t,r){rn(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,n,i,a){const o=this._listeners,s=M5e(r,n),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Ot(Ot({},l),a);t.addEventListener(s,i,u);const c=()=>{t.removeEventListener(s,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class gBe{constructor(){rn(this,"_timeouts",new Map)}add(t,r,n=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(r,n,...i))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class mBe{constructor(t){rn(this,"gestures",new Set),rn(this,"_targetEventStore",new FV(this)),rn(this,"gestureEventStores",{}),rn(this,"gestureTimeoutStores",{}),rn(this,"handlers",{}),rn(this,"config",{}),rn(this,"pointerIds",new Set),rn(this,"touchIds",new Set),rn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),yBe(this,t)}setEventIds(t){if(fE(t))return this.touchIds=new Set(U5e(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=pBe(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,n={};let i;if(!(r.target&&(i=r.target(),!i))){if(r.enabled){for(const o of this.gestures){const s=this.config[o],l=cF(n,s.eventOptions,!!i);if(s.enabled){const u=MV.get(o);new u(this,t,o).bind(l)}}const a=cF(n,r.eventOptions,!!i);for(const o in this.nativeHandlers)a(o,"",s=>this.nativeHandlers[o](Ot(Ot({},this.state.shared),{},{event:s,args:t})),void 0,!0)}for(const a in n)n[a]=K5e(...n[a]);if(!i)return n;for(const a in n){const{device:o,capture:s,passive:l}=N5e(a);this._targetEventStore.add(i,o,"",n[a],{capture:s,passive:l})}}}}function gu(e,t){e.gestures.add(t),e.gestureEventStores[t]=new FV(e,t),e.gestureTimeoutStores[t]=new gBe}function yBe(e,t){t.drag&&gu(e,"drag"),t.wheel&&gu(e,"wheel"),t.scroll&&gu(e,"scroll"),t.move&&gu(e,"move"),t.pinch&&gu(e,"pinch"),t.hover&&gu(e,"hover")}const cF=(e,t,r)=>(n,i,a,o={},s=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:t.capture,d=(u=o.passive)!==null&&u!==void 0?u:t.passive;let f=s?n:$5e(n,i,c);r&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(a)};function _Be(e,t={},r,n){const i=me.useMemo(()=>new mBe(e),[]);if(i.applyHandlers(e,n),i.applyConfig(t,r),me.useEffect(i.effect.bind(i)),me.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function EBe(e,t){return uBe(cBe),_Be({drag:e},t||{},"drag")}function xBe(e){const t=z.useRef(null),r=z.useRef(!1),[n,i]=z.useState(null),[{y:a},o]=h5e(()=>({y:0,onRest(){r.current&&e.onClose&&e.onClose()}})),s=EBe(({last:l,velocity:[,u],direction:[,c],movement:[,d],...f})=>{if(r.current||f.target.closest(".overflow-y-auto"))return;const _=(n==null?void 0:n.height)??0;l?d>_*.5||u>.5&&c>0&&d>20?(o.start({y:_*1.2,immediate:!1,config:{...Q2.wobbly,velocity:u,clamp:!0}}),r.current=!0):o.start({y:0,immediate:!1,config:Q2.wobbly}):o.start({y:d,immediate:!0})},{from:()=>[0,a.get()],filterTaps:!0,bounds:{top:0},rubberband:!0});return z.useEffect(()=>{if(!t.current)return;function l(){var d;const c=(d=t.current)==null?void 0:d.getBoundingClientRect();i(c??null)}l();const u=new ResizeObserver(l);return u.observe(t.current),()=>{u.disconnect()}},[]),H("div",{className:"is-mobile-view absolute inset-x-0 mx-auto max-w-[400px] origin-bottom-left touch-none",style:{transform:`translateY(${window.innerHeight-((n==null?void 0:n.height)??0)+200}px)`},children:H(LV.div,{ref:t,className:[e.className??"","touch-none"].join(" "),style:{y:a},...s(),children:e.children})})}function BV(e){const t=e.radius??40;return ee("svg",{className:`${e.className??""} -rotate-90`,viewBox:"0 0 100 100",children:[H("circle",{className:`fill-transparent stroke-denim-700 stroke-[15] opacity-25 ${e.backingRingClassname??""}`,r:t,cx:"50",cy:"50"}),H("circle",{className:"fill-transparent stroke-current stroke-[15] transition-[stroke-dashoffset] duration-150",r:t,cx:"50",cy:"50",style:{strokeDasharray:`${2*Math.PI*t} ${2*Math.PI*t}`,strokeDashoffset:`${2*Math.PI*t-e.percentage/100*(2*Math.PI*t)}`}})]})}function SBe(e){const t=z.createRef(),r=z.useRef(!1),n=30;return z.useEffect(()=>{if(r.current||!t.current)return;const i=t.current,a=i.classList.contains("overflow-y-auto")?i:i.closest(".overflow-y-auto"),o=a==null?void 0:a.querySelector(".active");if(a&&o){let s=0,l=0,u=0,c=0;if((()=>{const m=o.getBoundingClientRect(),_=a.getBoundingClientRect();s=_.height,u=m.height,l=m.top-_.top+a.scrollTop,c=a.scrollTop})(),l+u<c+s-n||l>c+n){const m=l+u/2,_=s/2,x=m-_;a.scrollTo({top:x})}}r.current=!0},[t]),H("div",{className:e.className,ref:t,children:e.children})}function Uc(e){return H(SBe,{className:["p-5",e.className||""].join(" "),children:e.children})}function UV(e){const t=e.isOnDarkBackground?"bg-ash-200":"bg-ash-400",r=e.isOnDarkBackground?"hover:bg-ash-200":"hover:bg-ash-400";return ee("div",{className:["group -mx-2 flex cursor-pointer items-center justify-between space-x-1 rounded p-2 font-semibold transition-[background-color,color] duration-150",r,e.active?`${t} active text-white outline-denim-700`:"text-denim-700 hover:text-white"].join(" "),onClick:e.onClick,children:[e.active&&H("div",{className:"absolute left-0 h-8 w-0.5 bg-bink-500"}),H("span",{className:"truncate",children:e.children}),ee("div",{className:"relative min-h-[1rem] min-w-[1rem]",children:[!e.noChevron&&H(tt,{className:"absolute inset-0 translate-x-2 text-white opacity-0 transition-[opacity,transform] duration-100 group-hover:translate-x-0 group-hover:opacity-100",icon:ye.CHEVRON_RIGHT}),e.right]})]})}function Ka(e){return H(UV,{isOnDarkBackground:e.isOnDarkBackground,active:e.active,onClick:e.onClick,noChevron:e.loading||e.errored,right:ee(Ir,{children:[e.errored&&H(tt,{icon:ye.WARNING,className:"absolute inset-0 text-rose-400"}),e.loading&&!e.errored&&H(Wz,{className:"absolute inset-0 text-base [--color:#9C93B5]"}),e.percentageCompleted&&!e.loading&&!e.errored?H(BV,{className:"absolute inset-0 text-bink-600 opacity-100 transition-[opacity] group-hover:opacity-0",backingRingClassname:"stroke-ash-500",percentage:e.percentageCompleted>90?100:e.percentageCompleted}):""]}),children:e.children})}function dE(e){const t=H(UV,{active:e.active,isOnDarkBackground:e.isOnDarkBackground,right:e.right,onClick:e.href?void 0:e.onClick,noChevron:e.noChevron,children:ee("div",{className:"flex items-center space-x-3",children:[e.icon?H(tt,{className:"text-xl",icon:e.icon}):null,H("div",{children:e.children})]})});return e.href?H("a",{href:e.href?e.href:void 0,rel:"noreferrer",target:"_blank",download:e.download?e.download:void 0,onClick:e.onClick,children:t}):t}function jV(){const{isMobile:e}=ya();return e?H("div",{className:"relative z-50 mx-auto my-3 -mb-3 h-1 w-12 rounded-full bg-ash-500 bg-opacity-30"}):null}function bBe(){const{isMobile:e}=ya();return e?H("div",{className:"h-[200px]"}):null}function TBe(e){const t=z.useRef(null),{isMobile:r}=ya(),n=Q8(0,{config:{easing:Y2.easeInOutSine,duration:300}}),i=Q8(0,{config:{easing:Y2.easeInOutSine,duration:300}}),[a,o]=z.useState(null),s=z.useCallback((l=!0)=>{if(!t.current)return;const u=t.current.querySelectorAll(":scope *[data-floating-page='true']");if(l&&o(u),u.length===0){n.start(0),i.start(0);return}const c=u[u.length-1],d=c.getBoundingClientRect(),f=c.scrollHeight;n.get()===0?(n.set(f),i.set(d.width)):(n.start(f),i.start(d.width))},[n,i]);return z.useEffect(()=>{if(!t.current)return;s();const l=new MutationObserver(()=>{s()});return l.observe(t.current,{attributes:!1,childList:!0,subtree:!1}),()=>{l.disconnect()}},[s]),z.useEffect(()=>{const l=new ResizeObserver(()=>{s(!1)});return a==null||a.forEach(u=>l.observe(u)),()=>{l.disconnect()}},[a,s]),H(LV.div,{ref:t,style:{height:n,width:r?"100%":i},className:"relative flex items-center justify-center overflow-hidden",children:e.children})}function wBe(e){const{isMobile:t}=ya(),r=H(TBe,{children:e.children});return t?H(xBe,{className:e.className,onClose:e.onClose,children:r}):H(R5e,{id:e.for,className:e.className,children:r})}function ABe(e){return H(wBe,{className:"overflow-hidden rounded-md bg-ash-300",...e})}const jr={Header(e){const{t}=Fe();let r=ee("div",{onClick:e.goBack,className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[H(tt,{icon:ye.ARROW_LEFT}),H("span",{children:e.backText||t("videoPlayer.popouts.back")})]});return e.close&&(r=ee("div",{onClick:e.goBack,className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[H(tt,{icon:ye.X}),H("span",{children:"Close"})]})),ee("div",{className:"flex flex-col bg-[#1C161B]",children:[H(jV,{}),ee(Uc,{children:[ee("div",{className:"flex justify-between",children:[H("div",{children:r}),H("div",{children:e.action??null})]}),H("h2",{className:"mt-8 mb-2 text-3xl font-bold text-white",children:e.title}),H("p",{children:e.description})]})]})},Content(e){return ee("div",{className:"grid h-full grid-rows-[1fr]",children:[e.noSection?H("div",{className:"relative h-full overflow-y-auto bg-ash-300",children:e.children}):H(Uc,{className:"relative h-full overflow-y-auto bg-ash-300",children:e.children}),H(bBe,{})]})}};function RBe(e){const[t,r]=z.useState(null),n=z.useRef(null),i=z.useRef(null);z.useEffect(()=>{function o(s){i.current=s.target}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}});const a=z.useCallback(o=>{const s=i.current;i.current=null,o.currentTarget===o.target&&s&&s.isEqualNode(o.currentTarget)&&e.onClose&&e.onClose()},[e]);return z.useEffect(()=>{var s;const o=(s=n.current)==null?void 0:s.closest(".popout-location");r(o??document.body)},[]),H("div",{ref:n,children:t?Sl.createPortal(H(Pi,{show:e.show,animation:"none",children:ee("div",{className:"popout-wrapper pointer-events-auto fixed inset-0 z-[999] select-none",children:[H(Pi,{animation:"fade",isChild:!0,children:H("div",{onClick:a,className:["absolute inset-0",e.darken?"bg-black opacity-90":""].join(" ")})}),H(Pi,{animation:"slide-up",className:"h-0",isChild:!0,children:e.children})]})}),t):null})}function fF(e,t){const n=new URLSearchParams(e.search).get("modal");n?t.openPopout(n):t.closePopout()}function OBe(e){const t=Sf(),r=Mi(e),n=yt(e),i=TW(),a=z.useRef(null),o=z.useRef(n);z.useEffect(()=>{o.current=n},[n]),z.useEffect(()=>{const l=r.popout;if(a.current!==l)if(a.current=l,l){const u=new URLSearchParams([["modal",l]]).toString();t.push({search:u,state:"popout"})}else{if(!new URLSearchParams(t.location.search).has("modal"))return;t.length>0?t.goBack():t.replace({search:"",state:"popout"})}},[r,t]),z.useEffect(()=>{i.state!=="popout"&&fF(i,o.current)},[i]);const s=z.useRef(!1);z.useEffect(()=>{s.current||(fF(i,o.current),s.current=!0)},[i])}function ps(e){const{isMobile:t}=ya(),r=t?"100%":`${e.width}px`;return H(Pi,{animation:e.active?"slide-full-left":"slide-full-right",className:"absolute inset-0",durationClass:"duration-[400ms]",show:e.show,children:H("div",{className:[e.className??"","grid grid-rows-[auto,minmax(0,1fr)]"].join(" "),"data-floating-page":e.show?"true":void 0,style:{height:e.height?`${e.height}px`:void 0,maxHeight:"70vh",width:e.width?r:void 0},children:e.children})})}function HV(e="/"){const[t,r]=z.useState(e.split("/").filter(f=>f.length>0)),[n,i]=z.useState(t),a=t[t.length-1]??"/";z.useLayoutEffect(()=>{n.length!==t.length&&setTimeout(()=>{i(t)},20)},[t,n]);function o(f){const m=f.split("/").filter(_=>_.length>0);m.length>n.length&&i(m),r(m)}function s(f){if(f==="/")return!0;const m=n.indexOf(f);return!(m===-1||m===n.length-1)}function l(f){return f===a}function u(f){return f==="/"?!0:t.includes(f)}function c(f){return{show:l(f),active:s(f)}}function d(){o("/")}return{navigate:o,reset:d,isLoaded:u,isCurrentPage:l,pageProps:c,isActive:s}}function IBe(){var S,O,y,E;const e=wW(),{t}=Fe(),{pageProps:r,navigate:n}=HV("/episodes"),i=Pe(),a=gi(i),o=yt(i),[s,l]=z.useState(null),[u,c,d]=Tf((b,T)=>py(Ae.SERIES,b,T)),f=z.useCallback(b=>{var T;l({seasonId:b,season:void 0}),u((T=YW(e.media))==null?void 0:T.id,b).then(A=>{(A==null?void 0:A.meta.type)===Ae.SERIES&&l({seasonId:b,season:A==null?void 0:A.meta.seasonData})})},[u,e.media]),m=(s==null?void 0:s.seasonId)??((S=a==null?void 0:a.episode)==null?void 0:S.seasonId),_=z.useCallback((b,T)=>{o.closePopout(),setTimeout(()=>{o.setCurrentEpisode(b,T)},100)},[o]),x=z.useMemo(()=>{var b;return(b=a==null?void 0:a.seasons)==null?void 0:b.find(T=>T.id===m)},[a,m]),v=z.useMemo(()=>{var b,T,A,P;return s!=null&&s.season?(b=s==null?void 0:s.season)==null?void 0:b.episodes:(P=(A=(T=a==null?void 0:a.seasons)==null?void 0:T.find)==null?void 0:A.call(T,C=>C&&C.id===m))==null?void 0:P.episodes},[a,m,s]),g=b=>{f(b),l({seasonId:b}),n("/episodes")},{watched:p}=X_(),h=()=>{o.closePopout()};return ee(Ir,{children:[ee(ps,{...r("seasons"),height:600,width:375,children:[H(jr.Header,{title:t("videoPlayer.popouts.seasons"),description:t("videoPlayer.popouts.descriptions.seasons"),goBack:()=>n("/episodes"),backText:`To ${x==null?void 0:x.title.toLowerCase()}`}),H(jr.Content,{children:x?(y=(O=a==null?void 0:a.seasons)==null?void 0:O.map)==null?void 0:y.call(O,b=>{var T;return H(Ka,{active:((T=a==null?void 0:a.episode)==null?void 0:T.seasonId)===b.id,onClick:()=>g(b.id),children:b.title},b.id)}):"No season"})]}),ee(ps,{...r("episodes"),height:600,width:375,children:[H(jr.Header,{title:(x==null?void 0:x.title)??"Unknown season",description:t("videoPlayer.popouts.descriptions.episode"),goBack:h,close:!0,action:ee("button",{type:"button",onClick:()=>n("/episodes/seasons"),className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[H("span",{children:"Other seasons"}),H(tt,{icon:ye.CHEVRON_RIGHT})]})}),H(jr.Content,{children:c?H("div",{className:"flex h-full w-full items-center justify-center",children:H(y0,{})}):d?H("div",{className:"flex h-full w-full items-center justify-center",children:ee("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[H(dn,{icon:ye.EYE_SLASH,className:"text-xl text-bink-600"}),H("p",{className:"mt-6 w-full text-center",children:t("videoPlayer.popouts.errors.loadingWentWrong",{seasonTitle:(E=x==null?void 0:x.title)==null?void 0:E.toLowerCase()})})]})}):H("div",{children:v&&x?v.map(b=>{var T,A;return H(Ka,{active:b.id===((T=a==null?void 0:a.episode)==null?void 0:T.episodeId),onClick:()=>{var P;b.id===((P=a==null?void 0:a.episode)==null?void 0:P.episodeId)?o.closePopout():_(x.id,b.id)},percentageCompleted:(A=p.items.find(P=>{var C,D,F,R;return((D=(C=P.item)==null?void 0:C.series)==null?void 0:D.seasonId)===x.id&&((R=(F=P.item)==null?void 0:F.series)==null?void 0:R.episodeId)===b.id}))==null?void 0:A.percentage,children:t("videoPlayer.popouts.episode",{index:b.number,title:b.title})},b.id)}):"No episodes"})})]})]})}function CBe(e){const{t}=Fe();return H(dE,{icon:ye.CAPTIONS,onClick:e.onClick,children:t("videoPlayer.buttons.captions")})}var Cn=(e=>(e.MP4="mp4",e.HLS="hls",e))(Cn||{}),Ji=(e=>(e.VTT="vtt",e.SRT="srt",e.UNKNOWN="unknown",e))(Ji||{}),kt=(e=>(e.Q360P="360p",e.Q540P="540p",e.Q480P="480p",e.Q720P="720p",e.Q1080P="1080p",e.QUNKNOWN="unknown",e))(kt||{});function KV(e){return{source:e.source?{...e.source}:null}}function Fo(e,t){Gl(e,"source",KV(t))}function R0(e){const t=Pr(e),[r,n]=z.useState(KV(t));return z.useEffect(()=>{function i(a){n(a.detail)}return Wl(e,"source",i),()=>{zl(e,"source",i)}},[e]),r}function PBe(){var o,s;const e=Pe(),t=R0(e),{t:r}=Fe(),n=gi(e),i=((o=t.source)==null?void 0:o.type)===Cn.HLS;if(i)return null;const a=n==null?void 0:n.meta.meta.title;return H(dE,{href:i||(s=t.source)==null?void 0:s.url,download:a?`${P2(a)}.mp4`:void 0,icon:ye.DOWNLOAD,children:r("videoPlayer.buttons.download")})}function LBe(e){const{t}=Fe();return H(dE,{icon:ye.TACHOMETER,onClick:e.onClick,children:t("videoPlayer.buttons.playbackSpeed")})}function DBe(){const e=Pe(),t=R0(e);return t.source?H("div",{className:"rounded-md bg-denim-300 py-1 px-2 transition-colors",children:H("p",{className:"text-center text-xs font-bold text-slate-300 transition-colors",children:t.source.quality})}):null}function $Be(e){const{t}=Fe();return H(dE,{icon:ye.CLAPPER_BOARD,onClick:e.onClick,right:H(DBe,{}),noChevron:!0,children:t("videoPlayer.buttons.source")})}function kBe(e){var m,_;const{t}=Fe(),r=Pe(),n=gi(r),i=R0(r),a=yt(r),o=z.useMemo(()=>(n==null?void 0:n.captions.map(x=>({...x,id:U2(x,!0)})))??[],[n]),s=z.useRef(""),[l,u,c]=Tf(async(x,v)=>{const g=U2(x,v);s.current=g;const p=await bz(x),S=await(await fetch(p)).text();Tz(S),a.setCaption(g,p),setTimeout(()=>{a.closePopout()},100)}),d=(_=(m=i.source)==null?void 0:m.caption)==null?void 0:_.id,f=z.useRef(null);return ee(ps,{...e.router.pageProps(e.prefix),width:320,height:500,children:[H(jr.Header,{title:t("videoPlayer.popouts.captions"),description:t("videoPlayer.popouts.descriptions.captions"),goBack:()=>e.router.navigate("/"),action:ee("button",{type:"button",onClick:()=>e.router.navigate(`${e.prefix}/caption-settings`),className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[H("span",{children:t("videoPlayer.popouts.captionPreferences.title")}),H(tt,{icon:ye.GEAR})]})}),ee(jr.Content,{noSection:!0,children:[ee(Uc,{children:[H(Ka,{active:!d,onClick:()=>{a.clearCaption(),a.closePopout()},children:t("videoPlayer.popouts.noCaptions")}),ee(Ka,{active:d===_d,loading:u&&s.current===_d,errored:c&&s.current===_d,onClick:()=>{var x;return(x=f.current)==null?void 0:x.click()},children:[t(d===_d?"videoPlayer.popouts.customCaption":"videoPlayer.popouts.uploadCustomCaption"),H("input",{className:"hidden",ref:f,accept:P8e.join(","),type:"file",onChange:x=>{if(!x.target.files)return;const v={langIso:"custom",url:URL.createObjectURL(x.target.files[0]),type:Ji.UNKNOWN};l(v,!1)}})]},_d)]}),ee("p",{className:"sticky top-0 z-10 flex items-center space-x-1 bg-ash-300 px-5 py-3 text-xs font-bold uppercase",children:[H(tt,{className:"text-base",icon:ye.LINK}),H("span",{children:t("videoPlayer.popouts.linkedCaptions")})]}),H(Uc,{className:"pt-0",children:H("div",{children:o.map(x=>H(Ka,{active:x.id===d,loading:u&&x.id===s.current,errored:c&&x.id===s.current,onClick:()=>{s.current=x.id,l(x,!0)},children:x.langIso},x.langIso))})})]})]})}const GV=["#ffffff","#00ffff","#ffff00"];function WV({color:e}){const{captionSettings:t,setCaptionColor:r}=bf();return ee("div",{className:`flex h-8 w-8 items-center justify-center rounded transition-[background-color,transform] duration-100 hover:bg-[#1c161b79] active:scale-110 ${e===t.style.color?"bg-[#1C161B]":""}`,onClick:()=>r(e),children:[H("div",{className:"h-4 w-4 cursor-pointer appearance-none rounded-full",style:{backgroundColor:e}}),H(tt,{className:["absolute text-xs text-[#1C161B]",e===t.style.color?"":"hidden"].join(" "),icon:ye.CHECKMARK})]})}function hc(e){const t=z.useRef(null);return z.useEffect(()=>{const r=t.current;r.style.setProperty("--value",r.value),r.style.setProperty("--min",r.min===""?"0":r.min),r.style.setProperty("--max",r.max===""?"100":r.max),r.addEventListener("input",()=>r.style.setProperty("--value",r.value))},[t]),ee("div",{className:"mb-6 flex flex-row gap-4",children:[ee("div",{className:"flex w-full flex-col gap-2",children:[e.label?H("label",{className:"font-bold",children:e.label}):null,H("input",{type:"range",ref:t,className:"styled-slider slider-progress mt-[20px]",onChange:e.onChange,value:e.value,max:e.max,min:e.min,step:e.step})]}),H("div",{className:"mt-1 aspect-[2/1] h-8 rounded-sm bg-[#1C161B] pt-1",children:H("div",{className:"text-center font-bold text-white",children:e.valueDisplay??e.value})})]})}function NBe(e){const{t}=Fe(),{captionSettings:r,setCaptionBackgroundColor:n,setCaptionDelay:i,setCaptionFontSize:a}=bf();return ee(ps,{...e.router.pageProps(e.prefix),width:375,children:[H(jr.Header,{title:t("videoPlayer.popouts.captionPreferences.title"),description:t("videoPlayer.popouts.descriptions.captionPreferences"),goBack:()=>e.router.navigate("/captions")}),ee(jr.Content,{children:[H(hc,{label:t("videoPlayer.popouts.captionPreferences.delay"),max:10,min:-10,step:.1,valueDisplay:`${r.delay.toFixed(1)}s`,value:r.delay,onChange:o=>i(o.target.valueAsNumber)}),H(hc,{label:t("videoPlayer.popouts.captionPreferences.fontSize"),min:14,step:1,max:60,value:r.style.fontSize,onChange:o=>a(o.target.valueAsNumber)}),H(hc,{label:t("videoPlayer.popouts.captionPreferences.opacity"),step:1,min:0,max:255,valueDisplay:`${(parseInt(r.style.backgroundColor.substring(7,9),16)/255*100).toFixed(0)}%`,value:parseInt(r.style.backgroundColor.substring(7,9),16),onChange:o=>n(o.target.valueAsNumber)}),ee("div",{className:"flex flex-row justify-between",children:[H("label",{className:"font-bold",htmlFor:"color",children:t("videoPlayer.popouts.captionPreferences.color")}),H("div",{className:"flex flex-row gap-2",children:GV.map(o=>H(WV,{color:o}))})]})]})]})}const MBe=[.25,.5,.75,1,1.25,1.5,2];function FBe(e){const{t}=Fe(),r=Pe(),n=yt(r),i=Mn(r);return ee(ps,{...e.router.pageProps(e.prefix),width:320,height:500,children:[H(jr.Header,{title:t("videoPlayer.popouts.playbackSpeed"),description:t("videoPlayer.popouts.descriptions.playbackSpeed"),goBack:()=>e.router.navigate("/")}),ee(jr.Content,{noSection:!0,children:[H(Uc,{children:MBe.map(a=>ee(Ka,{active:i.playbackSpeed===a,onClick:()=>{n.setPlaybackSpeed(a),n.closePopout()},children:[a,"x"]},a))}),ee("p",{className:"sticky top-0 z-10 flex items-center space-x-1 bg-ash-300 px-5 py-3 text-xs font-bold uppercase",children:[H(tt,{className:"text-base",icon:ye.TACHOMETER}),H("span",{children:t("videoPlayer.popouts.customPlaybackSpeed")})]}),H(Uc,{className:"pt-0",children:H("div",{children:H(hc,{min:.1,max:10,step:.1,value:i.playbackSpeed,valueDisplay:`${i.playbackSpeed}x`,onChange:a=>n.setPlaybackSpeed(a.target.valueAsNumber)})})})]})]})}function BBe(e){const[t,r,n]=Tf(async()=>{const i=Q_(e.type);if(!i)throw new Error("Embed scraper not found");const a=await nC(i,{progress:()=>{},url:e.url});e.onSelect(a)});return H(Ka,{isOnDarkBackground:!0,loading:r,errored:!!n,active:e.active,onClick:()=>{t()},children:e.name})}function UBe(e){const{t}=Fe(),r=Pe(),n=yt(r),i=gi(r),{source:a}=R0(r),o=z.useRef(null),s=z.useMemo(()=>i?sz().filter(h=>h.type.includes(i.meta.meta.type)):[],[i]),[l,u]=z.useState(null),[c,d]=z.useState(null),f=z.useMemo(()=>s.find(h=>h.id===l)??null,[s,l]),[m,_,x]=Tf(async h=>{var O,y;const S=s.find(E=>E.id===h);if(!S)throw new Error("Invalid provider");if(!i)throw new Error("need meta");return lz(S,{media:i.meta,progress:()=>{},type:i.meta.meta.type,episode:(O=i.episode)==null?void 0:O.episodeId,season:(y=i.episode)==null?void 0:y.seasonId})});function v(h){n.setSource({quality:h.quality,source:h.streamUrl,type:h.type,embedId:h.embedId,providerId:o.current??void 0}),i&&n.setMeta({...i,captions:h.captions}),n.closePopout()}const g=h=>{if(!h){o.current=null,u(null),e.router.navigate(`/${e.prefix}/source`);return}m(h).then(async S=>{if(o.current){if(S&&S.embeds.length+(S.stream?1:0)===1){const y=S.stream;if(!y){const E=S==null?void 0:S.embeds[0];if(!E)throw new Error("Embed scraper not found");const b=Q_(E.type);if(!b)throw new Error("Embed scraper not found");const T=await nC(b,{progress:()=>{},url:E.url});v(T);return}v(y);return}d(S??null)}}),o.current=h,u(h),e.router.navigate(`/${e.prefix}/source/embeds`)},p=z.useMemo(()=>{const h=(c==null?void 0:c.embeds)||[],S={};for(const y of h)y.type&&(S[y.type]||(S[y.type]=[]),S[y.type].push({...y,displayName:y.type}));return Object.entries(S).flatMap(([y,E])=>E.length>1?E.map((b,T)=>({...b,displayName:`${b.type} ${T+1}`})):E)},[c==null?void 0:c.embeds]);return ee(Ir,{children:[ee(ps,{...e.router.pageProps(e.prefix),width:320,height:500,children:[H(jr.Header,{title:t("videoPlayer.popouts.sources"),description:t("videoPlayer.popouts.descriptions.sources"),goBack:()=>e.router.navigate("/")}),H(jr.Content,{children:s.map(h=>H(Ka,{active:h.id===(a==null?void 0:a.providerId),onClick:()=>{g(h.id)},children:h.displayName},h.id))})]}),ee(ps,{...e.router.pageProps("embeds"),width:320,height:500,children:[H(jr.Header,{title:(f==null?void 0:f.displayName)??"",description:t("videoPlayer.popouts.descriptions.embeds"),goBack:()=>e.router.navigate(`/${e.prefix}`)}),H(jr.Content,{children:_?H("div",{className:"flex h-full w-full items-center justify-center",children:H(y0,{})}):x?H("div",{className:"flex h-full w-full items-center justify-center",children:ee("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[H(dn,{icon:ye.EYE_SLASH,className:"text-xl text-bink-600"}),H("p",{className:"mt-6 w-full text-center",children:t("videoPlayer.popouts.errors.embedsError")})]})}):ee(Ir,{children:[c!=null&&c.stream?H(Ka,{isOnDarkBackground:!0,onClick:()=>{c.stream&&v(c.stream)},active:(f==null?void 0:f.id)===(a==null?void 0:a.providerId)&&(f==null?void 0:f.id)===(a==null?void 0:a.embedId),children:"Native source"}):null,((p==null?void 0:p.length)||0)>0?p==null?void 0:p.map(h=>H(BBe,{type:h.type,name:h.displayName??"",url:h.url,active:!1,onSelect:S=>{v(S)}},h.url)):H("div",{className:"flex h-full w-full items-center justify-center",children:ee("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[H(dn,{icon:ye.EYE_SLASH,className:"text-xl text-bink-600"}),H("p",{className:"mt-6 w-full text-center",children:t("videoPlayer.popouts.noEmbeds")})]})})]})})]})]})}function jBe(){const e=HV(),{pageProps:t,navigate:r}=e;return ee(Ir,{children:[ee(ps,{...t("/"),width:320,children:[H(jV,{}),ee(jr.Content,{children:[H(PBe,{}),H($Be,{onClick:()=>r("/source")}),H(CBe,{onClick:()=>r("/captions")}),H(LBe,{onClick:()=>r("/playback-speed")})]})]}),H(UBe,{router:e,prefix:"source"}),H(kBe,{router:e,prefix:"captions"}),H(NBe,{router:e,prefix:"caption-settings"}),H(FBe,{router:e,prefix:"playback-speed"})]})}function HBe(e){return H(Ir,{children:Object.entries({settings:H(jBe,{}),episodes:H(IBe,{})}).map(([r,n])=>H(RBe,{show:e.popoutId===r,onClose:e.onClose,children:H(ABe,{for:r,onClose:e.onClose,children:n})},r))})}function KBe(){const e=Pe(),t=Mi(e),r=yt(e);OBe(e);const n=z.useCallback(()=>{r.closePopout()},[r]);return H(HBe,{popoutId:t.popout,onClose:n})}const GBe="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",zV=[];let iA=null;function WBe(e){iA=e,zV.forEach(t=>t(e))}function zBe(e){if(iA!==null)return e(iA);zV.push(e)}function VBe(){if(window.__onGCastApiAvailable=t=>{WBe(t)},!!!document.getElementById("chromecast-script")){const t=document.createElement("script");t.setAttribute("src",GBe),t.setAttribute("id","chromecast-script"),document.body.appendChild(t)}}function YBe(){const[e,t]=z.useState(null);return z.useEffect(()=>{zBe(r=>t(r))},[]),e}const VV=V_().setKey("mw-volume").addVersion({version:0,create(){return{volume:1}}}).build();function YV(){return VV.get().volume}function XV(e){VV.save({volume:e})}function Oy(e,t){const r=t;r.hlsInstance&&(r.hlsInstance.destroy(),r.hlsInstance=null),$4e(r),or(e,r),Fa(e,r),wf(e,r)}function XBe(e){const t=Pr(e),r=t.casting.instance,n=t.casting.player,i=t.casting.controller;return{getId(){return"casting"},play(){t.mediaPlaying.isPaused&&(i==null||i.playOrPause())},pause(){t.mediaPlaying.isPlaying&&(i==null||i.playOrPause())},exitFullscreen(){wn.fullscreenElement&&wn.exitFullscreen()},enterFullscreen(){if(!(!pC()||wn.fullscreenElement)){if(rE()){t.wrapperElement&&wn.requestFullscreen(t.wrapperElement);return}vC()&&n.webkitEnterFullscreen()}},startAirplay(){},setTime(a){let o=Math.min(a,(n==null?void 0:n.duration)??0);o=Math.max(0,o),!Number.isNaN(o)&&(n&&(n.currentTime=o),t.progress.time=o,i==null||i.seek(),Fa(e,t))},setSeeking(a){if(t.mediaPlaying.isSeeking=a,t.mediaPlaying.isDragSeeking=a,or(e,t),!a){t.pausedWhenSeeking||this.play();return}t.pausedWhenSeeking=t.mediaPlaying.isPaused,this.pause()},togglePictureInPicture(){},setPlaybackSpeed(a){var u,c,d;const o=new chrome.cast.media.MediaInfo(((u=t.meta)==null?void 0:u.meta.meta.id)??"video","video/mp4");o.contentUrl=(c=t.source)==null?void 0:c.url,o.streamType=chrome.cast.media.StreamType.BUFFERED,o.metadata=new chrome.cast.media.MovieMediaMetadata,o.metadata.title=((d=t.meta)==null?void 0:d.meta.meta.title)??"",o.customData={playbackRate:a};const s=new chrome.cast.media.LoadRequest(o);s.autoplay=!0;const l=r==null?void 0:r.getCurrentSession();l==null||l.loadMedia(s)},async setVolume(a){let o=Math.min(a,1);o=Math.max(0,o),await iv()&&n&&(n.volumeLevel=o),t.mediaPlaying.volume=o,i==null||i.setVolumeLevel(),or(e,t),XV(o)},setSource(a){var c,d;if(!a){Oy(e,t),i==null||i.stop(),t.source=null,Fo(e,t);return}const o=new chrome.cast.media.MovieMediaMetadata;o.title=((c=t.meta)==null?void 0:c.meta.meta.title)??"";const s=new chrome.cast.media.MediaInfo(((d=t.meta)==null?void 0:d.meta.meta.id)??"video","video/mp4");s.contentUrl=a==null?void 0:a.source,s.streamType=chrome.cast.media.StreamType.BUFFERED,s.metadata=o;const l=new chrome.cast.media.LoadRequest(s);l.autoplay=!0;const u=r==null?void 0:r.getCurrentSession();u==null||u.loadMedia(l),t.source={quality:a.quality,type:a.type,url:a.source,caption:null,embedId:a.embedId,providerId:a.providerId},Oy(e,t),Fo(e,t)},setCaption(a,o){var s;t.source&&(_y((s=t.source.caption)==null?void 0:s.url),t.source.caption={id:a,url:o},Fo(e,t))},clearCaption(){var a;t.source&&(_y((a=t.source.caption)==null?void 0:a.url),t.source.caption=null,Fo(e,t))},providerStart(){var l,u,c;this.setVolume(YV());const a=async d=>{switch(d.field){case"volumeLevel":await iv()&&(t.mediaPlaying.volume=d.value,or(e,t));break;case"currentTime":t.progress.time=d.value,Fa(e,t);break;case"mediaInfo":d.value&&(t.progress.duration=d.value.duration,Fa(e,t));break;case"playerState":t.mediaPlaying.isLoading=d.value==="BUFFERING",t.mediaPlaying.isPaused=d.value!=="PLAYING",t.mediaPlaying.isPlaying=d.value==="PLAYING",d.value==="PLAYING"&&(t.mediaPlaying.hasPlayedOnce=!0,t.mediaPlaying.isFirstLoading=!1),or(e,t);break;case"isMuted":t.mediaPlaying.volume=d.value?1:0,or(e,t);break;case"displayStatus":case"canSeek":case"title":case"isPaused":break;default:console.log(d.type,d.field,d.value);break}},o=()=>{t.interface.isFullscreen=!!document.fullscreenElement,Sn(e,t)},s=d=>{t.interface.isFocused=d.type!=="mouseleave",Sn(e,t)};return i==null||i.addEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,a),(l=t.wrapperElement)==null||l.addEventListener("click",s),(u=t.wrapperElement)==null||u.addEventListener("mouseenter",s),(c=t.wrapperElement)==null||c.addEventListener("mouseleave",s),wn.addEventListener("fullscreenchange",o),t.source&&this.setSource({quality:t.source.quality,source:t.source.url,type:t.source.type,embedId:t.source.embedId,providerId:t.source.providerId}),{destroy:()=>{var d,f,m;i==null||i.removeEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,a),(d=t.wrapperElement)==null||d.removeEventListener("click",s),(f=t.wrapperElement)==null||f.removeEventListener("mouseenter",s),(m=t.wrapperElement)==null||m.removeEventListener("mouseleave",s),wn.removeEventListener("fullscreenchange",o),r==null||r.endCurrentSession(!0)}}}}}function qV(e,t){const r=Pr(e);r.stateProvider=t,r.initalized=!0,r.stateProviderId=t.getId(),wf(e,r)}function QV(e,t){var n;const r=Pr(e);!r.stateProvider||((n=r.stateProvider)==null?void 0:n.getId())!==t||(r.stateProvider=null,r.stateProviderId="video",wf(e,r))}function qBe(e,t){for(let r=0;r<t.length;r+=1)if(t.start(t.length-1-r)<e)return t.end(t.length-1-r);return 0}function QBe(){const e=Pe(),t=so(e),r=z.useRef(!1),n=YBe(),i=z.useMemo(()=>t.isCasting,[t]);return z.useEffect(()=>{if(r.current===i||(r.current=i,!i))return;const a=XBe(e);qV(e,a);const{destroy:o}=a.providerStart();return()=>{try{QV(e,a.getId())}catch{}o()}},[e,i]),z.useEffect(()=>{const a=Pr(e);if(!n)return;a.casting.instance=cast.framework.CastContext.getInstance(),a.casting.instance.setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),a.casting.player=new cast.framework.RemotePlayer,a.casting.controller=new cast.framework.RemotePlayerController(a.casting.player);function o(s){s.field==="isConnected"&&(a.casting.isCasting=s.value,wf(e,a))}return a.casting.controller.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,o),()=>{var s;(s=a.casting.controller)==null||s.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,o)}},[n,e]),null}function ZBe(e){const t=Pe();return z.useEffect(()=>{const r=Pr(t);r.wrapperElement=e.wrapper,wf(t,r)},[e.wrapper,t]),null}class JBe extends z.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,r){if(console.error("Render error caught",t,r),t instanceof Error){const n=t;this.setState(i=>({...i,hasError:!0,error:{name:n.name,description:n.message,path:r.componentStack.split(`
`)[1]}}))}}render(){return this.state.hasError?ee("div",{className:"absolute inset-0 bg-denim-100",children:[H("div",{className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col py-6 px-8 pb-2",children:H(Vl,{media:this.props.media,onClick:this.props.onGoBack})}),H(QI,{error:this.state.error,localSize:!0,children:ee(qI,{i18nKey:"videoPlayer.errors.fatalError",children:[H(hy,{url:Wr().DISCORD_LINK,newTab:!0}),H(hy,{url:Wr().GITHUB_LINK,newTab:!0})]})})]}):this.props.children}}function eUe(){const e=Pe(),t=gi(e),r=Ps(e);return z.useEffect(()=>(window.meta||(window.meta={}),t&&(window.meta[e]={meta:t.meta,captions:t.captions,seasons:t.seasons,episode:t.episode,progress:{time:r.time,duration:r.duration}}),()=>{window.meta&&delete window.meta[e]}),[t,e,r]),null}var aA={},tUe={get exports(){return aA},set exports(e){aA=e}};(function(e,t){typeof window<"u"&&function(n,i){e.exports=i()}(be,()=>(()=>{var r={"./src/config.ts":(o,s,l)=>{l.r(s),l.d(s,{enableStreamingMode:()=>k,hlsDefaultConfig:()=>R,mergeConfig:()=>I});var u=l("./src/controller/abr-controller.ts"),c=l("./src/controller/audio-stream-controller.ts"),d=l("./src/controller/audio-track-controller.ts"),f=l("./src/controller/subtitle-stream-controller.ts"),m=l("./src/controller/subtitle-track-controller.ts"),_=l("./src/controller/buffer-controller.ts"),x=l("./src/controller/timeline-controller.ts"),v=l("./src/controller/cap-level-controller.ts"),g=l("./src/controller/fps-controller.ts"),p=l("./src/controller/eme-controller.ts"),h=l("./src/controller/cmcd-controller.ts"),S=l("./src/utils/xhr-loader.ts"),O=l("./src/utils/fetch-loader.ts"),y=l("./src/utils/cues.ts"),E=l("./src/utils/mediakeys-helper.ts"),b=l("./src/utils/logger.ts");function T(){return T=Object.assign?Object.assign.bind():function(w){for(var M=1;M<arguments.length;M++){var N=arguments[M];for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(w[$]=N[$])}return w},T.apply(this,arguments)}function A(w,M){var N=Object.keys(w);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(w);M&&($=$.filter(function(B){return Object.getOwnPropertyDescriptor(w,B).enumerable})),N.push.apply(N,$)}return N}function P(w){for(var M=1;M<arguments.length;M++){var N=arguments[M]!=null?arguments[M]:{};M%2?A(Object(N),!0).forEach(function($){C(w,$,N[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(N)):A(Object(N)).forEach(function($){Object.defineProperty(w,$,Object.getOwnPropertyDescriptor(N,$))})}return w}function C(w,M,N){return M=D(M),M in w?Object.defineProperty(w,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):w[M]=N,w}function D(w){var M=F(w,"string");return typeof M=="symbol"?M:String(M)}function F(w,M){if(typeof w!="object"||w===null)return w;var N=w[Symbol.toPrimitive];if(N!==void 0){var $=N.call(w,M||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(w)}var R=P(P({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:S.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:u.default,bufferController:_.default,capLevelController:v.default,fpsController:g.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:E.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},L()),{},{subtitleStreamController:f.SubtitleStreamController,subtitleTrackController:m.default,timelineController:x.TimelineController,audioStreamController:c.default,audioTrackController:d.default,emeController:p.default,cmcdController:h.default});function L(){return{cueHandler:y.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function I(w,M){if((M.liveSyncDurationCount||M.liveMaxLatencyDurationCount)&&(M.liveSyncDuration||M.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(M.liveMaxLatencyDurationCount!==void 0&&(M.liveSyncDurationCount===void 0||M.liveMaxLatencyDurationCount<=M.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(M.liveMaxLatencyDuration!==void 0&&(M.liveSyncDuration===void 0||M.liveMaxLatencyDuration<=M.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return T({},w,M)}function k(w){var M=w.loader;if(M!==O.default&&M!==S.default)b.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),w.progressive=!1;else{var N=(0,O.fetchSupported)();N&&(w.loader=O.default,w.progressive=!0,w.enableSoftwareAES=!0,b.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}}},"./src/controller/abr-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>S});var u=l("./src/polyfills/number.ts"),c=l("./src/utils/ewma-bandwidth-estimator.ts"),d=l("./src/events.ts"),f=l("./src/errors.ts"),m=l("./src/types/loader.ts"),_=l("./src/utils/logger.ts");function x(O,y){for(var E=0;E<y.length;E++){var b=y[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,g(b.key),b)}}function v(O,y,E){return y&&x(O.prototype,y),E&&x(O,E),Object.defineProperty(O,"prototype",{writable:!1}),O}function g(O){var y=p(O,"string");return typeof y=="symbol"?y:String(y)}function p(O,y){if(typeof O!="object"||O===null)return O;var E=O[Symbol.toPrimitive];if(E!==void 0){var b=E.call(O,y||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(O)}var h=function(){function O(E){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=E;var b=E.config;this.bwEstimator=new c.default(b.abrEwmaSlowVoD,b.abrEwmaFastVoD,b.abrEwmaDefaultEstimate),this.registerListeners()}var y=O.prototype;return y.registerListeners=function(){var b=this.hls;b.on(d.Events.FRAG_LOADING,this.onFragLoading,this),b.on(d.Events.FRAG_LOADED,this.onFragLoaded,this),b.on(d.Events.FRAG_BUFFERED,this.onFragBuffered,this),b.on(d.Events.LEVEL_LOADED,this.onLevelLoaded,this),b.on(d.Events.ERROR,this.onError,this)},y.unregisterListeners=function(){var b=this.hls;b.off(d.Events.FRAG_LOADING,this.onFragLoading,this),b.off(d.Events.FRAG_LOADED,this.onFragLoaded,this),b.off(d.Events.FRAG_BUFFERED,this.onFragBuffered,this),b.off(d.Events.LEVEL_LOADED,this.onLevelLoaded,this),b.off(d.Events.ERROR,this.onError,this)},y.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},y.onFragLoading=function(b,T){var A=T.frag;if(A.type===m.PlaylistLevelType.MAIN&&!this.timer){var P;this.fragCurrent=A,this.partCurrent=(P=T.part)!=null?P:null,this.timer=self.setInterval(this.onCheck,100)}},y.onLevelLoaded=function(b,T){var A=this.hls.config;T.details.live?this.bwEstimator.update(A.abrEwmaSlowLive,A.abrEwmaFastLive):this.bwEstimator.update(A.abrEwmaSlowVoD,A.abrEwmaFastVoD)},y._abandonRulesCheck=function(){var b=this.fragCurrent,T=this.partCurrent,A=this.hls,P=A.autoLevelEnabled,C=A.media;if(!(!b||!C)){var D=T?T.stats:b.stats,F=T?T.duration:b.duration;if(D.aborted||D.loaded&&D.loaded===D.total||b.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!(!P||C.paused||!C.playbackRate||!C.readyState)){var R=A.mainForwardBufferInfo;if(R!==null){var L=performance.now()-D.loading.start,I=Math.abs(C.playbackRate);if(!(L<=500*F/I)){var k=D.loaded&&D.loading.first,w=this.bwEstimator.getEstimate(),M=A.levels,N=A.minAutoLevel,$=M[b.level],B=D.total||Math.max(D.loaded,Math.round(F*$.maxBitrate/8)),U=k?D.loaded*1e3/L:0,j=U?(B-D.loaded)/U:B*8/w,K=R.len/I;if(!(j<=K)){var G=Number.POSITIVE_INFINITY,W;for(W=b.level-1;W>N;W--){var V=M[W].maxBitrate;if(G=U?F*V/(8*.8*U):F*V/w,G<K)break}G>=j||(_.logger.warn("Fragment "+b.sn+(T?" part "+T.index:"")+" of level "+b.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+W+`
      Current BW estimate: `+((0,u.isFiniteNumber)(w)?(w/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+j.toFixed(3)+` s
      Estimated load time for the next fragment: `+G.toFixed(3)+` s
      Time to underbuffer: `+K.toFixed(3)+" s"),A.nextLoadLevel=W,k&&this.bwEstimator.sample(L,D.loaded),this.clearTimer(),(b.loader||b.keyLoader)&&(this.fragCurrent=this.partCurrent=null,b.abortRequests()),A.trigger(d.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:b,part:T,stats:D}))}}}}}},y.onFragLoaded=function(b,T){var A=T.frag,P=T.part;if(A.type===m.PlaylistLevelType.MAIN&&(0,u.isFiniteNumber)(A.sn)){var C=P?P.stats:A.stats,D=P?P.duration:A.duration;if(this.clearTimer(),this.lastLoadedFragLevel=A.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var F=this.hls.levels[A.level],R=(F.loaded?F.loaded.bytes:0)+C.loaded,L=(F.loaded?F.loaded.duration:0)+D;F.loaded={bytes:R,duration:L},F.realBitrate=Math.round(8*R/L)}if(A.bitrateTest){var I={stats:C,frag:A,part:P,id:A.type};this.onFragBuffered(d.Events.FRAG_BUFFERED,I)}}},y.onFragBuffered=function(b,T){var A=T.frag,P=T.part,C=P?P.stats:A.stats;if(!C.aborted&&!(A.type!==m.PlaylistLevelType.MAIN||A.sn==="initSegment")){var D=C.parsing.end-C.loading.start;this.bwEstimator.sample(D,C.loaded),C.bwEstimate=this.bwEstimator.getEstimate(),A.bitrateTest?this.bitrateTestDelay=D/1e3:this.bitrateTestDelay=0}},y.onError=function(b,T){var A;if(((A=T.frag)===null||A===void 0?void 0:A.type)===m.PlaylistLevelType.MAIN){if(T.type===f.ErrorTypes.KEY_SYSTEM_ERROR){this.clearTimer();return}switch(T.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer();break}}},y.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},y.getNextABRAutoLevel=function(){var b=this.fragCurrent,T=this.partCurrent,A=this.hls,P=A.maxAutoLevel,C=A.config,D=A.minAutoLevel,F=A.media,R=T?T.duration:b?b.duration:0,L=F&&F.playbackRate!==0?Math.abs(F.playbackRate):1,I=this.bwEstimator?this.bwEstimator.getEstimate():C.abrEwmaDefaultEstimate,k=A.mainForwardBufferInfo,w=(k?k.len:0)/L,M=this.findBestLevel(I,D,P,w,C.abrBandWidthFactor,C.abrBandWidthUpFactor);if(M>=0)return M;_.logger.trace((w?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var N=R?Math.min(R,C.maxStarvationDelay):C.maxStarvationDelay,$=C.abrBandWidthFactor,B=C.abrBandWidthUpFactor;if(!w){var U=this.bitrateTestDelay;if(U){var j=R?Math.min(R,C.maxLoadingDelay):C.maxLoadingDelay;N=j-U,_.logger.trace("bitrate test took "+Math.round(1e3*U)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*N)+" ms"),$=B=1}}return M=this.findBestLevel(I,D,P,w+N,$,B),Math.max(M,0)},y.findBestLevel=function(b,T,A,P,C,D){for(var F,R=this.fragCurrent,L=this.partCurrent,I=this.lastLoadedFragLevel,k=this.hls.levels,w=k[I],M=!!(w!=null&&(F=w.details)!==null&&F!==void 0&&F.live),N=w==null?void 0:w.codecSet,$=L?L.duration:R?R.duration:0,B=A;B>=T;B--){var U=k[B];if(!(!U||N&&U.codecSet!==N)){var j=U.details,K=(L?j==null?void 0:j.partTarget:j==null?void 0:j.averagetargetduration)||$,G=void 0;B<=I?G=C*b:G=D*b;var W=k[B].maxBitrate,V=W*K/G;if(_.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+B+"/"+Math.round(G)+"/"+W+"/"+K+"/"+P+"/"+V),G>W&&(V===0||!(0,u.isFiniteNumber)(V)||M&&!this.bitrateTestDelay||V<P))return B}}return-1},v(O,[{key:"nextAutoLevel",get:function(){var b=this._nextAutoLevel,T=this.bwEstimator;if(b!==-1&&!T.canEstimate())return b;var A=this.getNextABRAutoLevel();return b!==-1&&this.hls.levels[A].loadError?b:(b!==-1&&(A=Math.min(b,A)),A)},set:function(b){this._nextAutoLevel=b}}]),O}();const S=h},"./src/controller/audio-stream-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>C});var u=l("./src/polyfills/number.ts"),c=l("./src/controller/base-stream-controller.ts"),d=l("./src/events.ts"),f=l("./src/utils/buffer-helper.ts"),m=l("./src/controller/fragment-tracker.ts"),_=l("./src/types/level.ts"),x=l("./src/types/loader.ts"),v=l("./src/loader/fragment.ts"),g=l("./src/demux/chunk-cache.ts"),p=l("./src/demux/transmuxer-interface.ts"),h=l("./src/types/transmuxer.ts"),S=l("./src/controller/fragment-finders.ts"),O=l("./src/utils/discontinuities.ts"),y=l("./src/errors.ts");function E(){return E=Object.assign?Object.assign.bind():function(D){for(var F=1;F<arguments.length;F++){var R=arguments[F];for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&(D[L]=R[L])}return D},E.apply(this,arguments)}function b(D,F){D.prototype=Object.create(F.prototype),D.prototype.constructor=D,T(D,F)}function T(D,F){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,I){return L.__proto__=I,L},T(D,F)}var A=100,P=function(D){b(F,D);function F(L,I,k){var w;return w=D.call(this,L,I,k,"[audio-stream-controller]")||this,w.videoBuffer=null,w.videoTrackCC=-1,w.waitingVideoCC=-1,w.audioSwitch=!1,w.trackId=-1,w.waitingData=null,w.mainDetails=null,w.bufferFlushed=!1,w.cachedTrackLoadedData=null,w._registerListeners(),w}var R=F.prototype;return R.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},R._registerListeners=function(){var I=this.hls;I.on(d.Events.MEDIA_ATTACHED,this.onMediaAttached,this),I.on(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),I.on(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),I.on(d.Events.LEVEL_LOADED,this.onLevelLoaded,this),I.on(d.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),I.on(d.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),I.on(d.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),I.on(d.Events.ERROR,this.onError,this),I.on(d.Events.BUFFER_RESET,this.onBufferReset,this),I.on(d.Events.BUFFER_CREATED,this.onBufferCreated,this),I.on(d.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),I.on(d.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),I.on(d.Events.FRAG_BUFFERED,this.onFragBuffered,this)},R._unregisterListeners=function(){var I=this.hls;I.off(d.Events.MEDIA_ATTACHED,this.onMediaAttached,this),I.off(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),I.off(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),I.off(d.Events.LEVEL_LOADED,this.onLevelLoaded,this),I.off(d.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),I.off(d.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),I.off(d.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),I.off(d.Events.ERROR,this.onError,this),I.off(d.Events.BUFFER_RESET,this.onBufferReset,this),I.off(d.Events.BUFFER_CREATED,this.onBufferCreated,this),I.off(d.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),I.off(d.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),I.off(d.Events.FRAG_BUFFERED,this.onFragBuffered,this)},R.onInitPtsFound=function(I,k){var w=k.frag,M=k.id,N=k.initPTS;if(M==="main"){var $=w.cc;this.initPTS[w.cc]=N,this.log("InitPTS for cc: "+$+" found from main: "+N),this.videoTrackCC=$,this.state===c.State.WAITING_INIT_PTS&&this.tick()}},R.startLoad=function(I){if(!this.levels){this.startPosition=I,this.state=c.State.STOPPED;return}var k=this.lastCurrentTime;this.stopLoad(),this.setInterval(A),this.fragLoadError=0,k>0&&I===-1?(this.log("Override startPosition with lastCurrentTime @"+k.toFixed(3)),I=k,this.state=c.State.IDLE):(this.loadedmetadata=!1,this.state=c.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=I,this.tick()},R.doTick=function(){switch(this.state){case c.State.IDLE:this.doTickIdle();break;case c.State.WAITING_TRACK:{var I,k=this.levels,w=this.trackId,M=k==null||(I=k[w])===null||I===void 0?void 0:I.details;if(M){if(this.waitForCdnTuneIn(M))break;this.state=c.State.WAITING_INIT_PTS}break}case c.State.FRAG_LOADING_WAITING_RETRY:{var N,$=performance.now(),B=this.retryDate;(!B||$>=B||(N=this.media)!==null&&N!==void 0&&N.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=c.State.IDLE);break}case c.State.WAITING_INIT_PTS:{var U=this.waitingData;if(U){var j=U.frag,K=U.part,G=U.cache,W=U.complete;if(this.initPTS[j.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=c.State.FRAG_LOADING;var V=G.flush(),Y={frag:j,part:K,payload:V,networkDetails:null};this._handleFragmentLoadProgress(Y),W&&D.prototype._handleFragmentLoadComplete.call(this,Y)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+j.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var X=this.getLoadPosition(),q=f.BufferHelper.bufferInfo(this.mediaBuffer,X,this.config.maxBufferHole),Q=(0,S.fragmentWithinToleranceTest)(q.end,this.config.maxFragLookUpTolerance,j);Q<0&&(this.log("Waiting fragment cc ("+j.cc+") @ "+j.start+" cancelled because another fragment at "+q.end+" is needed"),this.clearWaitingFragment())}}else this.state=c.State.IDLE}}this.onTickEnd()},R.clearWaitingFragment=function(){var I=this.waitingData;I&&(this.fragmentTracker.removeFragment(I.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=c.State.IDLE)},R.resetLoadingState=function(){this.clearWaitingFragment(),D.prototype.resetLoadingState.call(this)},R.onTickEnd=function(){var I=this.media;!I||!I.readyState||(this.lastCurrentTime=I.currentTime)},R.doTickIdle=function(){var I=this.hls,k=this.levels,w=this.media,M=this.trackId,N=I.config;if(!(!k||!k[M])&&!(!w&&(this.startFragRequested||!N.startFragPrefetch))){var $=k[M],B=$.details;if(!B||B.live&&this.levelLastLoaded!==M||this.waitForCdnTuneIn(B)){this.state=c.State.WAITING_TRACK;return}var U=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&U&&(this.bufferFlushed=!1,this.afterBufferFlushed(U,v.ElementaryStreamTypes.AUDIO,x.PlaylistLevelType.AUDIO));var j=this.getFwdBufferInfo(U,x.PlaylistLevelType.AUDIO);if(j!==null){var K=this.audioSwitch;if(!K&&this._streamEnded(j,B)){I.trigger(d.Events.BUFFER_EOS,{type:"audio"}),this.state=c.State.ENDED;return}var G=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,x.PlaylistLevelType.MAIN),W=j.len,V=this.getMaxBufferLength(G==null?void 0:G.len);if(!(W>=V&&!K)){var Y=B.fragments,X=Y[0].start,q=j.end;if(K&&w){var Q=this.getLoadPosition();q=Q,B.PTSKnown&&Q<X&&(j.end>X||j.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),w.currentTime=X+.05)}if(!(G&&q>G.end+B.targetduration)&&!((!G||!G.len)&&j.len)){var te=this.getNextFragment(q,B);if(!te){this.bufferFlushed=!0;return}this.loadFragment(te,B,q)}}}}},R.getMaxBufferLength=function(I){var k=D.prototype.getMaxBufferLength.call(this);return I?Math.max(k,I):k},R.onMediaDetaching=function(){this.videoBuffer=null,D.prototype.onMediaDetaching.call(this)},R.onAudioTracksUpdated=function(I,k){var w=k.audioTracks;this.resetTransmuxer(),this.levels=w.map(function(M){return new _.Level(M)})},R.onAudioTrackSwitching=function(I,k){var w=!!k.url;this.trackId=k.id;var M=this.fragCurrent;M&&M.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),w?this.setInterval(A):this.resetTransmuxer(),w?(this.audioSwitch=!0,this.state=c.State.IDLE):this.state=c.State.STOPPED,this.tick()},R.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},R.onLevelLoaded=function(I,k){this.mainDetails=k.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(d.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},R.onAudioTrackLoaded=function(I,k){var w;if(this.mainDetails==null){this.cachedTrackLoadedData=k;return}var M=this.levels,N=k.details,$=k.id;if(!M){this.warn("Audio tracks were reset while loading level "+$);return}this.log("Track "+$+" loaded ["+N.startSN+","+N.endSN+"],duration:"+N.totalduration);var B=M[$],U=0;if(N.live||(w=B.details)!==null&&w!==void 0&&w.live){var j=this.mainDetails;if(N.fragments[0]||(N.deltaUpdateFailed=!0),N.deltaUpdateFailed||!j)return;!B.details&&N.hasProgramDateTime&&j.hasProgramDateTime?((0,O.alignMediaPlaylistByPDT)(N,j),U=N.fragments[0].start):U=this.alignPlaylists(N,B.details)}B.details=N,this.levelLastLoaded=$,!this.startFragRequested&&(this.mainDetails||!N.live)&&this.setStartPosition(B.details,U),this.state===c.State.WAITING_TRACK&&!this.waitForCdnTuneIn(N)&&(this.state=c.State.IDLE),this.tick()},R._handleFragmentLoadProgress=function(I){var k,w=I.frag,M=I.part,N=I.payload,$=this.config,B=this.trackId,U=this.levels;if(!U){this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+w.sn+" of level "+w.level+" will not be buffered");return}var j=U[B];console.assert(j,"Audio track is defined on fragment load progress");var K=j.details;console.assert(K,"Audio track details are defined on fragment load progress");var G=$.defaultAudioCodec||j.audioCodec||"mp4a.40.2",W=this.transmuxer;W||(W=this.transmuxer=new p.default(this.hls,x.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var V=this.initPTS[w.cc],Y=(k=w.initSegment)===null||k===void 0?void 0:k.data;if(V!==void 0){var X=!1,q=M?M.index:-1,Q=q!==-1,te=new h.ChunkMetadata(w.level,w.sn,w.stats.chunkCount,N.byteLength,q,Q);W.push(N,Y,G,"",w,M,K.totalduration,X,te,V)}else{this.log("Unknown video PTS for cc "+w.cc+", waiting for video PTS before demuxing audio frag "+w.sn+" of ["+K.startSN+" ,"+K.endSN+"],track "+B);var re=this.waitingData=this.waitingData||{frag:w,part:M,cache:new g.default,complete:!1},ne=re.cache;ne.push(new Uint8Array(N)),this.waitingVideoCC=this.videoTrackCC,this.state=c.State.WAITING_INIT_PTS}},R._handleFragmentLoadComplete=function(I){if(this.waitingData){this.waitingData.complete=!0;return}D.prototype._handleFragmentLoadComplete.call(this,I)},R.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},R.onBufferCreated=function(I,k){var w=k.tracks.audio;w&&(this.mediaBuffer=w.buffer||null),k.tracks.video&&(this.videoBuffer=k.tracks.video.buffer||null)},R.onFragBuffered=function(I,k){var w=k.frag,M=k.part;if(w.type!==x.PlaylistLevelType.AUDIO){if(!this.loadedmetadata&&w.type===x.PlaylistLevelType.MAIN){var N;(N=this.videoBuffer||this.media)!==null&&N!==void 0&&N.buffered.length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(w)){this.warn("Fragment "+w.sn+(M?" p: "+M.index:"")+" of level "+w.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);return}w.sn!=="initSegment"&&(this.fragPrevious=w,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(d.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(w,M)},R.onError=function(I,k){if(k.type===y.ErrorTypes.KEY_SYSTEM_ERROR){this.onFragmentOrKeyLoadError(x.PlaylistLevelType.AUDIO,k);return}switch(k.details){case y.ErrorDetails.FRAG_LOAD_ERROR:case y.ErrorDetails.FRAG_LOAD_TIMEOUT:case y.ErrorDetails.FRAG_PARSING_ERROR:case y.ErrorDetails.KEY_LOAD_ERROR:case y.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(x.PlaylistLevelType.AUDIO,k);break;case y.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case y.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==c.State.ERROR&&this.state!==c.State.STOPPED&&(this.state=k.fatal?c.State.ERROR:c.State.IDLE,this.warn(k.details+" while loading frag, switching to "+this.state+" state"));break;case y.ErrorDetails.BUFFER_FULL_ERROR:if(k.parent==="audio"&&(this.state===c.State.PARSING||this.state===c.State.PARSED)){var w=!0,M=this.getFwdBufferInfo(this.mediaBuffer,x.PlaylistLevelType.AUDIO);M&&M.len>.5&&(w=!this.reduceMaxBufferLength(M.len)),w&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,D.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}break}},R.onBufferFlushed=function(I,k){var w=k.type;w===v.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===c.State.ENDED&&(this.state=c.State.IDLE))},R._handleTransmuxComplete=function(I){var k,w="audio",M=this.hls,N=I.remuxResult,$=I.chunkMeta,B=this.getCurrentContext($);if(!B){this.warn("The loading context changed while buffering fragment "+$.sn+" of level "+$.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded($.level);return}var U=B.frag,j=B.part,K=B.level.details,G=N.audio,W=N.text,V=N.id3,Y=N.initSegment;if(!(this.fragContextChanged(U)||!K)){if(this.state=c.State.PARSING,this.audioSwitch&&G&&this.completeAudioSwitch(),Y!=null&&Y.tracks&&(this._bufferInitSegment(Y.tracks,U,$),M.trigger(d.Events.FRAG_PARSING_INIT_SEGMENT,{frag:U,id:w,tracks:Y.tracks})),G){var X=G.startPTS,q=G.endPTS,Q=G.startDTS,te=G.endDTS;j&&(j.elementaryStreams[v.ElementaryStreamTypes.AUDIO]={startPTS:X,endPTS:q,startDTS:Q,endDTS:te}),U.setElementaryStreamInfo(v.ElementaryStreamTypes.AUDIO,X,q,Q,te),this.bufferFragmentData(G,U,j,$)}if(V!=null&&(k=V.samples)!==null&&k!==void 0&&k.length){var re=E({id:w,frag:U,details:K},V);M.trigger(d.Events.FRAG_PARSING_METADATA,re)}if(W){var ne=E({id:w,frag:U,details:K},W);M.trigger(d.Events.FRAG_PARSING_USERDATA,ne)}}},R._bufferInitSegment=function(I,k,w){if(this.state===c.State.PARSING){I.video&&delete I.video;var M=I.audio;if(M){M.levelCodec=M.codec,M.id="audio",this.log("Init audio buffer, container:"+M.container+", codecs[parsed]=["+M.codec+"]"),this.hls.trigger(d.Events.BUFFER_CODECS,I);var N=M.initSegment;if(N!=null&&N.byteLength){var $={type:"audio",frag:k,part:null,chunkMeta:w,parent:k.type,data:N};this.hls.trigger(d.Events.BUFFER_APPENDING,$)}this.tick()}}},R.loadFragment=function(I,k,w){var M=this.fragmentTracker.getState(I);this.fragCurrent=I,(this.audioSwitch||M===m.FragmentState.NOT_LOADED||M===m.FragmentState.PARTIAL)&&(I.sn==="initSegment"?this._loadInitSegment(I,k):k.live&&!(0,u.isFiniteNumber)(this.initPTS[I.cc])?(this.log("Waiting for video PTS in continuity counter "+I.cc+" of live stream before loading audio fragment "+I.sn+" of level "+this.trackId),this.state=c.State.WAITING_INIT_PTS):(this.startFragRequested=!0,D.prototype.loadFragment.call(this,I,k,w)))},R.completeAudioSwitch=function(){var I=this.hls,k=this.media,w=this.trackId;k&&(this.log("Switching audio track : flushing all audio"),D.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,I.trigger(d.Events.AUDIO_TRACK_SWITCHED,{id:w})},F}(c.default);const C=P},"./src/controller/audio-track-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>S});var u=l("./src/events.ts"),c=l("./src/errors.ts"),d=l("./src/controller/base-playlist-controller.ts"),f=l("./src/types/loader.ts");function m(O,y){for(var E=0;E<y.length;E++){var b=y[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,x(b.key),b)}}function _(O,y,E){return y&&m(O.prototype,y),E&&m(O,E),Object.defineProperty(O,"prototype",{writable:!1}),O}function x(O){var y=v(O,"string");return typeof y=="symbol"?y:String(y)}function v(O,y){if(typeof O!="object"||O===null)return O;var E=O[Symbol.toPrimitive];if(E!==void 0){var b=E.call(O,y||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(O)}function g(O,y){O.prototype=Object.create(y.prototype),O.prototype.constructor=O,p(O,y)}function p(O,y){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,T){return b.__proto__=T,b},p(O,y)}var h=function(O){g(y,O);function y(b){var T;return T=O.call(this,b,"[audio-track-controller]")||this,T.tracks=[],T.groupId=null,T.tracksInGroup=[],T.trackId=-1,T.trackName="",T.selectDefaultTrack=!0,T.registerListeners(),T}var E=y.prototype;return E.registerListeners=function(){var T=this.hls;T.on(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.on(u.Events.LEVEL_LOADING,this.onLevelLoading,this),T.on(u.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),T.on(u.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.on(u.Events.ERROR,this.onError,this)},E.unregisterListeners=function(){var T=this.hls;T.off(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),T.off(u.Events.LEVEL_LOADING,this.onLevelLoading,this),T.off(u.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),T.off(u.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),T.off(u.Events.ERROR,this.onError,this)},E.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,O.prototype.destroy.call(this)},E.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},E.onManifestParsed=function(T,A){this.tracks=A.audioTracks||[]},E.onAudioTrackLoaded=function(T,A){var P=A.id,C=A.details,D=this.tracksInGroup[P];if(!D){this.warn("Invalid audio track id "+P);return}var F=D.details;D.details=A.details,this.log("audioTrack "+P+" loaded ["+C.startSN+"-"+C.endSN+"]"),P===this.trackId&&(this.retryCount=0,this.playlistLoaded(P,A,F))},E.onLevelLoading=function(T,A){this.switchLevel(A.level)},E.onLevelSwitching=function(T,A){this.switchLevel(A.level)},E.switchLevel=function(T){var A=this.hls.levels[T];if(A!=null&&A.audioGroupIds){var P=A.audioGroupIds[A.urlId];if(this.groupId!==P){this.groupId=P;var C=this.tracks.filter(function(F){return!P||F.groupId===P});this.selectDefaultTrack&&!C.some(function(F){return F.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=C;var D={audioTracks:C};this.log("Updating audio tracks, "+C.length+' track(s) found in "'+P+'" group-id'),this.hls.trigger(u.Events.AUDIO_TRACKS_UPDATED,D),this.selectInitialTrack()}}},E.onError=function(T,A){O.prototype.onError.call(this,T,A),!(A.fatal||!A.context)&&A.context.type===f.PlaylistContextType.AUDIO_TRACK&&A.context.id===this.trackId&&A.context.groupId===this.groupId&&this.retryLoadingOrFail(A)},E.setAudioTrack=function(T){var A=this.tracksInGroup;if(T<0||T>=A.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();var P=A[this.trackId];this.log("Now switching to audio-track index "+T);var C=A[T],D=C.id,F=C.groupId,R=F===void 0?"":F,L=C.name,I=C.type,k=C.url;if(this.trackId=T,this.trackName=L,this.selectDefaultTrack=!1,this.hls.trigger(u.Events.AUDIO_TRACK_SWITCHING,{id:D,groupId:R,name:L,type:I,url:k}),!(C.details&&!C.details.live)){var w=this.switchParams(C.url,P==null?void 0:P.details);this.loadPlaylist(w)}},E.selectInitialTrack=function(){var T=this.tracksInGroup;console.assert(T.length,"Initial audio track should be selected when tracks are known");var A=this.trackName,P=this.findTrackId(A)||this.findTrackId();P!==-1?this.setAudioTrack(P):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(u.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},E.findTrackId=function(T){for(var A=this.tracksInGroup,P=0;P<A.length;P++){var C=A[P];if((!this.selectDefaultTrack||C.default)&&(!T||T===C.name))return C.id}return-1},E.loadPlaylist=function(T){O.prototype.loadPlaylist.call(this);var A=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(A)){var P=A.id,C=A.groupId,D=A.url;if(T)try{D=T.addDirectives(D)}catch(F){this.warn("Could not construct new URL with HLS Delivery Directives: "+F)}this.log("loading audio-track playlist for id: "+P),this.clearTimer(),this.hls.trigger(u.Events.AUDIO_TRACK_LOADING,{url:D,id:P,groupId:C,deliveryDirectives:T||null})}},_(y,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(T){this.selectDefaultTrack=!1,this.setAudioTrack(T)}}]),y}(d.default);const S=h},"./src/controller/base-playlist-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>m});var u=l("./src/types/level.ts"),c=l("./src/controller/level-helper.ts"),d=l("./src/utils/logger.ts"),f=l("./src/errors.ts"),m=function(){function _(v,g){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=d.logger.log.bind(d.logger,g+":"),this.warn=d.logger.warn.bind(d.logger,g+":"),this.hls=v}var x=_.prototype;return x.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},x.onError=function(g,p){p.fatal&&(p.type===f.ErrorTypes.NETWORK_ERROR||p.type===f.ErrorTypes.KEY_SYSTEM_ERROR)&&this.stopLoad()},x.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},x.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},x.stopLoad=function(){this.canLoad=!1,this.clearTimer()},x.switchParams=function(g,p){var h=p==null?void 0:p.renditionReports;if(h)for(var S=0;S<h.length;S++){var O=h[S],y=void 0;try{y=new self.URL(O.URI,p.url).href}catch(A){d.logger.warn("Could not construct new URL for Rendition Report: "+A),y=O.URI||""}if(y===g.slice(-y.length)){var E=parseInt(O["LAST-MSN"])||(p==null?void 0:p.lastPartSn),b=parseInt(O["LAST-PART"])||(p==null?void 0:p.lastPartIndex);if(this.hls.config.lowLatencyMode){var T=Math.min(p.age-p.partTarget,p.targetduration);b>=0&&T>p.partTarget&&(b+=1)}return new u.HlsUrlParameters(E,b>=0?b:void 0,u.HlsSkip.No)}}},x.loadPlaylist=function(g){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},x.shouldLoadTrack=function(g){return this.canLoad&&g&&!!g.url&&(!g.details||g.details.live)},x.playlistLoaded=function(g,p,h){var S=this,O=p.details,y=p.stats,E=self.performance.now(),b=y.loading.first?Math.max(0,E-y.loading.first):0;if(O.advancedDateTime=Date.now()-b,O.live||h!=null&&h.live){if(O.reloaded(h),h&&this.log("live playlist "+g+" "+(O.advanced?"REFRESHED "+O.lastPartSn+"-"+O.lastPartIndex:"MISSED")),h&&O.fragments.length>0&&(0,c.mergeDetails)(h,O),!this.canLoad||!O.live)return;var T,A=void 0,P=void 0;if(O.canBlockReload&&O.endSN&&O.advanced){var C=this.hls.config.lowLatencyMode,D=O.lastPartSn,F=O.endSN,R=O.lastPartIndex,L=R!==-1,I=D===F,k=C?0:R;L?(A=I?F+1:D,P=I?k:R+1):A=F+1;var w=O.age,M=w+O.ageHeader,N=Math.min(M-O.partTarget,O.targetduration*1.5);if(N>0){if(h&&N>h.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+h.tuneInGoal+" to: "+N+" with playlist age: "+O.age),N=0;else{var $=Math.floor(N/O.targetduration);if(A+=$,P!==void 0){var B=Math.round(N%O.targetduration/O.partTarget);P+=B}this.log("CDN Tune-in age: "+O.ageHeader+"s last advanced "+w.toFixed(2)+"s goal: "+N+" skip sn "+$+" to part "+P)}O.tuneInGoal=N}if(T=this.getDeliveryDirectives(O,p.deliveryDirectives,A,P),C||!I){this.loadPlaylist(T);return}}else T=this.getDeliveryDirectives(O,p.deliveryDirectives,A,P);var U=this.hls.mainForwardBufferInfo,j=U?U.end-U.len:0,K=(O.edge-j)*1e3,G=(0,c.computeReloadInterval)(O,K);O.updated?E>this.requestScheduled+G&&(this.requestScheduled=y.loading.start):this.requestScheduled=-1,A!==void 0&&O.canBlockReload?this.requestScheduled=y.loading.first+G-(O.partTarget*1e3||1e3):this.requestScheduled=(this.requestScheduled===-1?E:this.requestScheduled)+G;var W=this.requestScheduled-E;W=Math.max(0,W),this.log("reload live playlist "+g+" in "+Math.round(W)+" ms"),this.timer=self.setTimeout(function(){return S.loadPlaylist(T)},W)}else this.clearTimer()},x.getDeliveryDirectives=function(g,p,h,S){var O=(0,u.getSkipValue)(g,h);return p!=null&&p.skip&&g.deltaUpdateFailed&&(h=p.msn,S=p.part,O=u.HlsSkip.No),new u.HlsUrlParameters(h,S,O)},x.retryLoadingOrFail=function(g){var p=this,h=this.hls.config,S=this.retryCount<h.levelLoadingMaxRetry;if(S){var O;if(this.requestScheduled=-1,this.retryCount++,g.details.indexOf("LoadTimeOut")>-1&&(O=g.context)!==null&&O!==void 0&&O.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+g.details+'"'),this.loadPlaylist();else{var y=Math.min(Math.pow(2,this.retryCount)*h.levelLoadingRetryDelay,h.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return p.loadPlaylist()},y),this.warn("retry playlist loading #"+this.retryCount+" in "+y+' ms after "'+g.details+'"')}}else this.warn('cannot recover from error "'+g.details+'"'),this.clearTimer(),g.fatal=!0;return S},_}()},"./src/controller/base-stream-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{State:()=>L,default:()=>I});var u=l("./src/polyfills/number.ts"),c=l("./src/task-loop.ts"),d=l("./src/controller/fragment-tracker.ts"),f=l("./src/utils/buffer-helper.ts"),m=l("./src/utils/logger.ts"),_=l("./src/events.ts"),x=l("./src/errors.ts"),v=l("./src/types/transmuxer.ts"),g=l("./src/utils/mp4-tools.ts"),p=l("./src/utils/discontinuities.ts"),h=l("./src/controller/fragment-finders.ts"),S=l("./src/controller/level-helper.ts"),O=l("./src/loader/fragment-loader.ts"),y=l("./src/crypt/decrypter.ts"),E=l("./src/utils/time-ranges.ts"),b=l("./src/types/loader.ts");function T(k,w){for(var M=0;M<w.length;M++){var N=w[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,P(N.key),N)}}function A(k,w,M){return w&&T(k.prototype,w),M&&T(k,M),Object.defineProperty(k,"prototype",{writable:!1}),k}function P(k){var w=C(k,"string");return typeof w=="symbol"?w:String(w)}function C(k,w){if(typeof k!="object"||k===null)return k;var M=k[Symbol.toPrimitive];if(M!==void 0){var N=M.call(k,w||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function F(k,w){k.prototype=Object.create(w.prototype),k.prototype.constructor=k,R(k,w)}function R(k,w){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,$){return N.__proto__=$,N},R(k,w)}var L={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},I=function(k){F(w,k);function w(N,$,B,U){var j;return j=k.call(this)||this,j.hls=void 0,j.fragPrevious=null,j.fragCurrent=null,j.fragmentTracker=void 0,j.transmuxer=null,j._state=L.STOPPED,j.media=null,j.mediaBuffer=null,j.config=void 0,j.bitrateTest=!1,j.lastCurrentTime=0,j.nextLoadPosition=0,j.startPosition=0,j.loadedmetadata=!1,j.fragLoadError=0,j.retryDate=0,j.levels=null,j.fragmentLoader=void 0,j.keyLoader=void 0,j.levelLastLoaded=null,j.startFragRequested=!1,j.decrypter=void 0,j.initPTS=[],j.onvseeking=null,j.onvended=null,j.logPrefix="",j.log=void 0,j.warn=void 0,j.logPrefix=U,j.log=m.logger.log.bind(m.logger,U+":"),j.warn=m.logger.warn.bind(m.logger,U+":"),j.hls=N,j.fragmentLoader=new O.default(N.config),j.keyLoader=B,j.fragmentTracker=$,j.config=N.config,j.decrypter=new y.default(N.config),N.on(_.Events.LEVEL_SWITCHING,j.onLevelSwitching,D(j)),j}var M=w.prototype;return M.doTick=function(){this.onTickEnd()},M.onTickEnd=function(){},M.startLoad=function($){},M.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var $=this.fragCurrent;$&&($.abortRequests(),this.fragmentTracker.removeFragment($)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=L.STOPPED},M._streamEnded=function($,B){if(B.live||$.nextStart||!$.end||!this.media)return!1;var U=B.partList;if(U!=null&&U.length){var j=U[U.length-1],K=f.BufferHelper.isBuffered(this.media,j.start+j.duration/2);return K}var G=B.fragments[B.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(G)},M.getLevelDetails=function(){if(this.levels&&this.levelLastLoaded!==null){var $;return($=this.levels[this.levelLastLoaded])===null||$===void 0?void 0:$.details}},M.onMediaAttached=function($,B){var U=this.media=this.mediaBuffer=B.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),U.addEventListener("seeking",this.onvseeking),U.addEventListener("ended",this.onvended);var j=this.config;this.levels&&j.autoStartLoad&&this.state===L.STOPPED&&this.startLoad(j.startPosition)},M.onMediaDetaching=function(){var $=this.media;$!=null&&$.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),$&&this.onvseeking&&this.onvended&&($.removeEventListener("seeking",this.onvseeking),$.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},M.onMediaSeeking=function(){var $=this.config,B=this.fragCurrent,U=this.media,j=this.mediaBuffer,K=this.state,G=U?U.currentTime:0,W=f.BufferHelper.bufferInfo(j||U,G,$.maxBufferHole);if(this.log("media seeking to "+((0,u.isFiniteNumber)(G)?G.toFixed(3):G)+", state: "+K),this.state===L.ENDED)this.resetLoadingState();else if(B){var V=$.maxFragLookUpTolerance,Y=B.start-V,X=B.start+B.duration+V;if(!W.len||X<W.start||Y>W.end){var q=G>X;(G<Y||q)&&(q&&B.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),B.abortRequests()),this.resetLoadingState())}}U&&(this.lastCurrentTime=G),!this.loadedmetadata&&!W.len&&(this.nextLoadPosition=this.startPosition=G),this.tickImmediate()},M.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},M.onLevelSwitching=function($,B){this.fragLoadError=0},M.onHandlerDestroying=function(){this.stopLoad(),k.prototype.onHandlerDestroying.call(this)},M.onHandlerDestroyed=function(){this.state=L.STOPPED,this.hls.off(_.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,k.prototype.onHandlerDestroyed.call(this)},M.loadFragment=function($,B,U){this._loadFragForPlayback($,B,U)},M._loadFragForPlayback=function($,B,U){var j=this,K=function(W){if(j.fragContextChanged($)){j.warn("Fragment "+$.sn+(W.part?" p: "+W.part.index:"")+" of level "+$.level+" was dropped during download."),j.fragmentTracker.removeFragment($);return}$.stats.chunkCount++,j._handleFragmentLoadProgress(W)};this._doFragLoad($,B,U,K).then(function(G){if(G){j.fragLoadError=0;var W=j.state;if(j.fragContextChanged($)){(W===L.FRAG_LOADING||!j.fragCurrent&&W===L.PARSING)&&(j.fragmentTracker.removeFragment($),j.state=L.IDLE);return}"payload"in G&&(j.log("Loaded fragment "+$.sn+" of level "+$.level),j.hls.trigger(_.Events.FRAG_LOADED,G)),j._handleFragmentLoadComplete(G)}}).catch(function(G){j.state===L.STOPPED||j.state===L.ERROR||(j.warn(G),j.resetFragmentLoading($))})},M.flushMainBuffer=function($,B,U){if(U===void 0&&(U=null),!!($-B)){var j={startOffset:$,endOffset:B,type:U};this.fragLoadError=0,this.hls.trigger(_.Events.BUFFER_FLUSHING,j)}},M._loadInitSegment=function($,B){var U=this;this._doFragLoad($,B).then(function(j){if(!j||U.fragContextChanged($)||!U.levels)throw new Error("init load aborted");return j}).then(function(j){var K=U.hls,G=j.payload,W=$.decryptdata;if(G&&G.byteLength>0&&W&&W.key&&W.iv&&W.method==="AES-128"){var V=self.performance.now();return U.decrypter.decrypt(new Uint8Array(G),W.key.buffer,W.iv.buffer).then(function(Y){var X=self.performance.now();return K.trigger(_.Events.FRAG_DECRYPTED,{frag:$,payload:Y,stats:{tstart:V,tdecrypt:X}}),j.payload=Y,j})}return j}).then(function(j){var K=U.fragCurrent,G=U.hls,W=U.levels;if(!W)throw new Error("init load aborted, missing levels");var V=W[$.level].details;console.assert(V,"Level details are defined when init segment is loaded");var Y=$.stats;U.state=L.IDLE,U.fragLoadError=0,$.data=new Uint8Array(j.payload),Y.parsing.start=Y.buffering.start=self.performance.now(),Y.parsing.end=Y.buffering.end=self.performance.now(),j.frag===K&&G.trigger(_.Events.FRAG_BUFFERED,{stats:Y,frag:K,part:null,id:$.type}),U.tick()}).catch(function(j){U.state===L.STOPPED||U.state===L.ERROR||(U.warn(j),U.resetFragmentLoading($))})},M.fragContextChanged=function($){var B=this.fragCurrent;return!$||!B||$.level!==B.level||$.sn!==B.sn||$.urlId!==B.urlId},M.fragBufferedComplete=function($,B){var U,j,K,G,W=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+$.type+" sn: "+$.sn+(B?" part: "+B.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+$.level+" (frag:["+((U=$.startPTS)!=null?U:NaN).toFixed(3)+"-"+((j=$.endPTS)!=null?j:NaN).toFixed(3)+"] > buffer:"+(W?E.default.toString(f.BufferHelper.getBuffered(W)):"(detached)")+")"),this.state=L.IDLE,W&&(!this.loadedmetadata&&$.type==b.PlaylistLevelType.MAIN&&W.buffered.length&&((K=this.fragCurrent)===null||K===void 0?void 0:K.sn)===((G=this.fragPrevious)===null||G===void 0?void 0:G.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},M.seekToStartPos=function(){},M._handleFragmentLoadComplete=function($){var B=this.transmuxer;if(B){var U=$.frag,j=$.part,K=$.partsLoaded,G=!K||K.length===0||K.some(function(V){return!V}),W=new v.ChunkMetadata(U.level,U.sn,U.stats.chunkCount+1,0,j?j.index:-1,!G);B.flush(W)}},M._handleFragmentLoadProgress=function($){},M._doFragLoad=function($,B,U,j){var K,G=this;if(U===void 0&&(U=null),!this.levels)throw new Error("frag load aborted, missing levels");var W=null;if($.encrypted&&!((K=$.decryptdata)!==null&&K!==void 0&&K.key)?(this.log("Loading key for "+$.sn+" of ["+B.startSN+"-"+B.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+$.level),this.state=L.KEY_LOADING,this.fragCurrent=$,W=this.keyLoader.load($).then(function(Q){if(!G.fragContextChanged(Q.frag))return G.hls.trigger(_.Events.KEY_LOADED,Q),G.state===L.KEY_LOADING&&(G.state=L.IDLE),Q}),this.hls.trigger(_.Events.KEY_LOADING,{frag:$}),this.throwIfFragContextChanged("KEY_LOADING")):!$.encrypted&&B.encryptedFragments.length&&this.keyLoader.loadClear($,B.encryptedFragments),U=Math.max($.start,U||0),this.config.lowLatencyMode&&B){var V=B.partList;if(V&&j){U>$.end&&B.fragmentHint&&($=B.fragmentHint);var Y=this.getNextPart(V,$,U);if(Y>-1){var X=V[Y];return this.log("Loading part sn: "+$.sn+" p: "+X.index+" cc: "+$.cc+" of playlist ["+B.startSN+"-"+B.endSN+"] parts [0-"+Y+"-"+(V.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+$.level+", target: "+parseFloat(U.toFixed(3))),this.nextLoadPosition=X.start+X.duration,this.state=L.FRAG_LOADING,this.hls.trigger(_.Events.FRAG_LOADING,{frag:$,part:V[Y],targetBufferTime:U}),this.throwIfFragContextChanged("FRAG_LOADING parts"),W?W.then(function(Q){return!Q||G.fragContextChanged(Q.frag)?null:G.doFragPartsLoad($,V,Y,j)}).catch(function(Q){return G.handleFragLoadError(Q)}):this.doFragPartsLoad($,V,Y,j).catch(function(Q){return G.handleFragLoadError(Q)})}else if(!$.url||this.loadedEndOfParts(V,U))return Promise.resolve(null)}}this.log("Loading fragment "+$.sn+" cc: "+$.cc+" "+(B?"of ["+B.startSN+"-"+B.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+$.level+", target: "+parseFloat(U.toFixed(3))),(0,u.isFiniteNumber)($.sn)&&!this.bitrateTest&&(this.nextLoadPosition=$.start+$.duration),this.state=L.FRAG_LOADING,this.hls.trigger(_.Events.FRAG_LOADING,{frag:$,targetBufferTime:U}),this.throwIfFragContextChanged("FRAG_LOADING");var q=this.config.progressive;return q&&W?W.then(function(Q){return!Q||G.fragContextChanged(Q==null?void 0:Q.frag)?null:G.fragmentLoader.load($,j)}).catch(function(Q){return G.handleFragLoadError(Q)}):Promise.all([this.fragmentLoader.load($,q?j:void 0),W]).then(function(Q){var te=Q[0];return!q&&te&&j&&j(te),te}).catch(function(Q){return G.handleFragLoadError(Q)})},M.throwIfFragContextChanged=function($){if(this.fragCurrent===null)throw new Error("frag load aborted, context changed in "+$)},M.doFragPartsLoad=function($,B,U,j){var K=this;return new Promise(function(G,W){var V=[],Y=function X(q){var Q=B[q];K.fragmentLoader.loadPart($,Q,j).then(function(te){V[Q.index]=te;var re=te.part;K.hls.trigger(_.Events.FRAG_LOADED,te);var ne=B[q+1];if(ne&&ne.fragment===$)X(q+1);else return G({frag:$,part:re,partsLoaded:V})}).catch(W)};Y(U)})},M.handleFragLoadError=function($){if("data"in $){var B=$.data;$.data&&B.details===x.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(B.frag,B.part):this.hls.trigger(_.Events.ERROR,B)}else this.hls.trigger(_.Events.ERROR,{type:x.ErrorTypes.OTHER_ERROR,details:x.ErrorDetails.INTERNAL_EXCEPTION,err:$,fatal:!0});return null},M._handleTransmuxerFlush=function($){var B=this.getCurrentContext($);if(!B||this.state!==L.PARSING){!this.fragCurrent&&this.state!==L.STOPPED&&this.state!==L.ERROR&&(this.state=L.IDLE);return}var U=B.frag,j=B.part,K=B.level,G=self.performance.now();U.stats.parsing.end=G,j&&(j.stats.parsing.end=G),this.updateLevelTiming(U,j,K,$.partial)},M.getCurrentContext=function($){var B=this.levels,U=$.level,j=$.sn,K=$.part;if(!B||!B[U])return this.warn("Levels object was unset while buffering fragment "+j+" of level "+U+". The current chunk will not be buffered."),null;var G=B[U],W=K>-1?(0,S.getPartWith)(G,j,K):null,V=W?W.fragment:(0,S.getFragmentWithSN)(G,j,this.fragCurrent);return V?{frag:V,part:W,level:G}:null},M.bufferFragmentData=function($,B,U,j){if(!(!$||this.state!==L.PARSING)){var K=$.data1,G=$.data2,W=K;if(K&&G&&(W=(0,g.appendUint8Array)(K,G)),!(!W||!W.length)){var V={type:$.type,frag:B,part:U,chunkMeta:j,parent:B.type,data:W};this.hls.trigger(_.Events.BUFFER_APPENDING,V),$.dropped&&$.independent&&!U&&this.flushBufferGap(B)}}},M.flushBufferGap=function($){var B=this.media;if(B){if(!f.BufferHelper.isBuffered(B,B.currentTime)){this.flushMainBuffer(0,$.start);return}var U=B.currentTime,j=f.BufferHelper.bufferInfo(B,U,0),K=$.duration,G=Math.min(this.config.maxFragLookUpTolerance*2,K*.25),W=Math.max(Math.min($.start-G,j.end-G),U+G);$.start-W>G&&this.flushMainBuffer(W,$.start)}},M.getFwdBufferInfo=function($,B){var U=this.config,j=this.getLoadPosition();if(!(0,u.isFiniteNumber)(j))return null;var K=f.BufferHelper.bufferInfo($,j,U.maxBufferHole);if(K.len===0&&K.nextStart!==void 0){var G=this.fragmentTracker.getBufferedFrag(j,B);if(G&&K.nextStart<G.end)return f.BufferHelper.bufferInfo($,j,Math.max(K.nextStart,U.maxBufferHole))}return K},M.getMaxBufferLength=function($){var B=this.config,U;return $?U=Math.max(8*B.maxBufferSize/$,B.maxBufferLength):U=B.maxBufferLength,Math.min(U,B.maxMaxBufferLength)},M.reduceMaxBufferLength=function($){var B=this.config,U=$||B.maxBufferLength;return B.maxMaxBufferLength>=U?(B.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+B.maxMaxBufferLength+"s"),!0):!1},M.getNextFragment=function($,B){var U=B.fragments,j=U.length;if(!j)return null;var K=this.config,G=U[0].start,W;if(B.live){var V=K.initialLiveManifestSize;if(j<V)return this.warn("Not enough fragments to start playback (have: "+j+", need: "+V+")"),null;!B.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(W=this.getInitialLiveFragment(B,U),this.startPosition=W?this.hls.liveSyncPosition||W.start:$)}else $<=G&&(W=U[0]);if(!W){var Y=K.lowLatencyMode?B.partEnd:B.fragmentEnd;W=this.getFragmentAtPosition($,Y,B)}return this.mapToInitFragWhenRequired(W)},M.mapToInitFragWhenRequired=function($){return $!=null&&$.initSegment&&!($!=null&&$.initSegment.data)&&!this.bitrateTest?$.initSegment:$},M.getNextPart=function($,B,U){for(var j=-1,K=!1,G=!0,W=0,V=$.length;W<V;W++){var Y=$[W];if(G=G&&!Y.independent,j>-1&&U<Y.start)break;var X=Y.loaded;X?j=-1:(K||Y.independent||G)&&Y.fragment===B&&(j=W),K=X}return j},M.loadedEndOfParts=function($,B){var U=$[$.length-1];return U&&B>U.start&&U.loaded},M.getInitialLiveFragment=function($,B){var U=this.fragPrevious,j=null;if(U){if($.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+U.programDateTime),j=(0,h.findFragmentByPDT)(B,U.endProgramDateTime,this.config.maxFragLookUpTolerance)),!j){var K=U.sn+1;if(K>=$.startSN&&K<=$.endSN){var G=B[K-$.startSN];U.cc===G.cc&&(j=G,this.log("Live playlist, switching playlist, load frag with next SN: "+j.sn))}j||(j=(0,h.findFragWithCC)(B,U.cc),j&&this.log("Live playlist, switching playlist, load frag with same CC: "+j.sn))}}else{var W=this.hls.liveSyncPosition;W!==null&&(j=this.getFragmentAtPosition(W,this.bitrateTest?$.fragmentEnd:$.edge,$))}return j},M.getFragmentAtPosition=function($,B,U){var j=this.config,K=this.fragPrevious,G=U.fragments,W=U.endSN,V=U.fragmentHint,Y=j.maxFragLookUpTolerance,X=!!(j.lowLatencyMode&&U.partList&&V);X&&V&&!this.bitrateTest&&(G=G.concat(V),W=V.sn);var q;if($<B){var Q=$>B-Y?0:Y;q=(0,h.findFragmentByPTS)(K,G,$,Q)}else q=G[G.length-1];if(q){var te=q.sn-U.startSN;if(this.fragmentTracker.getState(q)===d.FragmentState.OK&&(K=q),K&&q.sn===K.sn&&!X){var re=K&&q.level===K.level;if(re){var ne=G[te+1];q.sn<W&&this.fragmentTracker.getState(ne)!==d.FragmentState.OK?(this.log("SN "+q.sn+" just loaded, load next one: "+ne.sn),q=ne):q=null}}}return q},M.synchronizeToLiveEdge=function($){var B=this.config,U=this.media;if(U){var j=this.hls.liveSyncPosition,K=U.currentTime,G=$.fragments[0].start,W=$.edge,V=K>=G-B.maxFragLookUpTolerance&&K<=W;if(j!==null&&U.duration>j&&(K<j||!V)){var Y=B.liveMaxLatencyDuration!==void 0?B.liveMaxLatencyDuration:B.liveMaxLatencyDurationCount*$.targetduration;(!V&&U.readyState<4||K<W-Y)&&(this.loadedmetadata||(this.nextLoadPosition=j),U.readyState&&(this.warn("Playback: "+K.toFixed(3)+" is located too far from the end of live sliding playlist: "+W+", reset currentTime to : "+j.toFixed(3)),U.currentTime=j))}}},M.alignPlaylists=function($,B){var U=this.levels,j=this.levelLastLoaded,K=this.fragPrevious,G=j!==null?U[j]:null,W=$.fragments.length;if(!W)return this.warn("No fragments in live playlist"),0;var V=$.fragments[0].start,Y=!B,X=$.alignedSliding&&(0,u.isFiniteNumber)(V);if(Y||!X&&!V){(0,p.alignStream)(K,G,$);var q=$.fragments[0].start;return this.log("Live playlist sliding: "+q.toFixed(2)+" start-sn: "+(B?B.startSN:"na")+"->"+$.startSN+" prev-sn: "+(K?K.sn:"na")+" fragments: "+W),q}return V},M.waitForCdnTuneIn=function($){var B=3;return $.live&&$.canBlockReload&&$.partTarget&&$.tuneInGoal>Math.max($.partHoldBack,$.partTarget*B)},M.setStartPosition=function($,B){var U=this.startPosition;if(U<B&&(U=-1),U===-1||this.lastCurrentTime===-1){var j=$.startTimeOffset;(0,u.isFiniteNumber)(j)?(U=B+j,j<0&&(U+=$.totalduration),U=Math.min(Math.max(B,U),B+$.totalduration),this.log("Start time offset "+j+" found in playlist, adjust startPosition to "+U),this.startPosition=U):$.live?U=this.hls.liveSyncPosition||B:this.startPosition=U=0,this.lastCurrentTime=U}this.nextLoadPosition=U},M.getLoadPosition=function(){var $=this.media,B=0;return this.loadedmetadata&&$?B=$.currentTime:this.nextLoadPosition&&(B=this.nextLoadPosition),B},M.handleFragLoadAborted=function($,B){this.transmuxer&&$.sn!=="initSegment"&&$.stats.aborted&&(this.warn("Fragment "+$.sn+(B?" part"+B.index:"")+" of level "+$.level+" was aborted"),this.resetFragmentLoading($))},M.resetFragmentLoading=function($){(!this.fragCurrent||!this.fragContextChanged($)&&this.state!==L.FRAG_LOADING_WAITING_RETRY)&&(this.state=L.IDLE)},M.onFragmentOrKeyLoadError=function($,B){if(B.fatal){this.stopLoad(),this.state=L.ERROR;return}var U=this.config;if(B.chunkMeta){var j=this.getCurrentContext(B.chunkMeta);j&&(B.frag=j.frag,B.levelRetry=!0,this.fragLoadError=U.fragLoadingMaxRetry)}var K=B.frag;if(!(!K||K.type!==$)){var G=this.fragCurrent;if(console.assert(G&&K.sn===G.sn&&K.level===G.level&&K.urlId===G.urlId,"Frag load error must match current frag to retry"),this.fragLoadError+1<=U.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var W=Math.min(Math.pow(2,this.fragLoadError)*U.fragLoadingRetryDelay,U.fragLoadingMaxRetryTimeout);this.warn("Fragment "+K.sn+" of "+$+" "+K.level+" failed to load, retrying in "+W+"ms"),this.retryDate=self.performance.now()+W,this.fragLoadError++,this.state=L.FRAG_LOADING_WAITING_RETRY}else B.levelRetry?($===b.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=L.IDLE):(m.logger.error(B.details+" reaches max retry, redispatch as fatal ..."),B.fatal=!0,this.hls.stopLoad(),this.state=L.ERROR)}},M.afterBufferFlushed=function($,B,U){if($){var j=f.BufferHelper.getBuffered($);this.fragmentTracker.detectEvictedFragments(B,j,U),this.state===L.ENDED&&this.resetLoadingState()}},M.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=L.IDLE},M.resetStartWhenNotLoaded=function($){if(!this.loadedmetadata){this.startFragRequested=!1;var B=this.levels?this.levels[$].details:null;B!=null&&B.live?(this.startPosition=-1,this.setStartPosition(B,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},M.updateLevelTiming=function($,B,U,j){var K=this,G=U.details;console.assert(!!G,"level.details must be defined");var W=Object.keys($.elementaryStreams).reduce(function(V,Y){var X=$.elementaryStreams[Y];if(X){var q=X.endPTS-X.startPTS;if(q<=0)return K.warn("Could not parse fragment "+$.sn+" "+Y+" duration reliably ("+q+")"),V||!1;var Q=j?0:(0,S.updateFragPTSDTS)(G,$,X.startPTS,X.endPTS,X.startDTS,X.endDTS);return K.hls.trigger(_.Events.LEVEL_PTS_UPDATED,{details:G,level:U,drift:Q,type:Y,frag:$,start:X.startPTS,end:X.endPTS}),!0}return V},!1);W||(this.warn("Found no media in fragment "+$.sn+" of level "+U.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=L.PARSED,this.hls.trigger(_.Events.FRAG_PARSED,{frag:$,part:B})},M.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},A(w,[{key:"state",get:function(){return this._state},set:function($){var B=this._state;B!==$&&(this._state=$,this.log(B+"->"+$))}}]),w}(c.default)},"./src/controller/buffer-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>h});var u=l("./src/polyfills/number.ts"),c=l("./src/events.ts"),d=l("./src/utils/logger.ts"),f=l("./src/errors.ts"),m=l("./src/utils/buffer-helper.ts"),_=l("./src/utils/mediasource-helper.ts"),x=l("./src/loader/fragment.ts"),v=l("./src/controller/buffer-operation-queue.ts"),g=(0,_.getMediaSource)(),p=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function S(y){var E=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var b=E.media,T=E.mediaSource;d.logger.log("[buffer-controller]: Media source opened"),b&&(b.removeEventListener("emptied",E._onMediaEmptied),E.updateMediaElementDuration(),E.hls.trigger(c.Events.MEDIA_ATTACHED,{media:b})),T&&T.removeEventListener("sourceopen",E._onMediaSourceOpen),E.checkPendingTracks()},this._onMediaSourceClose=function(){d.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){d.logger.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var b=E.media,T=E._objectUrl;b&&b.src!==T&&d.logger.error("Media element src was set while attaching MediaSource ("+T+" > "+b.src+")")},this.hls=y,this._initSourceBuffer(),this.registerListeners()}var O=S.prototype;return O.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},O.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},O.registerListeners=function(){var E=this.hls;E.on(c.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),E.on(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.on(c.Events.MANIFEST_PARSED,this.onManifestParsed,this),E.on(c.Events.BUFFER_RESET,this.onBufferReset,this),E.on(c.Events.BUFFER_APPENDING,this.onBufferAppending,this),E.on(c.Events.BUFFER_CODECS,this.onBufferCodecs,this),E.on(c.Events.BUFFER_EOS,this.onBufferEos,this),E.on(c.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),E.on(c.Events.LEVEL_UPDATED,this.onLevelUpdated,this),E.on(c.Events.FRAG_PARSED,this.onFragParsed,this),E.on(c.Events.FRAG_CHANGED,this.onFragChanged,this)},O.unregisterListeners=function(){var E=this.hls;E.off(c.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),E.off(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),E.off(c.Events.MANIFEST_PARSED,this.onManifestParsed,this),E.off(c.Events.BUFFER_RESET,this.onBufferReset,this),E.off(c.Events.BUFFER_APPENDING,this.onBufferAppending,this),E.off(c.Events.BUFFER_CODECS,this.onBufferCodecs,this),E.off(c.Events.BUFFER_EOS,this.onBufferEos,this),E.off(c.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),E.off(c.Events.LEVEL_UPDATED,this.onLevelUpdated,this),E.off(c.Events.FRAG_PARSED,this.onFragParsed,this),E.off(c.Events.FRAG_CHANGED,this.onFragChanged,this)},O._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new v.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},O.onManifestParsed=function(E,b){var T=2;(b.audio&&!b.video||!b.altAudio)&&(T=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=T,this.details=null,d.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},O.onMediaAttaching=function(E,b){var T=this.media=b.media;if(T&&g){var A=this.mediaSource=new g;A.addEventListener("sourceopen",this._onMediaSourceOpen),A.addEventListener("sourceended",this._onMediaSourceEnded),A.addEventListener("sourceclose",this._onMediaSourceClose),T.src=self.URL.createObjectURL(A),this._objectUrl=T.src,T.addEventListener("emptied",this._onMediaEmptied)}},O.onMediaDetaching=function(){var E=this.media,b=this.mediaSource,T=this._objectUrl;if(b){if(d.logger.log("[buffer-controller]: media source detaching"),b.readyState==="open")try{b.endOfStream()}catch(A){d.logger.warn("[buffer-controller]: onMediaDetaching: "+A.message+" while calling endOfStream")}this.onBufferReset(),b.removeEventListener("sourceopen",this._onMediaSourceOpen),b.removeEventListener("sourceended",this._onMediaSourceEnded),b.removeEventListener("sourceclose",this._onMediaSourceClose),E&&(E.removeEventListener("emptied",this._onMediaEmptied),T&&self.URL.revokeObjectURL(T),E.src===T?(E.removeAttribute("src"),E.load()):d.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(c.Events.MEDIA_DETACHED,void 0)},O.onBufferReset=function(){var E=this;this.getSourceBufferTypes().forEach(function(b){var T=E.sourceBuffer[b];try{T&&(E.removeBufferListeners(b),E.mediaSource&&E.mediaSource.removeSourceBuffer(T),E.sourceBuffer[b]=void 0)}catch(A){d.logger.warn("[buffer-controller]: Failed to reset the "+b+" buffer",A)}}),this._initSourceBuffer()},O.onBufferCodecs=function(E,b){var T=this,A=this.getSourceBufferTypes().length;Object.keys(b).forEach(function(P){if(A){var C=T.tracks[P];if(C&&typeof C.buffer.changeType=="function"){var D=b[P],F=D.id,R=D.codec,L=D.levelCodec,I=D.container,k=D.metadata,w=(C.levelCodec||C.codec).replace(p,"$1"),M=(L||R).replace(p,"$1");if(w!==M){var N=I+";codecs="+(L||R);T.appendChangeType(P,N),d.logger.log("[buffer-controller]: switching codec "+w+" to "+M),T.tracks[P]={buffer:C.buffer,codec:R,container:I,levelCodec:L,metadata:k,id:F}}}}else T.pendingTracks[P]=b[P]}),!A&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},O.appendChangeType=function(E,b){var T=this,A=this.operationQueue,P={execute:function(){var D=T.sourceBuffer[E];D&&(d.logger.log("[buffer-controller]: changing "+E+" sourceBuffer type to "+b),D.changeType(b)),A.shiftAndExecuteNext(E)},onStart:function(){},onComplete:function(){},onError:function(D){d.logger.warn("[buffer-controller]: Failed to change "+E+" SourceBuffer type",D)}};A.append(P,E)},O.onBufferAppending=function(E,b){var T=this,A=this.hls,P=this.operationQueue,C=this.tracks,D=b.data,F=b.type,R=b.frag,L=b.part,I=b.chunkMeta,k=I.buffering[F],w=self.performance.now();k.start=w;var M=R.stats.buffering,N=L?L.stats.buffering:null;M.start===0&&(M.start=w),N&&N.start===0&&(N.start=w);var $=C.audio,B=!1;F==="audio"&&($==null?void 0:$.container)==="audio/mpeg"&&(B=!this.lastMpegAudioChunk||I.id===1||this.lastMpegAudioChunk.sn!==I.sn,this.lastMpegAudioChunk=I);var U=R.start,j={execute:function(){if(k.executeStart=self.performance.now(),B){var G=T.sourceBuffer[F];if(G){var W=U-G.timestampOffset;Math.abs(W)>=.1&&(d.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+U+" (delta: "+W+") sn: "+R.sn+")"),G.timestampOffset=U)}}T.appendExecutor(D,F)},onStart:function(){},onComplete:function(){var G=self.performance.now();k.executeEnd=k.end=G,M.first===0&&(M.first=G),N&&N.first===0&&(N.first=G);var W=T.sourceBuffer,V={};for(var Y in W)V[Y]=m.BufferHelper.getBuffered(W[Y]);T.appendError=0,T.hls.trigger(c.Events.BUFFER_APPENDED,{type:F,frag:R,part:L,chunkMeta:I,parent:R.type,timeRanges:V})},onError:function(G){d.logger.error("[buffer-controller]: Error encountered while trying to append to the "+F+" SourceBuffer",G);var W={type:f.ErrorTypes.MEDIA_ERROR,parent:R.type,details:f.ErrorDetails.BUFFER_APPEND_ERROR,err:G,fatal:!1};G.code===DOMException.QUOTA_EXCEEDED_ERR?W.details=f.ErrorDetails.BUFFER_FULL_ERROR:(T.appendError++,W.details=f.ErrorDetails.BUFFER_APPEND_ERROR,T.appendError>A.config.appendErrorMaxRetry&&(d.logger.error("[buffer-controller]: Failed "+A.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),W.fatal=!0,A.stopLoad())),A.trigger(c.Events.ERROR,W)}};P.append(j,F)},O.onBufferFlushing=function(E,b){var T=this,A=this.operationQueue,P=function(D){return{execute:T.removeExecutor.bind(T,D,b.startOffset,b.endOffset),onStart:function(){},onComplete:function(){T.hls.trigger(c.Events.BUFFER_FLUSHED,{type:D})},onError:function(R){d.logger.warn("[buffer-controller]: Failed to remove from "+D+" SourceBuffer",R)}}};b.type?A.append(P(b.type),b.type):this.getSourceBufferTypes().forEach(function(C){A.append(P(C),C)})},O.onFragParsed=function(E,b){var T=this,A=b.frag,P=b.part,C=[],D=P?P.elementaryStreams:A.elementaryStreams;D[x.ElementaryStreamTypes.AUDIOVIDEO]?C.push("audiovideo"):(D[x.ElementaryStreamTypes.AUDIO]&&C.push("audio"),D[x.ElementaryStreamTypes.VIDEO]&&C.push("video"));var F=function(){var L=self.performance.now();A.stats.buffering.end=L,P&&(P.stats.buffering.end=L);var I=P?P.stats:A.stats;T.hls.trigger(c.Events.FRAG_BUFFERED,{frag:A,part:P,stats:I,id:A.type})};C.length===0&&d.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+A.type+" level: "+A.level+" sn: "+A.sn),this.blockBuffers(F,C)},O.onFragChanged=function(E,b){this.flushBackBuffer()},O.onBufferEos=function(E,b){var T=this,A=this.getSourceBufferTypes().reduce(function(P,C){var D=T.sourceBuffer[C];return D&&(!b.type||b.type===C)&&(D.ending=!0,D.ended||(D.ended=!0,d.logger.log("[buffer-controller]: "+C+" sourceBuffer now EOS"))),P&&!!(!D||D.ended)},!0);A&&(d.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){T.getSourceBufferTypes().forEach(function(C){var D=T.sourceBuffer[C];D&&(D.ending=!1)});var P=T.mediaSource;if(!P||P.readyState!=="open"){P&&d.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+P.readyState);return}d.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),P.endOfStream()}))},O.onLevelUpdated=function(E,b){var T=b.details;T.fragments.length&&(this.details=T,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},O.flushBackBuffer=function(){var E=this.hls,b=this.details,T=this.media,A=this.sourceBuffer;if(!(!T||b===null)){var P=this.getSourceBufferTypes();if(P.length){var C=b.live&&E.config.liveBackBufferLength!==null?E.config.liveBackBufferLength:E.config.backBufferLength;if(!(!(0,u.isFiniteNumber)(C)||C<0)){var D=T.currentTime,F=b.levelTargetDuration,R=Math.max(C,F),L=Math.floor(D/F)*F-R;P.forEach(function(I){var k=A[I];if(k){var w=m.BufferHelper.getBuffered(k);if(w.length>0&&L>w.start(0)){if(E.trigger(c.Events.BACK_BUFFER_REACHED,{bufferEnd:L}),b.live)E.trigger(c.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:L});else if(k.ended&&w.end(w.length-1)-D<F*2){d.logger.info("[buffer-controller]: Cannot flush "+I+" back buffer while SourceBuffer is in ended state");return}E.trigger(c.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:L,type:I})}}})}}}},O.updateMediaElementDuration=function(){if(!(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")){var E=this.details,b=this.hls,T=this.media,A=this.mediaSource,P=E.fragments[0].start+E.totalduration,C=T.duration,D=(0,u.isFiniteNumber)(A.duration)?A.duration:0;E.live&&b.config.liveDurationInfinity?(d.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),A.duration=1/0,this.updateSeekableRange(E)):(P>D&&P>C||!(0,u.isFiniteNumber)(C))&&(d.logger.log("[buffer-controller]: Updating Media Source duration to "+P.toFixed(3)),A.duration=P)}},O.updateSeekableRange=function(E){var b=this.mediaSource,T=E.fragments,A=T.length;if(A&&E.live&&b!==null&&b!==void 0&&b.setLiveSeekableRange){var P=Math.max(0,T[0].start),C=Math.max(P,P+E.totalduration);b.setLiveSeekableRange(P,C)}},O.checkPendingTracks=function(){var E=this.bufferCodecEventsExpected,b=this.operationQueue,T=this.pendingTracks,A=Object.keys(T).length;if(A&&!E||A===2){this.createSourceBuffers(T),this.pendingTracks={};var P=this.getSourceBufferTypes();if(P.length===0){this.hls.trigger(c.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});return}P.forEach(function(C){b.executeNext(C)})}},O.createSourceBuffers=function(E){var b=this.sourceBuffer,T=this.mediaSource;if(!T)throw Error("createSourceBuffers called when mediaSource was null");var A=0;for(var P in E)if(!b[P]){var C=E[P];if(!C)throw Error("source buffer exists for track "+P+", however track does not");var D=C.levelCodec||C.codec,F=C.container+";codecs="+D;d.logger.log("[buffer-controller]: creating sourceBuffer("+F+")");try{var R=b[P]=T.addSourceBuffer(F),L=P;this.addBufferListener(L,"updatestart",this._onSBUpdateStart),this.addBufferListener(L,"updateend",this._onSBUpdateEnd),this.addBufferListener(L,"error",this._onSBUpdateError),this.tracks[P]={buffer:R,codec:D,container:C.container,levelCodec:C.levelCodec,metadata:C.metadata,id:C.id},A++}catch(I){d.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+I.message),this.hls.trigger(c.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:I,mimeType:F})}}A&&this.hls.trigger(c.Events.BUFFER_CREATED,{tracks:this.tracks})},O._onSBUpdateStart=function(E){var b=this.operationQueue,T=b.current(E);T.onStart()},O._onSBUpdateEnd=function(E){var b=this.operationQueue,T=b.current(E);T.onComplete(),b.shiftAndExecuteNext(E)},O._onSBUpdateError=function(E,b){d.logger.error("[buffer-controller]: "+E+" SourceBuffer error",b),this.hls.trigger(c.Events.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var T=this.operationQueue.current(E);T&&T.onError(b)},O.removeExecutor=function(E,b,T){var A=this.media,P=this.mediaSource,C=this.operationQueue,D=this.sourceBuffer,F=D[E];if(!A||!P||!F){d.logger.warn("[buffer-controller]: Attempting to remove from the "+E+" SourceBuffer, but it does not exist"),C.shiftAndExecuteNext(E);return}var R=(0,u.isFiniteNumber)(A.duration)?A.duration:1/0,L=(0,u.isFiniteNumber)(P.duration)?P.duration:1/0,I=Math.max(0,b),k=Math.min(T,R,L);k>I&&!F.ending?(F.ended=!1,d.logger.log("[buffer-controller]: Removing ["+I+","+k+"] from the "+E+" SourceBuffer"),console.assert(!F.updating,E+" sourceBuffer must not be updating"),F.remove(I,k)):C.shiftAndExecuteNext(E)},O.appendExecutor=function(E,b){var T=this.operationQueue,A=this.sourceBuffer,P=A[b];if(!P){d.logger.warn("[buffer-controller]: Attempting to append to the "+b+" SourceBuffer, but it does not exist"),T.shiftAndExecuteNext(b);return}P.ended=!1,console.assert(!P.updating,b+" sourceBuffer must not be updating"),P.appendBuffer(E)},O.blockBuffers=function(E,b){var T=this;if(b===void 0&&(b=this.getSourceBufferTypes()),!b.length){d.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(E);return}var A=this.operationQueue,P=b.map(function(C){return A.appendBlocker(C)});Promise.all(P).then(function(){E(),b.forEach(function(C){var D=T.sourceBuffer[C];(!D||!D.updating)&&A.shiftAndExecuteNext(C)})})},O.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},O.addBufferListener=function(E,b,T){var A=this.sourceBuffer[E];if(A){var P=T.bind(this,E);this.listeners[E].push({event:b,listener:P}),A.addEventListener(b,P)}},O.removeBufferListeners=function(E){var b=this.sourceBuffer[E];b&&this.listeners[E].forEach(function(T){b.removeEventListener(T.event,T.listener)})},S}()},"./src/controller/buffer-operation-queue.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>c});var u=l("./src/utils/logger.ts"),c=function(){function d(m){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=m}var f=d.prototype;return f.append=function(_,x){var v=this.queues[x];v.push(_),v.length===1&&this.buffers[x]&&this.executeNext(x)},f.insertAbort=function(_,x){var v=this.queues[x];v.unshift(_),this.executeNext(x)},f.appendBlocker=function(_){var x,v=new Promise(function(p){x=p}),g={execute:x,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(g,_),v},f.executeNext=function(_){var x=this.buffers,v=this.queues,g=x[_],p=v[_];if(p.length){var h=p[0];try{h.execute()}catch(S){u.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),h.onError(S),(!g||!g.updating)&&(p.shift(),this.executeNext(_))}}},f.shiftAndExecuteNext=function(_){this.queues[_].shift(),this.executeNext(_)},f.current=function(_){return this.queues[_][0]},d}()},"./src/controller/cap-level-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>x});var u=l("./src/events.ts");function c(v,g){for(var p=0;p<g.length;p++){var h=g[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,f(h.key),h)}}function d(v,g,p){return g&&c(v.prototype,g),p&&c(v,p),Object.defineProperty(v,"prototype",{writable:!1}),v}function f(v){var g=m(v,"string");return typeof g=="symbol"?g:String(g)}function m(v,g){if(typeof v!="object"||v===null)return v;var p=v[Symbol.toPrimitive];if(p!==void 0){var h=p.call(v,g||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(v)}var _=function(){function v(p){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=p,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var g=v.prototype;return g.setStreamController=function(h){this.streamController=h},g.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},g.registerListeners=function(){var h=this.hls;h.on(u.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),h.on(u.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.on(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.on(u.Events.BUFFER_CODECS,this.onBufferCodecs,this),h.on(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},g.unregisterListener=function(){var h=this.hls;h.off(u.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),h.off(u.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),h.off(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),h.off(u.Events.BUFFER_CODECS,this.onBufferCodecs,this),h.off(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},g.onFpsDropLevelCapping=function(h,S){v.isLevelAllowed(S.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(S.droppedLevel)},g.onMediaAttaching=function(h,S){this.media=S.media instanceof HTMLVideoElement?S.media:null,this.clientRect=null},g.onManifestParsed=function(h,S){var O=this.hls;this.restrictedLevels=[],this.firstLevel=S.firstLevel,O.config.capLevelToPlayerSize&&S.video&&this.startCapping()},g.onBufferCodecs=function(h,S){var O=this.hls;O.config.capLevelToPlayerSize&&S.video&&this.startCapping()},g.onMediaDetaching=function(){this.stopCapping()},g.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var h=this.hls.levels;if(h.length){var S=this.hls;S.autoLevelCapping=this.getMaxLevel(h.length-1),S.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=S.autoLevelCapping}}},g.getMaxLevel=function(h){var S=this,O=this.hls.levels;if(!O.length)return-1;var y=O.filter(function(E,b){return v.isLevelAllowed(b,S.restrictedLevels)&&b<=h});return this.clientRect=null,v.getMaxLevelByMediaSize(y,this.mediaWidth,this.mediaHeight)},g.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},g.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},g.getDimensions=function(){if(this.clientRect)return this.clientRect;var h=this.media,S={width:0,height:0};if(h){var O=h.getBoundingClientRect();S.width=O.width,S.height=O.height,!S.width&&!S.height&&(S.width=O.right-O.left||h.width||0,S.height=O.bottom-O.top||h.height||0)}return this.clientRect=S,S},v.isLevelAllowed=function(h,S){return S===void 0&&(S=[]),S.indexOf(h)===-1},v.getMaxLevelByMediaSize=function(h,S,O){if(!h||!h.length)return-1;for(var y=function(P,C){return C?P.width!==C.width||P.height!==C.height:!0},E=h.length-1,b=0;b<h.length;b+=1){var T=h[b];if((T.width>=S||T.height>=O)&&y(T,h[b+1])){E=b;break}}return E},d(v,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var h=1;if(!this.hls.config.ignoreDevicePixelRatio)try{h=self.devicePixelRatio}catch{}return h}}]),v}();const x=_},"./src/controller/cmcd-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>O});var u=l("./src/events.ts"),c=l("./src/types/cmcd.ts"),d=l("./src/utils/buffer-helper.ts"),f=l("./src/utils/logger.ts");function m(y,E){for(var b=0;b<E.length;b++){var T=E[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,x(T.key),T)}}function _(y,E,b){return E&&m(y.prototype,E),b&&m(y,b),Object.defineProperty(y,"prototype",{writable:!1}),y}function x(y){var E=v(y,"string");return typeof E=="symbol"?E:String(E)}function v(y,E){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var T=b.call(y,E||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(y)}function g(y,E){var b=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(b)return(b=b.call(y)).next.bind(b);if(Array.isArray(y)||(b=p(y))||E&&y&&typeof y.length=="number"){b&&(y=b);var T=0;return function(){return T>=y.length?{done:!0}:{done:!1,value:y[T++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(y,E){if(y){if(typeof y=="string")return h(y,E);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return h(y,E)}}function h(y,E){(E==null||E>y.length)&&(E=y.length);for(var b=0,T=new Array(E);b<E;b++)T[b]=y[b];return T}function S(){return S=Object.assign?Object.assign.bind():function(y){for(var E=1;E<arguments.length;E++){var b=arguments[E];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(y[T]=b[T])}return y},S.apply(this,arguments)}var O=function(){function y(b){var T=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){T.initialized&&(T.starved=!0),T.buffering=!0},this.onPlaying=function(){T.initialized||(T.initialized=!0),T.buffering=!1},this.applyPlaylistData=function(C){try{T.apply(C,{ot:c.CMCDObjectType.MANIFEST,su:!T.initialized})}catch(D){f.logger.warn("Could not generate manifest CMCD data.",D)}},this.applyFragmentData=function(C){try{var D=C.frag,F=T.hls.levels[D.level],R=T.getObjectType(D),L={d:D.duration*1e3,ot:R};(R===c.CMCDObjectType.VIDEO||R===c.CMCDObjectType.AUDIO||R==c.CMCDObjectType.MUXED)&&(L.br=F.bitrate/1e3,L.tb=T.getTopBandwidth(R)/1e3,L.bl=T.getBufferLength(R)),T.apply(C,L)}catch(I){f.logger.warn("Could not generate segment CMCD data.",I)}},this.hls=b;var A=this.config=b.config,P=A.cmcd;P!=null&&(A.pLoader=this.createPlaylistLoader(),A.fLoader=this.createFragmentLoader(),this.sid=P.sessionId||y.uuid(),this.cid=P.contentId,this.useHeaders=P.useHeaders===!0,this.registerListeners())}var E=y.prototype;return E.registerListeners=function(){var T=this.hls;T.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(u.Events.MEDIA_DETACHED,this.onMediaDetached,this),T.on(u.Events.BUFFER_CREATED,this.onBufferCreated,this)},E.unregisterListeners=function(){var T=this.hls;T.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(u.Events.MEDIA_DETACHED,this.onMediaDetached,this),T.off(u.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},E.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},E.onMediaAttached=function(T,A){this.media=A.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},E.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},E.onBufferCreated=function(T,A){var P,C;this.audioBuffer=(P=A.tracks.audio)===null||P===void 0?void 0:P.buffer,this.videoBuffer=(C=A.tracks.video)===null||C===void 0?void 0:C.buffer},E.createData=function(){var T;return{v:c.CMCDVersion,sf:c.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(T=this.media)===null||T===void 0?void 0:T.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},E.apply=function(T,A){A===void 0&&(A={}),S(A,this.createData());var P=A.ot===c.CMCDObjectType.INIT||A.ot===c.CMCDObjectType.VIDEO||A.ot===c.CMCDObjectType.MUXED;if(this.starved&&P&&(A.bs=!0,A.su=!0,this.starved=!1),A.su==null&&(A.su=this.buffering),this.useHeaders){var C=y.toHeaders(A);if(!Object.keys(C).length)return;T.headers||(T.headers={}),S(T.headers,C)}else{var D=y.toQuery(A);if(!D)return;T.url=y.appendQueryToUri(T.url,D)}},E.getObjectType=function(T){var A=T.type;if(A==="subtitle")return c.CMCDObjectType.TIMED_TEXT;if(T.sn==="initSegment")return c.CMCDObjectType.INIT;if(A==="audio")return c.CMCDObjectType.AUDIO;if(A==="main")return this.hls.audioTracks.length?c.CMCDObjectType.VIDEO:c.CMCDObjectType.MUXED},E.getTopBandwidth=function(T){var A=0,P,C=this.hls;if(T===c.CMCDObjectType.AUDIO)P=C.audioTracks;else{var D=C.maxAutoLevel,F=D>-1?D+1:C.levels.length;P=C.levels.slice(0,F)}for(var R=g(P),L;!(L=R()).done;){var I=L.value;I.bitrate>A&&(A=I.bitrate)}return A>0?A:NaN},E.getBufferLength=function(T){var A=this.hls.media,P=T===c.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;if(!P||!A)return NaN;var C=d.BufferHelper.bufferInfo(P,A.currentTime,this.config.maxBufferHole);return C.len*1e3},E.createPlaylistLoader=function(){var T=this.config.pLoader,A=this.applyPlaylistData,P=T||this.config.loader;return function(){function C(F){this.loader=void 0,this.loader=new P(F)}var D=C.prototype;return D.destroy=function(){this.loader.destroy()},D.abort=function(){this.loader.abort()},D.load=function(R,L,I){A(R),this.loader.load(R,L,I)},_(C,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),C}()},E.createFragmentLoader=function(){var T=this.config.fLoader,A=this.applyFragmentData,P=T||this.config.loader;return function(){function C(F){this.loader=void 0,this.loader=new P(F)}var D=C.prototype;return D.destroy=function(){this.loader.destroy()},D.abort=function(){this.loader.abort()},D.load=function(R,L,I){A(R),this.loader.load(R,L,I)},_(C,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),C}()},y.uuid=function(){var T=URL.createObjectURL(new Blob),A=T.toString();return URL.revokeObjectURL(T),A.slice(A.lastIndexOf("/")+1)},y.serialize=function(T){for(var A=[],P=function(j){return!Number.isNaN(j)&&j!=null&&j!==""&&j!==!1},C=function(j){return Math.round(j)},D=function(j){return C(j/100)*100},F=function(j){return encodeURIComponent(j)},R={br:C,d:C,bl:D,dl:D,mtp:D,nor:F,rtp:D,tb:C},L=Object.keys(T||{}).sort(),I=g(L),k;!(k=I()).done;){var w=k.value,M=T[w];if(P(M)&&!(w==="v"&&M===1)&&!(w=="pr"&&M===1)){var N=R[w];N&&(M=N(M));var $=typeof M,B=void 0;w==="ot"||w==="sf"||w==="st"?B=w+"="+M:$==="boolean"?B=w:$==="number"?B=w+"="+M:B=w+"="+JSON.stringify(M),A.push(B)}}return A.join(",")},y.toHeaders=function(T){for(var A=Object.keys(T),P={},C=["Object","Request","Session","Status"],D=[{},{},{},{}],F={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},R=0,L=A;R<L.length;R++){var I=L[R],k=F[I]!=null?F[I]:1;D[k][I]=T[I]}for(var w=0;w<D.length;w++){var M=y.serialize(D[w]);M&&(P["CMCD-"+C[w]]=M)}return P},y.toQuery=function(T){return"CMCD="+encodeURIComponent(y.serialize(T))},y.appendQueryToUri=function(T,A){if(!A)return T;var P=T.includes("?")?"&":"?";return""+T+P+A},y}()},"./src/controller/eme-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>R});var u=l("./src/events.ts"),c=l("./src/errors.ts"),d=l("./src/utils/logger.ts"),f=l("./src/utils/mediakeys-helper.ts"),m=l("./src/utils/keysystem-util.ts"),_=l("./src/utils/numeric-encoding-utils.ts"),x=l("./src/loader/level-key.ts"),v=l("./src/utils/hex.ts"),g=l("./src/utils/mp4-tools.ts"),p=l("./node_modules/eventemitter3/index.js"),h=l.n(p);function S(L,I){L.prototype=Object.create(I.prototype),L.prototype.constructor=L,T(L,I)}function O(L){var I=typeof Map=="function"?new Map:void 0;return O=function(w){if(w===null||!b(w))return w;if(typeof w!="function")throw new TypeError("Super expression must either be null or a function");if(typeof I<"u"){if(I.has(w))return I.get(w);I.set(w,M)}function M(){return y(w,arguments,A(this).constructor)}return M.prototype=Object.create(w.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),T(M,w)},O(L)}function y(L,I,k){return E()?y=Reflect.construct.bind():y=function(M,N,$){var B=[null];B.push.apply(B,N);var U=Function.bind.apply(M,B),j=new U;return $&&T(j,$.prototype),j},y.apply(null,arguments)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function T(L,I){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,M){return w.__proto__=M,w},T(L,I)}function A(L){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},A(L)}var P=3,C="[eme]",D=function(){function L(k){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=L.CDMCleanupPromise?[L.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=d.logger.debug.bind(d.logger,C),this.log=d.logger.log.bind(d.logger,C),this.warn=d.logger.warn.bind(d.logger,C),this.error=d.logger.error.bind(d.logger,C),this.hls=k,this.config=k.config,this.registerListeners()}var I=L.prototype;return I.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},I.registerListeners=function(){this.hls.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(u.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(u.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},I.unregisterListeners=function(){this.hls.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(u.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(u.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},I.getLicenseServerUrl=function(w){var M=this.config,N=M.drmSystems,$=M.widevineLicenseUrl,B=N[w];if(B)return B.licenseUrl;if(w===f.KeySystems.WIDEVINE&&$)return $;throw new Error('no license server URL configured for key-system "'+w+'"')},I.getServerCertificateUrl=function(w){var M=this.config.drmSystems,N=M[w];if(N)return N.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+w+'"]')},I.attemptKeySystemAccess=function(w){var M=this,N=this.hls.levels,$=function(K,G,W){return!!K&&W.indexOf(K)===G},B=N.map(function(j){return j.audioCodec}).filter($),U=N.map(function(j){return j.videoCodec}).filter($);return B.length+U.length===0&&U.push("avc1.42e01e"),new Promise(function(j,K){var G=function W(V){var Y=V.shift();M.getMediaKeysPromise(Y,B,U).then(function(X){return j({keySystem:Y,mediaKeys:X})}).catch(function(X){V.length?W(V):X instanceof F?K(X):K(new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:X,fatal:!0},X.message))})};G(w)})},I.requestMediaKeySystemAccess=function(w,M){var N=this.config.requestMediaKeySystemAccessFunc;if(typeof N!="function"){var $="Configured requestMediaKeySystemAccess is not a function "+N;return f.requestMediaKeySystemAccess===null&&self.location.protocol==="http:"&&($="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error($))}return N(w,M)},I.getMediaKeysPromise=function(w,M,N){var $=this,B=(0,f.getSupportedMediaKeySystemConfigurations)(w,M,N,this.config.drmSystemOptions),U=this.keySystemAccessPromises[w],j=U==null?void 0:U.keySystemAccess;if(!j){this.log('Requesting encrypted media "'+w+'" key-system access with config: '+JSON.stringify(B)),j=this.requestMediaKeySystemAccess(w,B);var K=this.keySystemAccessPromises[w]={keySystemAccess:j};return j.catch(function(G){$.log('Failed to obtain access to key-system "'+w+'": '+G)}),j.then(function(G){$.log('Access for key-system "'+G.keySystem+'" obtained');var W=$.fetchServerCertificate(w);return $.log('Create media-keys for "'+w+'"'),K.mediaKeys=G.createMediaKeys().then(function(V){return $.log('Media-keys created for "'+w+'"'),W.then(function(Y){return Y?$.setMediaKeysServerCertificate(V,w,Y):V})}),K.mediaKeys.catch(function(V){$.error('Failed to create media-keys for "'+w+'"}: '+V)}),K.mediaKeys})}return j.then(function(){return U.mediaKeys})},I.createMediaKeySessionContext=function(w){var M=w.decryptdata,N=w.keySystem,$=w.mediaKeys;console.assert(!!$,"mediaKeys is defined"),this.log('Creating key-system session "'+N+'" keyId: '+v.default.hexDump(M.keyId||[]));var B=$.createSession(),U={decryptdata:M,keySystem:N,mediaKeys:$,mediaKeysSession:B,keyStatus:"status-pending"};return this.mediaKeySessions.push(U),U},I.renewKeySession=function(w){var M=w.decryptdata;if(M.pssh){var N=this.createMediaKeySessionContext(w),$=this.getKeyIdString(M),B="cenc";this.keyIdToKeySessionPromise[$]=this.generateRequestWithPreferredKeySession(N,B,M.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(w)},I.getKeyIdString=function(w){if(!w)throw new Error("Could not read keyId of undefined decryptdata");if(w.keyId===null)throw new Error("keyId is null");return v.default.hexDump(w.keyId)},I.updateKeySession=function(w,M){var N,$=w.mediaKeysSession;return this.log('Updating key-session "'+$.sessionId+'" for keyID '+v.default.hexDump(((N=w.decryptdata)===null||N===void 0?void 0:N.keyId)||[])+`
      } (data length: `+(M&&M.byteLength)+")"),$.update(M)},I.selectKeySystemFormat=function(w){var M=Object.keys(w.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+w.sn+" "+w.type+": "+w.level+") key formats "+M.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(M)),this.keyFormatPromise},I.getKeyFormatPromise=function(w){var M=this;return new Promise(function(N,$){var B=(0,f.getKeySystemsForConfig)(M.config),U=w.map(f.keySystemFormatToKeySystemDomain).filter(function(j){return!!j&&B.indexOf(j)!==-1});return M.getKeySystemSelectionPromise(U).then(function(j){var K=j.keySystem,G=(0,f.keySystemDomainToKeySystemFormat)(K);G?N(G):$(new Error('Unable to find format for key-system "'+K+'"'))}).catch($)})},I.loadKey=function(w){var M=this,N=w.keyInfo.decryptdata,$=this.getKeyIdString(N),B="(keyId: "+$+' format: "'+N.keyFormat+'" method: '+N.method+" uri: "+N.uri+")";this.log("Starting session for key "+B);var U=this.keyIdToKeySessionPromise[$];return U||(U=this.keyIdToKeySessionPromise[$]=this.getKeySystemForKeyPromise(N).then(function(j){var K=j.keySystem,G=j.mediaKeys;return M.throwIfDestroyed(),M.log("Handle encrypted media sn: "+w.frag.sn+" "+w.frag.type+": "+w.frag.level+" using key "+B),M.attemptSetMediaKeys(K,G).then(function(){M.throwIfDestroyed();var W=M.createMediaKeySessionContext({keySystem:K,mediaKeys:G,decryptdata:N}),V="cenc";return M.generateRequestWithPreferredKeySession(W,V,N.pssh,"playlist-key")})}),U.catch(function(j){return M.handleError(j)})),U},I.throwIfDestroyed=function(w){if(!this.hls)throw new Error("invalid state")},I.handleError=function(w){this.hls&&(this.error(w.message),w instanceof F?this.hls.trigger(u.Events.ERROR,w.data):this.hls.trigger(u.Events.ERROR,{type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:w,fatal:!0}))},I.getKeySystemForKeyPromise=function(w){var M=this.getKeyIdString(w),N=this.keyIdToKeySessionPromise[M];if(!N){var $=(0,f.keySystemFormatToKeySystemDomain)(w.keyFormat),B=$?[$]:(0,f.getKeySystemsForConfig)(this.config);return this.attemptKeySystemAccess(B)}return N},I.getKeySystemSelectionPromise=function(w){if(w.length||(w=(0,f.getKeySystemsForConfig)(this.config)),w.length===0)throw new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(w)},I._onMediaEncrypted=function(w){var M=this,N=w.initDataType,$=w.initData;if(this.debug('"'+w.type+'" event: init data type: "'+N+'"'),$!==null){var B,U;if(N==="sinf"&&this.config.drmSystems[f.KeySystems.FAIRPLAY]){var j=(0,g.bin2str)(new Uint8Array($));try{var K=(0,_.base64Decode)(JSON.parse(j).sinf),G=(0,g.parseSinf)(new Uint8Array(K));if(!G)return;B=G.subarray(8,24),U=f.KeySystems.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{var W=(0,g.parsePssh)($);if(W===null)return;W.version===0&&W.systemId===f.KeySystemIds.WIDEVINE&&W.data&&(B=W.data.subarray(8,24)),U=(0,f.keySystemIdToKeySystemDomain)(W.systemId)}if(!(!U||!B)){for(var V=v.default.hexDump(B),Y=this.keyIdToKeySessionPromise,X=this.mediaKeySessions,q=Y[V],Q=function(oe){var he=X[oe],fe=he.decryptdata;if(fe.pssh||!fe.keyId)return"continue";var ie=v.default.hexDump(fe.keyId);if(V===ie||fe.uri.replace(/-/g,"").indexOf(V)!==-1)return q=Y[ie],delete Y[ie],fe.pssh=new Uint8Array($),fe.keyId=B,q=Y[V]=q.then(function(){return M.generateRequestWithPreferredKeySession(he,N,$,"encrypted-event-key-match")}),"break"},te=0;te<X.length;te++){var re=Q(te);if(re!=="continue"&&re==="break")break}q||(q=Y[V]=this.getKeySystemSelectionPromise([U]).then(function(ne){var oe,he=ne.keySystem,fe=ne.mediaKeys;M.throwIfDestroyed();var ie=new x.LevelKey("ISO-23001-7",V,(oe=(0,f.keySystemDomainToKeySystemFormat)(he))!=null?oe:"");return ie.pssh=new Uint8Array($),ie.keyId=B,M.attemptSetMediaKeys(he,fe).then(function(){M.throwIfDestroyed();var pe=M.createMediaKeySessionContext({decryptdata:ie,keySystem:he,mediaKeys:fe});return M.generateRequestWithPreferredKeySession(pe,N,$,"encrypted-event-no-match")})})),q.catch(function(ne){return M.handleError(ne)})}}},I._onWaitingForKey=function(w){this.log('"'+w.type+'" event')},I.attemptSetMediaKeys=function(w,M){var N=this,$=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+w+'"');var B=Promise.all($).then(function(){if(!N.media)throw new Error("Attempted to set mediaKeys without media element attached");return N.media.setMediaKeys(M)});return this.setMediaKeysQueue.push(B),B.then(function(){N.log('Media-keys set for "'+w+'"'),$.push(B),N.setMediaKeysQueue=N.setMediaKeysQueue.filter(function(U){return $.indexOf(U)===-1})})},I.generateRequestWithPreferredKeySession=function(w,M,N,$){var B,U,j=this,K=(B=this.config.drmSystems)===null||B===void 0||(U=B[w.keySystem])===null||U===void 0?void 0:U.generateRequest;if(K)try{var G=K.call(this.hls,M,N,w);if(!G)throw new Error("Invalid response from configured generateRequest filter");M=G.initDataType,N=w.decryptdata.pssh=G.initData?new Uint8Array(G.initData):null}catch(q){var W;if(this.warn(q.message),(W=this.hls)!==null&&W!==void 0&&W.config.debug)throw q}if(N===null)return this.log('Skipping key-session request for "'+$+'" (no initData)'),Promise.resolve(w);var V=this.getKeyIdString(w.decryptdata);this.log('Generating key-session request for "'+$+'": '+V+" (init data type: "+M+" length: "+(N?N.byteLength:null)+")");var Y=new(h());w.mediaKeysSession.onmessage=function(q){var Q=w.mediaKeysSession;if(!Q){Y.emit("error",new Error("invalid state"));return}var te=q.messageType,re=q.message;j.log('"'+te+'" message event for session "'+Q.sessionId+'" message size: '+re.byteLength),te==="license-request"||te==="license-renewal"?j.renewLicense(w,re).catch(function(ne){j.handleError(ne),Y.emit("error",ne)}):te==="license-release"?w.keySystem===f.KeySystems.FAIRPLAY&&(j.updateKeySession(w,(0,m.strToUtf8array)("acknowledged")),j.removeSession(w)):j.warn('unhandled media key message type "'+te+'"')},w.mediaKeysSession.onkeystatuseschange=function(q){var Q=w.mediaKeysSession;if(!Q){Y.emit("error",new Error("invalid state"));return}j.onKeyStatusChange(w);var te=w.keyStatus;Y.emit("keyStatus",te),te==="expired"&&(j.warn(w.keySystem+" expired for key "+V),j.renewKeySession(w))};var X=new Promise(function(q,Q){Y.on("error",Q),Y.on("keyStatus",function(te){te.startsWith("usable")?q():te==="output-restricted"?Q(new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):te==="internal-error"?Q(new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+te+'"')):te==="expired"?Q(new Error("key expired while generating request")):j.warn('unhandled key status change "'+te+'"')})});return w.mediaKeysSession.generateRequest(M,N).then(function(){var q;j.log('Request generated for key-session "'+((q=w.mediaKeysSession)===null||q===void 0?void 0:q.sessionId)+'" keyId: '+V)}).catch(function(q){throw new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:q,fatal:!1},"Error generating key-session request: "+q)}).then(function(){return X}).catch(function(q){throw Y.removeAllListeners(),j.removeSession(w),q}).then(function(){return Y.removeAllListeners(),w})},I.onKeyStatusChange=function(w){var M=this;w.mediaKeysSession.keyStatuses.forEach(function(N,$){M.log('key status change "'+N+'" for keyStatuses keyId: '+v.default.hexDump("buffer"in $?new Uint8Array($.buffer,$.byteOffset,$.byteLength):new Uint8Array($))+" session keyId: "+v.default.hexDump(new Uint8Array(w.decryptdata.keyId||[]))+" uri: "+w.decryptdata.uri),w.keyStatus=N})},I.fetchServerCertificate=function(w){var M=this;return new Promise(function(N,$){var B=M.getServerCertificateUrl(w);if(!B)return N();M.log('Fetching serverCertificate for "'+w+'"');var U=new XMLHttpRequest;U.open("GET",B,!0),U.responseType="arraybuffer",U.onreadystatechange=function(){U.readyState===XMLHttpRequest.DONE&&(U.status===200?N(U.response):$(new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:U},'"'+w+'" certificate request XHR failed ('+B+"). Status: "+U.status+" ("+U.statusText+")")))},U.send()})},I.setMediaKeysServerCertificate=function(w,M,N){var $=this;return new Promise(function(B,U){w.setServerCertificate(N).then(function(j){$.log("setServerCertificate "+(j?"success":"not supported by CDM")+" ("+(N==null?void 0:N.byteLength)+') on "'+M+'"'),B(w)}).catch(function(j){U(new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:j,fatal:!0},j.message))})})},I.renewLicense=function(w,M){var N=this;return this.requestLicense(w,new Uint8Array(M)).then(function($){return N.updateKeySession(w,new Uint8Array($)).catch(function(B){throw new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:B,fatal:!0},B.message)})})},I.setupLicenseXHR=function(w,M,N,$){var B=this,U=this.config.licenseXhrSetup;return U?Promise.resolve().then(function(){if(!N.decryptdata)throw new Error("Key removed");return U.call(B.hls,w,M,N,$)}).catch(function(j){if(!N.decryptdata)throw j;return w.open("POST",M,!0),U.call(B.hls,w,M,N,$)}).then(function(j){w.readyState||w.open("POST",M,!0);var K=j||$;return{xhr:w,licenseChallenge:K}}):(w.open("POST",M,!0),Promise.resolve({xhr:w,licenseChallenge:$}))},I.requestLicense=function(w,M){var N=this;return new Promise(function($,B){var U=N.getLicenseServerUrl(w.keySystem);N.log("Sending license request to URL: "+U);var j=new XMLHttpRequest;j.responseType="arraybuffer",j.onreadystatechange=function(){if(!N.hls||!w.mediaKeysSession)return B(new Error("invalid state"));if(j.readyState===4)if(j.status===200){N._requestLicenseFailureCount=0;var K=j.response;N.log("License received "+(K instanceof ArrayBuffer?K.byteLength:K));var G=N.config.licenseResponseCallback;if(G)try{K=G.call(N.hls,j,U,w)}catch(V){N.error(V)}$(K)}else if(N._requestLicenseFailureCount++,N._requestLicenseFailureCount>P||j.status>=400&&j.status<500)B(new F({type:c.ErrorTypes.KEY_SYSTEM_ERROR,details:c.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:j},"License Request XHR failed ("+U+"). Status: "+j.status+" ("+j.statusText+")"));else{var W=P-N._requestLicenseFailureCount+1;N.warn("Retrying license request, "+W+" attempts left"),N.requestLicense(w,M).then($,B)}},w.licenseXhr&&w.licenseXhr.readyState!==XMLHttpRequest.DONE&&w.licenseXhr.abort(),w.licenseXhr=j,N.setupLicenseXHR(j,U,w,M).then(function(K){var G=K.xhr,W=K.licenseChallenge;G.send(W)})})},I.onMediaAttached=function(w,M){if(this.config.emeEnabled){var N=M.media;this.media=N,N.addEventListener("encrypted",this.onMediaEncrypted),N.addEventListener("waitingforkey",this.onWaitingForKey)}},I.onMediaDetached=function(){var w=this,M=this.media,N=this.mediaKeySessions;M&&(M.removeEventListener("encrypted",this.onMediaEncrypted),M.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},x.LevelKey.clearKeyUriToKeyIdMap();var $=N.length;L.CDMCleanupPromise=Promise.all(N.map(function(B){return w.removeSession(B)}).concat(M==null?void 0:M.setMediaKeys(null).catch(function(B){w.log("Could not clear media keys: "+B+". media.src: "+(M==null?void 0:M.src))}))).then(function(){$&&(w.log("finished closing key sessions and clearing media keys"),N.length=0)}).catch(function(B){w.log("Could not close sessions and clear media keys: "+B+". media.src: "+(M==null?void 0:M.src))})},I.onManifestLoaded=function(w,M){var N=M.sessionKeys;if(!(!N||!this.config.emeEnabled)&&!this.keyFormatPromise){var $=N.reduce(function(B,U){return B.indexOf(U.keyFormat)===-1&&B.push(U.keyFormat),B},[]);this.log("Selecting key-system from session-keys "+$.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise($)}},I.removeSession=function(w){var M=this,N=w.mediaKeysSession,$=w.licenseXhr;if(N){this.log("Remove licenses and keys and close session "+N.sessionId),N.onmessage=null,N.onkeystatuseschange=null,$&&$.readyState!==XMLHttpRequest.DONE&&$.abort(),w.mediaKeysSession=w.decryptdata=w.licenseXhr=void 0;var B=this.mediaKeySessions.indexOf(w);return B>-1&&this.mediaKeySessions.splice(B,1),N.remove().catch(function(U){M.log("Could not remove session: "+U)}).then(function(){return N.close()}).catch(function(U){M.log("Could not close session: "+U)})}},L}();D.CDMCleanupPromise=void 0;var F=function(L){S(I,L);function I(k,w){var M;return M=L.call(this,w)||this,M.data=void 0,M.data=k,k.err=k.error,M}return I}(O(Error));const R=D},"./src/controller/fps-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>f});var u=l("./src/events.ts"),c=l("./src/utils/logger.ts"),d=function(){function m(x){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=x,this.registerListeners()}var _=m.prototype;return _.setStreamController=function(v){this.streamController=v},_.registerListeners=function(){this.hls.on(u.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},_.unregisterListeners=function(){this.hls.off(u.Events.MEDIA_ATTACHING,this.onMediaAttaching)},_.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},_.onMediaAttaching=function(v,g){var p=this.hls.config;if(p.capLevelOnFPSDrop){var h=g.media instanceof self.HTMLVideoElement?g.media:null;this.media=h,h&&typeof h.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),p.fpsDroppedMonitoringPeriod)}},_.checkFPS=function(v,g,p){var h=performance.now();if(g){if(this.lastTime){var S=h-this.lastTime,O=p-this.lastDroppedFrames,y=g-this.lastDecodedFrames,E=1e3*O/S,b=this.hls;if(b.trigger(u.Events.FPS_DROP,{currentDropped:O,currentDecoded:y,totalDroppedFrames:p}),E>0&&O>b.config.fpsDroppedMonitoringThreshold*y){var T=b.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+T),T>0&&(b.autoLevelCapping===-1||b.autoLevelCapping>=T)&&(T=T-1,b.trigger(u.Events.FPS_DROP_LEVEL_CAPPING,{level:T,droppedLevel:b.currentLevel}),b.autoLevelCapping=T,this.streamController.nextLevelSwitch())}}this.lastTime=h,this.lastDroppedFrames=p,this.lastDecodedFrames=g}},_.checkFPSInterval=function(){var v=this.media;if(v)if(this.isVideoPlaybackQualityAvailable){var g=v.getVideoPlaybackQuality();this.checkFPS(v,g.totalVideoFrames,g.droppedVideoFrames)}else this.checkFPS(v,v.webkitDecodedFrameCount,v.webkitDroppedFrameCount)},m}();const f=d},"./src/controller/fragment-finders.ts":(o,s,l)=>{l.r(s),l.d(s,{findFragWithCC:()=>x,findFragmentByPDT:()=>d,findFragmentByPTS:()=>f,fragmentWithinToleranceTest:()=>m,pdtWithinToleranceTest:()=>_});var u=l("./src/polyfills/number.ts"),c=l("./src/utils/binary-search.ts");function d(v,g,p){if(g===null||!Array.isArray(v)||!v.length||!(0,u.isFiniteNumber)(g))return null;var h=v[0].programDateTime;if(g<(h||0))return null;var S=v[v.length-1].endProgramDateTime;if(g>=(S||0))return null;p=p||0;for(var O=0;O<v.length;++O){var y=v[O];if(_(g,p,y))return y}return null}function f(v,g,p,h){p===void 0&&(p=0),h===void 0&&(h=0);var S=null;if(v?S=g[v.sn-g[0].sn+1]||null:p===0&&g[0].start===0&&(S=g[0]),S&&m(p,h,S)===0)return S;var O=c.default.search(g,m.bind(null,p,h));return O&&(O!==v||!S)?O:S}function m(v,g,p){if(v===void 0&&(v=0),g===void 0&&(g=0),p.start<=v&&p.start+p.duration>v)return 0;var h=Math.min(g,p.duration+(p.deltaPTS?p.deltaPTS:0));return p.start+p.duration-h<=v?1:p.start-h>v&&p.start?-1:0}function _(v,g,p){var h=Math.min(g,p.duration+(p.deltaPTS?p.deltaPTS:0))*1e3,S=p.endProgramDateTime||0;return S-h>v}function x(v,g){return c.default.search(v,function(p){return p.cc<g?1:p.cc>g?-1:0})}},"./src/controller/fragment-tracker.ts":(o,s,l)=>{l.r(s),l.d(s,{FragmentState:()=>d,FragmentTracker:()=>f});var u=l("./src/events.ts"),c=l("./src/types/loader.ts"),d;(function(x){x.NOT_LOADED="NOT_LOADED",x.APPENDING="APPENDING",x.PARTIAL="PARTIAL",x.OK="OK"})(d||(d={}));var f=function(){function x(g){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=g,this._registerListeners()}var v=x.prototype;return v._registerListeners=function(){var p=this.hls;p.on(u.Events.BUFFER_APPENDED,this.onBufferAppended,this),p.on(u.Events.FRAG_BUFFERED,this.onFragBuffered,this),p.on(u.Events.FRAG_LOADED,this.onFragLoaded,this)},v._unregisterListeners=function(){var p=this.hls;p.off(u.Events.BUFFER_APPENDED,this.onBufferAppended,this),p.off(u.Events.FRAG_BUFFERED,this.onFragBuffered,this),p.off(u.Events.FRAG_LOADED,this.onFragLoaded,this)},v.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},v.getAppendedFrag=function(p,h){if(h===c.PlaylistLevelType.MAIN){var S=this.activeFragment,O=this.activeParts;if(!S)return null;if(O)for(var y=O.length;y--;){var E=O[y],b=E?E.end:S.appendedPTS;if(E.start<=p&&b!==void 0&&p<=b)return y>9&&(this.activeParts=O.slice(y-9)),E}else if(S.start<=p&&S.appendedPTS!==void 0&&p<=S.appendedPTS)return S}return this.getBufferedFrag(p,h)},v.getBufferedFrag=function(p,h){for(var S=this.fragments,O=Object.keys(S),y=O.length;y--;){var E=S[O[y]];if((E==null?void 0:E.body.type)===h&&E.buffered){var b=E.body;if(b.start<=p&&p<=b.end)return b}}return null},v.detectEvictedFragments=function(p,h,S){var O=this;this.timeRanges&&(this.timeRanges[p]=h),Object.keys(this.fragments).forEach(function(y){var E=O.fragments[y];if(E){if(!E.buffered&&!E.loaded){E.body.type===S&&O.removeFragment(E.body);return}var b=E.range[p];b&&b.time.some(function(T){var A=!O.isTimeBuffered(T.startPTS,T.endPTS,h);return A&&O.removeFragment(E.body),A})}})},v.detectPartialFragments=function(p){var h=this,S=this.timeRanges,O=p.frag,y=p.part;if(!(!S||O.sn==="initSegment")){var E=_(O),b=this.fragments[E];b&&(Object.keys(S).forEach(function(T){var A=O.elementaryStreams[T];if(A){var P=S[T],C=y!==null||A.partial===!0;b.range[T]=h.getBufferedTimes(O,y,C,P)}}),b.loaded=null,Object.keys(b.range).length?(b.buffered=!0,b.body.endList&&(this.endListFragments[b.body.type]=b)):this.removeFragment(b.body))}},v.fragBuffered=function(p){var h=_(p),S=this.fragments[h];S&&(S.loaded=null,S.buffered=!0)},v.getBufferedTimes=function(p,h,S,O){for(var y={time:[],partial:S},E=h?h.start:p.start,b=h?h.end:p.end,T=p.minEndPTS||b,A=p.maxStartPTS||E,P=0;P<O.length;P++){var C=O.start(P)-this.bufferPadding,D=O.end(P)+this.bufferPadding;if(A>=C&&T<=D){y.time.push({startPTS:Math.max(E,O.start(P)),endPTS:Math.min(b,O.end(P))});break}else if(E<D&&b>C)y.partial=!0,y.time.push({startPTS:Math.max(E,O.start(P)),endPTS:Math.min(b,O.end(P))});else if(b<=C)break}return y},v.getPartialFragment=function(p){var h=null,S,O,y,E=0,b=this.bufferPadding,T=this.fragments;return Object.keys(T).forEach(function(A){var P=T[A];P&&m(P)&&(O=P.body.start-b,y=P.body.end+b,p>=O&&p<=y&&(S=Math.min(p-O,y-p),E<=S&&(h=P.body,E=S)))}),h},v.isEndListAppended=function(p){var h=this.endListFragments[p];return h!==void 0&&(h.buffered||m(h))},v.getState=function(p){var h=_(p),S=this.fragments[h];return S?S.buffered?m(S)?d.PARTIAL:d.OK:d.APPENDING:d.NOT_LOADED},v.isTimeBuffered=function(p,h,S){for(var O,y,E=0;E<S.length;E++){if(O=S.start(E)-this.bufferPadding,y=S.end(E)+this.bufferPadding,p>=O&&h<=y)return!0;if(h<=O)return!1}return!1},v.onFragLoaded=function(p,h){var S=h.frag,O=h.part;if(!(S.sn==="initSegment"||S.bitrateTest||O)){var y=_(S);this.fragments[y]={body:S,loaded:h,buffered:!1,range:Object.create(null)}}},v.onBufferAppended=function(p,h){var S=this,O=h.frag,y=h.part,E=h.timeRanges;if(O.type===c.PlaylistLevelType.MAIN)if(this.activeFragment!==O&&(this.activeFragment=O,O.appendedPTS=void 0),y){var b=this.activeParts;b||(this.activeParts=b=[]),b.push(y)}else this.activeParts=null;this.timeRanges=E,Object.keys(E).forEach(function(T){var A=E[T];if(S.detectEvictedFragments(T,A),!y&&O.type===c.PlaylistLevelType.MAIN){var P=O.elementaryStreams[T];if(!P)return;for(var C=0;C<A.length;C++){var D=A.end(C);D<=P.endPTS&&D>P.startPTS?O.appendedPTS=Math.max(D,O.appendedPTS||0):O.appendedPTS=P.endPTS}}})},v.onFragBuffered=function(p,h){this.detectPartialFragments(h)},v.hasFragment=function(p){var h=_(p);return!!this.fragments[h]},v.removeFragmentsInRange=function(p,h,S){var O=this;Object.keys(this.fragments).forEach(function(y){var E=O.fragments[y];if(E&&E.buffered){var b=E.body;b.type===S&&b.start<h&&b.end>p&&O.removeFragment(b)}})},v.removeFragment=function(p){var h=_(p);p.stats.loaded=0,p.clearElementaryStreamInfo(),p.appendedPTS=void 0,delete this.fragments[h],p.endList&&delete this.endListFragments[p.type]},v.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},x}();function m(x){var v,g;return x.buffered&&(((v=x.range.video)===null||v===void 0?void 0:v.partial)||((g=x.range.audio)===null||g===void 0?void 0:g.partial))}function _(x){return x.type+"_"+x.level+"_"+x.urlId+"_"+x.sn}},"./src/controller/gap-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{MAX_START_GAP_JUMP:()=>_,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>x,SKIP_BUFFER_RANGE_START:()=>v,STALL_MINIMUM_DURATION_MS:()=>m,default:()=>g});var u=l("./src/utils/buffer-helper.ts"),c=l("./src/errors.ts"),d=l("./src/events.ts"),f=l("./src/utils/logger.ts"),m=250,_=2,x=.1,v=.05,g=function(){function p(S,O,y,E){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=S,this.media=O,this.fragmentTracker=y,this.hls=E}var h=p.prototype;return h.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},h.poll=function(O,y){var E=this.config,b=this.media,T=this.stalled;if(b!==null){var A=b.currentTime,P=b.seeking,C=this.seeking&&!P,D=!this.seeking&&P;if(this.seeking=P,A!==O){if(this.moved=!0,T!==null){if(this.stallReported){var F=self.performance.now()-T;f.logger.warn("playback not stuck anymore @"+A+", after "+Math.round(F)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if((D||C)&&(this.stalled=null),!(b.paused&&!P||b.ended||b.playbackRate===0||!u.BufferHelper.getBuffered(b).length)){var R=u.BufferHelper.bufferInfo(b,A,0),L=R.len>0,I=R.nextStart||0;if(!(!L&&!I)){if(P){var k=R.len>_,w=!I||y&&y.start<=A||I-A>_&&!this.fragmentTracker.getPartialFragment(A);if(k||w)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var M,N=Math.max(I,R.start||0)-A,$=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,B=$==null||(M=$.details)===null||M===void 0?void 0:M.live,U=B?$.details.targetduration*2:_;if(N>0&&N<=U){this._trySkipBufferHole(null);return}}var j=self.performance.now();if(T===null){this.stalled=j;return}var K=j-T;if(!(!P&&K>=m&&(this._reportStall(R),!this.media))){var G=u.BufferHelper.bufferInfo(b,A,E.maxBufferHole);this._tryFixBufferStall(G,K)}}}}},h._tryFixBufferStall=function(O,y){var E=this.config,b=this.fragmentTracker,T=this.media;if(T!==null){var A=T.currentTime,P=b.getPartialFragment(A);if(P){var C=this._trySkipBufferHole(P);if(C||!this.media)return}O.len>E.maxBufferHole&&y>E.highBufferWatchdogPeriod*1e3&&(f.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},h._reportStall=function(O){var y=this.hls,E=this.media,b=this.stallReported;!b&&E&&(this.stallReported=!0,f.logger.warn("Playback stalling at @"+E.currentTime+" due to low buffer ("+JSON.stringify(O)+")"),y.trigger(d.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:O.len}))},h._trySkipBufferHole=function(O){var y=this.config,E=this.hls,b=this.media;if(b===null)return 0;for(var T=b.currentTime,A=0,P=u.BufferHelper.getBuffered(b),C=0;C<P.length;C++){var D=P.start(C);if(T+y.maxBufferHole>=A&&T<D){var F=Math.max(D+v,b.currentTime+x);return f.logger.warn("skipping hole, adjusting currentTime from "+T+" to "+F),this.moved=!0,this.stalled=null,b.currentTime=F,O&&E.trigger(d.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+T+" to "+F,frag:O}),F}A=P.end(C)}return 0},h._tryNudgeBuffer=function(){var O=this.config,y=this.hls,E=this.media,b=this.nudgeRetry;if(E!==null){var T=E.currentTime;if(this.nudgeRetry++,b<O.nudgeMaxRetry){var A=T+(b+1)*O.nudgeOffset;f.logger.warn("Nudging 'currentTime' from "+T+" to "+A),E.currentTime=A,y.trigger(d.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else f.logger.error("Playhead still not moving while enough data buffered @"+T+" after "+O.nudgeMaxRetry+" nudges"),y.trigger(d.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},p}()},"./src/controller/id3-track-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>O});var u=l("./src/polyfills/number.ts"),c=l("./src/events.ts"),d=l("./src/utils/texttrack-utils.ts"),f=l("./src/demux/id3.ts"),m=l("./src/loader/date-range.ts"),_=l("./src/types/demuxer.ts"),x=.25;function v(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var g=function(){var y=v();try{new y(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function p(y,E){return y.getTime()/1e3-E}function h(y){return Uint8Array.from(y.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var S=function(){function y(b){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=b,this._registerListeners()}var E=y.prototype;return E.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},E._registerListeners=function(){var T=this.hls;T.on(c.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(c.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),T.on(c.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),T.on(c.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},E._unregisterListeners=function(){var T=this.hls;T.off(c.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(c.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),T.off(c.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),T.off(c.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},E.onMediaAttached=function(T,A){this.media=A.media},E.onMediaDetaching=function(){this.id3Track&&((0,d.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},E.onManifestLoading=function(){this.dateRangeCuesAppended={}},E.createTrack=function(T){var A=this.getID3Track(T.textTracks);return A.mode="hidden",A},E.getID3Track=function(T){if(this.media){for(var A=0;A<T.length;A++){var P=T[A];if(P.kind==="metadata"&&P.label==="id3")return(0,d.sendAddTrackEvent)(P,this.media),P}return this.media.addTextTrack("metadata","id3")}},E.onFragParsingMetadata=function(T,A){if(this.media){var P=this.hls.config,C=P.enableEmsgMetadataCues,D=P.enableID3MetadataCues;if(!(!C&&!D)){var F=A.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var R=v(),L=0;L<F.length;L++){var I=F[L].type;if(!(I===_.MetadataSchema.emsg&&!C||!D)){var k=f.getID3Frames(F[L].data);if(k){var w=F[L].pts,M=w+F[L].duration;M>g&&(M=g);var N=M-w;N<=0&&(M=w+x);for(var $=0;$<k.length;$++){var B=k[$];if(!f.isTimeStampFrame(B)){this.updateId3CueEnds(w);var U=new R(w,M,"");U.value=B,I&&(U.type=I),this.id3Track.addCue(U)}}}}}}}},E.updateId3CueEnds=function(T){var A,P=(A=this.id3Track)===null||A===void 0?void 0:A.cues;if(P)for(var C=P.length;C--;){var D=P[C];D.startTime<T&&D.endTime===g&&(D.endTime=T)}},E.onBufferFlushing=function(T,A){var P=A.startOffset,C=A.endOffset,D=A.type,F=this.id3Track,R=this.hls;if(R){var L=R.config,I=L.enableEmsgMetadataCues,k=L.enableID3MetadataCues;if(F&&(I||k)){var w;D==="audio"?w=function(N){return N.type===_.MetadataSchema.audioId3&&k}:D==="video"?w=function(N){return N.type===_.MetadataSchema.emsg&&I}:w=function(N){return N.type===_.MetadataSchema.audioId3&&k||N.type===_.MetadataSchema.emsg&&I},(0,d.removeCuesInRange)(F,P,C,w)}}},E.onLevelUpdated=function(T,A){var P=this,C=A.details;if(!(!this.media||!C.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)){var D=this.dateRangeCuesAppended,F=this.id3Track,R=C.dateRanges,L=Object.keys(R);if(F)for(var I=Object.keys(D).filter(function(j){return!L.includes(j)}),k=function(K){var G=I[K];Object.keys(D[G].cues).forEach(function(W){F.removeCue(D[G].cues[W])}),delete D[G]},w=I.length;w--;)k(w);var M=C.fragments[C.fragments.length-1];if(!(L.length===0||!(0,u.isFiniteNumber)(M==null?void 0:M.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var N=M.programDateTime/1e3-M.start,$=v(),B=function(K){var G=L[K],W=R[G],V=D[G],Y=(V==null?void 0:V.cues)||{},X=(V==null?void 0:V.durationKnown)||!1,q=p(W.startDate,N),Q=g,te=W.endDate;if(te)Q=p(te,N),X=!0;else if(W.endOnNext&&!X){var re=L.reduce(function(pe,xe){var Te=R[xe];return Te.class===W.class&&Te.id!==xe&&Te.startDate>W.startDate&&pe.push(Te),pe},[]).sort(function(pe,xe){return pe.startDate.getTime()-xe.startDate.getTime()})[0];re&&(Q=p(re.startDate,N),X=!0)}for(var ne=Object.keys(W.attr),oe=0;oe<ne.length;oe++){var he=ne[oe];if(!(he===m.DateRangeAttribute.ID||he===m.DateRangeAttribute.CLASS||he===m.DateRangeAttribute.START_DATE||he===m.DateRangeAttribute.DURATION||he===m.DateRangeAttribute.END_DATE||he===m.DateRangeAttribute.END_ON_NEXT)){var fe=Y[he];if(fe)X&&!V.durationKnown&&(fe.endTime=Q);else{var ie=W.attr[he];fe=new $(q,Q,""),(he===m.DateRangeAttribute.SCTE35_OUT||he===m.DateRangeAttribute.SCTE35_IN)&&(ie=h(ie)),fe.value={key:he,data:ie},fe.type=_.MetadataSchema.dateRange,P.id3Track.addCue(fe),Y[he]=fe}}}D[G]={cues:Y,dateRange:W,durationKnown:X}},U=0;U<L.length;U++)B(U)}}},y}();const O=S},"./src/controller/latency-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>v});var u=l("./src/errors.ts"),c=l("./src/events.ts"),d=l("./src/utils/logger.ts");function f(g,p){for(var h=0;h<p.length;h++){var S=p[h];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,_(S.key),S)}}function m(g,p,h){return p&&f(g.prototype,p),h&&f(g,h),Object.defineProperty(g,"prototype",{writable:!1}),g}function _(g){var p=x(g,"string");return typeof p=="symbol"?p:String(p)}function x(g,p){if(typeof g!="object"||g===null)return g;var h=g[Symbol.toPrimitive];if(h!==void 0){var S=h.call(g,p||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)}var v=function(){function g(h){var S=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return S.timeupdate()},this.hls=h,this.config=h.config,this.registerListeners()}var p=g.prototype;return p.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},p.registerListeners=function(){this.hls.on(c.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(c.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(c.Events.ERROR,this.onError,this)},p.unregisterListeners=function(){this.hls.off(c.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(c.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(c.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(c.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(c.Events.ERROR,this.onError)},p.onMediaAttached=function(S,O){this.media=O.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},p.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},p.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},p.onLevelUpdated=function(S,O){var y=O.details;this.levelDetails=y,y.advanced&&this.timeupdate(),!y.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},p.onError=function(S,O){O.details===u.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,d.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},p.timeupdate=function(){var S=this.media,O=this.levelDetails;if(!(!S||!O)){this.currentTime=S.currentTime;var y=this.computeLatency();if(y!==null){this._latency=y;var E=this.config,b=E.lowLatencyMode,T=E.maxLiveSyncPlaybackRate;if(!(!b||T===1)){var A=this.targetLatency;if(A!==null){var P=y-A,C=Math.min(this.maxLatency,A+O.targetduration),D=P<C;if(O.live&&D&&P>.05&&this.forwardBufferLength>1){var F=Math.min(2,Math.max(1,T)),R=Math.round(2/(1+Math.exp(-.75*P-this.edgeStalled))*20)/20;S.playbackRate=Math.min(F,Math.max(1,R))}else S.playbackRate!==1&&S.playbackRate!==0&&(S.playbackRate=1)}}}}},p.estimateLiveEdge=function(){var S=this.levelDetails;return S===null?null:S.edge+S.age},p.computeLatency=function(){var S=this.estimateLiveEdge();return S===null?null:S-this.currentTime},m(g,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var S=this.config,O=this.levelDetails;return S.liveMaxLatencyDuration!==void 0?S.liveMaxLatencyDuration:O?S.liveMaxLatencyDurationCount*O.targetduration:0}},{key:"targetLatency",get:function(){var S=this.levelDetails;if(S===null)return null;var O=S.holdBack,y=S.partHoldBack,E=S.targetduration,b=this.config,T=b.liveSyncDuration,A=b.liveSyncDurationCount,P=b.lowLatencyMode,C=this.hls.userConfig,D=P&&y||O;(C.liveSyncDuration||C.liveSyncDurationCount||D===0)&&(D=T!==void 0?T:A*E);var F=E,R=1;return D+Math.min(this.stallCount*R,F)}},{key:"liveSyncPosition",get:function(){var S=this.estimateLiveEdge(),O=this.targetLatency,y=this.levelDetails;if(S===null||O===null||y===null)return null;var E=y.edge,b=S-O-this.edgeStalled,T=E-y.totalduration,A=E-(this.config.lowLatencyMode&&y.partTarget||y.targetduration);return Math.min(Math.max(T,b),A)}},{key:"drift",get:function(){var S=this.levelDetails;return S===null?1:S.drift}},{key:"edgeStalled",get:function(){var S=this.levelDetails;if(S===null)return 0;var O=(this.config.lowLatencyMode&&S.partTarget||S.targetduration)*3;return Math.max(S.age-O,0)}},{key:"forwardBufferLength",get:function(){var S=this.media,O=this.levelDetails;if(!S||!O)return 0;var y=S.buffered.length;return(y?S.buffered.end(y-1):O.edge)-this.currentTime}}]),g}()},"./src/controller/level-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>b});var u=l("./src/types/level.ts"),c=l("./src/events.ts"),d=l("./src/errors.ts"),f=l("./src/utils/codecs.ts"),m=l("./src/controller/level-helper.ts"),_=l("./src/controller/base-playlist-controller.ts"),x=l("./src/types/loader.ts");function v(){return v=Object.assign?Object.assign.bind():function(T){for(var A=1;A<arguments.length;A++){var P=arguments[A];for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(T[C]=P[C])}return T},v.apply(this,arguments)}function g(T,A){for(var P=0;P<A.length;P++){var C=A[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,h(C.key),C)}}function p(T,A,P){return A&&g(T.prototype,A),P&&g(T,P),Object.defineProperty(T,"prototype",{writable:!1}),T}function h(T){var A=S(T,"string");return typeof A=="symbol"?A:String(A)}function S(T,A){if(typeof T!="object"||T===null)return T;var P=T[Symbol.toPrimitive];if(P!==void 0){var C=P.call(T,A||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(T)}function O(T,A){T.prototype=Object.create(A.prototype),T.prototype.constructor=T,y(T,A)}function y(T,A){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,D){return C.__proto__=D,C},y(T,A)}var E=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),b=function(T){O(A,T);function A(C){var D;return D=T.call(this,C,"[level-controller]")||this,D._levels=[],D._firstLevel=-1,D._startLevel=void 0,D.currentLevelIndex=-1,D.manualLevelIndex=-1,D.onParsedComplete=void 0,D._registerListeners(),D}var P=A.prototype;return P._registerListeners=function(){var D=this.hls;D.on(c.Events.MANIFEST_LOADED,this.onManifestLoaded,this),D.on(c.Events.LEVEL_LOADED,this.onLevelLoaded,this),D.on(c.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),D.on(c.Events.FRAG_LOADED,this.onFragLoaded,this),D.on(c.Events.ERROR,this.onError,this)},P._unregisterListeners=function(){var D=this.hls;D.off(c.Events.MANIFEST_LOADED,this.onManifestLoaded,this),D.off(c.Events.LEVEL_LOADED,this.onLevelLoaded,this),D.off(c.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),D.off(c.Events.FRAG_LOADED,this.onFragLoaded,this),D.off(c.Events.ERROR,this.onError,this)},P.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,T.prototype.destroy.call(this)},P.startLoad=function(){var D=this._levels;D.forEach(function(F){F.loadError=0}),T.prototype.startLoad.call(this)},P.onManifestLoaded=function(D,F){var R=[],L=[],I=[],k,w={},M,N=!1,$=!1,B=!1;if(F.levels.forEach(function(G){var W=G.attrs;N=N||!!(G.width&&G.height),$=$||!!G.videoCodec,B=B||!!G.audioCodec,E&&G.audioCodec&&G.audioCodec.indexOf("mp4a.40.34")!==-1&&(G.audioCodec=void 0);var V=G.bitrate+"-"+G.attrs.RESOLUTION+"-"+G.attrs.CODECS;M=w[V],M?M.url.push(G.url):(M=new u.Level(G),w[V]=M,R.push(M)),W&&(W.AUDIO&&(0,m.addGroupId)(M,"audio",W.AUDIO),W.SUBTITLES&&(0,m.addGroupId)(M,"text",W.SUBTITLES))}),(N||$)&&B&&(R=R.filter(function(G){var W=G.videoCodec,V=G.width,Y=G.height;return!!W||!!(V&&Y)})),R=R.filter(function(G){var W=G.audioCodec,V=G.videoCodec;return(!W||(0,f.isCodecSupportedInMp4)(W,"audio"))&&(!V||(0,f.isCodecSupportedInMp4)(V,"video"))}),F.audioTracks&&(L=F.audioTracks.filter(function(G){return!G.audioCodec||(0,f.isCodecSupportedInMp4)(G.audioCodec,"audio")}),(0,m.assignTrackIdsByGroup)(L)),F.subtitles&&(I=F.subtitles,(0,m.assignTrackIdsByGroup)(I)),R.length>0){k=R[0].bitrate,R.sort(function(G,W){return G.attrs["HDCP-LEVEL"]!==W.attrs["HDCP-LEVEL"]?(G.attrs["HDCP-LEVEL"]||"")>(W.attrs["HDCP-LEVEL"]||"")?1:-1:G.bitrate!==W.bitrate?G.bitrate-W.bitrate:G.attrs.SCORE!==W.attrs.SCORE?G.attrs.decimalFloatingPoint("SCORE")-W.attrs.decimalFloatingPoint("SCORE"):N&&G.height!==W.height?G.height-W.height:0}),this._levels=R;for(var U=0;U<R.length;U++)if(R[U].bitrate===k){this._firstLevel=U,this.log("manifest loaded, "+R.length+" level(s) found, first bitrate: "+k);break}var j=B&&!$,K={levels:R,audioTracks:L,subtitleTracks:I,sessionData:F.sessionData,sessionKeys:F.sessionKeys,firstLevel:this._firstLevel,stats:F.stats,audio:B,video:$,altAudio:!j&&L.some(function(G){return!!G.url})};this.hls.trigger(c.Events.MANIFEST_PARSED,K),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(c.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:F.url,reason:"no level with compatible codecs found in manifest"})},P.onError=function(D,F){var R,L;if(T.prototype.onError.call(this,D,F),!F.fatal){var I=F.context,k=this._levels[this.currentLevelIndex];if(I&&(I.type===x.PlaylistContextType.AUDIO_TRACK&&k.audioGroupIds&&I.groupId===k.audioGroupIds[k.urlId]||I.type===x.PlaylistContextType.SUBTITLE_TRACK&&k.textGroupIds&&I.groupId===k.textGroupIds[k.urlId])){this.redundantFailover(this.currentLevelIndex);return}var w=!1,M=!0,N;switch(F.details){case d.ErrorDetails.FRAG_LOAD_ERROR:case d.ErrorDetails.FRAG_LOAD_TIMEOUT:case d.ErrorDetails.KEY_LOAD_ERROR:case d.ErrorDetails.KEY_LOAD_TIMEOUT:if(F.frag){var $=F.frag.type===x.PlaylistLevelType.MAIN?F.frag.level:this.currentLevelIndex,B=this._levels[$];B?(B.fragmentError++,B.fragmentError>this.hls.config.fragLoadingMaxRetry&&(N=$)):N=$}break;case d.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{var U=k.attrs["HDCP-LEVEL"];U&&(this.hls.maxHdcpLevel=u.HdcpLevels[u.HdcpLevels.indexOf(U)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'))}case d.ErrorDetails.FRAG_PARSING_ERROR:case d.ErrorDetails.KEY_SYSTEM_NO_SESSION:N=((R=F.frag)===null||R===void 0?void 0:R.type)===x.PlaylistLevelType.MAIN?F.frag.level:this.currentLevelIndex,F.levelRetry=!1;break;case d.ErrorDetails.LEVEL_LOAD_ERROR:case d.ErrorDetails.LEVEL_LOAD_TIMEOUT:I&&(I.deliveryDirectives&&(M=!1),N=I.level),w=!0;break;case d.ErrorDetails.REMUX_ALLOC_ERROR:N=(L=F.level)!=null?L:this.currentLevelIndex,w=!0;break}N!==void 0&&this.recoverLevel(F,N,w,M)}},P.recoverLevel=function(D,F,R,L){var I=D.details,k=this._levels[F];if(k.loadError++,R){var w=this.retryLoadingOrFail(D);if(w)D.levelRetry=!0;else{this.currentLevelIndex=-1;return}}if(L){var M=k.url.length;if(M>1&&k.loadError<M)D.levelRetry=!0,this.redundantFailover(F);else if(this.manualLevelIndex===-1){for(var N=-1,$=this._levels,B=$.length;B--;){var U=(B+this.currentLevelIndex)%$.length;if(U!==this.currentLevelIndex&&$[U].loadError===0){N=U;break}}N>-1&&this.currentLevelIndex!==N?(this.warn(I+": switch to "+N),D.levelRetry=!0,this.hls.nextAutoLevel=N):D.levelRetry===!1&&(D.fatal=!0)}}},P.redundantFailover=function(D){var F=this._levels[D],R=F.url.length;if(R>1){var L=(F.urlId+1)%R;this.warn("Switching to redundant URL-id "+L),this._levels.forEach(function(I){I.urlId=L}),this.level=D}},P.onFragLoaded=function(D,F){var R=F.frag;if(R!==void 0&&R.type===x.PlaylistLevelType.MAIN){var L=this._levels[R.level];L!==void 0&&(L.fragmentError=0,L.loadError=0)}},P.onLevelLoaded=function(D,F){var R,L=F.level,I=F.details,k=this._levels[L];if(!k){var w;this.warn("Invalid level index "+L),(w=F.deliveryDirectives)!==null&&w!==void 0&&w.skip&&(I.deltaUpdateFailed=!0);return}L===this.currentLevelIndex?(k.fragmentError===0&&(k.loadError=0,this.retryCount=0),this.playlistLoaded(L,F,k.details)):(R=F.deliveryDirectives)!==null&&R!==void 0&&R.skip&&(I.deltaUpdateFailed=!0)},P.onAudioTrackSwitched=function(D,F){var R=this.hls.levels[this.currentLevelIndex];if(R&&R.audioGroupIds){for(var L=-1,I=this.hls.audioTracks[F.id].groupId,k=0;k<R.audioGroupIds.length;k++)if(R.audioGroupIds[k]===I){L=k;break}L!==R.urlId&&(R.urlId=L,this.startLoad())}},P.loadPlaylist=function(D){T.prototype.loadPlaylist.call(this);var F=this.currentLevelIndex,R=this._levels[F];if(this.canLoad&&R&&R.url.length>0){var L=R.urlId,I=R.url[L];if(D)try{I=D.addDirectives(I)}catch(k){this.warn("Could not construct new URL with HLS Delivery Directives: "+k)}this.log("Attempt loading level index "+F+((D==null?void 0:D.msn)!==void 0?" at sn "+D.msn+" part "+D.part:"")+" with URL-id "+L+" "+I),this.clearTimer(),this.hls.trigger(c.Events.LEVEL_LOADING,{url:I,level:F,id:L,deliveryDirectives:D||null})}},P.removeLevel=function(D,F){var R=function(k,w){return w!==F},L=this._levels.filter(function(I,k){return k!==D?!0:I.url.length>1&&F!==void 0?(I.url=I.url.filter(R),I.audioGroupIds&&(I.audioGroupIds=I.audioGroupIds.filter(R)),I.textGroupIds&&(I.textGroupIds=I.textGroupIds.filter(R)),I.urlId=0,!0):!1}).map(function(I,k){var w=I.details;return w!=null&&w.fragments&&w.fragments.forEach(function(M){M.level=k}),I});this._levels=L,this.hls.trigger(c.Events.LEVELS_UPDATED,{levels:L})},p(A,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(D){var F,R=this._levels;if(R.length!==0&&!(this.currentLevelIndex===D&&(F=R[D])!==null&&F!==void 0&&F.details)){if(D<0||D>=R.length){var L=D<0;if(this.hls.trigger(c.Events.ERROR,{type:d.ErrorTypes.OTHER_ERROR,details:d.ErrorDetails.LEVEL_SWITCH_ERROR,level:D,fatal:L,reason:"invalid level idx"}),L)return;D=Math.min(D,R.length-1)}this.clearTimer();var I=this.currentLevelIndex,k=R[I],w=R[D];this.log("switching to level "+D+" from "+I),this.currentLevelIndex=D;var M=v({},w,{level:D,maxBitrate:w.maxBitrate,uri:w.uri,urlId:w.urlId});delete M._urlId,this.hls.trigger(c.Events.LEVEL_SWITCHING,M);var N=w.details;if(!N||N.live){var $=this.switchParams(w.uri,k==null?void 0:k.details);this.loadPlaylist($)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(D){this.manualLevelIndex=D,this._startLevel===void 0&&(this._startLevel=D),D!==-1&&(this.level=D)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(D){this._firstLevel=D}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var D=this.hls.config.startLevel;return D!==void 0?D:this._firstLevel}else return this._startLevel},set:function(D){this._startLevel=D}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(D){this.level=D,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=D)}}]),A}(_.default)},"./src/controller/level-helper.ts":(o,s,l)=>{l.r(s),l.d(s,{addGroupId:()=>m,addSliding:()=>E,adjustSliding:()=>y,assignTrackIdsByGroup:()=>_,computeReloadInterval:()=>b,getFragmentWithSN:()=>T,getPartWith:()=>A,mapFragmentIntersection:()=>O,mapPartIntersection:()=>S,mergeDetails:()=>p,updateFragPTSDTS:()=>g,updatePTS:()=>x});var u=l("./src/polyfills/number.ts"),c=l("./src/utils/logger.ts"),d=l("./src/loader/date-range.ts");function f(){return f=Object.assign?Object.assign.bind():function(P){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var F in D)Object.prototype.hasOwnProperty.call(D,F)&&(P[F]=D[F])}return P},f.apply(this,arguments)}function m(P,C,D){switch(C){case"audio":P.audioGroupIds||(P.audioGroupIds=[]),P.audioGroupIds.push(D);break;case"text":P.textGroupIds||(P.textGroupIds=[]),P.textGroupIds.push(D);break}}function _(P){var C={};P.forEach(function(D){var F=D.groupId||"";D.id=C[F]=C[F]||0,C[F]++})}function x(P,C,D){var F=P[C],R=P[D];v(F,R)}function v(P,C){var D=C.startPTS;if((0,u.isFiniteNumber)(D)){var F=0,R;C.sn>P.sn?(F=D-P.start,R=P):(F=P.start-D,R=C),R.duration!==F&&(R.duration=F)}else if(C.sn>P.sn){var L=P.cc===C.cc;L&&P.minEndPTS?C.start=P.start+(P.minEndPTS-P.start):C.start=P.start+P.duration}else C.start=Math.max(P.start-C.duration,0)}function g(P,C,D,F,R,L){var I=F-D;I<=0&&(c.logger.warn("Fragment should have a positive duration",C),F=D+C.duration,L=R+C.duration);var k=D,w=F,M=C.startPTS,N=C.endPTS;if((0,u.isFiniteNumber)(M)){var $=Math.abs(M-D);(0,u.isFiniteNumber)(C.deltaPTS)?C.deltaPTS=Math.max($,C.deltaPTS):C.deltaPTS=$,k=Math.max(D,M),D=Math.min(D,M),R=Math.min(R,C.startDTS),w=Math.min(F,N),F=Math.max(F,N),L=Math.max(L,C.endDTS)}C.duration=F-D;var B=D-C.start;C.start=C.startPTS=D,C.maxStartPTS=k,C.startDTS=R,C.endPTS=F,C.minEndPTS=w,C.endDTS=L;var U=C.sn;if(!P||U<P.startSN||U>P.endSN)return 0;var j,K=U-P.startSN,G=P.fragments;for(G[K]=C,j=K;j>0;j--)v(G[j],G[j-1]);for(j=K;j<G.length-1;j++)v(G[j],G[j+1]);return P.fragmentHint&&v(G[G.length-1],P.fragmentHint),P.PTSKnown=P.alignedSliding=!0,B}function p(P,C){for(var D=null,F=P.fragments,R=F.length-1;R>=0;R--){var L=F[R].initSegment;if(L){D=L;break}}P.fragmentHint&&delete P.fragmentHint.endPTS;var I=0,k;if(O(P,C,function(j,K){j.relurl&&(I=j.cc-K.cc),(0,u.isFiniteNumber)(j.startPTS)&&(0,u.isFiniteNumber)(j.endPTS)&&(K.start=K.startPTS=j.startPTS,K.startDTS=j.startDTS,K.appendedPTS=j.appendedPTS,K.maxStartPTS=j.maxStartPTS,K.endPTS=j.endPTS,K.endDTS=j.endDTS,K.minEndPTS=j.minEndPTS,K.duration=j.endPTS-j.startPTS,K.duration&&(k=K),C.PTSKnown=C.alignedSliding=!0),K.elementaryStreams=j.elementaryStreams,K.loader=j.loader,K.stats=j.stats,K.urlId=j.urlId,j.initSegment&&(K.initSegment=j.initSegment,D=j.initSegment)}),D){var w=C.fragmentHint?C.fragments.concat(C.fragmentHint):C.fragments;w.forEach(function(j){var K;(!j.initSegment||j.initSegment.relurl===((K=D)===null||K===void 0?void 0:K.relurl))&&(j.initSegment=D)})}if(C.skippedSegments)if(C.deltaUpdateFailed=C.fragments.some(function(j){return!j}),C.deltaUpdateFailed){c.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var M=C.skippedSegments;M--;)C.fragments.shift();C.startSN=C.fragments[0].sn,C.startCC=C.fragments[0].cc}else C.canSkipDateRanges&&(C.dateRanges=h(P.dateRanges,C.dateRanges,C.recentlyRemovedDateranges));var N=C.fragments;if(I){c.logger.warn("discontinuity sliding from playlist, take drift into account");for(var $=0;$<N.length;$++)N[$].cc+=I}C.skippedSegments&&(C.startCC=C.fragments[0].cc),S(P.partList,C.partList,function(j,K){K.elementaryStreams=j.elementaryStreams,K.stats=j.stats}),k?g(C,k,k.startPTS,k.endPTS,k.startDTS,k.endDTS):y(P,C),N.length&&(C.totalduration=C.edge-N[0].start),C.driftStartTime=P.driftStartTime,C.driftStart=P.driftStart;var B=C.advancedDateTime;if(C.advanced&&B){var U=C.edge;C.driftStart||(C.driftStartTime=B,C.driftStart=U),C.driftEndTime=B,C.driftEnd=U}else C.driftEndTime=P.driftEndTime,C.driftEnd=P.driftEnd,C.advancedDateTime=P.advancedDateTime}function h(P,C,D){var F=f({},P);return D&&D.forEach(function(R){delete F[R]}),Object.keys(C).forEach(function(R){var L=new d.DateRange(C[R].attr,F[R]);L.isValid?F[R]=L:c.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(C[R].attr)+'"')}),F}function S(P,C,D){if(P&&C)for(var F=0,R=0,L=P.length;R<=L;R++){var I=P[R],k=C[R+F];I&&k&&I.index===k.index&&I.fragment.sn===k.fragment.sn?D(I,k):F--}}function O(P,C,D){for(var F=C.skippedSegments,R=Math.max(P.startSN,C.startSN)-C.startSN,L=(P.fragmentHint?1:0)+(F?C.endSN:Math.min(P.endSN,C.endSN))-C.startSN,I=C.startSN-P.startSN,k=C.fragmentHint?C.fragments.concat(C.fragmentHint):C.fragments,w=P.fragmentHint?P.fragments.concat(P.fragmentHint):P.fragments,M=R;M<=L;M++){var N=w[I+M],$=k[M];F&&!$&&M<F&&($=C.fragments[M]=N),N&&$&&D(N,$)}}function y(P,C){var D=C.startSN+C.skippedSegments-P.startSN,F=P.fragments;D<0||D>=F.length||E(C,F[D].start)}function E(P,C){if(C){for(var D=P.fragments,F=P.skippedSegments;F<D.length;F++)D[F].start+=C;P.fragmentHint&&(P.fragmentHint.start+=C)}}function b(P,C){C===void 0&&(C=1/0);var D=1e3*P.targetduration;if(P.updated){var F=P.fragments,R=4;if(F.length&&D*R>C){var L=F[F.length-1].duration*1e3;L<D&&(D=L)}}else D/=2;return Math.round(D)}function T(P,C,D){if(!P||!P.details)return null;var F=P.details,R=F.fragments[C-F.startSN];return R||(R=F.fragmentHint,R&&R.sn===C)?R:C<F.startSN&&D&&D.sn===C?D:null}function A(P,C,D){if(!P||!P.details)return null;var F=P.details.partList;if(F)for(var R=F.length;R--;){var L=F[R];if(L.index===D&&L.fragment.sn===C)return L}return null}},"./src/controller/stream-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>C});var u=l("./src/polyfills/number.ts"),c=l("./src/controller/base-stream-controller.ts"),d=l("./src/is-supported.ts"),f=l("./src/events.ts"),m=l("./src/utils/buffer-helper.ts"),_=l("./src/controller/fragment-tracker.ts"),x=l("./src/types/loader.ts"),v=l("./src/loader/fragment.ts"),g=l("./src/demux/transmuxer-interface.ts"),p=l("./src/types/transmuxer.ts"),h=l("./src/controller/gap-controller.ts"),S=l("./src/errors.ts");function O(D,F){for(var R=0;R<F.length;R++){var L=F[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,E(L.key),L)}}function y(D,F,R){return F&&O(D.prototype,F),R&&O(D,R),Object.defineProperty(D,"prototype",{writable:!1}),D}function E(D){var F=b(D,"string");return typeof F=="symbol"?F:String(F)}function b(D,F){if(typeof D!="object"||D===null)return D;var R=D[Symbol.toPrimitive];if(R!==void 0){var L=R.call(D,F||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(D)}function T(D,F){D.prototype=Object.create(F.prototype),D.prototype.constructor=D,A(D,F)}function A(D,F){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,I){return L.__proto__=I,L},A(D,F)}var P=100,C=function(D){T(F,D);function F(L,I,k){var w;return w=D.call(this,L,I,k,"[stream-controller]")||this,w.audioCodecSwap=!1,w.gapController=null,w.level=-1,w._forceStartLoad=!1,w.altAudio=!1,w.audioOnly=!1,w.fragPlaying=null,w.onvplaying=null,w.onvseeked=null,w.fragLastKbps=0,w.couldBacktrack=!1,w.backtrackFragment=null,w.audioCodecSwitch=!1,w.videoBuffer=null,w._registerListeners(),w}var R=F.prototype;return R._registerListeners=function(){var I=this.hls;I.on(f.Events.MEDIA_ATTACHED,this.onMediaAttached,this),I.on(f.Events.MEDIA_DETACHING,this.onMediaDetaching,this),I.on(f.Events.MANIFEST_LOADING,this.onManifestLoading,this),I.on(f.Events.MANIFEST_PARSED,this.onManifestParsed,this),I.on(f.Events.LEVEL_LOADING,this.onLevelLoading,this),I.on(f.Events.LEVEL_LOADED,this.onLevelLoaded,this),I.on(f.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),I.on(f.Events.ERROR,this.onError,this),I.on(f.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),I.on(f.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),I.on(f.Events.BUFFER_CREATED,this.onBufferCreated,this),I.on(f.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),I.on(f.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),I.on(f.Events.FRAG_BUFFERED,this.onFragBuffered,this)},R._unregisterListeners=function(){var I=this.hls;I.off(f.Events.MEDIA_ATTACHED,this.onMediaAttached,this),I.off(f.Events.MEDIA_DETACHING,this.onMediaDetaching,this),I.off(f.Events.MANIFEST_LOADING,this.onManifestLoading,this),I.off(f.Events.MANIFEST_PARSED,this.onManifestParsed,this),I.off(f.Events.LEVEL_LOADED,this.onLevelLoaded,this),I.off(f.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),I.off(f.Events.ERROR,this.onError,this),I.off(f.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),I.off(f.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),I.off(f.Events.BUFFER_CREATED,this.onBufferCreated,this),I.off(f.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),I.off(f.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),I.off(f.Events.FRAG_BUFFERED,this.onFragBuffered,this)},R.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},R.startLoad=function(I){if(this.levels){var k=this.lastCurrentTime,w=this.hls;if(this.stopLoad(),this.setInterval(P),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var M=w.startLevel;M===-1&&(w.config.testBandwidth&&this.levels.length>1?(M=0,this.bitrateTest=!0):M=w.nextAutoLevel),this.level=w.nextLoadLevel=M,this.loadedmetadata=!1}k>0&&I===-1&&(this.log("Override startPosition with lastCurrentTime @"+k.toFixed(3)),I=k),this.state=c.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=I,this.tick()}else this._forceStartLoad=!0,this.state=c.State.STOPPED},R.stopLoad=function(){this._forceStartLoad=!1,D.prototype.stopLoad.call(this)},R.doTick=function(){switch(this.state){case c.State.IDLE:this.doTickIdle();break;case c.State.WAITING_LEVEL:{var I,k=this.levels,w=this.level,M=k==null||(I=k[w])===null||I===void 0?void 0:I.details;if(M&&(!M.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(M))break;this.state=c.State.IDLE;break}break}case c.State.FRAG_LOADING_WAITING_RETRY:{var N,$=self.performance.now(),B=this.retryDate;(!B||$>=B||(N=this.media)!==null&&N!==void 0&&N.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=c.State.IDLE)}break}this.onTickEnd()},R.onTickEnd=function(){D.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},R.doTickIdle=function(){var I=this.hls,k=this.levelLastLoaded,w=this.levels,M=this.media,N=I.config,$=I.nextLoadLevel;if(!(k===null||!M&&(this.startFragRequested||!N.startFragPrefetch))&&!(this.altAudio&&this.audioOnly)&&!(!w||!w[$])){var B=w[$],U=this.getMainFwdBufferInfo();if(U!==null){var j=this.getLevelDetails();if(j&&this._streamEnded(U,j)){var K={};this.altAudio&&(K.type="video"),this.hls.trigger(f.Events.BUFFER_EOS,K),this.state=c.State.ENDED;return}this.level=I.nextLoadLevel=$;var G=B.details;if(!G||this.state===c.State.WAITING_LEVEL||G.live&&this.levelLastLoaded!==$){this.level=$,this.state=c.State.WAITING_LEVEL;return}var W=U.len,V=this.getMaxBufferLength(B.maxBitrate);if(!(W>=V)){this.backtrackFragment&&this.backtrackFragment.start>U.end&&(this.backtrackFragment=null);var Y=this.backtrackFragment?this.backtrackFragment.start:U.end,X=this.getNextFragment(Y,G);if(this.couldBacktrack&&!this.fragPrevious&&X&&X.sn!=="initSegment"&&this.fragmentTracker.getState(X)!==_.FragmentState.OK){var q,Q=((q=this.backtrackFragment)!=null?q:X).sn,te=Q-G.startSN,re=G.fragments[te-1];re&&X.cc===re.cc&&(X=re,this.fragmentTracker.removeFragment(re))}else this.backtrackFragment&&U.len&&(this.backtrackFragment=null);if(X&&this.fragmentTracker.getState(X)===_.FragmentState.OK&&this.nextLoadPosition>Y){var ne=this.audioOnly&&!this.altAudio?v.ElementaryStreamTypes.AUDIO:v.ElementaryStreamTypes.VIDEO,oe=(ne===v.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;oe&&this.afterBufferFlushed(oe,ne,x.PlaylistLevelType.MAIN),X=this.getNextFragment(this.nextLoadPosition,G)}X&&(X.initSegment&&!X.initSegment.data&&!this.bitrateTest&&(X=X.initSegment),this.loadFragment(X,G,Y))}}}},R.loadFragment=function(I,k,w){var M,N=this.fragmentTracker.getState(I);this.fragCurrent=I,N===_.FragmentState.NOT_LOADED?I.sn==="initSegment"?this._loadInitSegment(I,k):this.bitrateTest?(this.log("Fragment "+I.sn+" of level "+I.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(I,k)):(this.startFragRequested=!0,D.prototype.loadFragment.call(this,I,k,w)):N===_.FragmentState.APPENDING?this.reduceMaxBufferLength(I.duration)&&this.fragmentTracker.removeFragment(I):((M=this.media)===null||M===void 0?void 0:M.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},R.getAppendedFrag=function(I){var k=this.fragmentTracker.getAppendedFrag(I,x.PlaylistLevelType.MAIN);return k&&"fragment"in k?k.fragment:k},R.getBufferedFrag=function(I){return this.fragmentTracker.getBufferedFrag(I,x.PlaylistLevelType.MAIN)},R.followingBufferedFrag=function(I){return I?this.getBufferedFrag(I.end+.5):null},R.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},R.nextLevelSwitch=function(){var I=this.levels,k=this.media;if(k!=null&&k.readyState){var w,M=this.getAppendedFrag(k.currentTime);if(M&&M.start>1&&this.flushMainBuffer(0,M.start-1),!k.paused&&I){var N=this.hls.nextLoadLevel,$=I[N],B=this.fragLastKbps;B&&this.fragCurrent?w=this.fragCurrent.duration*$.maxBitrate/(1e3*B)+1:w=0}else w=0;var U=this.getBufferedFrag(k.currentTime+w);if(U){var j=this.followingBufferedFrag(U);if(j){this.abortCurrentFrag();var K=j.maxStartPTS?j.maxStartPTS:j.start,G=j.duration,W=Math.max(U.end,K+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,G*.5),G*.75));this.flushMainBuffer(W,Number.POSITIVE_INFINITY)}}}},R.abortCurrentFrag=function(){var I=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,I&&I.abortRequests(),this.state){case c.State.KEY_LOADING:case c.State.FRAG_LOADING:case c.State.FRAG_LOADING_WAITING_RETRY:case c.State.PARSING:case c.State.PARSED:this.state=c.State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()},R.flushMainBuffer=function(I,k){D.prototype.flushMainBuffer.call(this,I,k,this.altAudio?"video":null)},R.onMediaAttached=function(I,k){D.prototype.onMediaAttached.call(this,I,k);var w=k.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),w.addEventListener("playing",this.onvplaying),w.addEventListener("seeked",this.onvseeked),this.gapController=new h.default(this.config,w,this.fragmentTracker,this.hls)},R.onMediaDetaching=function(){var I=this.media;I&&this.onvplaying&&this.onvseeked&&(I.removeEventListener("playing",this.onvplaying),I.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),D.prototype.onMediaDetaching.call(this)},R.onMediaPlaying=function(){this.tick()},R.onMediaSeeked=function(){var I=this.media,k=I?I.currentTime:null;(0,u.isFiniteNumber)(k)&&this.log("Media seeked to "+k.toFixed(3)),this.tick()},R.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(f.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},R.onManifestParsed=function(I,k){var w=!1,M=!1,N;k.levels.forEach(function($){N=$.audioCodec,N&&(N.indexOf("mp4a.40.2")!==-1&&(w=!0),N.indexOf("mp4a.40.5")!==-1&&(M=!0))}),this.audioCodecSwitch=w&&M&&!(0,d.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=k.levels,this.startFragRequested=!1},R.onLevelLoading=function(I,k){var w=this.levels;if(!(!w||this.state!==c.State.IDLE)){var M=w[k.level];(!M.details||M.details.live&&this.levelLastLoaded!==k.level||this.waitForCdnTuneIn(M.details))&&(this.state=c.State.WAITING_LEVEL)}},R.onLevelLoaded=function(I,k){var w,M=this.levels,N=k.level,$=k.details,B=$.totalduration;if(!M){this.warn("Levels were reset while loading level "+N);return}this.log("Level "+N+" loaded ["+$.startSN+","+$.endSN+"], cc ["+$.startCC+", "+$.endCC+"] duration:"+B);var U=this.fragCurrent;U&&(this.state===c.State.FRAG_LOADING||this.state===c.State.FRAG_LOADING_WAITING_RETRY)&&U.level!==k.level&&U.loader&&(this.state=c.State.IDLE,this.backtrackFragment=null,U.abortRequests());var j=M[N],K=0;if($.live||(w=j.details)!==null&&w!==void 0&&w.live){if($.fragments[0]||($.deltaUpdateFailed=!0),$.deltaUpdateFailed)return;K=this.alignPlaylists($,j.details)}if(j.details=$,this.levelLastLoaded=N,this.hls.trigger(f.Events.LEVEL_UPDATED,{details:$,level:N}),this.state===c.State.WAITING_LEVEL){if(this.waitForCdnTuneIn($))return;this.state=c.State.IDLE}this.startFragRequested?$.live&&this.synchronizeToLiveEdge($):this.setStartPosition($,K),this.tick()},R._handleFragmentLoadProgress=function(I){var k,w=I.frag,M=I.part,N=I.payload,$=this.levels;if(!$){this.warn("Levels were reset while fragment load was in progress. Fragment "+w.sn+" of level "+w.level+" will not be buffered");return}var B=$[w.level],U=B.details;if(!U){this.warn("Dropping fragment "+w.sn+" of level "+w.level+" after level details were reset");return}var j=B.videoCodec,K=U.PTSKnown||!U.live,G=(k=w.initSegment)===null||k===void 0?void 0:k.data,W=this._getAudioCodec(B),V=this.transmuxer=this.transmuxer||new g.default(this.hls,x.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Y=M?M.index:-1,X=Y!==-1,q=new p.ChunkMetadata(w.level,w.sn,w.stats.chunkCount,N.byteLength,Y,X),Q=this.initPTS[w.cc];V.push(N,G,W,j,w,M,U.totalduration,K,q,Q)},R.onAudioTrackSwitching=function(I,k){var w=this.altAudio,M=!!k.url,N=k.id;if(!M){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var $=this.fragCurrent;$&&(this.log("Switching to main audio track, cancel main fragment load"),$.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var B=this.hls;w&&B.trigger(f.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),B.trigger(f.Events.AUDIO_TRACK_SWITCHED,{id:N})}},R.onAudioTrackSwitched=function(I,k){var w=k.id,M=!!this.hls.audioTracks[w].url;if(M){var N=this.videoBuffer;N&&this.mediaBuffer!==N&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=N)}this.altAudio=M,this.tick()},R.onBufferCreated=function(I,k){var w=k.tracks,M,N,$=!1;for(var B in w){var U=w[B];if(U.id==="main"){if(N=B,M=U,B==="video"){var j=w[B];j&&(this.videoBuffer=j.buffer)}}else $=!0}$&&M?(this.log("Alternate track found, use "+N+".buffered to schedule main fragment loading"),this.mediaBuffer=M.buffer):this.mediaBuffer=this.media},R.onFragBuffered=function(I,k){var w=k.frag,M=k.part;if(!(w&&w.type!==x.PlaylistLevelType.MAIN)){if(this.fragContextChanged(w)){this.warn("Fragment "+w.sn+(M?" p: "+M.index:"")+" of level "+w.level+" finished buffering, but was aborted. state: "+this.state),this.state===c.State.PARSED&&(this.state=c.State.IDLE);return}var N=M?M.stats:w.stats;this.fragLastKbps=Math.round(8*N.total/(N.buffering.end-N.loading.first)),w.sn!=="initSegment"&&(this.fragPrevious=w),this.fragBufferedComplete(w,M)}},R.onError=function(I,k){if(k.type===S.ErrorTypes.KEY_SYSTEM_ERROR){this.onFragmentOrKeyLoadError(x.PlaylistLevelType.MAIN,k);return}switch(k.details){case S.ErrorDetails.FRAG_LOAD_ERROR:case S.ErrorDetails.FRAG_LOAD_TIMEOUT:case S.ErrorDetails.FRAG_PARSING_ERROR:case S.ErrorDetails.KEY_LOAD_ERROR:case S.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(x.PlaylistLevelType.MAIN,k);break;case S.ErrorDetails.LEVEL_LOAD_ERROR:case S.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==c.State.ERROR&&(k.fatal?(this.warn(""+k.details),this.state=c.State.ERROR):!k.levelRetry&&this.state===c.State.WAITING_LEVEL&&(this.state=c.State.IDLE));break;case S.ErrorDetails.BUFFER_FULL_ERROR:if(k.parent==="main"&&(this.state===c.State.PARSING||this.state===c.State.PARSED)){var w=!0,M=this.getFwdBufferInfo(this.media,x.PlaylistLevelType.MAIN);M&&M.len>.5&&(w=!this.reduceMaxBufferLength(M.len)),w&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}break}},R.checkBuffer=function(){var I=this.media,k=this.gapController;if(!(!I||!k||!I.readyState)){if(this.loadedmetadata||!m.BufferHelper.getBuffered(I).length){var w=this.state!==c.State.IDLE?this.fragCurrent:null;k.poll(this.lastCurrentTime,w)}this.lastCurrentTime=I.currentTime}},R.onFragLoadEmergencyAborted=function(){this.state=c.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},R.onBufferFlushed=function(I,k){var w=k.type;if(w!==v.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var M=(w===v.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(M,w,x.PlaylistLevelType.MAIN)}},R.onLevelsUpdated=function(I,k){this.levels=k.levels},R.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},R.seekToStartPos=function(){var I=this.media;if(I){var k=I.currentTime,w=this.startPosition;if(w>=0&&k<w){if(I.seeking){this.log("could not seek to "+w+", already seeking at "+k);return}var M=m.BufferHelper.getBuffered(I),N=M.length?M.start(0):0,$=N-w;$>0&&($<this.config.maxBufferHole||$<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+$+" to match buffer start"),w+=$,this.startPosition=w),this.log("seek to target start position "+w+" from current time "+k),I.currentTime=w}}},R._getAudioCodec=function(I){var k=this.config.defaultAudioCodec||I.audioCodec;return this.audioCodecSwap&&k&&(this.log("Swapping audio codec"),k.indexOf("mp4a.40.5")!==-1?k="mp4a.40.2":k="mp4a.40.5"),k},R._loadBitrateTestFrag=function(I,k){var w=this;I.bitrateTest=!0,this._doFragLoad(I,k).then(function(M){var N=w.hls;if(!(!M||w.fragContextChanged(I))){w.fragLoadError=0,w.state=c.State.IDLE,w.startFragRequested=!1,w.bitrateTest=!1;var $=I.stats;$.parsing.start=$.parsing.end=$.buffering.start=$.buffering.end=self.performance.now(),N.trigger(f.Events.FRAG_LOADED,M),I.bitrateTest=!1}})},R._handleTransmuxComplete=function(I){var k,w="main",M=this.hls,N=I.remuxResult,$=I.chunkMeta,B=this.getCurrentContext($);if(!B){this.warn("The loading context changed while buffering fragment "+$.sn+" of level "+$.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded($.level);return}var U=B.frag,j=B.part,K=B.level,G=N.video,W=N.text,V=N.id3,Y=N.initSegment,X=K.details,q=this.altAudio?void 0:N.audio;if(!this.fragContextChanged(U)){if(this.state=c.State.PARSING,Y){Y.tracks&&(this._bufferInitSegment(K,Y.tracks,U,$),M.trigger(f.Events.FRAG_PARSING_INIT_SEGMENT,{frag:U,id:w,tracks:Y.tracks}));var Q=Y.initPTS,te=Y.timescale;(0,u.isFiniteNumber)(Q)&&(this.initPTS[U.cc]=Q,M.trigger(f.Events.INIT_PTS_FOUND,{frag:U,id:w,initPTS:Q,timescale:te}))}if(G&&N.independent!==!1){if(X){var re=G.startPTS,ne=G.endPTS,oe=G.startDTS,he=G.endDTS;if(j)j.elementaryStreams[G.type]={startPTS:re,endPTS:ne,startDTS:oe,endDTS:he};else if(G.firstKeyFrame&&G.independent&&$.id===1&&(this.couldBacktrack=!0),G.dropped&&G.independent){var fe=this.getMainFwdBufferInfo(),ie=(fe?fe.end:this.getLoadPosition())+this.config.maxBufferHole,pe=G.firstKeyFramePTS?G.firstKeyFramePTS:re;if(ie<pe-this.config.maxBufferHole){this.backtrack(U);return}U.setElementaryStreamInfo(G.type,U.start,ne,U.start,he,!0)}U.setElementaryStreamInfo(G.type,re,ne,oe,he),this.backtrackFragment&&(this.backtrackFragment=U),this.bufferFragmentData(G,U,j,$)}}else if(N.independent===!1){this.backtrack(U);return}if(q){var xe=q.startPTS,Te=q.endPTS,Ye=q.startDTS,$e=q.endDTS;j&&(j.elementaryStreams[v.ElementaryStreamTypes.AUDIO]={startPTS:xe,endPTS:Te,startDTS:Ye,endDTS:$e}),U.setElementaryStreamInfo(v.ElementaryStreamTypes.AUDIO,xe,Te,Ye,$e),this.bufferFragmentData(q,U,j,$)}if(X&&V!==null&&V!==void 0&&(k=V.samples)!==null&&k!==void 0&&k.length){var ze={id:w,frag:U,details:X,samples:V.samples};M.trigger(f.Events.FRAG_PARSING_METADATA,ze)}if(X&&W){var ke={id:w,frag:U,details:X,samples:W.samples};M.trigger(f.Events.FRAG_PARSING_USERDATA,ke)}}},R._bufferInitSegment=function(I,k,w,M){var N=this;if(this.state===c.State.PARSING){this.audioOnly=!!k.audio&&!k.video,this.altAudio&&!this.audioOnly&&delete k.audio;var $=k.audio,B=k.video,U=k.audiovideo;if($){var j=I.audioCodec,K=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(j&&(j.indexOf("mp4a.40.5")!==-1?j="mp4a.40.2":j="mp4a.40.5"),$.metadata.channelCount!==1&&K.indexOf("firefox")===-1&&(j="mp4a.40.5")),K.indexOf("android")!==-1&&$.container!=="audio/mpeg"&&(j="mp4a.40.2",this.log("Android: force audio codec to "+j)),I.audioCodec&&I.audioCodec!==j&&this.log('Swapping manifest audio codec "'+I.audioCodec+'" for "'+j+'"'),$.levelCodec=j,$.id="main",this.log("Init audio buffer, container:"+$.container+", codecs[selected/level/parsed]=["+(j||"")+"/"+(I.audioCodec||"")+"/"+$.codec+"]")}B&&(B.levelCodec=I.videoCodec,B.id="main",this.log("Init video buffer, container:"+B.container+", codecs[level/parsed]=["+(I.videoCodec||"")+"/"+B.codec+"]")),U&&this.log("Init audiovideo buffer, container:"+U.container+", codecs[level/parsed]=["+(I.attrs.CODECS||"")+"/"+U.codec+"]"),this.hls.trigger(f.Events.BUFFER_CODECS,k),Object.keys(k).forEach(function(G){var W=k[G],V=W.initSegment;V!=null&&V.byteLength&&N.hls.trigger(f.Events.BUFFER_APPENDING,{type:G,data:V,frag:w,part:null,chunkMeta:M,parent:w.type})}),this.tick()}},R.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,x.PlaylistLevelType.MAIN)},R.backtrack=function(I){this.couldBacktrack=!0,this.backtrackFragment=I,this.resetTransmuxer(),this.flushBufferGap(I),this.fragmentTracker.removeFragment(I),this.fragPrevious=null,this.nextLoadPosition=I.start,this.state=c.State.IDLE},R.checkFragmentChanged=function(){var I=this.media,k=null;if(I&&I.readyState>1&&I.seeking===!1){var w=I.currentTime;if(m.BufferHelper.isBuffered(I,w)?k=this.getAppendedFrag(w):m.BufferHelper.isBuffered(I,w+.1)&&(k=this.getAppendedFrag(w+.1)),k){this.backtrackFragment=null;var M=this.fragPlaying,N=k.level;(!M||k.sn!==M.sn||M.level!==N||k.urlId!==M.urlId)&&(this.fragPlaying=k,this.hls.trigger(f.Events.FRAG_CHANGED,{frag:k}),(!M||M.level!==N)&&this.hls.trigger(f.Events.LEVEL_SWITCHED,{level:N}))}}},y(F,[{key:"nextLevel",get:function(){var I=this.nextBufferedFrag;return I?I.level:-1}},{key:"currentFrag",get:function(){var I=this.media;return I?this.fragPlaying||this.getAppendedFrag(I.currentTime):null}},{key:"currentProgramDateTime",get:function(){var I=this.media;if(I){var k=I.currentTime,w=this.currentFrag;if(w&&(0,u.isFiniteNumber)(k)&&(0,u.isFiniteNumber)(w.programDateTime)){var M=w.programDateTime+(k-w.start)*1e3;return new Date(M)}}return null}},{key:"currentLevel",get:function(){var I=this.currentFrag;return I?I.level:-1}},{key:"nextBufferedFrag",get:function(){var I=this.currentFrag;return I?this.followingBufferedFrag(I):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),F}(c.default)},"./src/controller/subtitle-stream-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{SubtitleStreamController:()=>T});var u=l("./src/events.ts"),c=l("./src/utils/buffer-helper.ts"),d=l("./src/controller/fragment-finders.ts"),f=l("./src/utils/discontinuities.ts"),m=l("./src/controller/level-helper.ts"),_=l("./src/controller/fragment-tracker.ts"),x=l("./src/controller/base-stream-controller.ts"),v=l("./src/types/loader.ts"),g=l("./src/types/level.ts");function p(P,C){for(var D=0;D<C.length;D++){var F=C[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,S(F.key),F)}}function h(P,C,D){return C&&p(P.prototype,C),D&&p(P,D),Object.defineProperty(P,"prototype",{writable:!1}),P}function S(P){var C=O(P,"string");return typeof C=="symbol"?C:String(C)}function O(P,C){if(typeof P!="object"||P===null)return P;var D=P[Symbol.toPrimitive];if(D!==void 0){var F=D.call(P,C||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(P)}function y(P,C){P.prototype=Object.create(C.prototype),P.prototype.constructor=P,E(P,C)}function E(P,C){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,R){return F.__proto__=R,F},E(P,C)}var b=500,T=function(P){y(C,P);function C(F,R,L){var I;return I=P.call(this,F,R,L,"[subtitle-stream-controller]")||this,I.levels=[],I.currentTrackId=-1,I.tracksBuffered=[],I.mainDetails=null,I._registerListeners(),I}var D=C.prototype;return D.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},D._registerListeners=function(){var R=this.hls;R.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),R.on(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),R.on(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),R.on(u.Events.LEVEL_LOADED,this.onLevelLoaded,this),R.on(u.Events.ERROR,this.onError,this),R.on(u.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),R.on(u.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),R.on(u.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),R.on(u.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),R.on(u.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),R.on(u.Events.FRAG_BUFFERED,this.onFragBuffered,this)},D._unregisterListeners=function(){var R=this.hls;R.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),R.off(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),R.off(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),R.off(u.Events.LEVEL_LOADED,this.onLevelLoaded,this),R.off(u.Events.ERROR,this.onError,this),R.off(u.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),R.off(u.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),R.off(u.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),R.off(u.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),R.off(u.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),R.off(u.Events.FRAG_BUFFERED,this.onFragBuffered,this)},D.startLoad=function(R){this.stopLoad(),this.state=x.State.IDLE,this.setInterval(b),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=R,this.tick()},D.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},D.onLevelLoaded=function(R,L){this.mainDetails=L.details},D.onSubtitleFragProcessed=function(R,L){var I=L.frag,k=L.success;if(this.fragPrevious=I,this.state=x.State.IDLE,!!k){var w=this.tracksBuffered[this.currentTrackId];if(w){for(var M,N=I.start,$=0;$<w.length;$++)if(N>=w[$].start&&N<=w[$].end){M=w[$];break}var B=I.start+I.duration;M?M.end=B:(M={start:N,end:B},w.push(M)),this.fragmentTracker.fragBuffered(I)}}},D.onBufferFlushing=function(R,L){var I=L.startOffset,k=L.endOffset;if(I===0&&k!==Number.POSITIVE_INFINITY){var w=this.currentTrackId,M=this.levels;if(!M.length||!M[w]||!M[w].details)return;var N=M[w].details,$=N.targetduration,B=k-$;if(B<=0)return;L.endOffsetSubtitles=Math.max(0,B),this.tracksBuffered.forEach(function(U){for(var j=0;j<U.length;){if(U[j].end<=B){U.shift();continue}else if(U[j].start<B)U[j].start=B;else break;j++}}),this.fragmentTracker.removeFragmentsInRange(I,B,v.PlaylistLevelType.SUBTITLE)}},D.onFragBuffered=function(R,L){if(!this.loadedmetadata&&L.frag.type===v.PlaylistLevelType.MAIN){var I;(I=this.media)!==null&&I!==void 0&&I.buffered.length&&(this.loadedmetadata=!0)}},D.onError=function(R,L){var I=L.frag;!I||I.type!==v.PlaylistLevelType.SUBTITLE||(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=x.State.IDLE)},D.onSubtitleTracksUpdated=function(R,L){var I=this,k=L.subtitleTracks;this.tracksBuffered=[],this.levels=k.map(function(w){return new g.Level(w)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(w){I.tracksBuffered[w.id]=[]}),this.mediaBuffer=null},D.onSubtitleTrackSwitch=function(R,L){if(this.currentTrackId=L.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}var I=this.levels[this.currentTrackId];I!=null&&I.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,I&&this.setInterval(b)},D.onSubtitleTrackLoaded=function(R,L){var I,k=L.details,w=L.id,M=this.currentTrackId,N=this.levels;if(N.length){var $=N[M];if(!(w>=N.length||w!==M||!$)){this.mediaBuffer=this.mediaBufferTimeRanges;var B=0;if(k.live||(I=$.details)!==null&&I!==void 0&&I.live){var U=this.mainDetails;if(k.deltaUpdateFailed||!U)return;var j=U.fragments[0];$.details?(B=this.alignPlaylists(k,$.details),B===0&&j&&(B=j.start,(0,m.addSliding)(k,B))):k.hasProgramDateTime&&U.hasProgramDateTime?((0,f.alignMediaPlaylistByPDT)(k,U),B=k.fragments[0].start):j&&(B=j.start,(0,m.addSliding)(k,B))}if($.details=k,this.levelLastLoaded=w,!this.startFragRequested&&(this.mainDetails||!k.live)&&this.setStartPosition($.details,B),this.tick(),k.live&&!this.fragCurrent&&this.media&&this.state===x.State.IDLE){var K=(0,d.findFragmentByPTS)(null,k.fragments,this.media.currentTime,0);K||(this.warn("Subtitle playlist not aligned with playback"),$.details=void 0)}}}},D._handleFragmentLoadComplete=function(R){var L=this,I=R.frag,k=R.payload,w=I.decryptdata,M=this.hls;if(!this.fragContextChanged(I)&&k&&k.byteLength>0&&w&&w.key&&w.iv&&w.method==="AES-128"){var N=performance.now();this.decrypter.decrypt(new Uint8Array(k),w.key.buffer,w.iv.buffer).then(function($){var B=performance.now();M.trigger(u.Events.FRAG_DECRYPTED,{frag:I,payload:$,stats:{tstart:N,tdecrypt:B}})}).catch(function($){L.warn($.name+": "+$.message),L.state=x.State.IDLE})}},D.doTick=function(){if(!this.media){this.state=x.State.IDLE;return}if(this.state===x.State.IDLE){var R=this.currentTrackId,L=this.levels;if(!L.length||!L[R]||!L[R].details)return;var I=L[R].details,k=I.targetduration,w=this.config,M=this.getLoadPosition(),N=c.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],M-k,w.maxBufferHole),$=N.end,B=N.len,U=this.getFwdBufferInfo(this.media,v.PlaylistLevelType.MAIN),j=this.getMaxBufferLength(U==null?void 0:U.len)+k;if(B>j)return;console.assert(I,"Subtitle track details are defined on idle subtitle stream controller tick");var K=I.fragments,G=K.length,W=I.edge,V=null,Y=this.fragPrevious;if($<W){var X=w.maxFragLookUpTolerance;V=(0,d.findFragmentByPTS)(Y,K,Math.max(K[0].start,$),X),!V&&Y&&Y.start<K[0].start&&(V=K[0])}else V=K[G-1];if(!V)return;V=this.mapToInitFragWhenRequired(V),this.fragmentTracker.getState(V)===_.FragmentState.NOT_LOADED&&this.loadFragment(V,I,$)}},D.getMaxBufferLength=function(R){var L=P.prototype.getMaxBufferLength.call(this);return R?Math.max(L,R):L},D.loadFragment=function(R,L,I){this.fragCurrent=R,R.sn==="initSegment"?this._loadInitSegment(R,L):(this.startFragRequested=!0,P.prototype.loadFragment.call(this,R,L,I))},h(C,[{key:"mediaBufferTimeRanges",get:function(){return new A(this.tracksBuffered[this.currentTrackId]||[])}}]),C}(x.default),A=function(C){this.buffered=void 0;var D=function(R,L,I){if(L=L>>>0,L>I-1)throw new DOMException("Failed to execute '"+R+"' on 'TimeRanges': The index provided ("+L+") is greater than the maximum bound ("+I+")");return C[L][R]};this.buffered={get length(){return C.length},end:function(R){return D("end",R,C.length)},start:function(R){return D("start",R,C.length)}}}},"./src/controller/subtitle-track-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>O});var u=l("./src/events.ts"),c=l("./src/utils/texttrack-utils.ts"),d=l("./src/controller/base-playlist-controller.ts"),f=l("./src/types/loader.ts");function m(y,E){for(var b=0;b<E.length;b++){var T=E[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,x(T.key),T)}}function _(y,E,b){return E&&m(y.prototype,E),b&&m(y,b),Object.defineProperty(y,"prototype",{writable:!1}),y}function x(y){var E=v(y,"string");return typeof E=="symbol"?E:String(E)}function v(y,E){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var T=b.call(y,E||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(y)}function g(y,E){y.prototype=Object.create(E.prototype),y.prototype.constructor=y,p(y,E)}function p(y,E){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T},p(y,E)}var h=function(y){g(E,y);function E(T){var A;return A=y.call(this,T,"[subtitle-track-controller]")||this,A.media=null,A.tracks=[],A.groupId=null,A.tracksInGroup=[],A.trackId=-1,A.selectDefaultTrack=!0,A.queuedDefaultTrack=-1,A.trackChangeListener=function(){return A.onTextTracksChanged()},A.asyncPollTrackChange=function(){return A.pollTrackChange(0)},A.useTextTrackPolling=!1,A.subtitlePollingInterval=-1,A._subtitleDisplay=!0,A.registerListeners(),A}var b=E.prototype;return b.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,y.prototype.destroy.call(this)},b.registerListeners=function(){var A=this.hls;A.on(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),A.on(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),A.on(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),A.on(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),A.on(u.Events.LEVEL_LOADING,this.onLevelLoading,this),A.on(u.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),A.on(u.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),A.on(u.Events.ERROR,this.onError,this)},b.unregisterListeners=function(){var A=this.hls;A.off(u.Events.MEDIA_ATTACHED,this.onMediaAttached,this),A.off(u.Events.MEDIA_DETACHING,this.onMediaDetaching,this),A.off(u.Events.MANIFEST_LOADING,this.onManifestLoading,this),A.off(u.Events.MANIFEST_PARSED,this.onManifestParsed,this),A.off(u.Events.LEVEL_LOADING,this.onLevelLoading,this),A.off(u.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),A.off(u.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),A.off(u.Events.ERROR,this.onError,this)},b.onMediaAttached=function(A,P){this.media=P.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},b.pollTrackChange=function(A){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,A)},b.onMediaDetaching=function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var A=S(this.media.textTracks);A.forEach(function(P){(0,c.clearCurrentCues)(P)}),this.subtitleTrack=-1,this.media=null}},b.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},b.onManifestParsed=function(A,P){this.tracks=P.subtitleTracks},b.onSubtitleTrackLoaded=function(A,P){var C=P.id,D=P.details,F=this.trackId,R=this.tracksInGroup[F];if(!R){this.warn("Invalid subtitle track id "+C);return}var L=R.details;R.details=P.details,this.log("subtitle track "+C+" loaded ["+D.startSN+"-"+D.endSN+"]"),C===this.trackId&&(this.retryCount=0,this.playlistLoaded(C,P,L))},b.onLevelLoading=function(A,P){this.switchLevel(P.level)},b.onLevelSwitching=function(A,P){this.switchLevel(P.level)},b.switchLevel=function(A){var P=this.hls.levels[A];if(P!=null&&P.textGroupIds){var C=P.textGroupIds[P.urlId];if(this.groupId!==C){var D=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,F=this.tracks.filter(function(I){return!C||I.groupId===C});this.tracksInGroup=F;var R=this.findTrackId(D==null?void 0:D.name)||this.findTrackId();this.groupId=C;var L={subtitleTracks:F};this.log("Updating subtitle tracks, "+F.length+' track(s) found in "'+C+'" group-id'),this.hls.trigger(u.Events.SUBTITLE_TRACKS_UPDATED,L),R!==-1&&this.setSubtitleTrack(R,D)}}},b.findTrackId=function(A){for(var P=this.tracksInGroup,C=0;C<P.length;C++){var D=P[C];if((!this.selectDefaultTrack||D.default)&&(!A||A===D.name))return D.id}return-1},b.onError=function(A,P){y.prototype.onError.call(this,A,P),!(P.fatal||!P.context)&&P.context.type===f.PlaylistContextType.SUBTITLE_TRACK&&P.context.id===this.trackId&&P.context.groupId===this.groupId&&this.retryLoadingOrFail(P)},b.loadPlaylist=function(A){y.prototype.loadPlaylist.call(this);var P=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(P)){var C=P.id,D=P.groupId,F=P.url;if(A)try{F=A.addDirectives(F)}catch(R){this.warn("Could not construct new URL with HLS Delivery Directives: "+R)}this.log("Loading subtitle playlist for id "+C),this.hls.trigger(u.Events.SUBTITLE_TRACK_LOADING,{url:F,id:C,groupId:D,deliveryDirectives:A||null})}},b.toggleTrackModes=function(A){var P=this,C=this.media,D=this.trackId;if(C){var F=S(C.textTracks),R=F.filter(function(k){return k.groupId===P.groupId});if(A===-1)[].slice.call(F).forEach(function(k){k.mode="disabled"});else{var L=R[D];L&&(L.mode="disabled")}var I=R[A];I&&(I.mode=this.subtitleDisplay?"showing":"hidden")}},b.setSubtitleTrack=function(A,P){var C,D=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=A;return}if(this.trackId!==A&&this.toggleTrackModes(A),!(this.trackId===A&&(A===-1||(C=D[A])!==null&&C!==void 0&&C.details)||A<-1||A>=D.length)){this.clearTimer();var F=D[A];if(this.log("Switching to subtitle track "+A),this.trackId=A,F){var R=F.id,L=F.groupId,I=L===void 0?"":L,k=F.name,w=F.type,M=F.url;this.hls.trigger(u.Events.SUBTITLE_TRACK_SWITCH,{id:R,groupId:I,name:k,type:w,url:M});var N=this.switchParams(F.url,P==null?void 0:P.details);this.loadPlaylist(N)}else this.hls.trigger(u.Events.SUBTITLE_TRACK_SWITCH,{id:A})}},b.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!(!this.media||!this.hls.config.renderTextTracksNatively)){for(var A=-1,P=S(this.media.textTracks),C=0;C<P.length;C++)if(P[C].mode==="hidden")A=C;else if(P[C].mode==="showing"){A=C;break}this.subtitleTrack!==A&&(this.subtitleTrack=A)}},_(E,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(A){this._subtitleDisplay=A,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(A){this.selectDefaultTrack=!1;var P=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(A,P)}}]),E}(d.default);function S(y){for(var E=[],b=0;b<y.length;b++){var T=y[b];(T.kind==="subtitles"||T.kind==="captions")&&T.label&&E.push(y[b])}return E}const O=h},"./src/controller/timeline-controller.ts":(o,s,l)=>{l.r(s),l.d(s,{TimelineController:()=>h});var u=l("./src/polyfills/number.ts"),c=l("./src/events.ts"),d=l("./src/utils/cea-608-parser.ts"),f=l("./src/utils/output-filter.ts"),m=l("./src/utils/webvtt-parser.ts"),_=l("./src/utils/texttrack-utils.ts"),x=l("./src/utils/imsc1-ttml-parser.ts"),v=l("./src/utils/mp4-tools.ts"),g=l("./src/types/loader.ts"),p=l("./src/utils/logger.ts"),h=function(){function E(T){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=y(),this.captionsProperties=void 0,this.hls=T,this.config=T.config,this.Cues=T.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var A=new f.default(this,"textTrack1"),P=new f.default(this,"textTrack2"),C=new f.default(this,"textTrack3"),D=new f.default(this,"textTrack4");this.cea608Parser1=new d.default(1,A,P),this.cea608Parser2=new d.default(3,C,D)}T.on(c.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),T.on(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(c.Events.MANIFEST_LOADED,this.onManifestLoaded,this),T.on(c.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),T.on(c.Events.FRAG_LOADING,this.onFragLoading,this),T.on(c.Events.FRAG_LOADED,this.onFragLoaded,this),T.on(c.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),T.on(c.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),T.on(c.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),T.on(c.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),T.on(c.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var b=E.prototype;return b.destroy=function(){var A=this.hls;A.off(c.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),A.off(c.Events.MEDIA_DETACHING,this.onMediaDetaching,this),A.off(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),A.off(c.Events.MANIFEST_LOADED,this.onManifestLoaded,this),A.off(c.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),A.off(c.Events.FRAG_LOADING,this.onFragLoading,this),A.off(c.Events.FRAG_LOADED,this.onFragLoaded,this),A.off(c.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),A.off(c.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),A.off(c.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),A.off(c.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),A.off(c.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},b.addCues=function(A,P,C,D,F){for(var R=!1,L=F.length;L--;){var I=F[L],k=O(I[0],I[1],P,C);if(k>=0&&(I[0]=Math.min(I[0],P),I[1]=Math.max(I[1],C),R=!0,k/(C-P)>.5))return}if(R||F.push([P,C]),this.config.renderTextTracksNatively){var w=this.captionsTracks[A];this.Cues.newCue(w,P,C,D)}else{var M=this.Cues.newCue(null,P,C,D);this.hls.trigger(c.Events.CUES_PARSED,{type:"captions",cues:M,track:A})}},b.onInitPtsFound=function(A,P){var C=this,D=P.frag,F=P.id,R=P.initPTS,L=P.timescale,I=this.unparsedVttFrags;F==="main"&&(this.initPTS[D.cc]=R,this.timescale[D.cc]=L),I.length&&(this.unparsedVttFrags=[],I.forEach(function(k){C.onFragLoaded(c.Events.FRAG_LOADED,k)}))},b.getExistingTrack=function(A){var P=this.media;if(P)for(var C=0;C<P.textTracks.length;C++){var D=P.textTracks[C];if(D[A])return D}return null},b.createCaptionsTrack=function(A){this.config.renderTextTracksNatively?this.createNativeTrack(A):this.createNonNativeTrack(A)},b.createNativeTrack=function(A){if(!this.captionsTracks[A]){var P=this.captionsProperties,C=this.captionsTracks,D=this.media,F=P[A],R=F.label,L=F.languageCode,I=this.getExistingTrack(A);if(I)C[A]=I,(0,_.clearCurrentCues)(C[A]),(0,_.sendAddTrackEvent)(C[A],D);else{var k=this.createTextTrack("captions",R,L);k&&(k[A]=!0,C[A]=k)}}},b.createNonNativeTrack=function(A){if(!this.nonNativeCaptionsTracks[A]){var P=this.captionsProperties[A];if(P){var C=P.label,D={_id:A,label:C,kind:"captions",default:P.media?!!P.media.default:!1,closedCaptions:P.media};this.nonNativeCaptionsTracks[A]=D,this.hls.trigger(c.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[D]})}}},b.createTextTrack=function(A,P,C){var D=this.media;if(D)return D.addTextTrack(A,P,C)},b.onMediaAttaching=function(A,P){this.media=P.media,this._cleanTracks()},b.onMediaDetaching=function(){var A=this.captionsTracks;Object.keys(A).forEach(function(P){(0,_.clearCurrentCues)(A[P]),delete A[P]}),this.nonNativeCaptionsTracks={}},b.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=y(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},b._cleanTracks=function(){var A=this.media;if(A){var P=A.textTracks;if(P)for(var C=0;C<P.length;C++)(0,_.clearCurrentCues)(P[C])}},b.onSubtitleTracksUpdated=function(A,P){var C=this;this.textTracks=[];var D=P.subtitleTracks||[],F=D.some(function(k){return k.textCodec===x.IMSC1_CODEC});if(this.config.enableWebVTT||F&&this.config.enableIMSC1){var R=this.tracks&&D&&this.tracks.length===D.length;if(this.tracks=D||[],this.config.renderTextTracksNatively){var L=this.media?this.media.textTracks:[];this.tracks.forEach(function(k,w){var M;if(w<L.length){for(var N=null,$=0;$<L.length;$++)if(S(L[$],k)){N=L[$];break}N&&(M=N)}if(M)(0,_.clearCurrentCues)(M);else{var B=C._captionsOrSubtitlesFromCharacteristics(k);M=C.createTextTrack(B,k.name,k.lang),M&&(M.mode="disabled")}M&&(M.groupId=k.groupId,C.textTracks.push(M))})}else if(!R&&this.tracks&&this.tracks.length){var I=this.tracks.map(function(k){return{label:k.name,kind:k.type.toLowerCase(),default:k.default,subtitleTrack:k}});this.hls.trigger(c.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:I})}}},b._captionsOrSubtitlesFromCharacteristics=function(A){var P;if((P=A.attrs)!==null&&P!==void 0&&P.CHARACTERISTICS){var C=/transcribes-spoken-dialog/gi.test(A.attrs.CHARACTERISTICS),D=/describes-music-and-sound/gi.test(A.attrs.CHARACTERISTICS);if(C&&D)return"captions"}return"subtitles"},b.onManifestLoaded=function(A,P){var C=this;this.config.enableCEA708Captions&&P.captions&&P.captions.forEach(function(D){var F=/(?:CC|SERVICE)([1-4])/.exec(D.instreamId);if(F){var R="textTrack"+F[1],L=C.captionsProperties[R];L&&(L.label=D.name,D.lang&&(L.languageCode=D.lang),L.media=D)}})},b.closedCaptionsForLevel=function(A){var P=this.hls.levels[A.level];return P==null?void 0:P.attrs["CLOSED-CAPTIONS"]},b.onFragLoading=function(A,P){var C=this.cea608Parser1,D=this.cea608Parser2,F=this.lastSn,R=this.lastPartIndex;if(!(!this.enabled||!(C&&D))&&P.frag.type===g.PlaylistLevelType.MAIN){var L,I,k=P.frag.sn,w=(L=P==null||(I=P.part)===null||I===void 0?void 0:I.index)!=null?L:-1;k===F+1||k===F&&w===R+1||(C.reset(),D.reset()),this.lastSn=k,this.lastPartIndex=w}},b.onFragLoaded=function(A,P){var C=P.frag,D=P.payload,F=this.initPTS,R=this.unparsedVttFrags;if(C.type===g.PlaylistLevelType.SUBTITLE)if(D.byteLength){if(!(0,u.isFiniteNumber)(F[C.cc])){R.push(P),F.length&&this.hls.trigger(c.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:C,error:new Error("Missing initial subtitle PTS")});return}var L=C.decryptdata,I="stats"in P;if(L==null||!L.encrypted||I){var k=this.tracks[C.level],w=this.vttCCs;w[C.cc]||(w[C.cc]={start:C.start,prevCC:this.prevCC,new:!0},this.prevCC=C.cc),k&&k.textCodec===x.IMSC1_CODEC?this._parseIMSC1(C,D):this._parseVTTs(C,D,w)}}else this.hls.trigger(c.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:C,error:new Error("Empty subtitle payload")})},b._parseIMSC1=function(A,P){var C=this,D=this.hls;(0,x.parseIMSC1)(P,this.initPTS[A.cc],this.timescale[A.cc],function(F){C._appendCues(F,A.level),D.trigger(c.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:A})},function(F){p.logger.log("Failed to parse IMSC1: "+F),D.trigger(c.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:A,error:F})})},b._parseVTTs=function(A,P,C){var D,F=this,R=this.hls,L=(D=A.initSegment)!==null&&D!==void 0&&D.data?(0,v.appendUint8Array)(A.initSegment.data,new Uint8Array(P)):P;(0,m.parseWebVTT)(L,this.initPTS[A.cc],this.timescale[A.cc],C,A.cc,A.start,function(I){F._appendCues(I,A.level),R.trigger(c.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:A})},function(I){F._fallbackToIMSC1(A,P),p.logger.log("Failed to parse VTT cue: "+I),R.trigger(c.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:A,error:I})})},b._fallbackToIMSC1=function(A,P){var C=this,D=this.tracks[A.level];D.textCodec||(0,x.parseIMSC1)(P,this.initPTS[A.cc],this.timescale[A.cc],function(){D.textCodec=x.IMSC1_CODEC,C._parseIMSC1(A,P)},function(){D.textCodec="wvtt"})},b._appendCues=function(A,P){var C=this.hls;if(this.config.renderTextTracksNatively){var D=this.textTracks[P];if(!D||D.mode==="disabled")return;A.forEach(function(L){return(0,_.addCueToTrack)(D,L)})}else{var F=this.tracks[P];if(!F)return;var R=F.default?"default":"subtitles"+P;C.trigger(c.Events.CUES_PARSED,{type:"subtitles",cues:A,track:R})}},b.onFragDecrypted=function(A,P){var C=P.frag;if(C.type===g.PlaylistLevelType.SUBTITLE){if(!(0,u.isFiniteNumber)(this.initPTS[C.cc])){this.unparsedVttFrags.push(P);return}this.onFragLoaded(c.Events.FRAG_LOADED,P)}},b.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},b.onFragParsingUserdata=function(A,P){var C=this.cea608Parser1,D=this.cea608Parser2;if(!(!this.enabled||!(C&&D))){var F=P.frag,R=P.samples;if(!(F.type===g.PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(F)==="NONE"))for(var L=0;L<R.length;L++){var I=R[L].bytes;if(I){var k=this.extractCea608Data(I);C.addData(R[L].pts,k[0]),D.addData(R[L].pts,k[1])}}}},b.onBufferFlushing=function(A,P){var C=P.startOffset,D=P.endOffset,F=P.endOffsetSubtitles,R=P.type,L=this.media;if(!(!L||L.currentTime<D)){if(!R||R==="video"){var I=this.captionsTracks;Object.keys(I).forEach(function(w){return(0,_.removeCuesInRange)(I[w],C,D)})}if(this.config.renderTextTracksNatively&&C===0&&F!==void 0){var k=this.textTracks;Object.keys(k).forEach(function(w){return(0,_.removeCuesInRange)(k[w],C,F)})}}},b.extractCea608Data=function(A){for(var P=[[],[]],C=A[0]&31,D=2,F=0;F<C;F++){var R=A[D++],L=127&A[D++],I=127&A[D++];if(!(L===0&&I===0)){var k=(4&R)!==0;if(k){var w=3&R;(w===0||w===1)&&(P[w].push(L),P[w].push(I))}}}return P},E}();function S(E,b){return E&&E.label===b.name&&!(E.textTrack1||E.textTrack2)}function O(E,b,T,A){return Math.min(b,A)-Math.max(E,T)}function y(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}},"./src/crypt/aes-crypto.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>u});var u=function(){function c(f,m){this.subtle=void 0,this.aesIV=void 0,this.subtle=f,this.aesIV=m}var d=c.prototype;return d.decrypt=function(m,_){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},_,m)},c}()},"./src/crypt/aes-decryptor.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>d,removePadding:()=>c});var u=l("./src/utils/typed-array.ts");function c(f){var m=f.byteLength,_=m&&new DataView(f.buffer).getUint8(m-1);return _?(0,u.sliceUint8)(f,0,m-_):f}var d=function(){function f(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var m=f.prototype;return m.uint8ArrayToUint32Array_=function(x){for(var v=new DataView(x),g=new Uint32Array(4),p=0;p<4;p++)g[p]=v.getUint32(p*4);return g},m.initTable=function(){var x=this.sBox,v=this.invSBox,g=this.subMix,p=g[0],h=g[1],S=g[2],O=g[3],y=this.invSubMix,E=y[0],b=y[1],T=y[2],A=y[3],P=new Uint32Array(256),C=0,D=0,F=0;for(F=0;F<256;F++)F<128?P[F]=F<<1:P[F]=F<<1^283;for(F=0;F<256;F++){var R=D^D<<1^D<<2^D<<3^D<<4;R=R>>>8^R&255^99,x[C]=R,v[R]=C;var L=P[C],I=P[L],k=P[I],w=P[R]*257^R*16843008;p[C]=w<<24|w>>>8,h[C]=w<<16|w>>>16,S[C]=w<<8|w>>>24,O[C]=w,w=k*16843009^I*65537^L*257^C*16843008,E[R]=w<<24|w>>>8,b[R]=w<<16|w>>>16,T[R]=w<<8|w>>>24,A[R]=w,C?(C=L^P[P[P[k^L]]],D^=P[P[D]]):C=D=1}},m.expandKey=function(x){for(var v=this.uint8ArrayToUint32Array_(x),g=!0,p=0;p<v.length&&g;)g=v[p]===this.key[p],p++;if(!g){this.key=v;var h=this.keySize=v.length;if(h!==4&&h!==6&&h!==8)throw new Error("Invalid aes key size="+h);var S=this.ksRows=(h+6+1)*4,O,y,E=this.keySchedule=new Uint32Array(S),b=this.invKeySchedule=new Uint32Array(S),T=this.sBox,A=this.rcon,P=this.invSubMix,C=P[0],D=P[1],F=P[2],R=P[3],L,I;for(O=0;O<S;O++){if(O<h){L=E[O]=v[O];continue}I=L,O%h===0?(I=I<<8|I>>>24,I=T[I>>>24]<<24|T[I>>>16&255]<<16|T[I>>>8&255]<<8|T[I&255],I^=A[O/h|0]<<24):h>6&&O%h===4&&(I=T[I>>>24]<<24|T[I>>>16&255]<<16|T[I>>>8&255]<<8|T[I&255]),E[O]=L=(E[O-h]^I)>>>0}for(y=0;y<S;y++)O=S-y,y&3?I=E[O]:I=E[O-4],y<4||O<=4?b[y]=I:b[y]=C[T[I>>>24]]^D[T[I>>>16&255]]^F[T[I>>>8&255]]^R[T[I&255]],b[y]=b[y]>>>0}},m.networkToHostOrderSwap=function(x){return x<<24|(x&65280)<<8|(x&16711680)>>8|x>>>24},m.decrypt=function(x,v,g){for(var p=this.keySize+6,h=this.invKeySchedule,S=this.invSBox,O=this.invSubMix,y=O[0],E=O[1],b=O[2],T=O[3],A=this.uint8ArrayToUint32Array_(g),P=A[0],C=A[1],D=A[2],F=A[3],R=new Int32Array(x),L=new Int32Array(R.length),I,k,w,M,N,$,B,U,j,K,G,W,V,Y,X=this.networkToHostOrderSwap;v<R.length;){for(j=X(R[v]),K=X(R[v+1]),G=X(R[v+2]),W=X(R[v+3]),N=j^h[0],$=W^h[1],B=G^h[2],U=K^h[3],V=4,Y=1;Y<p;Y++)I=y[N>>>24]^E[$>>16&255]^b[B>>8&255]^T[U&255]^h[V],k=y[$>>>24]^E[B>>16&255]^b[U>>8&255]^T[N&255]^h[V+1],w=y[B>>>24]^E[U>>16&255]^b[N>>8&255]^T[$&255]^h[V+2],M=y[U>>>24]^E[N>>16&255]^b[$>>8&255]^T[B&255]^h[V+3],N=I,$=k,B=w,U=M,V=V+4;I=S[N>>>24]<<24^S[$>>16&255]<<16^S[B>>8&255]<<8^S[U&255]^h[V],k=S[$>>>24]<<24^S[B>>16&255]<<16^S[U>>8&255]<<8^S[N&255]^h[V+1],w=S[B>>>24]<<24^S[U>>16&255]<<16^S[N>>8&255]<<8^S[$&255]^h[V+2],M=S[U>>>24]<<24^S[N>>16&255]<<16^S[$>>8&255]<<8^S[B&255]^h[V+3],L[v]=X(I^P),L[v+1]=X(M^C),L[v+2]=X(w^D),L[v+3]=X(k^F),P=j,C=K,D=G,F=W,v=v+4}return L.buffer},f}()},"./src/crypt/decrypter.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>v});var u=l("./src/crypt/aes-crypto.ts"),c=l("./src/crypt/fast-aes-key.ts"),d=l("./src/crypt/aes-decryptor.ts"),f=l("./src/utils/logger.ts"),m=l("./src/utils/mp4-tools.ts"),_=l("./src/utils/typed-array.ts"),x=16,v=function(){function g(h,S){var O=S===void 0?{}:S,y=O.removePKCS7Padding,E=y===void 0?!0:y;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=h.enableSoftwareAES,this.removePKCS7Padding=E,E)try{var b=self.crypto;b&&(this.subtle=b.subtle||b.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var p=g.prototype;return p.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},p.isSync=function(){return this.useSoftware},p.flush=function(){var S=this.currentResult,O=this.remainderData;if(!S||O)return this.reset(),null;var y=new Uint8Array(S);return this.reset(),this.removePKCS7Padding?(0,d.removePadding)(y):y},p.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},p.decrypt=function(S,O,y){var E=this;return this.useSoftware?new Promise(function(b,T){E.softwareDecrypt(new Uint8Array(S),O,y);var A=E.flush();A?b(A.buffer):T(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(S),O,y)},p.softwareDecrypt=function(S,O,y){var E=this.currentIV,b=this.currentResult,T=this.remainderData;this.logOnce("JS AES decrypt"),T&&(S=(0,m.appendUint8Array)(T,S),this.remainderData=null);var A=this.getValidChunk(S);if(!A.length)return null;E&&(y=E);var P=this.softwareDecrypter;P||(P=this.softwareDecrypter=new d.default),P.expandKey(O);var C=b;return this.currentResult=P.decrypt(A.buffer,0,y),this.currentIV=(0,_.sliceUint8)(A,-16).buffer,C||null},p.webCryptoDecrypt=function(S,O,y){var E=this,b=this.subtle;return(this.key!==O||!this.fastAesKey)&&(this.key=O,this.fastAesKey=new c.default(b,O)),this.fastAesKey.expandKey().then(function(T){if(!b)return Promise.reject(new Error("web crypto not initialized"));E.logOnce("WebCrypto AES decrypt");var A=new u.default(b,new Uint8Array(y));return A.decrypt(S.buffer,T)}).catch(function(T){return f.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+T.name+": "+T.message),E.onWebCryptoError(S,O,y)})},p.onWebCryptoError=function(S,O,y){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(S,O,y);var E=this.flush();if(E)return E.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},p.getValidChunk=function(S){var O=S,y=S.length-S.length%x;return y!==S.length&&(O=(0,_.sliceUint8)(S,0,y),this.remainderData=(0,_.sliceUint8)(S,y)),O},p.logOnce=function(S){this.logEnabled&&(f.logger.log("[decrypter]: "+S),this.logEnabled=!1)},g}()},"./src/crypt/fast-aes-key.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>u});var u=function(){function c(f,m){this.subtle=void 0,this.key=void 0,this.subtle=f,this.key=m}var d=c.prototype;return d.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},c}()},"./src/demux/aacdemuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>v});var u=l("./src/demux/base-audio-demuxer.ts"),c=l("./src/demux/adts.ts"),d=l("./src/utils/logger.ts"),f=l("./src/demux/id3.ts");function m(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,_(g,p)}function _(g,p){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,O){return S.__proto__=O,S},_(g,p)}var x=function(g){m(p,g);function p(S,O){var y;return y=g.call(this)||this,y.observer=void 0,y.config=void 0,y.observer=S,y.config=O,y}var h=p.prototype;return h.resetInitSegment=function(O,y,E,b){g.prototype.resetInitSegment.call(this,O,y,E,b),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:y,duration:b,inputTimeScale:9e4,dropped:0}},p.probe=function(O){if(!O)return!1;for(var y=f.getID3Data(O,0)||[],E=y.length,b=O.length;E<b;E++)if(c.probe(O,E))return d.logger.log("ADTS sync word found !"),!0;return!1},h.canParse=function(O,y){return c.canParse(O,y)},h.appendFrame=function(O,y,E){c.initTrackConfig(O,this.observer,y,E,O.manifestCodec);var b=c.appendFrame(O,y,E,this.basePTS,this.frameIndex);if(b&&b.missing===0)return b},p}(u.default);const v=x},"./src/demux/adts.ts":(o,s,l)=>{l.r(s),l.d(s,{appendFrame:()=>E,canGetFrameLength:()=>v,canParse:()=>p,getAudioConfig:()=>f,getFrameDuration:()=>O,getFullFrameLength:()=>x,getHeaderLength:()=>_,initTrackConfig:()=>S,isHeader:()=>g,isHeaderPattern:()=>m,parseFrameHeader:()=>y,probe:()=>h});var u=l("./src/utils/logger.ts"),c=l("./src/errors.ts"),d=l("./src/events.ts");function f(b,T,A,P){var C,D,F,R,L=navigator.userAgent.toLowerCase(),I=P,k=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];C=((T[A+2]&192)>>>6)+1;var w=(T[A+2]&60)>>>2;if(w>k.length-1){b.trigger(d.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+w});return}return F=(T[A+2]&1)<<2,F|=(T[A+3]&192)>>>6,u.logger.log("manifest codec:"+P+", ADTS type:"+C+", samplingIndex:"+w),/firefox/i.test(L)?w>=6?(C=5,R=new Array(4),D=w-3):(C=2,R=new Array(2),D=w):L.indexOf("android")!==-1?(C=2,R=new Array(2),D=w):(C=5,R=new Array(4),P&&(P.indexOf("mp4a.40.29")!==-1||P.indexOf("mp4a.40.5")!==-1)||!P&&w>=6?D=w-3:((P&&P.indexOf("mp4a.40.2")!==-1&&(w>=6&&F===1||/vivaldi/i.test(L))||!P&&F===1)&&(C=2,R=new Array(2)),D=w)),R[0]=C<<3,R[0]|=(w&14)>>1,R[1]|=(w&1)<<7,R[1]|=F<<3,C===5&&(R[1]|=(D&14)>>1,R[2]=(D&1)<<7,R[2]|=8,R[3]=0),{config:R,samplerate:k[w],channelCount:F,codec:"mp4a.40."+C,manifestCodec:I}}function m(b,T){return b[T]===255&&(b[T+1]&246)===240}function _(b,T){return b[T+1]&1?7:9}function x(b,T){return(b[T+3]&3)<<11|b[T+4]<<3|(b[T+5]&224)>>>5}function v(b,T){return T+5<b.length}function g(b,T){return T+1<b.length&&m(b,T)}function p(b,T){return v(b,T)&&m(b,T)&&x(b,T)<=b.length-T}function h(b,T){if(g(b,T)){var A=_(b,T);if(T+A>=b.length)return!1;var P=x(b,T);if(P<=A)return!1;var C=T+P;return C===b.length||g(b,C)}return!1}function S(b,T,A,P,C){if(!b.samplerate){var D=f(T,A,P,C);if(!D)return;b.config=D.config,b.samplerate=D.samplerate,b.channelCount=D.channelCount,b.codec=D.codec,b.manifestCodec=D.manifestCodec,u.logger.log("parsed codec:"+b.codec+", rate:"+D.samplerate+", channels:"+D.channelCount)}}function O(b){return 9216e4/b}function y(b,T){var A=_(b,T);if(T+A<=b.length){var P=x(b,T)-A;if(P>0)return{headerLength:A,frameLength:P}}}function E(b,T,A,P,C){var D=O(b.samplerate),F=P+C*D,R=y(T,A),L;if(R){var I=R.frameLength,k=R.headerLength,w=k+I,M=Math.max(0,A+w-T.length);M?(L=new Uint8Array(w-k),L.set(T.subarray(A+k,T.length),0)):L=T.subarray(A+k,A+w);var N={unit:L,pts:F};return M||b.samples.push(N),{sample:N,length:w,missing:M}}var $=T.length-A;L=new Uint8Array($),L.set(T.subarray(A,T.length),0);var B={unit:L,pts:F};return{sample:B,length:$,missing:-1}}},"./src/demux/base-audio-demuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>g,initPTSFn:()=>v});var u=l("./src/polyfills/number.ts"),c=l("./src/demux/id3.ts"),d=l("./src/types/demuxer.ts"),f=l("./src/demux/dummy-demuxed-track.ts"),m=l("./src/utils/mp4-tools.ts"),_=l("./src/utils/typed-array.ts"),x=function(){function p(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var h=p.prototype;return h.resetInitSegment=function(O,y,E,b){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},h.resetTimeStamp=function(O){this.initPTS=O,this.resetContiguity()},h.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},h.canParse=function(O,y){return!1},h.appendFrame=function(O,y,E){},h.demux=function(O,y){this.cachedData&&(O=(0,m.appendUint8Array)(this.cachedData,O),this.cachedData=null);var E=c.getID3Data(O,0),b=E?E.length:0,T,A=this._audioTrack,P=this._id3Track,C=E?c.getTimeStamp(E):void 0,D=O.length;for((this.basePTS===null||this.frameIndex===0&&(0,u.isFiniteNumber)(C))&&(this.basePTS=v(C,y,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),E&&E.length>0&&P.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:E,type:d.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});b<D;){if(this.canParse(O,b)){var F=this.appendFrame(A,O,b);F?(this.frameIndex++,this.lastPTS=F.sample.pts,b+=F.length,T=b):b=D}else c.canParse(O,b)?(E=c.getID3Data(O,b),P.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:E,type:d.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),b+=E.length,T=b):b++;if(b===D&&T!==D){var R=(0,_.sliceUint8)(O,T);this.cachedData?this.cachedData=(0,m.appendUint8Array)(this.cachedData,R):this.cachedData=R}}return{audioTrack:A,videoTrack:(0,f.dummyTrack)(),id3Track:P,textTrack:(0,f.dummyTrack)()}},h.demuxSampleAes=function(O,y,E){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},h.flush=function(O){var y=this.cachedData;return y&&(this.cachedData=null,this.demux(y,0)),{audioTrack:this._audioTrack,videoTrack:(0,f.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,f.dummyTrack)()}},h.destroy=function(){},p}(),v=function(h,S,O){return(0,u.isFiniteNumber)(h)?h*90:S*9e4+(O||0)};const g=x},"./src/demux/chunk-cache.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>u});var u=function(){function d(){this.chunks=[],this.dataLength=0}var f=d.prototype;return f.push=function(_){this.chunks.push(_),this.dataLength+=_.length},f.flush=function(){var _=this.chunks,x=this.dataLength,v;if(_.length)_.length===1?v=_[0]:v=c(_,x);else return new Uint8Array(0);return this.reset(),v},f.reset=function(){this.chunks.length=0,this.dataLength=0},d}();function c(d,f){for(var m=new Uint8Array(f),_=0,x=0;x<d.length;x++){var v=d[x];m.set(v,_),_+=v.length}return m}},"./src/demux/dummy-demuxed-track.ts":(o,s,l)=>{l.r(s),l.d(s,{dummyTrack:()=>u});function u(c,d){return c===void 0&&(c=""),d===void 0&&(d=9e4),{type:c,id:-1,pid:-1,inputTimeScale:d,sequenceNumber:-1,samples:[],dropped:0}}},"./src/demux/exp-golomb.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>d});var u=l("./src/utils/logger.ts"),c=function(){function f(_){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=_,this.bytesAvailable=_.byteLength,this.word=0,this.bitsAvailable=0}var m=f.prototype;return m.loadWord=function(){var x=this.data,v=this.bytesAvailable,g=x.byteLength-v,p=new Uint8Array(4),h=Math.min(4,v);if(h===0)throw new Error("no bytes available");p.set(x.subarray(g,g+h)),this.word=new DataView(p.buffer).getUint32(0),this.bitsAvailable=h*8,this.bytesAvailable-=h},m.skipBits=function(x){var v;x=Math.min(x,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>x?(this.word<<=x,this.bitsAvailable-=x):(x-=this.bitsAvailable,v=x>>3,x-=v<<3,this.bytesAvailable-=v,this.loadWord(),this.word<<=x,this.bitsAvailable-=x)},m.readBits=function(x){var v=Math.min(this.bitsAvailable,x),g=this.word>>>32-v;if(x>32&&u.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=v,this.bitsAvailable>0)this.word<<=v;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return v=x-v,v>0&&this.bitsAvailable?g<<v|this.readBits(v):g},m.skipLZ=function(){var x;for(x=0;x<this.bitsAvailable;++x)if(this.word&2147483648>>>x)return this.word<<=x,this.bitsAvailable-=x,x;return this.loadWord(),x+this.skipLZ()},m.skipUEG=function(){this.skipBits(1+this.skipLZ())},m.skipEG=function(){this.skipBits(1+this.skipLZ())},m.readUEG=function(){var x=this.skipLZ();return this.readBits(x+1)-1},m.readEG=function(){var x=this.readUEG();return 1&x?1+x>>>1:-1*(x>>>1)},m.readBoolean=function(){return this.readBits(1)===1},m.readUByte=function(){return this.readBits(8)},m.readUShort=function(){return this.readBits(16)},m.readUInt=function(){return this.readBits(32)},m.skipScalingList=function(x){for(var v=8,g=8,p,h=0;h<x;h++)g!==0&&(p=this.readEG(),g=(v+p+256)%256),v=g===0?v:g},m.readSPS=function(){var x=0,v=0,g=0,p=0,h,S,O,y=this.readUByte.bind(this),E=this.readBits.bind(this),b=this.readUEG.bind(this),T=this.readBoolean.bind(this),A=this.skipBits.bind(this),P=this.skipEG.bind(this),C=this.skipUEG.bind(this),D=this.skipScalingList.bind(this);y();var F=y();if(E(5),A(3),y(),C(),F===100||F===110||F===122||F===244||F===44||F===83||F===86||F===118||F===128){var R=b();if(R===3&&A(1),C(),C(),A(1),T())for(S=R!==3?8:12,O=0;O<S;O++)T()&&(O<6?D(16):D(64))}C();var L=b();if(L===0)b();else if(L===1)for(A(1),P(),P(),h=b(),O=0;O<h;O++)P();C(),A(1);var I=b(),k=b(),w=E(1);w===0&&A(1),A(1),T()&&(x=b(),v=b(),g=b(),p=b());var M=[1,1];if(T()&&T()){var N=y();switch(N){case 1:M=[1,1];break;case 2:M=[12,11];break;case 3:M=[10,11];break;case 4:M=[16,11];break;case 5:M=[40,33];break;case 6:M=[24,11];break;case 7:M=[20,11];break;case 8:M=[32,11];break;case 9:M=[80,33];break;case 10:M=[18,11];break;case 11:M=[15,11];break;case 12:M=[64,33];break;case 13:M=[160,99];break;case 14:M=[4,3];break;case 15:M=[3,2];break;case 16:M=[2,1];break;case 255:{M=[y()<<8|y(),y()<<8|y()];break}}}return{width:Math.ceil((I+1)*16-x*2-v*2),height:(2-w)*(k+1)*16-(w?2:4)*(g+p),pixelRatio:M}},m.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},f}();const d=c},"./src/demux/id3.ts":(o,s,l)=>{l.r(s),l.d(s,{canParse:()=>m,decodeFrame:()=>p,getID3Data:()=>d,getID3Frames:()=>g,getTimeStamp:()=>_,isFooter:()=>c,isHeader:()=>u,isTimeStampFrame:()=>x,testables:()=>b,utf8ArrayToStr:()=>E});var u=function(C,D){return D+10<=C.length&&C[D]===73&&C[D+1]===68&&C[D+2]===51&&C[D+3]<255&&C[D+4]<255&&C[D+6]<128&&C[D+7]<128&&C[D+8]<128&&C[D+9]<128},c=function(C,D){return D+10<=C.length&&C[D]===51&&C[D+1]===68&&C[D+2]===73&&C[D+3]<255&&C[D+4]<255&&C[D+6]<128&&C[D+7]<128&&C[D+8]<128&&C[D+9]<128},d=function(C,D){for(var F=D,R=0;u(C,D);){R+=10;var L=f(C,D+6);R+=L,c(C,D+10)&&(R+=10),D+=R}if(R>0)return C.subarray(F,F+R)},f=function(C,D){var F=0;return F=(C[D]&127)<<21,F|=(C[D+1]&127)<<14,F|=(C[D+2]&127)<<7,F|=C[D+3]&127,F},m=function(C,D){return u(C,D)&&f(C,D+6)+10<=C.length-D},_=function(C){for(var D=g(C),F=0;F<D.length;F++){var R=D[F];if(x(R))return y(R)}},x=function(C){return C&&C.key==="PRIV"&&C.info==="com.apple.streaming.transportStreamTimestamp"},v=function(C){var D=String.fromCharCode(C[0],C[1],C[2],C[3]),F=f(C,4),R=10;return{type:D,size:F,data:C.subarray(R,R+F)}},g=function(C){for(var D=0,F=[];u(C,D);){var R=f(C,D+6);D+=10;for(var L=D+R;D+8<L;){var I=v(C.subarray(D)),k=p(I);k&&F.push(k),D+=I.size+10}c(C,D)&&(D+=10)}return F},p=function(C){return C.type==="PRIV"?h(C):C.type[0]==="W"?O(C):S(C)},h=function(C){if(!(C.size<2)){var D=E(C.data,!0),F=new Uint8Array(C.data.subarray(D.length+1));return{key:C.type,info:D,data:F.buffer}}},S=function(C){if(!(C.size<2)){if(C.type==="TXXX"){var D=1,F=E(C.data.subarray(D),!0);D+=F.length+1;var R=E(C.data.subarray(D));return{key:C.type,info:F,data:R}}var L=E(C.data.subarray(1));return{key:C.type,data:L}}},O=function(C){if(C.type==="WXXX"){if(C.size<2)return;var D=1,F=E(C.data.subarray(D),!0);D+=F.length+1;var R=E(C.data.subarray(D));return{key:C.type,info:F,data:R}}var L=E(C.data);return{key:C.type,data:L}},y=function(C){if(C.data.byteLength===8){var D=new Uint8Array(C.data),F=D[3]&1,R=(D[4]<<23)+(D[5]<<15)+(D[6]<<7)+D[7];return R/=45,F&&(R+=4772185884e-2),Math.round(R)}},E=function(C,D){D===void 0&&(D=!1);var F=A();if(F){var R=F.decode(C);if(D){var L=R.indexOf("\0");return L!==-1?R.substring(0,L):R}return R.replace(/\0/g,"")}for(var I=C.length,k,w,M,N="",$=0;$<I;){if(k=C[$++],k===0&&D)return N;if(k===0||k===3)continue;switch(k>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:N+=String.fromCharCode(k);break;case 12:case 13:w=C[$++],N+=String.fromCharCode((k&31)<<6|w&63);break;case 14:w=C[$++],M=C[$++],N+=String.fromCharCode((k&15)<<12|(w&63)<<6|(M&63)<<0);break}}return N},b={decodeTextFrame:S},T;function A(){return!T&&typeof self.TextDecoder<"u"&&(T=new self.TextDecoder("utf-8")),T}},"./src/demux/mp3demuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>v});var u=l("./src/demux/base-audio-demuxer.ts"),c=l("./src/demux/id3.ts"),d=l("./src/utils/logger.ts"),f=l("./src/demux/mpegaudio.ts");function m(g,p){g.prototype=Object.create(p.prototype),g.prototype.constructor=g,_(g,p)}function _(g,p){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,O){return S.__proto__=O,S},_(g,p)}var x=function(g){m(p,g);function p(){return g.apply(this,arguments)||this}var h=p.prototype;return h.resetInitSegment=function(O,y,E,b){g.prototype.resetInitSegment.call(this,O,y,E,b),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:y,duration:b,inputTimeScale:9e4,dropped:0}},p.probe=function(O){if(!O)return!1;for(var y=c.getID3Data(O,0)||[],E=y.length,b=O.length;E<b;E++)if(f.probe(O,E))return d.logger.log("MPEG Audio sync word found !"),!0;return!1},h.canParse=function(O,y){return f.canParse(O,y)},h.appendFrame=function(O,y,E){if(this.basePTS!==null)return f.appendFrame(O,y,E,this.basePTS,this.frameIndex)},p}(u.default);const v=x},"./src/demux/mp4demuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>x});var u=l("./src/polyfills/number.ts"),c=l("./src/types/demuxer.ts"),d=l("./src/utils/mp4-tools.ts"),f=l("./src/demux/dummy-demuxed-track.ts"),m=/\/emsg[-/]ID3/i,_=function(){function v(p,h){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=h}var g=v.prototype;return g.resetTimeStamp=function(){},g.resetInitSegment=function(h,S,O,y){var E=this.videoTrack=(0,f.dummyTrack)("video",1),b=this.audioTrack=(0,f.dummyTrack)("audio",1),T=this.txtTrack=(0,f.dummyTrack)("text",1);if(this.id3Track=(0,f.dummyTrack)("id3",1),this.timeOffset=0,!(!h||!h.byteLength)){var A=(0,d.parseInitSegment)(h);if(A.video){var P=A.video,C=P.id,D=P.timescale,F=P.codec;E.id=C,E.timescale=T.timescale=D,E.codec=F}if(A.audio){var R=A.audio,L=R.id,I=R.timescale,k=R.codec;b.id=L,b.timescale=I,b.codec=k}T.id=d.RemuxerTrackIdConfig.text,E.sampleDuration=0,E.duration=b.duration=y}},g.resetContiguity=function(){},v.probe=function(h){return h=h.length>16384?h.subarray(0,16384):h,(0,d.findBox)(h,["moof"]).length>0},g.demux=function(h,S){this.timeOffset=S;var O=h,y=this.videoTrack,E=this.txtTrack;if(this.config.progressive){this.remainderData&&(O=(0,d.appendUint8Array)(this.remainderData,h));var b=(0,d.segmentValidRange)(O);this.remainderData=b.remainder,y.samples=b.valid||new Uint8Array}else y.samples=O;var T=this.extractID3Track(y,S);return E.samples=(0,d.parseSamples)(S,y),{videoTrack:y,audioTrack:this.audioTrack,id3Track:T,textTrack:this.txtTrack}},g.flush=function(){var h=this.timeOffset,S=this.videoTrack,O=this.txtTrack;S.samples=this.remainderData||new Uint8Array,this.remainderData=null;var y=this.extractID3Track(S,this.timeOffset);return O.samples=(0,d.parseSamples)(h,S),{videoTrack:S,audioTrack:(0,f.dummyTrack)(),id3Track:y,textTrack:(0,f.dummyTrack)()}},g.extractID3Track=function(h,S){var O=this.id3Track;if(h.samples.length){var y=(0,d.findBox)(h.samples,["emsg"]);y&&y.forEach(function(E){var b=(0,d.parseEmsg)(E);if(m.test(b.schemeIdUri)){var T=(0,u.isFiniteNumber)(b.presentationTime)?b.presentationTime/b.timeScale:S+b.presentationTimeDelta/b.timeScale,A=b.eventDuration===4294967295?Number.POSITIVE_INFINITY:b.eventDuration/b.timeScale;A<=.001&&(A=Number.POSITIVE_INFINITY);var P=b.payload;O.samples.push({data:P,len:P.byteLength,dts:T,pts:T,type:c.MetadataSchema.emsg,duration:A})}})}return O},g.demuxSampleAes=function(h,S,O){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},g.destroy=function(){},v}();const x=_},"./src/demux/mpegaudio.ts":(o,s,l)=>{l.r(s),l.d(s,{appendFrame:()=>_,canParse:()=>p,isHeader:()=>g,isHeaderPattern:()=>v,parseHeader:()=>x,probe:()=>h});var u=null,c=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],d=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],f=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],m=[0,1,1,4];function _(S,O,y,E,b){if(!(y+24>O.length)){var T=x(O,y);if(T&&y+T.frameLength<=O.length){var A=T.samplesPerFrame*9e4/T.sampleRate,P=E+b*A,C={unit:O.subarray(y,y+T.frameLength),pts:P,dts:P};return S.config=[],S.channelCount=T.channelCount,S.samplerate=T.sampleRate,S.samples.push(C),{sample:C,length:T.frameLength,missing:0}}}}function x(S,O){var y=S[O+1]>>3&3,E=S[O+1]>>1&3,b=S[O+2]>>4&15,T=S[O+2]>>2&3;if(y!==1&&b!==0&&b!==15&&T!==3){var A=S[O+2]>>1&1,P=S[O+3]>>6,C=y===3?3-E:E===3?3:4,D=c[C*14+b-1]*1e3,F=y===3?0:y===2?1:2,R=d[F*3+T],L=P===3?1:2,I=f[y][E],k=m[E],w=I*8*k,M=Math.floor(I*D/R+A)*k;if(u===null){var N=navigator.userAgent||"",$=N.match(/Chrome\/(\d+)/i);u=$?parseInt($[1]):0}var B=!!u&&u<=87;return B&&E===2&&D>=224e3&&P===0&&(S[O+3]=S[O+3]|128),{sampleRate:R,channelCount:L,frameLength:M,samplesPerFrame:w}}}function v(S,O){return S[O]===255&&(S[O+1]&224)===224&&(S[O+1]&6)!==0}function g(S,O){return O+1<S.length&&v(S,O)}function p(S,O){var y=4;return v(S,O)&&y<=S.length-O}function h(S,O){if(O+1<S.length&&v(S,O)){var y=4,E=x(S,O),b=y;E!=null&&E.frameLength&&(b=E.frameLength);var T=O+b;return T===S.length||g(S,T)}return!1}},"./src/demux/sample-aes.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>f});var u=l("./src/crypt/decrypter.ts"),c=l("./src/utils/mp4-tools.ts"),d=function(){function m(x,v,g){this.keyData=void 0,this.decrypter=void 0,this.keyData=g,this.decrypter=new u.default(v,{removePKCS7Padding:!1})}var _=m.prototype;return _.decryptBuffer=function(v){return this.decrypter.decrypt(v,this.keyData.key.buffer,this.keyData.iv.buffer)},_.decryptAacSample=function(v,g,p){var h=this,S=v[g].unit;if(!(S.length<=16)){var O=S.subarray(16,S.length-S.length%16),y=O.buffer.slice(O.byteOffset,O.byteOffset+O.length);this.decryptBuffer(y).then(function(E){var b=new Uint8Array(E);S.set(b,16),h.decrypter.isSync()||h.decryptAacSamples(v,g+1,p)})}},_.decryptAacSamples=function(v,g,p){for(;;g++){if(g>=v.length){p();return}if(!(v[g].unit.length<32)&&(this.decryptAacSample(v,g,p),!this.decrypter.isSync()))return}},_.getAvcEncryptedData=function(v){for(var g=Math.floor((v.length-48)/160)*16+16,p=new Int8Array(g),h=0,S=32;S<v.length-16;S+=160,h+=16)p.set(v.subarray(S,S+16),h);return p},_.getAvcDecryptedUnit=function(v,g){for(var p=new Uint8Array(g),h=0,S=32;S<v.length-16;S+=160,h+=16)v.set(p.subarray(h,h+16),S);return v},_.decryptAvcSample=function(v,g,p,h,S){var O=this,y=(0,c.discardEPB)(S.data),E=this.getAvcEncryptedData(y);this.decryptBuffer(E.buffer).then(function(b){S.data=O.getAvcDecryptedUnit(y,b),O.decrypter.isSync()||O.decryptAvcSamples(v,g,p+1,h)})},_.decryptAvcSamples=function(v,g,p,h){if(v instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;g++,p=0){if(g>=v.length){h();return}for(var S=v[g].units;!(p>=S.length);p++){var O=S[p];if(!(O.data.length<=48||O.type!==1&&O.type!==5)&&(this.decryptAvcSample(v,g,p,h,O),!this.decrypter.isSync()))return}}},m}();const f=d},"./src/demux/transmuxer-interface.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>g});var u=l("./src/demux/webworkify-webpack.js"),c=l("./src/events.ts"),d=l("./src/demux/transmuxer.ts"),f=l("./src/utils/logger.ts"),m=l("./src/errors.ts"),_=l("./src/utils/mediasource-helper.ts"),x=l("./node_modules/eventemitter3/index.js"),v=(0,_.getMediaSource)()||{isTypeSupported:function(){return!1}},g=function(){function p(S,O,y,E){var b=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var T=S.config;this.hls=S,this.id=O,this.useWorker=!!T.enableWorker,this.onTransmuxComplete=y,this.onFlush=E;var A=function(R,L){L=L||{},L.frag=b.frag,L.id=b.id,b.hls.trigger(R,L)};this.observer=new x.EventEmitter,this.observer.on(c.Events.FRAG_DECRYPTED,A),this.observer.on(c.Events.ERROR,A);var P={mp4:v.isTypeSupported("video/mp4"),mpeg:v.isTypeSupported("audio/mpeg"),mp3:v.isTypeSupported('audio/mp4; codecs="mp3"')},C=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){f.logger.log("demuxing in webworker");var D;try{D=this.worker=(0,u.default)("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),D.addEventListener("message",this.onwmsg),D.onerror=function(F){b.useWorker=!1,f.logger.warn("Exception in webworker, fallback to inline"),b.hls.trigger(c.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(F.message+"  ("+F.filename+":"+F.lineno+")")})},D.postMessage({cmd:"init",typeSupported:P,vendor:C,id:O,config:JSON.stringify(T)})}catch(F){f.logger.warn("Error in worker:",F),f.logger.error("Error while initializing DemuxerWorker, fallback to inline"),D&&self.URL.revokeObjectURL(D.objectURL),this.transmuxer=new d.default(this.observer,P,T,C,O),this.worker=null}}else this.transmuxer=new d.default(this.observer,P,T,C,O)}var h=p.prototype;return h.destroy=function(){var O=this.worker;if(O)O.removeEventListener("message",this.onwmsg),O.terminate(),this.worker=null,this.onwmsg=void 0;else{var y=this.transmuxer;y&&(y.destroy(),this.transmuxer=null)}var E=this.observer;E&&E.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},h.push=function(O,y,E,b,T,A,P,C,D,F){var R,L,I=this;D.transmuxing.start=self.performance.now();var k=this.transmuxer,w=this.worker,M=A?A.start:T.start,N=T.decryptdata,$=this.frag,B=!($&&T.cc===$.cc),U=!($&&D.level===$.level),j=$?D.sn-$.sn:-1,K=this.part?D.part-this.part.index:-1,G=j===0&&D.id>1&&D.id===($==null?void 0:$.stats.chunkCount),W=!U&&(j===1||j===0&&(K===1||G&&K<=0)),V=self.performance.now();(U||j||T.stats.parsing.start===0)&&(T.stats.parsing.start=V),A&&(K||!W)&&(A.stats.parsing.start=V);var Y=!($&&((R=T.initSegment)===null||R===void 0?void 0:R.url)===((L=$.initSegment)===null||L===void 0?void 0:L.url)),X=new d.TransmuxState(B,W,C,U,M,Y);if(!W||B||Y){f.logger.log("[transmuxer-interface, "+T.type+"]: Starting new transmux session for sn: "+D.sn+" p: "+D.part+" level: "+D.level+" id: "+D.id+`
        discontinuity: `+B+`
        trackSwitch: `+U+`
        contiguous: `+W+`
        accurateTimeOffset: `+C+`
        timeOffset: `+M+`
        initSegmentChange: `+Y);var q=new d.TransmuxConfig(E,b,y,P,F);this.configureTransmuxer(q)}if(this.frag=T,this.part=A,w)w.postMessage({cmd:"demux",data:O,decryptdata:N,chunkMeta:D,state:X},O instanceof ArrayBuffer?[O]:[]);else if(k){var Q=k.push(O,N,D,X);(0,d.isPromise)(Q)?(k.async=!0,Q.then(function(te){I.handleTransmuxComplete(te)}).catch(function(te){I.transmuxerError(te,D,"transmuxer-interface push error")})):(k.async=!1,this.handleTransmuxComplete(Q))}},h.flush=function(O){var y=this;O.transmuxing.start=self.performance.now();var E=this.transmuxer,b=this.worker;if(b)b.postMessage({cmd:"flush",chunkMeta:O});else if(E){var T=E.flush(O),A=(0,d.isPromise)(T);A||E.async?((0,d.isPromise)(T)||(T=Promise.resolve(T)),T.then(function(P){y.handleFlushResult(P,O)}).catch(function(P){y.transmuxerError(P,O,"transmuxer-interface flush error")})):this.handleFlushResult(T,O)}},h.transmuxerError=function(O,y,E){this.hls&&this.hls.trigger(c.Events.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:y,fatal:!1,error:O,err:O,reason:E})},h.handleFlushResult=function(O,y){var E=this;O.forEach(function(b){E.handleTransmuxComplete(b)}),this.onFlush(y)},h.onWorkerMessage=function(O){var y=O.data,E=this.hls;switch(y.event){case"init":{self.URL.revokeObjectURL(this.worker.objectURL);break}case"transmuxComplete":{this.handleTransmuxComplete(y.data);break}case"flush":{this.onFlush(y.data);break}case"workerLog":f.logger[y.data.logType]&&f.logger[y.data.logType](y.data.message);break;default:{y.data=y.data||{},y.data.frag=this.frag,y.data.id=this.id,E.trigger(y.event,y.data);break}}},h.configureTransmuxer=function(O){var y=this.worker,E=this.transmuxer;y?y.postMessage({cmd:"configure",config:O}):E&&E.configure(O)},h.handleTransmuxComplete=function(O){O.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(O)},p}()},"./src/demux/transmuxer-worker.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>_});var u=l("./src/demux/transmuxer.ts"),c=l("./src/events.ts"),d=l("./src/utils/logger.ts"),f=l("./node_modules/eventemitter3/index.js"),m=l("./src/errors.ts");function _(h){var S=new f.EventEmitter,O=function(b,T){h.postMessage({event:b,data:T})};S.on(c.Events.FRAG_DECRYPTED,O),S.on(c.Events.ERROR,O);var y=function(){var b=function(P){var C=function(F){O("workerLog",{logType:P,message:F})};d.logger[P]=C};for(var T in d.logger)b(T)};h.addEventListener("message",function(E){var b=E.data;switch(b.cmd){case"init":{var T=JSON.parse(b.config);h.transmuxer=new u.default(S,b.typeSupported,T,b.vendor,b.id),(0,d.enableLogs)(T.debug,b.id),y(),O("init",null);break}case"configure":{h.transmuxer.configure(b.config);break}case"demux":{var A=h.transmuxer.push(b.data,b.decryptdata,b.chunkMeta,b.state);(0,u.isPromise)(A)?(h.transmuxer.async=!0,A.then(function(F){x(h,F)}).catch(function(F){O(c.Events.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:b.chunkMeta,fatal:!1,error:F,err:F,reason:"transmuxer-worker push error"})})):(h.transmuxer.async=!1,x(h,A));break}case"flush":{var P=b.chunkMeta,C=h.transmuxer.flush(P),D=(0,u.isPromise)(C);D||h.transmuxer.async?((0,u.isPromise)(C)||(C=Promise.resolve(C)),C.then(function(F){g(h,F,P)}).catch(function(F){O(c.Events.ERROR,{type:m.ErrorTypes.MEDIA_ERROR,details:m.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:b.chunkMeta,fatal:!1,error:F,err:F,reason:"transmuxer-worker flush error"})})):g(h,C,P);break}}})}function x(h,S){if(p(S.remuxResult))return!1;var O=[],y=S.remuxResult,E=y.audio,b=y.video;return E&&v(O,E),b&&v(O,b),h.postMessage({event:"transmuxComplete",data:S},O),!0}function v(h,S){S.data1&&h.push(S.data1.buffer),S.data2&&h.push(S.data2.buffer)}function g(h,S,O){var y=S.reduce(function(E,b){return x(h,b)||E},!1);y||h.postMessage({event:"transmuxComplete",data:S[0]}),h.postMessage({event:"flush",data:O})}function p(h){return!h.audio&&!h.video&&!h.text&&!h.id3&&!h.initSegment}},"./src/demux/transmuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{TransmuxConfig:()=>T,TransmuxState:()=>A,default:()=>O,isPromise:()=>b});var u=l("./src/events.ts"),c=l("./src/errors.ts"),d=l("./src/crypt/decrypter.ts"),f=l("./src/demux/aacdemuxer.ts"),m=l("./src/demux/mp4demuxer.ts"),_=l("./src/demux/tsdemuxer.ts"),x=l("./src/demux/mp3demuxer.ts"),v=l("./src/remux/mp4-remuxer.ts"),g=l("./src/remux/passthrough-remuxer.ts"),p=l("./src/utils/logger.ts"),h;try{h=self.performance.now.bind(self.performance)}catch{p.logger.debug("Unable to use Performance API on this environment"),h=self.Date.now}var S=[{demux:m.default,remux:g.default},{demux:_.default,remux:v.default},{demux:f.default,remux:v.default},{demux:x.default,remux:v.default}],O=function(){function P(D,F,R,L,I){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=D,this.typeSupported=F,this.config=R,this.vendor=L,this.id=I}var C=P.prototype;return C.configure=function(F){this.transmuxConfig=F,this.decrypter&&this.decrypter.reset()},C.push=function(F,R,L,I){var k=this,w=L.transmuxing;w.executeStart=h();var M=new Uint8Array(F),N=this.currentTransmuxState,$=this.transmuxConfig;I&&(this.currentTransmuxState=I);var B=I||N,U=B.contiguous,j=B.discontinuity,K=B.trackSwitch,G=B.accurateTimeOffset,W=B.timeOffset,V=B.initSegmentChange,Y=$.audioCodec,X=$.videoCodec,q=$.defaultInitPts,Q=$.duration,te=$.initSegmentData,re=y(M,R);if(re&&re.method==="AES-128"){var ne=this.getDecrypter();if(ne.isSync()){var oe=ne.softwareDecrypt(M,re.key.buffer,re.iv.buffer),he=L.part>-1;if(he&&(oe=ne.flush()),!oe)return w.executeEnd=h(),E(L);M=new Uint8Array(oe)}else return this.decryptionPromise=ne.webCryptoDecrypt(M,re.key.buffer,re.iv.buffer).then(function(xe){var Te=k.push(xe,null,L);return k.decryptionPromise=null,Te}),this.decryptionPromise}var fe=this.needsProbing(j,K);fe&&this.configureTransmuxer(M),(j||K||V||fe)&&this.resetInitSegment(te,Y,X,Q,R),(j||V||fe)&&this.resetInitialTimestamp(q),U||this.resetContiguity();var ie=this.transmux(M,re,W,G,L),pe=this.currentTransmuxState;return pe.contiguous=!0,pe.discontinuity=!1,pe.trackSwitch=!1,w.executeEnd=h(),ie},C.flush=function(F){var R=this,L=F.transmuxing;L.executeStart=h();var I=this.decrypter,k=this.currentTransmuxState,w=this.decryptionPromise;if(w)return w.then(function(){return R.flush(F)});var M=[],N=k.timeOffset;if(I){var $=I.flush();$&&M.push(this.push($,null,F))}var B=this.demuxer,U=this.remuxer;if(!B||!U)return this.observer.emit(u.Events.ERROR,u.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),L.executeEnd=h(),[E(F)];var j=B.flush(N);return b(j)?j.then(function(K){return R.flushRemux(M,K,F),M}):(this.flushRemux(M,j,F),M)},C.flushRemux=function(F,R,L){var I=R.audioTrack,k=R.videoTrack,w=R.id3Track,M=R.textTrack,N=this.currentTransmuxState,$=N.accurateTimeOffset,B=N.timeOffset;p.logger.log("[transmuxer.ts]: Flushed fragment "+L.sn+(L.part>-1?" p: "+L.part:"")+" of level "+L.level);var U=this.remuxer.remux(I,k,w,M,B,$,!0,this.id);F.push({remuxResult:U,chunkMeta:L}),L.transmuxing.executeEnd=h()},C.resetInitialTimestamp=function(F){var R=this.demuxer,L=this.remuxer;!R||!L||(R.resetTimeStamp(F),L.resetTimeStamp(F))},C.resetContiguity=function(){var F=this.demuxer,R=this.remuxer;!F||!R||(F.resetContiguity(),R.resetNextTimestamp())},C.resetInitSegment=function(F,R,L,I,k){var w=this.demuxer,M=this.remuxer;!w||!M||(w.resetInitSegment(F,R,L,I),M.resetInitSegment(F,R,L,k))},C.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},C.transmux=function(F,R,L,I,k){var w;return R&&R.method==="SAMPLE-AES"?w=this.transmuxSampleAes(F,R,L,I,k):w=this.transmuxUnencrypted(F,L,I,k),w},C.transmuxUnencrypted=function(F,R,L,I){var k=this.demuxer.demux(F,R,!1,!this.config.progressive),w=k.audioTrack,M=k.videoTrack,N=k.id3Track,$=k.textTrack,B=this.remuxer.remux(w,M,N,$,R,L,!1,this.id);return{remuxResult:B,chunkMeta:I}},C.transmuxSampleAes=function(F,R,L,I,k){var w=this;return this.demuxer.demuxSampleAes(F,R,L).then(function(M){var N=w.remuxer.remux(M.audioTrack,M.videoTrack,M.id3Track,M.textTrack,L,I,!1,w.id);return{remuxResult:N,chunkMeta:k}})},C.configureTransmuxer=function(F){for(var R=this.config,L=this.observer,I=this.typeSupported,k=this.vendor,w,M=0,N=S.length;M<N;M++)if(S[M].demux.probe(F)){w=S[M];break}w||(p.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),w={demux:m.default,remux:g.default});var $=this.demuxer,B=this.remuxer,U=w.remux,j=w.demux;(!B||!(B instanceof U))&&(this.remuxer=new U(L,R,I,k)),(!$||!($ instanceof j))&&(this.demuxer=new j(L,R,I),this.probe=j.probe)},C.needsProbing=function(F,R){return!this.demuxer||!this.remuxer||F||R},C.getDecrypter=function(){var F=this.decrypter;return F||(F=this.decrypter=new d.default(this.config)),F},P}();function y(P,C){var D=null;return P.byteLength>0&&C!=null&&C.key!=null&&C.iv!==null&&C.method!=null&&(D=C),D}var E=function(C){return{remuxResult:{},chunkMeta:C}};function b(P){return"then"in P&&P.then instanceof Function}var T=function(C,D,F,R,L){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=C,this.videoCodec=D,this.initSegmentData=F,this.duration=R,this.defaultInitPts=L},A=function(C,D,F,R,L,I){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=C,this.contiguous=D,this.accurateTimeOffset=F,this.trackSwitch=R,this.timeOffset=L,this.initSegmentChange=I}},"./src/demux/tsdemuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>P});var u=l("./src/demux/adts.ts"),c=l("./src/demux/mpegaudio.ts"),d=l("./src/demux/exp-golomb.ts"),f=l("./src/demux/sample-aes.ts"),m=l("./src/events.ts"),_=l("./src/utils/mp4-tools.ts"),x=l("./src/utils/logger.ts"),v=l("./src/errors.ts"),g=l("./src/types/demuxer.ts");function p(){return p=Object.assign?Object.assign.bind():function(C){for(var D=1;D<arguments.length;D++){var F=arguments[D];for(var R in F)Object.prototype.hasOwnProperty.call(F,R)&&(C[R]=F[R])}return C},p.apply(this,arguments)}var h=188,S=function(){function C(F,R,L){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=F,this.config=R,this.typeSupported=L}C.probe=function(R){var L=C.syncOffset(R);return L>0&&x.logger.warn("MPEG2-TS detected but first sync word found @ offset "+L),L!==-1},C.syncOffset=function(R){for(var L=R.length,I=Math.min(h*5,R.length-h)+1,k=0;k<I;){for(var w=!1,M=k;M<L&&R[M]===71;M+=h)if(!w&&y(R,M)===0&&(w=!0),w&&M+h>I)return k;k++}return-1},C.createTrack=function(R,L){return{container:R==="video"||R==="audio"?"video/mp2t":void 0,type:R,id:_.RemuxerTrackIdConfig[R],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:R==="audio"?L:void 0}};var D=C.prototype;return D.resetInitSegment=function(R,L,I,k){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=C.createTrack("video"),this._audioTrack=C.createTrack("audio",k),this._id3Track=C.createTrack("id3"),this._txtTrack=C.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=L,this.videoCodec=I,this._duration=k},D.resetTimeStamp=function(){},D.resetContiguity=function(){var R=this._audioTrack,L=this._avcTrack,I=this._id3Track;R&&(R.pesData=null),L&&(L.pesData=null),I&&(I.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},D.demux=function(R,L,I,k){I===void 0&&(I=!1),k===void 0&&(k=!1),I||(this.sampleAes=null);var w,M=this._avcTrack,N=this._audioTrack,$=this._id3Track,B=this._txtTrack,U=M.pid,j=M.pesData,K=N.pid,G=$.pid,W=N.pesData,V=$.pesData,Y=null,X=this.pmtParsed,q=this._pmtId,Q=R.length;if(this.remainderData&&(R=(0,_.appendUint8Array)(this.remainderData,R),Q=R.length,this.remainderData=null),Q<h&&!k)return this.remainderData=R,{audioTrack:N,videoTrack:M,id3Track:$,textTrack:B};var te=Math.max(0,C.syncOffset(R));Q-=(Q-te)%h,Q<R.byteLength&&!k&&(this.remainderData=new Uint8Array(R.buffer,Q,R.buffer.byteLength-Q));for(var re=0,ne=te;ne<Q;ne+=h)if(R[ne]===71){var oe=!!(R[ne+1]&64),he=y(R,ne),fe=(R[ne+3]&48)>>4,ie=void 0;if(fe>1){if(ie=ne+5+R[ne+4],ie===ne+h)continue}else ie=ne+4;switch(he){case U:oe&&(j&&(w=T(j))&&this.parseAVCPES(M,B,w,!1),j={data:[],size:0}),j&&(j.data.push(R.subarray(ie,ne+h)),j.size+=ne+h-ie);break;case K:if(oe){if(W&&(w=T(W)))switch(N.segmentCodec){case"aac":this.parseAACPES(N,w);break;case"mp3":this.parseMPEGPES(N,w);break}W={data:[],size:0}}W&&(W.data.push(R.subarray(ie,ne+h)),W.size+=ne+h-ie);break;case G:oe&&(V&&(w=T(V))&&this.parseID3PES($,w),V={data:[],size:0}),V&&(V.data.push(R.subarray(ie,ne+h)),V.size+=ne+h-ie);break;case 0:oe&&(ie+=R[ie]+1),q=this._pmtId=E(R,ie);break;case q:{oe&&(ie+=R[ie]+1);var pe=b(R,ie,this.typeSupported,I);U=pe.avc,U>0&&(M.pid=U),K=pe.audio,K>0&&(N.pid=K,N.segmentCodec=pe.segmentCodec),G=pe.id3,G>0&&($.pid=G),Y!==null&&!X&&(x.logger.warn("MPEG-TS PMT found at "+ne+" after unknown PID '"+Y+"'. Backtracking to sync byte @"+te+" to parse all TS packets."),Y=null,ne=te-188),X=this.pmtParsed=!0;break}case 17:case 8191:break;default:Y=he;break}}else re++;re>0&&this.observer.emit(m.Events.ERROR,m.Events.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+re+" TS packet/s that do not start with 0x47"}),M.pesData=j,N.pesData=W,$.pesData=V;var xe={audioTrack:N,videoTrack:M,id3Track:$,textTrack:B};return k&&this.extractRemainingSamples(xe),xe},D.flush=function(){var R=this.remainderData;this.remainderData=null;var L;return R?L=this.demux(R,-1,!1,!0):L={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(L),this.sampleAes?this.decrypt(L,this.sampleAes):L},D.extractRemainingSamples=function(R){var L=R.audioTrack,I=R.videoTrack,k=R.id3Track,w=R.textTrack,M=I.pesData,N=L.pesData,$=k.pesData,B;if(M&&(B=T(M))?(this.parseAVCPES(I,w,B,!0),I.pesData=null):I.pesData=M,N&&(B=T(N))){switch(L.segmentCodec){case"aac":this.parseAACPES(L,B);break;case"mp3":this.parseMPEGPES(L,B);break}L.pesData=null}else N!=null&&N.size&&x.logger.log("last AAC PES packet truncated,might overlap between fragments"),L.pesData=N;$&&(B=T($))?(this.parseID3PES(k,B),k.pesData=null):k.pesData=$},D.demuxSampleAes=function(R,L,I){var k=this.demux(R,I,!0,!this.config.progressive),w=this.sampleAes=new f.default(this.observer,this.config,L);return this.decrypt(k,w)},D.decrypt=function(R,L){return new Promise(function(I){var k=R.audioTrack,w=R.videoTrack;k.samples&&k.segmentCodec==="aac"?L.decryptAacSamples(k.samples,0,function(){w.samples?L.decryptAvcSamples(w.samples,0,0,function(){I(R)}):I(R)}):w.samples&&L.decryptAvcSamples(w.samples,0,0,function(){I(R)})})},D.destroy=function(){this._duration=0},D.parseAVCPES=function(R,L,I,k){var w=this,M=this.parseAVCNALu(R,I.data),N=this.avcSample,$,B=!1;I.data=null,N&&M.length&&!R.audFound&&(A(N,R),N=this.avcSample=O(!1,I.pts,I.dts,"")),M.forEach(function(U){switch(U.type){case 1:{$=!0,N||(N=w.avcSample=O(!0,I.pts,I.dts,"")),N.frame=!0;var j=U.data;if(B&&j.length>4){var K=new d.default(j).readSliceType();(K===2||K===4||K===7||K===9)&&(N.key=!0)}break}case 5:$=!0,N||(N=w.avcSample=O(!0,I.pts,I.dts,"")),N.key=!0,N.frame=!0;break;case 6:{$=!0,(0,_.parseSEIMessageFromNALu)(U.data,1,I.pts,L.samples);break}case 7:if($=!0,B=!0,!R.sps){var G=new d.default(U.data),W=G.readSPS();R.width=W.width,R.height=W.height,R.pixelRatio=W.pixelRatio,R.sps=[U.data],R.duration=w._duration;for(var V=U.data.subarray(1,4),Y="avc1.",X=0;X<3;X++){var q=V[X].toString(16);q.length<2&&(q="0"+q),Y+=q}R.codec=Y}break;case 8:$=!0,R.pps||(R.pps=[U.data]);break;case 9:$=!1,R.audFound=!0,N&&A(N,R),N=w.avcSample=O(!1,I.pts,I.dts,"");break;case 12:$=!0;break;default:$=!1,N&&(N.debug+="unknown NAL "+U.type+" ");break}if(N&&$){var Q=N.units;Q.push(U)}}),k&&N&&(A(N,R),this.avcSample=null)},D.getLastNalUnit=function(R){var L,I=this.avcSample,k;if((!I||I.units.length===0)&&(I=R[R.length-1]),(L=I)!==null&&L!==void 0&&L.units){var w=I.units;k=w[w.length-1]}return k},D.parseAVCNALu=function(R,L){var I=L.byteLength,k=R.naluState||0,w=k,M=[],N=0,$,B,U,j=-1,K=0;for(k===-1&&(j=0,K=L[0]&31,k=0,N=1);N<I;){if($=L[N++],!k){k=$?0:1;continue}if(k===1){k=$?0:2;continue}if(!$)k=3;else if($===1){if(j>=0){var G={data:L.subarray(j,N-k-1),type:K};M.push(G)}else{var W=this.getLastNalUnit(R.samples);if(W&&(w&&N<=4-w&&W.state&&(W.data=W.data.subarray(0,W.data.byteLength-w)),B=N-k-1,B>0)){var V=new Uint8Array(W.data.byteLength+B);V.set(W.data,0),V.set(L.subarray(0,B),W.data.byteLength),W.data=V,W.state=0}}N<I?(U=L[N]&31,j=N,K=U,k=0):k=-1}else k=0}if(j>=0&&k>=0){var Y={data:L.subarray(j,I),type:K,state:k};M.push(Y)}if(M.length===0){var X=this.getLastNalUnit(R.samples);if(X){var q=new Uint8Array(X.data.byteLength+L.byteLength);q.set(X.data,0),q.set(L,X.data.byteLength),X.data=q}}return R.naluState=k,M},D.parseAACPES=function(R,L){var I=0,k=this.aacOverFlow,w=L.data;if(k){this.aacOverFlow=null;var M=k.missing,N=k.sample.unit.byteLength;if(M===-1){var $=new Uint8Array(N+w.byteLength);$.set(k.sample.unit,0),$.set(w,N),w=$}else{var B=N-M;k.sample.unit.set(w.subarray(0,M),B),R.samples.push(k.sample),I=k.missing}}var U,j;for(U=I,j=w.length;U<j-1&&!u.isHeader(w,U);U++);if(U!==I){var K,G;if(U<j-1?(K="AAC PES did not start with ADTS header,offset:"+U,G=!1):(K="no ADTS header found in AAC PES",G=!0),x.logger.warn("parsing error:"+K),this.observer.emit(m.Events.ERROR,m.Events.ERROR,{type:v.ErrorTypes.MEDIA_ERROR,details:v.ErrorDetails.FRAG_PARSING_ERROR,fatal:G,reason:K}),G)return}u.initTrackConfig(R,this.observer,w,U,this.audioCodec);var W;if(L.pts!==void 0)W=L.pts;else if(k){var V=u.getFrameDuration(R.samplerate);W=k.sample.pts+V}else{x.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}for(var Y=0,X;U<j;)if(X=u.appendFrame(R,w,U,W,Y),U+=X.length,X.missing){this.aacOverFlow=X;break}else for(Y++;U<j-1&&!u.isHeader(w,U);U++);},D.parseMPEGPES=function(R,L){var I=L.data,k=I.length,w=0,M=0,N=L.pts;if(N===void 0){x.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;M<k;)if(c.isHeader(I,M)){var $=c.appendFrame(R,I,M,N,w);if($)M+=$.length,w++;else break}else M++},D.parseID3PES=function(R,L){if(L.pts===void 0){x.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}var I=p({},L,{type:this._avcTrack?g.MetadataSchema.emsg:g.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});R.samples.push(I)},C}();function O(C,D,F,R){return{key:C,frame:!1,pts:D,dts:F,units:[],debug:R,length:0}}function y(C,D){return((C[D+1]&31)<<8)+C[D+2]}function E(C,D){return(C[D+10]&31)<<8|C[D+11]}function b(C,D,F,R){var L={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},I=(C[D+1]&15)<<8|C[D+2],k=D+3+I-4,w=(C[D+10]&15)<<8|C[D+11];for(D+=12+w;D<k;){var M=y(C,D);switch(C[D]){case 207:if(!R){x.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:L.audio===-1&&(L.audio=M);break;case 21:L.id3===-1&&(L.id3=M);break;case 219:if(!R){x.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:L.avc===-1&&(L.avc=M);break;case 3:case 4:F.mpeg!==!0&&F.mp3!==!0?x.logger.log("MPEG audio found, not supported in this browser"):L.audio===-1&&(L.audio=M,L.segmentCodec="mp3");break;case 36:x.logger.warn("Unsupported HEVC stream type found");break}D+=((C[D+3]&15)<<8|C[D+4])+5}return L}function T(C){var D=0,F,R,L,I,k,w=C.data;if(!C||C.size===0)return null;for(;w[0].length<19&&w.length>1;){var M=new Uint8Array(w[0].length+w[1].length);M.set(w[0]),M.set(w[1],w[0].length),w[0]=M,w.splice(1,1)}F=w[0];var N=(F[0]<<16)+(F[1]<<8)+F[2];if(N===1){if(R=(F[4]<<8)+F[5],R&&R>C.size-6)return null;var $=F[7];$&192&&(I=(F[9]&14)*536870912+(F[10]&255)*4194304+(F[11]&254)*16384+(F[12]&255)*128+(F[13]&254)/2,$&64?(k=(F[14]&14)*536870912+(F[15]&255)*4194304+(F[16]&254)*16384+(F[17]&255)*128+(F[18]&254)/2,I-k>54e5&&(x.logger.warn(Math.round((I-k)/9e4)+"s delta between PTS and DTS, align them"),I=k)):k=I),L=F[8];var B=L+9;if(C.size<=B)return null;C.size-=B;for(var U=new Uint8Array(C.size),j=0,K=w.length;j<K;j++){F=w[j];var G=F.byteLength;if(B)if(B>G){B-=G;continue}else F=F.subarray(B),G-=B,B=0;U.set(F,D),D+=G}return R&&(R-=L+3),{data:U,pts:I,dts:k,len:R}}return null}function A(C,D){if(C.units.length&&C.frame){if(C.pts===void 0){var F=D.samples,R=F.length;if(R){var L=F[R-1];C.pts=L.pts,C.dts=L.dts}else{D.dropped++;return}}D.samples.push(C)}C.debug.length&&x.logger.log(C.pts+"/"+C.dts+":"+C.debug)}const P=S},"./src/demux/webworkify-webpack.js":(o,s,l)=>{l.r(s),l.d(s,{default:()=>h});var u=function(){var O=ENTRY_MODULE,y={},E=function T(A){var P=y[A];if(P!==void 0)return P.exports;var C=y[A]={exports:{}};return O[A].call(C.exports,C,C.exports,T),C.exports};E.m=O,function(){E.n=function(T){var A=T&&T.__esModule?function(){return T.default}:function(){return T};return E.d(A,{a:A}),A}}(),function(){E.d=function(T,A){for(var P in A)E.o(A,P)&&!E.o(T,P)&&Object.defineProperty(T,P,{enumerable:!0,get:A[P]})}}(),function(){E.o=function(T,A){return Object.prototype.hasOwnProperty.call(T,A)}}(),function(){E.r=function(T){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})}}();var b=E(ENTRY_MODULE);return b.default||b},c=u.toString().split("ENTRY_MODULE"),d="[\\.|\\-|\\+|\\w|/|@]+",f="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+d+").*?\\)";function m(S){return(S+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function _(S){return!isNaN(1*S)}function x(S,O,y){var E={};E[y]=[];var b=O.toString().replace(/^"[^"]+"/,"function"),T=b.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||b.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!T)return E;for(var A=T[1],P=new RegExp("(\\\\n|\\W)"+m(A)+f,"g"),C;C=P.exec(b);)C[3]!=="dll-reference"&&E[y].push(C[3]);for(P=new RegExp("\\("+m(A)+'\\("(dll-reference\\s('+d+'))"\\)\\)'+f,"g");C=P.exec(b);)S[C[2]]||(E[y].push(C[1]),S[C[2]]=l(C[1]).m),E[C[2]]=E[C[2]]||[],E[C[2]].push(C[4]);for(var D=Object.keys(E),F=0;F<D.length;F++)for(var R=0;R<E[D[F]].length;R++)_(E[D[F]][R])&&(E[D[F]][R]=1*E[D[F]][R]);return E}function v(S){var O=Object.keys(S);return O.reduce(function(y,E){return y||S[E].length>0},!1)}function g(S,O){for(var y={main:[O]},E={main:[]},b={main:{}};v(y);)for(var T=Object.keys(y),A=0;A<T.length;A++){var P=T[A],C=y[P],D=C.pop();if(b[P]=b[P]||{},!(b[P][D]||!S[P][D])){b[P][D]=!0,E[P]=E[P]||[],E[P].push(D);for(var F=x(S,S[P][D],P),R=Object.keys(F),L=0;L<R.length;L++)y[R[L]]=y[R[L]]||[],y[R[L]]=y[R[L]].concat(F[R[L]])}}return E}function p(S,O,y,E){var b=S[E].map(function(T){return'"'+T+'": '+O[E][T].toString().replace(/^"[^"]+"/,"function")}).join(",");return c[0]+"{"+b+"}"+c[1]+'"'+y+'"'+c[2]}function h(S,O){O=O||{};var y={main:l.m},E=O.all?{main:Object.keys(y.main)}:g(y,S),b="";Object.keys(E).filter(function(D){return D!=="main"}).forEach(function(D){for(var F=0;E[D][F];)F++;E[D].push(F),y[D][F]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",b=b+("var "+D+" = ("+p(E,y,F,modules)+`)();
`)}),b=b+("new (("+p(E,y,S,"main")+")())(self);");var T=new window.Blob([b],{type:"text/javascript"}),A=window.URL||window.webkitURL||window.mozURL||window.msURL,P=A.createObjectURL(T),C=new window.Worker(P);return C.objectURL=P,C}},"./src/errors.ts":(o,s,l)=>{l.r(s),l.d(s,{ErrorDetails:()=>c,ErrorTypes:()=>u});var u;(function(d){d.NETWORK_ERROR="networkError",d.MEDIA_ERROR="mediaError",d.KEY_SYSTEM_ERROR="keySystemError",d.MUX_ERROR="muxError",d.OTHER_ERROR="otherError"})(u||(u={}));var c;(function(d){d.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",d.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",d.KEY_SYSTEM_NO_SESSION="keySystemNoSession",d.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",d.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",d.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",d.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",d.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",d.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",d.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",d.MANIFEST_LOAD_ERROR="manifestLoadError",d.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",d.MANIFEST_PARSING_ERROR="manifestParsingError",d.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",d.LEVEL_EMPTY_ERROR="levelEmptyError",d.LEVEL_LOAD_ERROR="levelLoadError",d.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",d.LEVEL_SWITCH_ERROR="levelSwitchError",d.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",d.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",d.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",d.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",d.FRAG_LOAD_ERROR="fragLoadError",d.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",d.FRAG_DECRYPT_ERROR="fragDecryptError",d.FRAG_PARSING_ERROR="fragParsingError",d.REMUX_ALLOC_ERROR="remuxAllocError",d.KEY_LOAD_ERROR="keyLoadError",d.KEY_LOAD_TIMEOUT="keyLoadTimeOut",d.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",d.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",d.BUFFER_APPEND_ERROR="bufferAppendError",d.BUFFER_APPENDING_ERROR="bufferAppendingError",d.BUFFER_STALLED_ERROR="bufferStalledError",d.BUFFER_FULL_ERROR="bufferFullError",d.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",d.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",d.INTERNAL_EXCEPTION="internalException",d.INTERNAL_ABORTED="aborted",d.UNKNOWN="unknown"})(c||(c={}))},"./src/events.ts":(o,s,l)=>{l.r(s),l.d(s,{Events:()=>u});var u;(function(c){c.MEDIA_ATTACHING="hlsMediaAttaching",c.MEDIA_ATTACHED="hlsMediaAttached",c.MEDIA_DETACHING="hlsMediaDetaching",c.MEDIA_DETACHED="hlsMediaDetached",c.BUFFER_RESET="hlsBufferReset",c.BUFFER_CODECS="hlsBufferCodecs",c.BUFFER_CREATED="hlsBufferCreated",c.BUFFER_APPENDING="hlsBufferAppending",c.BUFFER_APPENDED="hlsBufferAppended",c.BUFFER_EOS="hlsBufferEos",c.BUFFER_FLUSHING="hlsBufferFlushing",c.BUFFER_FLUSHED="hlsBufferFlushed",c.MANIFEST_LOADING="hlsManifestLoading",c.MANIFEST_LOADED="hlsManifestLoaded",c.MANIFEST_PARSED="hlsManifestParsed",c.LEVEL_SWITCHING="hlsLevelSwitching",c.LEVEL_SWITCHED="hlsLevelSwitched",c.LEVEL_LOADING="hlsLevelLoading",c.LEVEL_LOADED="hlsLevelLoaded",c.LEVEL_UPDATED="hlsLevelUpdated",c.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",c.LEVELS_UPDATED="hlsLevelsUpdated",c.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",c.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",c.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",c.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",c.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",c.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",c.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",c.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",c.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",c.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",c.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",c.CUES_PARSED="hlsCuesParsed",c.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",c.INIT_PTS_FOUND="hlsInitPtsFound",c.FRAG_LOADING="hlsFragLoading",c.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",c.FRAG_LOADED="hlsFragLoaded",c.FRAG_DECRYPTED="hlsFragDecrypted",c.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",c.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",c.FRAG_PARSING_METADATA="hlsFragParsingMetadata",c.FRAG_PARSED="hlsFragParsed",c.FRAG_BUFFERED="hlsFragBuffered",c.FRAG_CHANGED="hlsFragChanged",c.FPS_DROP="hlsFpsDrop",c.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",c.ERROR="hlsError",c.DESTROYING="hlsDestroying",c.KEY_LOADING="hlsKeyLoading",c.KEY_LOADED="hlsKeyLoaded",c.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",c.BACK_BUFFER_REACHED="hlsBackBufferReached"})(u||(u={}))},"./src/hls.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>C});var u=l("./node_modules/url-toolkit/src/url-toolkit.js"),c=l("./src/loader/playlist-loader.ts"),d=l("./src/controller/id3-track-controller.ts"),f=l("./src/controller/latency-controller.ts"),m=l("./src/controller/level-controller.ts"),_=l("./src/controller/fragment-tracker.ts"),x=l("./src/loader/key-loader.ts"),v=l("./src/controller/stream-controller.ts"),g=l("./src/is-supported.ts"),p=l("./src/utils/logger.ts"),h=l("./src/config.ts"),S=l("./node_modules/eventemitter3/index.js"),O=l("./src/events.ts"),y=l("./src/errors.ts"),E=l("./src/types/level.ts");function b(D,F){for(var R=0;R<F.length;R++){var L=F[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,A(L.key),L)}}function T(D,F,R){return F&&b(D.prototype,F),R&&b(D,R),Object.defineProperty(D,"prototype",{writable:!1}),D}function A(D){var F=P(D,"string");return typeof F=="symbol"?F:String(F)}function P(D,F){if(typeof D!="object"||D===null)return D;var R=D[Symbol.toPrimitive];if(R!==void 0){var L=R.call(D,F||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(D)}var C=function(){D.isSupported=function(){return(0,g.isSupported)()};function D(R){R===void 0&&(R={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new S.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var L=this.config=(0,h.mergeConfig)(D.DefaultConfig,R);this.userConfig=R,(0,p.enableLogs)(L.debug,"Hls instance"),this._autoLevelCapping=-1,L.progressive&&(0,h.enableStreamingMode)(L);var I=L.abrController,k=L.bufferController,w=L.capLevelController,M=L.fpsController,N=this.abrController=new I(this),$=this.bufferController=new k(this),B=this.capLevelController=new w(this),U=new M(this),j=new c.default(this),K=new d.default(this),G=this.levelController=new m.default(this),W=new _.FragmentTracker(this),V=new x.default(this.config),Y=this.streamController=new v.default(this,W,V);B.setStreamController(Y),U.setStreamController(Y);var X=[j,G,Y];this.networkControllers=X;var q=[N,$,B,U,K,W];this.audioTrackController=this.createController(L.audioTrackController,X);var Q=L.audioStreamController;Q&&X.push(new Q(this,W,V)),this.subtitleTrackController=this.createController(L.subtitleTrackController,X);var te=L.subtitleStreamController;te&&X.push(new te(this,W,V)),this.createController(L.timelineController,q),V.emeController=this.emeController=this.createController(L.emeController,q),this.cmcdController=this.createController(L.cmcdController,q),this.latencyController=this.createController(f.default,q),this.coreComponents=q}var F=D.prototype;return F.createController=function(L,I){if(L){var k=new L(this);return I&&I.push(k),k}return null},F.on=function(L,I,k){k===void 0&&(k=this),this._emitter.on(L,I,k)},F.once=function(L,I,k){k===void 0&&(k=this),this._emitter.once(L,I,k)},F.removeAllListeners=function(L){this._emitter.removeAllListeners(L)},F.off=function(L,I,k,w){k===void 0&&(k=this),this._emitter.off(L,I,k,w)},F.listeners=function(L){return this._emitter.listeners(L)},F.emit=function(L,I,k){return this._emitter.emit(L,I,k)},F.trigger=function(L,I){if(this.config.debug)return this.emit(L,L,I);try{return this.emit(L,L,I)}catch(k){p.logger.error("An internal error happened while handling event "+L+'. Error message: "'+k.message+'". Here is a stacktrace:',k),this.trigger(O.Events.ERROR,{type:y.ErrorTypes.OTHER_ERROR,details:y.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:L,error:k})}return!1},F.listenerCount=function(L){return this._emitter.listenerCount(L)},F.destroy=function(){p.logger.log("destroy"),this.trigger(O.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(L){return L.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(L){return L.destroy()}),this.coreComponents.length=0},F.attachMedia=function(L){p.logger.log("attachMedia"),this._media=L,this.trigger(O.Events.MEDIA_ATTACHING,{media:L})},F.detachMedia=function(){p.logger.log("detachMedia"),this.trigger(O.Events.MEDIA_DETACHING,void 0),this._media=null},F.loadSource=function(L){this.stopLoad();var I=this.media,k=this.url,w=this.url=u.buildAbsoluteURL(self.location.href,L,{alwaysNormalize:!0});p.logger.log("loadSource:"+w),I&&k&&k!==w&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(I)),this.trigger(O.Events.MANIFEST_LOADING,{url:L})},F.startLoad=function(L){L===void 0&&(L=-1),p.logger.log("startLoad("+L+")"),this.networkControllers.forEach(function(I){I.startLoad(L)})},F.stopLoad=function(){p.logger.log("stopLoad"),this.networkControllers.forEach(function(L){L.stopLoad()})},F.swapAudioCodec=function(){p.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},F.recoverMediaError=function(){p.logger.log("recoverMediaError");var L=this._media;this.detachMedia(),L&&this.attachMedia(L)},F.removeLevel=function(L,I){I===void 0&&(I=0),this.levelController.removeLevel(L,I)},T(D,[{key:"levels",get:function(){var L=this.levelController.levels;return L||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(L){p.logger.log("set currentLevel:"+L),this.loadLevel=L,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(L){p.logger.log("set nextLevel:"+L),this.levelController.manualLevel=L,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(L){p.logger.log("set loadLevel:"+L),this.levelController.manualLevel=L}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(L){this.levelController.nextLoadLevel=L}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(L){p.logger.log("set firstLevel:"+L),this.levelController.firstLevel=L}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(L){p.logger.log("set startLevel:"+L),L!==-1&&(L=Math.max(L,this.minAutoLevel)),this.levelController.startLevel=L}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(L){var I=!!L;I!==this.config.capLevelToPlayerSize&&(I?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=I)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(L){this._autoLevelCapping!==L&&(p.logger.log("set autoLevelCapping:"+L),this._autoLevelCapping=L)}},{key:"bandwidthEstimate",get:function(){var L=this.abrController.bwEstimator;return L?L.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(L){E.HdcpLevels.indexOf(L)>-1&&(this._maxHdcpLevel=L)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var L=this.levels,I=this.config.minAutoBitrate;if(!L)return 0;for(var k=L.length,w=0;w<k;w++)if(L[w].maxBitrate>=I)return w;return 0}},{key:"maxAutoLevel",get:function(){var L=this.levels,I=this.autoLevelCapping,k=this.maxHdcpLevel,w;if(I===-1&&L&&L.length?w=L.length-1:w=I,k)for(var M=w;M--;){var N=L[M].attrs["HDCP-LEVEL"];if(N&&N<=k)return M}return w}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(L){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,L)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var L=this.audioTrackController;return L?L.audioTracks:[]}},{key:"audioTrack",get:function(){var L=this.audioTrackController;return L?L.audioTrack:-1},set:function(L){var I=this.audioTrackController;I&&(I.audioTrack=L)}},{key:"subtitleTracks",get:function(){var L=this.subtitleTrackController;return L?L.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var L=this.subtitleTrackController;return L?L.subtitleTrack:-1},set:function(L){var I=this.subtitleTrackController;I&&(I.subtitleTrack=L)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var L=this.subtitleTrackController;return L?L.subtitleDisplay:!1},set:function(L){var I=this.subtitleTrackController;I&&(I.subtitleDisplay=L)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(L){this.config.lowLatencyMode=L}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.3.5"}},{key:"Events",get:function(){return O.Events}},{key:"ErrorTypes",get:function(){return y.ErrorTypes}},{key:"ErrorDetails",get:function(){return y.ErrorDetails}},{key:"DefaultConfig",get:function(){return D.defaultConfig?D.defaultConfig:h.hlsDefaultConfig},set:function(L){D.defaultConfig=L}}]),D}();C.defaultConfig=void 0},"./src/is-supported.ts":(o,s,l)=>{l.r(s),l.d(s,{changeTypeSupported:()=>f,isSupported:()=>d});var u=l("./src/utils/mediasource-helper.ts");function c(){return self.SourceBuffer||self.WebKitSourceBuffer}function d(){var m=(0,u.getMediaSource)();if(!m)return!1;var _=c(),x=m&&typeof m.isTypeSupported=="function"&&m.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),v=!_||_.prototype&&typeof _.prototype.appendBuffer=="function"&&typeof _.prototype.remove=="function";return!!x&&!!v}function f(){var m,_=c();return typeof(_==null||(m=_.prototype)===null||m===void 0?void 0:m.changeType)=="function"}},"./src/loader/date-range.ts":(o,s,l)=>{l.r(s),l.d(s,{DateRange:()=>p,DateRangeAttribute:()=>g});var u=l("./src/polyfills/number.ts"),c=l("./src/utils/attr-list.ts"),d=l("./src/utils/logger.ts");function f(){return f=Object.assign?Object.assign.bind():function(h){for(var S=1;S<arguments.length;S++){var O=arguments[S];for(var y in O)Object.prototype.hasOwnProperty.call(O,y)&&(h[y]=O[y])}return h},f.apply(this,arguments)}function m(h,S){for(var O=0;O<S.length;O++){var y=S[O];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,x(y.key),y)}}function _(h,S,O){return S&&m(h.prototype,S),O&&m(h,O),Object.defineProperty(h,"prototype",{writable:!1}),h}function x(h){var S=v(h,"string");return typeof S=="symbol"?S:String(S)}function v(h,S){if(typeof h!="object"||h===null)return h;var O=h[Symbol.toPrimitive];if(O!==void 0){var y=O.call(h,S||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(h)}var g;(function(h){h.ID="ID",h.CLASS="CLASS",h.START_DATE="START-DATE",h.DURATION="DURATION",h.END_DATE="END-DATE",h.END_ON_NEXT="END-ON-NEXT",h.PLANNED_DURATION="PLANNED-DURATION",h.SCTE35_OUT="SCTE35-OUT",h.SCTE35_IN="SCTE35-IN"})(g||(g={}));var p=function(){function h(S,O){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,O){var y=O.attr;for(var E in y)if(Object.prototype.hasOwnProperty.call(S,E)&&S[E]!==y[E]){d.logger.warn('DATERANGE tag attribute: "'+E+'" does not match for tags with ID: "'+S.ID+'"'),this._badValueForSameId=E;break}S=f(new c.AttrList({}),y,S)}if(this.attr=S,this._startDate=new Date(S[g.START_DATE]),g.END_DATE in this.attr){var b=new Date(this.attr[g.END_DATE]);(0,u.isFiniteNumber)(b.getTime())&&(this._endDate=b)}}return _(h,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var O=this.duration;return O!==null?new Date(this._startDate.getTime()+O*1e3):null}},{key:"duration",get:function(){if(g.DURATION in this.attr){var O=this.attr.decimalFloatingPoint(g.DURATION);if((0,u.isFiniteNumber)(O))return O}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return g.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(g.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(g.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,u.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),h}()},"./src/loader/fragment-loader.ts":(o,s,l)=>{l.r(s),l.d(s,{LoadError:()=>O,default:()=>h});var u=l("./src/polyfills/number.ts"),c=l("./src/errors.ts");function d(y,E){y.prototype=Object.create(E.prototype),y.prototype.constructor=y,v(y,E)}function f(y){var E=typeof Map=="function"?new Map:void 0;return f=function(T){if(T===null||!x(T))return T;if(typeof T!="function")throw new TypeError("Super expression must either be null or a function");if(typeof E<"u"){if(E.has(T))return E.get(T);E.set(T,A)}function A(){return m(T,arguments,g(this).constructor)}return A.prototype=Object.create(T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),v(A,T)},f(y)}function m(y,E,b){return _()?m=Reflect.construct.bind():m=function(A,P,C){var D=[null];D.push.apply(D,P);var F=Function.bind.apply(A,D),R=new F;return C&&v(R,C.prototype),R},m.apply(null,arguments)}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function v(y,E){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T},v(y,E)}function g(y){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},g(y)}var p=Math.pow(2,17),h=function(){function y(b){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=b}var E=y.prototype;return E.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},E.abort=function(){this.loader&&this.loader.abort()},E.load=function(T,A){var P=this,C=T.url;if(!C)return Promise.reject(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:T,networkDetails:null},"Fragment does not have a "+(C?"part list":"url")));this.abort();var D=this.config,F=D.fLoader,R=D.loader;return new Promise(function(L,I){P.loader&&P.loader.destroy();var k=P.loader=T.loader=F?new F(D):new R(D),w=S(T),M={timeout:D.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:D.fragLoadingMaxRetryTimeout,highWaterMark:T.sn==="initSegment"?1/0:p};T.stats=k.stats,k.load(w,M,{onSuccess:function($,B,U,j){P.resetLoader(T,k);var K=$.data;U.resetIV&&T.decryptdata&&(T.decryptdata.iv=new Uint8Array(K.slice(0,16)),K=K.slice(16)),L({frag:T,part:null,payload:K,networkDetails:j})},onError:function($,B,U){P.resetLoader(T,k),I(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:T,response:$,networkDetails:U}))},onAbort:function($,B,U){P.resetLoader(T,k),I(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:T,networkDetails:U}))},onTimeout:function($,B,U){P.resetLoader(T,k),I(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:T,networkDetails:U}))},onProgress:function($,B,U,j){A&&A({frag:T,part:null,payload:U,networkDetails:j})}})})},E.loadPart=function(T,A,P){var C=this;this.abort();var D=this.config,F=D.fLoader,R=D.loader;return new Promise(function(L,I){C.loader&&C.loader.destroy();var k=C.loader=T.loader=F?new F(D):new R(D),w=S(T,A),M={timeout:D.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:D.fragLoadingMaxRetryTimeout,highWaterMark:p};A.stats=k.stats,k.load(w,M,{onSuccess:function($,B,U,j){C.resetLoader(T,k),C.updateStatsFromPart(T,A);var K={frag:T,part:A,payload:$.data,networkDetails:j};P(K),L(K)},onError:function($,B,U){C.resetLoader(T,k),I(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:T,part:A,response:$,networkDetails:U}))},onAbort:function($,B,U){T.stats.aborted=A.stats.aborted,C.resetLoader(T,k),I(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:T,part:A,networkDetails:U}))},onTimeout:function($,B,U){C.resetLoader(T,k),I(new O({type:c.ErrorTypes.NETWORK_ERROR,details:c.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:T,part:A,networkDetails:U}))}})})},E.updateStatsFromPart=function(T,A){var P=T.stats,C=A.stats,D=C.total;if(P.loaded+=C.loaded,D){var F=Math.round(T.duration/A.duration),R=Math.min(Math.round(P.loaded/D),F),L=F-R,I=L*Math.round(P.loaded/R);P.total=P.loaded+I}else P.total=Math.max(P.loaded,P.total);var k=P.loading,w=C.loading;k.start?k.first+=w.first-w.start:(k.start=w.start,k.first=w.first),k.end=w.end},E.resetLoader=function(T,A){T.loader=null,this.loader===A&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),A.destroy()},y}();function S(y,E){E===void 0&&(E=null);var b=E||y,T={frag:y,part:E,responseType:"arraybuffer",url:b.url,headers:{},rangeStart:0,rangeEnd:0},A=b.byteRangeStartOffset,P=b.byteRangeEndOffset;if((0,u.isFiniteNumber)(A)&&(0,u.isFiniteNumber)(P)){var C,D=A,F=P;if(y.sn==="initSegment"&&((C=y.decryptdata)===null||C===void 0?void 0:C.method)==="AES-128"){var R=P-A;R%16&&(F=P+(16-R%16)),A!==0&&(T.resetIV=!0,D=A-16)}T.rangeStart=D,T.rangeEnd=F}return T}var O=function(y){d(E,y);function E(b){for(var T,A=arguments.length,P=new Array(A>1?A-1:0),C=1;C<A;C++)P[C-1]=arguments[C];return T=y.call.apply(y,[this].concat(P))||this,T.data=void 0,T.data=b,T}return E}(f(Error))},"./src/loader/fragment.ts":(o,s,l)=>{l.r(s),l.d(s,{BaseSegment:()=>h,ElementaryStreamTypes:()=>p,Fragment:()=>S,Part:()=>O});var u=l("./src/polyfills/number.ts"),c=l("./node_modules/url-toolkit/src/url-toolkit.js"),d=l("./src/loader/load-stats.ts");function f(y,E){y.prototype=Object.create(E.prototype),y.prototype.constructor=y,m(y,E)}function m(y,E){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T},m(y,E)}function _(y,E){for(var b=0;b<E.length;b++){var T=E[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,v(T.key),T)}}function x(y,E,b){return E&&_(y.prototype,E),b&&_(y,b),Object.defineProperty(y,"prototype",{writable:!1}),y}function v(y){var E=g(y,"string");return typeof E=="symbol"?E:String(E)}function g(y,E){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var T=b.call(y,E||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(y)}var p;(function(y){y.AUDIO="audio",y.VIDEO="video",y.AUDIOVIDEO="audiovideo"})(p||(p={}));var h=function(){function y(b){var T;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(T={},T[p.AUDIO]=null,T[p.VIDEO]=null,T[p.AUDIOVIDEO]=null,T),this.baseurl=b}var E=y.prototype;return E.setByteRange=function(T,A){var P=T.split("@",2),C=[];P.length===1?C[0]=A?A.byteRangeEndOffset:0:C[0]=parseInt(P[1]),C[1]=parseInt(P[0])+C[0],this._byteRange=C},x(y,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,c.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(T){this._url=T}}]),y}(),S=function(y){f(E,y);function E(T,A){var P;return P=y.call(this,A)||this,P._decryptdata=null,P.rawProgramDateTime=null,P.programDateTime=null,P.tagList=[],P.duration=0,P.sn=0,P.levelkeys=void 0,P.type=void 0,P.loader=null,P.keyLoader=null,P.level=-1,P.cc=0,P.startPTS=void 0,P.endPTS=void 0,P.appendedPTS=void 0,P.startDTS=void 0,P.endDTS=void 0,P.start=0,P.deltaPTS=void 0,P.maxStartPTS=void 0,P.minEndPTS=void 0,P.stats=new d.LoadStats,P.urlId=0,P.data=void 0,P.bitrateTest=!1,P.title=null,P.initSegment=null,P.endList=void 0,P.type=T,P}var b=E.prototype;return b.setKeyFormat=function(A){if(this.levelkeys){var P=this.levelkeys[A];P&&!this._decryptdata&&(this._decryptdata=P.getDecryptData(this.sn))}},b.abortRequests=function(){var A,P;(A=this.loader)===null||A===void 0||A.abort(),(P=this.keyLoader)===null||P===void 0||P.abort()},b.setElementaryStreamInfo=function(A,P,C,D,F,R){R===void 0&&(R=!1);var L=this.elementaryStreams,I=L[A];if(!I){L[A]={startPTS:P,endPTS:C,startDTS:D,endDTS:F,partial:R};return}I.startPTS=Math.min(I.startPTS,P),I.endPTS=Math.max(I.endPTS,C),I.startDTS=Math.min(I.startDTS,D),I.endDTS=Math.max(I.endDTS,F)},b.clearElementaryStreamInfo=function(){var A=this.elementaryStreams;A[p.AUDIO]=null,A[p.VIDEO]=null,A[p.AUDIOVIDEO]=null},x(E,[{key:"decryptdata",get:function(){var A=this.levelkeys;if(!A&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var P=this.levelkeys.identity;if(P)this._decryptdata=P.getDecryptData(this.sn);else{var C=Object.keys(this.levelkeys);if(C.length===1)return this._decryptdata=this.levelkeys[C[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!(0,u.isFiniteNumber)(this.programDateTime))return null;var A=(0,u.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+A*1e3}},{key:"encrypted",get:function(){var A;if((A=this._decryptdata)!==null&&A!==void 0&&A.encrypted)return!0;if(this.levelkeys){var P=Object.keys(this.levelkeys),C=P.length;if(C>1||C===1&&this.levelkeys[P[0]].encrypted)return!0}return!1}}]),E}(h),O=function(y){f(E,y);function E(b,T,A,P,C){var D;D=y.call(this,A)||this,D.fragOffset=0,D.duration=0,D.gap=!1,D.independent=!1,D.relurl=void 0,D.fragment=void 0,D.index=void 0,D.stats=new d.LoadStats,D.duration=b.decimalFloatingPoint("DURATION"),D.gap=b.bool("GAP"),D.independent=b.bool("INDEPENDENT"),D.relurl=b.enumeratedString("URI"),D.fragment=T,D.index=P;var F=b.enumeratedString("BYTERANGE");return F&&D.setByteRange(F,C),C&&(D.fragOffset=C.fragOffset+C.duration),D}return x(E,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var T=this.elementaryStreams;return!!(T.audio||T.video||T.audiovideo)}}]),E}(h)},"./src/loader/key-loader.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>d});var u=l("./src/errors.ts"),c=l("./src/loader/fragment-loader.ts"),d=function(){function f(_){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=_}var m=f.prototype;return m.abort=function(){for(var x in this.keyUriToKeyInfo){var v=this.keyUriToKeyInfo[x].loader;v&&v.abort()}},m.detach=function(){for(var x in this.keyUriToKeyInfo){var v=this.keyUriToKeyInfo[x];(v.mediaKeySessionContext||v.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[x]}},m.destroy=function(){this.detach();for(var x in this.keyUriToKeyInfo){var v=this.keyUriToKeyInfo[x].loader;v&&v.destroy()}this.keyUriToKeyInfo={}},m.createKeyLoadError=function(x,v,g,p){return v===void 0&&(v=u.ErrorDetails.KEY_LOAD_ERROR),new c.LoadError({type:u.ErrorTypes.NETWORK_ERROR,details:v,fatal:!1,frag:x,networkDetails:g})},m.loadClear=function(x,v){var g=this;if(this.emeController&&this.config.emeEnabled)for(var p=x.sn,h=x.cc,S=function(b){var T=v[b];if(h<=T.cc&&(p==="initSegment"||p<T.sn))return g.emeController.selectKeySystemFormat(T).then(function(A){T.setKeyFormat(A)}),"break"},O=0;O<v.length;O++){var y=S(O);if(y==="break")break}},m.load=function(x){var v=this;return!x.decryptdata&&x.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(x).then(function(g){return v.loadInternal(x,g)}):this.loadInternal(x)},m.loadInternal=function(x,v){var g,p;v&&x.setKeyFormat(v);var h=x.decryptdata;if(!h){var S=v?"Expected frag.decryptdata to be defined after setting format "+v:"Missing decryption data on fragment in onKeyLoading";return Promise.reject(this.createKeyLoadError(x,u.ErrorDetails.KEY_LOAD_ERROR,null,S))}var O=h.uri;if(!O)return Promise.reject(this.createKeyLoadError(x,u.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+O+'"'));var y=this.keyUriToKeyInfo[O];if((g=y)!==null&&g!==void 0&&g.decryptdata.key)return h.key=y.decryptdata.key,Promise.resolve({frag:x,keyInfo:y});if((p=y)!==null&&p!==void 0&&p.keyLoadPromise){var E;switch((E=y.mediaKeySessionContext)===null||E===void 0?void 0:E.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return y.keyLoadPromise.then(function(b){return h.key=b.keyInfo.decryptdata.key,{frag:x,keyInfo:y}})}}switch(y=this.keyUriToKeyInfo[O]={decryptdata:h,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},h.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return h.keyFormat==="identity"?this.loadKeyHTTP(y,x):this.loadKeyEME(y,x);case"AES-128":return this.loadKeyHTTP(y,x);default:return Promise.reject(this.createKeyLoadError(x,u.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+h.method+'"'))}},m.loadKeyEME=function(x,v){var g={frag:v,keyInfo:x};if(this.emeController&&this.config.emeEnabled){var p=this.emeController.loadKey(g);if(p)return(x.keyLoadPromise=p.then(function(h){return x.mediaKeySessionContext=h,g})).catch(function(h){throw x.keyLoadPromise=null,h})}return Promise.resolve(g)},m.loadKeyHTTP=function(x,v){var g=this,p=this.config,h=p.loader,S=new h(p);return v.keyLoader=x.loader=S,x.keyLoadPromise=new Promise(function(O,y){var E={keyInfo:x,frag:v,responseType:"arraybuffer",url:x.decryptdata.uri},b={timeout:p.fragLoadingTimeOut,maxRetry:0,retryDelay:p.fragLoadingRetryDelay,maxRetryDelay:p.fragLoadingMaxRetryTimeout,highWaterMark:0},T={onSuccess:function(P,C,D,F){var R=D.frag,L=D.keyInfo,I=D.url;if(!R.decryptdata||L!==g.keyUriToKeyInfo[I])return y(g.createKeyLoadError(R,u.ErrorDetails.KEY_LOAD_ERROR,F,"after key load, decryptdata unset or changed"));L.decryptdata.key=R.decryptdata.key=new Uint8Array(P.data),R.keyLoader=null,L.loader=null,O({frag:R,keyInfo:L})},onError:function(P,C,D){g.resetLoader(C),y(g.createKeyLoadError(v,u.ErrorDetails.KEY_LOAD_ERROR,D))},onTimeout:function(P,C,D){g.resetLoader(C),y(g.createKeyLoadError(v,u.ErrorDetails.KEY_LOAD_TIMEOUT,D))},onAbort:function(P,C,D){g.resetLoader(C),y(g.createKeyLoadError(v,u.ErrorDetails.INTERNAL_ABORTED,D))}};S.load(E,b,T)})},m.resetLoader=function(x){var v=x.frag,g=x.keyInfo,p=x.url,h=g.loader;v.keyLoader===h&&(v.keyLoader=null,g.loader=null),delete this.keyUriToKeyInfo[p],h&&h.destroy()},f}()},"./src/loader/level-details.ts":(o,s,l)=>{l.r(s),l.d(s,{LevelDetails:()=>x});var u=l("./src/polyfills/number.ts");function c(v,g){for(var p=0;p<g.length;p++){var h=g[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,f(h.key),h)}}function d(v,g,p){return g&&c(v.prototype,g),p&&c(v,p),Object.defineProperty(v,"prototype",{writable:!1}),v}function f(v){var g=m(v,"string");return typeof g=="symbol"?g:String(g)}function m(v,g){if(typeof v!="object"||v===null)return v;var p=v[Symbol.toPrimitive];if(p!==void 0){var h=p.call(v,g||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(v)}var _=10,x=function(){function v(p){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=p}var g=v.prototype;return g.reloaded=function(h){if(!h){this.advanced=!0,this.updated=!0;return}var S=this.lastPartSn-h.lastPartSn,O=this.lastPartIndex-h.lastPartIndex;this.updated=this.endSN!==h.endSN||!!O||!!S,this.advanced=this.endSN>h.endSN||S>0||S===0&&O>0,this.updated||this.advanced?this.misses=Math.floor(h.misses*.6):this.misses=h.misses+1,this.availabilityDelay=h.availabilityDelay},d(v,[{key:"hasProgramDateTime",get:function(){return this.fragments.length?(0,u.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime):!1}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||_}},{key:"drift",get:function(){var h=this.driftEndTime-this.driftStartTime;if(h>0){var S=this.driftEnd-this.driftStart;return S*1e3/h}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var h;return(h=this.partList)!==null&&h!==void 0&&h.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var h;return(h=this.fragments)!==null&&h!==void 0&&h.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var h;return(h=this.partList)!==null&&h!==void 0&&h.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var h;return(h=this.partList)!==null&&h!==void 0&&h.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),v}()},"./src/loader/level-key.ts":(o,s,l)=>{l.r(s),l.d(s,{LevelKey:()=>x});var u=l("./src/utils/keysystem-util.ts"),c=l("./src/utils/mediakeys-helper.ts"),d=l("./src/utils/mp4-tools.ts"),f=l("./src/utils/logger.ts"),m=l("./src/utils/numeric-encoding-utils.ts"),_={},x=function(){g.clearKeyUriToKeyIdMap=function(){_={}};function g(h,S,O,y,E){y===void 0&&(y=[1]),E===void 0&&(E=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=h,this.uri=S,this.keyFormat=O,this.keyFormatVersions=y,this.iv=E,this.encrypted=h?h!=="NONE":!1,this.isCommonEncryption=this.encrypted&&h!=="AES-128"}var p=g.prototype;return p.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;switch(this.keyFormat){case"identity":return this.method==="SAMPLE-AES";case c.KeySystemFormats.FAIRPLAY:case c.KeySystemFormats.WIDEVINE:case c.KeySystemFormats.PLAYREADY:case c.KeySystemFormats.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},p.getDecryptData=function(S){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof S!="number"&&(this.method==="AES-128"&&!this.iv&&f.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),S=0);var O=v(S),y=new g(this.method,this.uri,"identity",this.keyFormatVersions,O);return y}var E=(0,u.convertDataUriToArrayBytes)(this.uri);if(E)switch(this.keyFormat){case c.KeySystemFormats.WIDEVINE:this.pssh=E,E.length>=22&&(this.keyId=E.subarray(E.length-22,E.length-6));break;case c.KeySystemFormats.PLAYREADY:{var b=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,d.mp4pssh)(b,null,E);var T=new Uint16Array(E.buffer,E.byteOffset,E.byteLength/2),A=String.fromCharCode.apply(null,Array.from(T)),P=A.substring(A.indexOf("<"),A.length),C=new DOMParser,D=C.parseFromString(P,"text/xml"),F=D.getElementsByTagName("KID")[0];if(F){var R=F.childNodes[0]?F.childNodes[0].nodeValue:F.getAttribute("VALUE");if(R){var L=(0,m.base64Decode)(R).subarray(0,16);(0,u.changeEndianness)(L),this.keyId=L}}break}default:{var I=E.subarray(0,16);if(I.length!==16){var k=new Uint8Array(16);k.set(I,16-I.length),I=k}this.keyId=I;break}}if(!this.keyId||this.keyId.byteLength!==16){var w=_[this.uri];if(!w){var M=Object.keys(_).length%Number.MAX_SAFE_INTEGER;w=new Uint8Array(16);var N=new DataView(w.buffer,12,4);N.setUint32(0,M),_[this.uri]=w}this.keyId=w}return this},g}();function v(g){for(var p=new Uint8Array(16),h=12;h<16;h++)p[h]=g>>8*(15-h)&255;return p}},"./src/loader/load-stats.ts":(o,s,l)=>{l.r(s),l.d(s,{LoadStats:()=>u});var u=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>E});var u=l("./src/polyfills/number.ts"),c=l("./node_modules/url-toolkit/src/url-toolkit.js"),d=l("./src/loader/date-range.ts"),f=l("./src/loader/fragment.ts"),m=l("./src/loader/level-details.ts"),_=l("./src/loader/level-key.ts"),x=l("./src/utils/attr-list.ts"),v=l("./src/utils/logger.ts"),g=l("./src/utils/codecs.ts");function p(){return p=Object.assign?Object.assign.bind():function(R){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&(R[k]=I[k])}return R},p.apply(this,arguments)}var h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,S=/#EXT-X-MEDIA:(.*)/g,O=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),y=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),E=function(){function R(){}return R.findGroup=function(I,k){for(var w=0;w<I.length;w++){var M=I[w];if(M.id===k)return M}},R.convertAVC1ToAVCOTI=function(I){var k=I.split(".");if(k.length>2){var w=k.shift()+".";return w+=parseInt(k.shift()).toString(16),w+=("000"+parseInt(k.shift()).toString(16)).slice(-4),w}return I},R.resolve=function(I,k){return(0,c.buildAbsoluteURL)(k,I,{alwaysNormalize:!0})},R.parseMasterPlaylist=function(I,k){var w=[],M=[],N={},$=[],B=!1;h.lastIndex=0;for(var U;(U=h.exec(I))!=null;)if(U[1]){var j,K=new x.AttrList(U[1]),G={attrs:K,bitrate:K.decimalInteger("AVERAGE-BANDWIDTH")||K.decimalInteger("BANDWIDTH"),name:K.NAME,url:R.resolve(U[2],k)},W=K.decimalResolution("RESOLUTION");W&&(G.width=W.width,G.height=W.height),T((K.CODECS||"").split(/[ ,]+/).filter(function(Q){return Q}),G),G.videoCodec&&G.videoCodec.indexOf("avc1")!==-1&&(G.videoCodec=R.convertAVC1ToAVCOTI(G.videoCodec)),(j=G.unknownCodecs)!==null&&j!==void 0&&j.length||M.push(G),w.push(G)}else if(U[3]){var V=new x.AttrList(U[3]);V["DATA-ID"]&&(B=!0,N[V["DATA-ID"]]=V)}else if(U[4]){var Y=U[4],X=b(Y,k);X.encrypted&&X.isSupported()?$.push(X):v.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+Y+'"')}var q=M.length>0&&M.length<w.length;return{levels:q?M:w,sessionData:B?N:null,sessionKeys:$.length?$:null}},R.parseMasterPlaylistMedia=function(I,k,w,M){M===void 0&&(M=[]);var N,$=[],B=0;for(S.lastIndex=0;(N=S.exec(I))!==null;){var U=new x.AttrList(N[1]);if(U.TYPE===w){var j={attrs:U,bitrate:0,id:B++,groupId:U["GROUP-ID"],instreamId:U["INSTREAM-ID"],name:U.NAME||U.LANGUAGE||"",type:w,default:U.bool("DEFAULT"),autoselect:U.bool("AUTOSELECT"),forced:U.bool("FORCED"),lang:U.LANGUAGE,url:U.URI?R.resolve(U.URI,k):""};if(M.length){var K=R.findGroup(M,j.groupId)||M[0];A(j,K,"audioCodec"),A(j,K,"textCodec")}$.push(j)}}return $},R.parseLevelPlaylist=function(I,k,w,M,N){var $=new m.LevelDetails(k),B=$.fragments,U=null,j=0,K=0,G=0,W=0,V=null,Y=new f.Fragment(M,k),X,q,Q,te=-1,re=!1;for(O.lastIndex=0,$.m3u8=I;(X=O.exec(I))!==null;){re&&(re=!1,Y=new f.Fragment(M,k),Y.start=G,Y.sn=j,Y.cc=W,Y.level=w,U&&(Y.initSegment=U,Y.rawProgramDateTime=U.rawProgramDateTime,U.rawProgramDateTime=null));var ne=X[1];if(ne){Y.duration=parseFloat(ne);var oe=(" "+X[2]).slice(1);Y.title=oe||null,Y.tagList.push(oe?["INF",ne,oe]:["INF",ne])}else if(X[3])(0,u.isFiniteNumber)(Y.duration)&&(Y.start=G,Q&&F(Y,Q,$),Y.sn=j,Y.level=w,Y.cc=W,Y.urlId=N,B.push(Y),Y.relurl=(" "+X[3]).slice(1),C(Y,V),V=Y,G+=Y.duration,j++,K=0,re=!0);else if(X[4]){var he=(" "+X[4]).slice(1);V?Y.setByteRange(he,V):Y.setByteRange(he)}else if(X[5])Y.rawProgramDateTime=(" "+X[5]).slice(1),Y.tagList.push(["PROGRAM-DATE-TIME",Y.rawProgramDateTime]),te===-1&&(te=B.length);else{if(X=X[0].match(y),!X){v.logger.warn("No matches on slow regex match for level playlist!");continue}for(q=1;q<X.length&&!(typeof X[q]<"u");q++);var fe=(" "+X[q]).slice(1),ie=(" "+X[q+1]).slice(1),pe=X[q+2]?(" "+X[q+2]).slice(1):"";switch(fe){case"PLAYLIST-TYPE":$.type=ie.toUpperCase();break;case"MEDIA-SEQUENCE":j=$.startSN=parseInt(ie);break;case"SKIP":{var xe=new x.AttrList(ie),Te=xe.decimalInteger("SKIPPED-SEGMENTS");if((0,u.isFiniteNumber)(Te)){$.skippedSegments=Te;for(var Ye=Te;Ye--;)B.unshift(null);j+=Te}var $e=xe.enumeratedString("RECENTLY-REMOVED-DATERANGES");$e&&($.recentlyRemovedDateranges=$e.split("	"));break}case"TARGETDURATION":$.targetduration=parseFloat(ie);break;case"VERSION":$.version=parseInt(ie);break;case"EXTM3U":break;case"ENDLIST":$.live=!1;break;case"#":(ie||pe)&&Y.tagList.push(pe?[ie,pe]:[ie]);break;case"DISCONTINUITY":W++,Y.tagList.push(["DIS"]);break;case"GAP":Y.tagList.push([fe]);break;case"BITRATE":Y.tagList.push([fe,ie]);break;case"DATERANGE":{var ze=new x.AttrList(ie),ke=new d.DateRange(ze,$.dateRanges[ze.ID]);ke.isValid||$.skippedSegments?$.dateRanges[ke.id]=ke:v.logger.warn('Ignoring invalid DATERANGE tag: "'+ie+'"'),Y.tagList.push(["EXT-X-DATERANGE",ie]);break}case"DISCONTINUITY-SEQUENCE":W=parseInt(ie);break;case"KEY":{var Ze=b(ie,k);if(Ze.isSupported()){if(Ze.method==="NONE"){Q=void 0;break}Q||(Q={}),Q[Ze.keyFormat]&&(Q=p({},Q)),Q[Ze.keyFormat]=Ze}else v.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+ie+'"');break}case"START":{var Xe=new x.AttrList(ie),ut=Xe.decimalFloatingPoint("TIME-OFFSET");(0,u.isFiniteNumber)(ut)&&($.startTimeOffset=ut);break}case"MAP":{var it=new x.AttrList(ie);if(Y.duration){var Je=new f.Fragment(M,k);D(Je,it,w,Q),U=Je,Y.initSegment=U,U.rawProgramDateTime&&!Y.rawProgramDateTime&&(Y.rawProgramDateTime=U.rawProgramDateTime)}else D(Y,it,w,Q),U=Y,re=!0;break}case"SERVER-CONTROL":{var at=new x.AttrList(ie);$.canBlockReload=at.bool("CAN-BLOCK-RELOAD"),$.canSkipUntil=at.optionalFloat("CAN-SKIP-UNTIL",0),$.canSkipDateRanges=$.canSkipUntil>0&&at.bool("CAN-SKIP-DATERANGES"),$.partHoldBack=at.optionalFloat("PART-HOLD-BACK",0),$.holdBack=at.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{var Ht=new x.AttrList(ie);$.partTarget=Ht.decimalFloatingPoint("PART-TARGET");break}case"PART":{var Ct=$.partList;Ct||(Ct=$.partList=[]);var Dr=K>0?Ct[Ct.length-1]:void 0,$r=K++,wt=new f.Part(new x.AttrList(ie),Y,k,$r,Dr);Ct.push(wt),Y.duration+=wt.duration;break}case"PRELOAD-HINT":{var mr=new x.AttrList(ie);$.preloadHint=mr;break}case"RENDITION-REPORT":{var Mt=new x.AttrList(ie);$.renditionReports=$.renditionReports||[],$.renditionReports.push(Mt);break}default:v.logger.warn("line parsed but not handled: "+X);break}}}V&&!V.relurl?(B.pop(),G-=V.duration,$.partList&&($.fragmentHint=V)):$.partList&&(C(Y,V),Y.cc=W,$.fragmentHint=Y,Q&&F(Y,Q,$));var Ne=B.length,Pt=B[0],kr=B[Ne-1];if(G+=$.skippedSegments*$.targetduration,G>0&&Ne&&kr){$.averagetargetduration=G/Ne;var vt=kr.sn;$.endSN=vt!=="initSegment"?vt:0,$.live||(kr.endList=!0),Pt&&($.startCC=Pt.cc)}else $.endSN=0,$.startCC=0;return $.fragmentHint&&(G+=$.fragmentHint.duration),$.totalduration=G,$.endCC=W,te>0&&P(B,te),$},R}();function b(R,L){var I,k,w=new x.AttrList(R),M=(I=w.enumeratedString("METHOD"))!=null?I:"",N=w.URI,$=w.hexadecimalInteger("IV"),B=w.enumeratedString("KEYFORMATVERSIONS"),U=(k=w.enumeratedString("KEYFORMAT"))!=null?k:"identity";N&&w.IV&&!$&&v.logger.error("Invalid IV: "+w.IV);var j=N?E.resolve(N,L):"",K=(B||"1").split("/").map(Number).filter(Number.isFinite);return new _.LevelKey(M,j,U,K,$)}function T(R,L){["video","audio","text"].forEach(function(I){var k=R.filter(function(M){return(0,g.isCodecType)(M,I)});if(k.length){var w=k.filter(function(M){return M.lastIndexOf("avc1",0)===0||M.lastIndexOf("mp4a",0)===0});L[I+"Codec"]=w.length>0?w[0]:k[0],R=R.filter(function(M){return k.indexOf(M)===-1})}}),L.unknownCodecs=R}function A(R,L,I){var k=L[I];k&&(R[I]=k)}function P(R,L){for(var I=R[L],k=L;k--;){var w=R[k];if(!w)return;w.programDateTime=I.programDateTime-w.duration*1e3,I=w}}function C(R,L){R.rawProgramDateTime?R.programDateTime=Date.parse(R.rawProgramDateTime):L!=null&&L.programDateTime&&(R.programDateTime=L.endProgramDateTime),(0,u.isFiniteNumber)(R.programDateTime)||(R.programDateTime=null,R.rawProgramDateTime=null)}function D(R,L,I,k){R.relurl=L.URI,L.BYTERANGE&&R.setByteRange(L.BYTERANGE),R.level=I,R.sn="initSegment",k&&(R.levelkeys=k),R.initSegment=null}function F(R,L,I){R.levelkeys=L;var k=I.encryptedFragments;(!k.length||k[k.length-1].levelkeys!==L)&&Object.keys(L).some(function(w){return L[w].isCommonEncryption})&&k.push(R)}},"./src/loader/playlist-loader.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>h});var u=l("./src/polyfills/number.ts"),c=l("./src/events.ts"),d=l("./src/errors.ts"),f=l("./src/utils/logger.ts"),m=l("./src/loader/m3u8-parser.ts"),_=l("./src/types/loader.ts"),x=l("./src/utils/attr-list.ts");function v(S){var O=S.type;switch(O){case _.PlaylistContextType.AUDIO_TRACK:return _.PlaylistLevelType.AUDIO;case _.PlaylistContextType.SUBTITLE_TRACK:return _.PlaylistLevelType.SUBTITLE;default:return _.PlaylistLevelType.MAIN}}function g(S,O){var y=S.url;return(y===void 0||y.indexOf("data:")===0)&&(y=O.url),y}var p=function(){function S(y){this.hls=void 0,this.loaders=Object.create(null),this.hls=y,this.registerListeners()}var O=S.prototype;return O.startLoad=function(E){},O.stopLoad=function(){this.destroyInternalLoaders()},O.registerListeners=function(){var E=this.hls;E.on(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.on(c.Events.LEVEL_LOADING,this.onLevelLoading,this),E.on(c.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),E.on(c.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},O.unregisterListeners=function(){var E=this.hls;E.off(c.Events.MANIFEST_LOADING,this.onManifestLoading,this),E.off(c.Events.LEVEL_LOADING,this.onLevelLoading,this),E.off(c.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),E.off(c.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},O.createInternalLoader=function(E){var b=this.hls.config,T=b.pLoader,A=b.loader,P=T||A,C=new P(b);return E.loader=C,this.loaders[E.type]=C,C},O.getInternalLoader=function(E){return this.loaders[E.type]},O.resetInternalLoader=function(E){this.loaders[E]&&delete this.loaders[E]},O.destroyInternalLoaders=function(){for(var E in this.loaders){var b=this.loaders[E];b&&b.destroy(),this.resetInternalLoader(E)}},O.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},O.onManifestLoading=function(E,b){var T=b.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:_.PlaylistContextType.MANIFEST,url:T,deliveryDirectives:null})},O.onLevelLoading=function(E,b){var T=b.id,A=b.level,P=b.url,C=b.deliveryDirectives;this.load({id:T,groupId:null,level:A,responseType:"text",type:_.PlaylistContextType.LEVEL,url:P,deliveryDirectives:C})},O.onAudioTrackLoading=function(E,b){var T=b.id,A=b.groupId,P=b.url,C=b.deliveryDirectives;this.load({id:T,groupId:A,level:null,responseType:"text",type:_.PlaylistContextType.AUDIO_TRACK,url:P,deliveryDirectives:C})},O.onSubtitleTrackLoading=function(E,b){var T=b.id,A=b.groupId,P=b.url,C=b.deliveryDirectives;this.load({id:T,groupId:A,level:null,responseType:"text",type:_.PlaylistContextType.SUBTITLE_TRACK,url:P,deliveryDirectives:C})},O.load=function(E){var b,T=this.hls.config,A=this.getInternalLoader(E);if(A){var P=A.context;if(P&&P.url===E.url){f.logger.trace("[playlist-loader]: playlist request ongoing");return}f.logger.log("[playlist-loader]: aborting previous loader for type: "+E.type),A.abort()}var C,D,F,R;switch(E.type){case _.PlaylistContextType.MANIFEST:C=T.manifestLoadingMaxRetry,D=T.manifestLoadingTimeOut,F=T.manifestLoadingRetryDelay,R=T.manifestLoadingMaxRetryTimeout;break;case _.PlaylistContextType.LEVEL:case _.PlaylistContextType.AUDIO_TRACK:case _.PlaylistContextType.SUBTITLE_TRACK:C=0,D=T.levelLoadingTimeOut;break;default:C=T.levelLoadingMaxRetry,D=T.levelLoadingTimeOut,F=T.levelLoadingRetryDelay,R=T.levelLoadingMaxRetryTimeout;break}if(A=this.createInternalLoader(E),(b=E.deliveryDirectives)!==null&&b!==void 0&&b.part){var L;if(E.type===_.PlaylistContextType.LEVEL&&E.level!==null?L=this.hls.levels[E.level].details:E.type===_.PlaylistContextType.AUDIO_TRACK&&E.id!==null?L=this.hls.audioTracks[E.id].details:E.type===_.PlaylistContextType.SUBTITLE_TRACK&&E.id!==null&&(L=this.hls.subtitleTracks[E.id].details),L){var I=L.partTarget,k=L.targetduration;I&&k&&(D=Math.min(Math.max(I*3,k*.8)*1e3,D))}}var w={timeout:D,maxRetry:C,retryDelay:F,maxRetryDelay:R,highWaterMark:0},M={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};A.load(E,w,M)},O.loadsuccess=function(E,b,T,A){A===void 0&&(A=null),this.resetInternalLoader(T.type);var P=E.data;if(P.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(E,T,"no EXTM3U delimiter",A);return}b.parsing.start=performance.now(),P.indexOf("#EXTINF:")>0||P.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(E,b,T,A):this.handleMasterPlaylist(E,b,T,A)},O.loaderror=function(E,b,T){T===void 0&&(T=null),this.handleNetworkError(b,T,!1,E)},O.loadtimeout=function(E,b,T){T===void 0&&(T=null),this.handleNetworkError(b,T,!0)},O.handleMasterPlaylist=function(E,b,T,A){var P=this.hls,C=E.data,D=g(E,T),F=m.default.parseMasterPlaylist(C,D),R=F.levels,L=F.sessionData,I=F.sessionKeys;if(!R.length){this.handleManifestParsingError(E,T,"no level found in manifest",A);return}var k=R.map(function(U){return{id:U.attrs.AUDIO,audioCodec:U.audioCodec}}),w=R.map(function(U){return{id:U.attrs.SUBTITLES,textCodec:U.textCodec}}),M=m.default.parseMasterPlaylistMedia(C,D,"AUDIO",k),N=m.default.parseMasterPlaylistMedia(C,D,"SUBTITLES",w),$=m.default.parseMasterPlaylistMedia(C,D,"CLOSED-CAPTIONS");if(M.length){var B=M.some(function(U){return!U.url});!B&&R[0].audioCodec&&!R[0].attrs.AUDIO&&(f.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),M.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new x.AttrList({}),bitrate:0,url:""}))}P.trigger(c.Events.MANIFEST_LOADED,{levels:R,audioTracks:M,subtitles:N,captions:$,url:D,stats:b,networkDetails:A,sessionData:L,sessionKeys:I})},O.handleTrackOrLevelPlaylist=function(E,b,T,A){var P=this.hls,C=T.id,D=T.level,F=T.type,R=g(E,T),L=(0,u.isFiniteNumber)(C)?C:0,I=(0,u.isFiniteNumber)(D)?D:L,k=v(T),w=m.default.parseLevelPlaylist(E.data,R,I,k,L);if(!w.fragments.length){P.trigger(c.Events.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:R,reason:"no fragments found in level",level:typeof T.level=="number"?T.level:void 0});return}if(F===_.PlaylistContextType.MANIFEST){var M={attrs:new x.AttrList({}),bitrate:0,details:w,name:"",url:R};P.trigger(c.Events.MANIFEST_LOADED,{levels:[M],audioTracks:[],url:R,stats:b,networkDetails:A,sessionData:null,sessionKeys:null})}b.parsing.end=performance.now(),T.levelDetails=w,this.handlePlaylistLoaded(E,b,T,A)},O.handleManifestParsingError=function(E,b,T,A){this.hls.trigger(c.Events.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:b.type===_.PlaylistContextType.MANIFEST,url:E.url,reason:T,response:E,context:b,networkDetails:A})},O.handleNetworkError=function(E,b,T,A){T===void 0&&(T=!1),f.logger.warn("[playlist-loader]: A network "+(T?"timeout":"error")+" occurred while loading "+E.type+" level: "+E.level+" id: "+E.id+' group-id: "'+E.groupId+'"');var P=d.ErrorDetails.UNKNOWN,C=!1,D=this.getInternalLoader(E);switch(E.type){case _.PlaylistContextType.MANIFEST:P=T?d.ErrorDetails.MANIFEST_LOAD_TIMEOUT:d.ErrorDetails.MANIFEST_LOAD_ERROR,C=!0;break;case _.PlaylistContextType.LEVEL:P=T?d.ErrorDetails.LEVEL_LOAD_TIMEOUT:d.ErrorDetails.LEVEL_LOAD_ERROR,C=!1;break;case _.PlaylistContextType.AUDIO_TRACK:P=T?d.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,C=!1;break;case _.PlaylistContextType.SUBTITLE_TRACK:P=T?d.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:d.ErrorDetails.SUBTITLE_LOAD_ERROR,C=!1;break}D&&this.resetInternalLoader(E.type);var F={type:d.ErrorTypes.NETWORK_ERROR,details:P,fatal:C,url:E.url,loader:D,context:E,networkDetails:b};A&&(F.response=A),this.hls.trigger(c.Events.ERROR,F)},O.handlePlaylistLoaded=function(E,b,T,A){var P=T.type,C=T.level,D=T.id,F=T.groupId,R=T.loader,L=T.levelDetails,I=T.deliveryDirectives;if(!(L!=null&&L.targetduration)){this.handleManifestParsingError(E,T,"invalid target duration",A);return}if(R)switch(L.live&&(R.getCacheAge&&(L.ageHeader=R.getCacheAge()||0),(!R.getCacheAge||isNaN(L.ageHeader))&&(L.ageHeader=0)),P){case _.PlaylistContextType.MANIFEST:case _.PlaylistContextType.LEVEL:this.hls.trigger(c.Events.LEVEL_LOADED,{details:L,level:C||0,id:D||0,stats:b,networkDetails:A,deliveryDirectives:I});break;case _.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(c.Events.AUDIO_TRACK_LOADED,{details:L,id:D||0,groupId:F||"",stats:b,networkDetails:A,deliveryDirectives:I});break;case _.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(c.Events.SUBTITLE_TRACK_LOADED,{details:L,id:D||0,groupId:F||"",stats:b,networkDetails:A,deliveryDirectives:I});break}},S}();const h=p},"./src/polyfills/number.ts":(o,s,l)=>{l.r(s),l.d(s,{MAX_SAFE_INTEGER:()=>c,isFiniteNumber:()=>u});var u=Number.isFinite||function(d){return typeof d=="number"&&isFinite(d)},c=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>c});var u=function(){function d(){}return d.getSilentFrame=function(m,_){switch(m){case"mp4a.40.2":if(_===1)return new Uint8Array([0,200,0,128,35,128]);if(_===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(_===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(_===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(_===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(_===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(_===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(_===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(_===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}},d}();const c=u},"./src/remux/mp4-generator.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>d});var u=Math.pow(2,32)-1,c=function(){function f(){}return f.init=function(){f.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var _;for(_ in f.types)f.types.hasOwnProperty(_)&&(f.types[_]=[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]);var x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),v=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);f.HDLR_TYPES={video:x,audio:v};var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),p=new Uint8Array([0,0,0,0,0,0,0,0]);f.STTS=f.STSC=f.STCO=p,f.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),f.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),f.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),f.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var h=new Uint8Array([105,115,111,109]),S=new Uint8Array([97,118,99,49]),O=new Uint8Array([0,0,0,1]);f.FTYP=f.box(f.types.ftyp,h,O,h,S),f.DINF=f.box(f.types.dinf,f.box(f.types.dref,g))},f.box=function(_){for(var x=8,v=arguments.length,g=new Array(v>1?v-1:0),p=1;p<v;p++)g[p-1]=arguments[p];for(var h=g.length,S=h;h--;)x+=g[h].byteLength;var O=new Uint8Array(x);for(O[0]=x>>24&255,O[1]=x>>16&255,O[2]=x>>8&255,O[3]=x&255,O.set(_,4),h=0,x=8;h<S;h++)O.set(g[h],x),x+=g[h].byteLength;return O},f.hdlr=function(_){return f.box(f.types.hdlr,f.HDLR_TYPES[_])},f.mdat=function(_){return f.box(f.types.mdat,_)},f.mdhd=function(_,x){x*=_;var v=Math.floor(x/(u+1)),g=Math.floor(x%(u+1));return f.box(f.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_>>24&255,_>>16&255,_>>8&255,_&255,v>>24,v>>16&255,v>>8&255,v&255,g>>24,g>>16&255,g>>8&255,g&255,85,196,0,0]))},f.mdia=function(_){return f.box(f.types.mdia,f.mdhd(_.timescale,_.duration),f.hdlr(_.type),f.minf(_))},f.mfhd=function(_){return f.box(f.types.mfhd,new Uint8Array([0,0,0,0,_>>24,_>>16&255,_>>8&255,_&255]))},f.minf=function(_){return _.type==="audio"?f.box(f.types.minf,f.box(f.types.smhd,f.SMHD),f.DINF,f.stbl(_)):f.box(f.types.minf,f.box(f.types.vmhd,f.VMHD),f.DINF,f.stbl(_))},f.moof=function(_,x,v){return f.box(f.types.moof,f.mfhd(_),f.traf(v,x))},f.moov=function(_){for(var x=_.length,v=[];x--;)v[x]=f.trak(_[x]);return f.box.apply(null,[f.types.moov,f.mvhd(_[0].timescale,_[0].duration)].concat(v).concat(f.mvex(_)))},f.mvex=function(_){for(var x=_.length,v=[];x--;)v[x]=f.trex(_[x]);return f.box.apply(null,[f.types.mvex].concat(v))},f.mvhd=function(_,x){x*=_;var v=Math.floor(x/(u+1)),g=Math.floor(x%(u+1)),p=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_>>24&255,_>>16&255,_>>8&255,_&255,v>>24,v>>16&255,v>>8&255,v&255,g>>24,g>>16&255,g>>8&255,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return f.box(f.types.mvhd,p)},f.sdtp=function(_){var x=_.samples||[],v=new Uint8Array(4+x.length),g,p;for(g=0;g<x.length;g++)p=x[g].flags,v[g+4]=p.dependsOn<<4|p.isDependedOn<<2|p.hasRedundancy;return f.box(f.types.sdtp,v)},f.stbl=function(_){return f.box(f.types.stbl,f.stsd(_),f.box(f.types.stts,f.STTS),f.box(f.types.stsc,f.STSC),f.box(f.types.stsz,f.STSZ),f.box(f.types.stco,f.STCO))},f.avc1=function(_){var x=[],v=[],g,p,h;for(g=0;g<_.sps.length;g++)p=_.sps[g],h=p.byteLength,x.push(h>>>8&255),x.push(h&255),x=x.concat(Array.prototype.slice.call(p));for(g=0;g<_.pps.length;g++)p=_.pps[g],h=p.byteLength,v.push(h>>>8&255),v.push(h&255),v=v.concat(Array.prototype.slice.call(p));var S=f.box(f.types.avcC,new Uint8Array([1,x[3],x[4],x[5],255,224|_.sps.length].concat(x).concat([_.pps.length]).concat(v))),O=_.width,y=_.height,E=_.pixelRatio[0],b=_.pixelRatio[1];return f.box(f.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,O>>8&255,O&255,y>>8&255,y&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),S,f.box(f.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),f.box(f.types.pasp,new Uint8Array([E>>24,E>>16&255,E>>8&255,E&255,b>>24,b>>16&255,b>>8&255,b&255])))},f.esds=function(_){var x=_.config.length;return new Uint8Array([0,0,0,0,3,23+x,0,1,0,4,15+x,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([x]).concat(_.config).concat([6,1,2]))},f.mp4a=function(_){var x=_.samplerate;return f.box(f.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,_.channelCount,0,16,0,0,0,0,x>>8&255,x&255,0,0]),f.box(f.types.esds,f.esds(_)))},f.mp3=function(_){var x=_.samplerate;return f.box(f.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,_.channelCount,0,16,0,0,0,0,x>>8&255,x&255,0,0]))},f.stsd=function(_){return _.type==="audio"?_.segmentCodec==="mp3"&&_.codec==="mp3"?f.box(f.types.stsd,f.STSD,f.mp3(_)):f.box(f.types.stsd,f.STSD,f.mp4a(_)):f.box(f.types.stsd,f.STSD,f.avc1(_))},f.tkhd=function(_){var x=_.id,v=_.duration*_.timescale,g=_.width,p=_.height,h=Math.floor(v/(u+1)),S=Math.floor(v%(u+1));return f.box(f.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,x>>24&255,x>>16&255,x>>8&255,x&255,0,0,0,0,h>>24,h>>16&255,h>>8&255,h&255,S>>24,S>>16&255,S>>8&255,S&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,g>>8&255,g&255,0,0,p>>8&255,p&255,0,0]))},f.traf=function(_,x){var v=f.sdtp(_),g=_.id,p=Math.floor(x/(u+1)),h=Math.floor(x%(u+1));return f.box(f.types.traf,f.box(f.types.tfhd,new Uint8Array([0,0,0,0,g>>24,g>>16&255,g>>8&255,g&255])),f.box(f.types.tfdt,new Uint8Array([1,0,0,0,p>>24,p>>16&255,p>>8&255,p&255,h>>24,h>>16&255,h>>8&255,h&255])),f.trun(_,v.length+16+20+8+16+8+8),v)},f.trak=function(_){return _.duration=_.duration||4294967295,f.box(f.types.trak,f.tkhd(_),f.mdia(_))},f.trex=function(_){var x=_.id;return f.box(f.types.trex,new Uint8Array([0,0,0,0,x>>24,x>>16&255,x>>8&255,x&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},f.trun=function(_,x){var v=_.samples||[],g=v.length,p=12+16*g,h=new Uint8Array(p),S,O,y,E,b,T;for(x+=8+p,h.set([_.type==="video"?1:0,0,15,1,g>>>24&255,g>>>16&255,g>>>8&255,g&255,x>>>24&255,x>>>16&255,x>>>8&255,x&255],0),S=0;S<g;S++)O=v[S],y=O.duration,E=O.size,b=O.flags,T=O.cts,h.set([y>>>24&255,y>>>16&255,y>>>8&255,y&255,E>>>24&255,E>>>16&255,E>>>8&255,E&255,b.isLeading<<2|b.dependsOn,b.isDependedOn<<6|b.hasRedundancy<<4|b.paddingValue<<1|b.isNonSync,b.degradPrio&240<<8,b.degradPrio&15,T>>>24&255,T>>>16&255,T>>>8&255,T&255],12+16*S);return f.box(f.types.trun,h)},f.initSegment=function(_){f.types||f.init();var x=f.moov(_),v=new Uint8Array(f.FTYP.byteLength+x.byteLength);return v.set(f.FTYP),v.set(x,f.FTYP.byteLength),v},f}();c.types=void 0,c.HDLR_TYPES=void 0,c.STTS=void 0,c.STSC=void 0,c.STCO=void 0,c.STSZ=void 0,c.VMHD=void 0,c.SMHD=void 0,c.STSD=void 0,c.FTYP=void 0,c.DINF=void 0;const d=c},"./src/remux/mp4-remuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>E,flushTextTrackMetadataCueSamples:()=>A,flushTextTrackUserdataCueSamples:()=>P,normalizePts:()=>b});var u=l("./src/polyfills/number.ts"),c=l("./src/remux/aac-helper.ts"),d=l("./src/remux/mp4-generator.ts"),f=l("./src/events.ts"),m=l("./src/errors.ts"),_=l("./src/utils/logger.ts"),x=l("./src/types/loader.ts"),v=l("./src/utils/timescale-conversion.ts");function g(){return g=Object.assign?Object.assign.bind():function(F){for(var R=1;R<arguments.length;R++){var L=arguments[R];for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(F[I]=L[I])}return F},g.apply(this,arguments)}var p=10*1e3,h=1024,S=1152,O=null,y=null,E=function(){function F(L,I,k,w){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=L,this.config=I,this.typeSupported=k,this.ISGenerated=!1,O===null){var M=navigator.userAgent||"",N=M.match(/Chrome\/(\d+)/i);O=N?parseInt(N[1]):0}if(y===null){var $=navigator.userAgent.match(/Safari\/(\d+)/i);y=$?parseInt($[1]):0}}var R=F.prototype;return R.destroy=function(){},R.resetTimeStamp=function(I){_.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=I},R.resetNextTimestamp=function(){_.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},R.resetInitSegment=function(){_.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},R.getVideoStartPts=function(I){var k=!1,w=I.reduce(function(M,N){var $=N.pts-M;return $<-4294967296?(k=!0,b(M,N.pts)):$>0?M:N.pts},I[0].pts);return k&&_.logger.debug("PTS rollover detected"),w},R.remux=function(I,k,w,M,N,$,B,U){var j,K,G,W,V,Y,X=N,q=N,Q=I.pid>-1,te=k.pid>-1,re=k.samples.length,ne=I.samples.length>0,oe=B&&re>0||re>1,he=(!Q||ne)&&(!te||oe)||this.ISGenerated||B;if(he){this.ISGenerated||(G=this.generateIS(I,k,N));var fe=this.isVideoContiguous,ie=-1,pe;if(oe&&(ie=T(k.samples),!fe&&this.config.forceKeyFrameOnDiscontinuity))if(Y=!0,ie>0){_.logger.warn("[mp4-remuxer]: Dropped "+ie+" out of "+re+" video samples due to a missing keyframe");var xe=this.getVideoStartPts(k.samples);k.samples=k.samples.slice(ie),k.dropped+=ie,q+=(k.samples[0].pts-xe)/k.inputTimeScale,pe=q}else ie===-1&&(_.logger.warn("[mp4-remuxer]: No keyframe found out of "+re+" video samples"),Y=!1);if(this.ISGenerated){if(ne&&oe){var Te=this.getVideoStartPts(k.samples),Ye=b(I.samples[0].pts,Te)-Te,$e=Ye/k.inputTimeScale;X+=Math.max(0,$e),q+=Math.max(0,-$e)}if(ne){if(I.samplerate||(_.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),G=this.generateIS(I,k,N)),K=this.remuxAudio(I,X,this.isAudioContiguous,$,te||oe||U===x.PlaylistLevelType.AUDIO?q:void 0),oe){var ze=K?K.endPTS-K.startPTS:0;k.inputTimeScale||(_.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),G=this.generateIS(I,k,N)),j=this.remuxVideo(k,q,fe,ze)}}else oe&&(j=this.remuxVideo(k,q,fe,0));j&&(j.firstKeyFrame=ie,j.independent=ie!==-1,j.firstKeyFramePTS=pe)}}return this.ISGenerated&&(w.samples.length&&(V=A(w,N,this._initPTS,this._initDTS)),M.samples.length&&(W=P(M,N,this._initPTS))),{audio:K,video:j,initSegment:G,independent:Y,text:W,id3:V}},R.generateIS=function(I,k,w){var M=I.samples,N=k.samples,$=this.typeSupported,B={},U=!(0,u.isFiniteNumber)(this._initPTS),j="audio/mp4",K,G,W;if(U&&(K=G=1/0),I.config&&M.length){switch(I.timescale=I.samplerate,I.segmentCodec){case"mp3":$.mpeg?(j="audio/mpeg",I.codec=""):$.mp3&&(I.codec="mp3");break}B.audio={id:"audio",container:j,codec:I.codec,initSegment:I.segmentCodec==="mp3"&&$.mpeg?new Uint8Array(0):d.default.initSegment([I]),metadata:{channelCount:I.channelCount}},U&&(W=I.inputTimeScale,K=G=M[0].pts-Math.round(W*w))}if(k.sps&&k.pps&&N.length&&(k.timescale=k.inputTimeScale,B.video={id:"main",container:"video/mp4",codec:k.codec,initSegment:d.default.initSegment([k]),metadata:{width:k.width,height:k.height}},U)){W=k.inputTimeScale;var V=this.getVideoStartPts(N),Y=Math.round(W*w);G=Math.min(G,b(N[0].dts,V)-Y),K=Math.min(K,V-Y)}if(Object.keys(B).length)return this.ISGenerated=!0,U&&(this._initPTS=K,this._initDTS=G),{tracks:B,initPTS:K,timescale:W}},R.remuxVideo=function(I,k,w,M){var N=I.inputTimeScale,$=I.samples,B=[],U=$.length,j=this._initPTS,K=this.nextAvcDts,G=8,W=this.videoSampleDuration,V,Y,X=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,Q=!1;if(!w||K===null){var te=k*N,re=$[0].pts-b($[0].dts,$[0].pts);K=te-re}for(var ne=0;ne<U;ne++){var oe=$[ne];oe.pts=b(oe.pts-j,K),oe.dts=b(oe.dts-j,K),oe.dts<$[ne>0?ne-1:ne].dts&&(Q=!0)}Q&&$.sort(function(J,ae){var ve=J.dts-ae.dts,rt=J.pts-ae.pts;return ve||rt}),V=$[0].dts,Y=$[$.length-1].dts;var he=Y-V,fe=he?Math.round(he/(U-1)):W||I.inputTimeScale/30;if(w){var ie=V-K,pe=ie>fe,xe=ie<-1;if((pe||xe)&&(pe?_.logger.warn("AVC: "+(0,v.toMsFromMpegTsClock)(ie,!0)+" ms ("+ie+"dts) hole between fragments detected, filling it"):_.logger.warn("AVC: "+(0,v.toMsFromMpegTsClock)(-ie,!0)+" ms ("+ie+"dts) overlapping between fragments detected"),!xe||K>$[0].pts)){V=K;var Te=$[0].pts-ie;$[0].dts=V,$[0].pts=Te,_.logger.log("Video: First PTS/DTS adjusted: "+(0,v.toMsFromMpegTsClock)(Te,!0)+"/"+(0,v.toMsFromMpegTsClock)(V,!0)+", delta: "+(0,v.toMsFromMpegTsClock)(ie,!0)+" ms")}}V=Math.max(0,V);for(var Ye=0,$e=0,ze=0;ze<U;ze++){for(var ke=$[ze],Ze=ke.units,Xe=Ze.length,ut=0,it=0;it<Xe;it++)ut+=Ze[it].data.length;$e+=ut,Ye+=Xe,ke.length=ut,ke.dts=Math.max(ke.dts,V),X=Math.min(ke.pts,X),q=Math.max(ke.pts,q)}Y=$[U-1].dts;var Je=$e+4*Ye+8,at;try{at=new Uint8Array(Je)}catch{this.observer.emit(f.Events.ERROR,f.Events.ERROR,{type:m.ErrorTypes.MUX_ERROR,details:m.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Je,reason:"fail allocating video mdat "+Je});return}var Ht=new DataView(at.buffer);Ht.setUint32(0,Je),at.set(d.default.types.mdat,4);for(var Ct=!1,Dr=Number.POSITIVE_INFINITY,$r=Number.POSITIVE_INFINITY,wt=Number.NEGATIVE_INFINITY,mr=Number.NEGATIVE_INFINITY,Mt=0;Mt<U;Mt++){for(var Ne=$[Mt],Pt=Ne.units,kr=0,vt=0,yr=Pt.length;vt<yr;vt++){var nr=Pt[vt],_a=nr.data,mi=nr.data.byteLength;Ht.setUint32(G,mi),G+=4,at.set(_a,G),G+=mi,kr+=4+mi}var qr=void 0;if(Mt<U-1)W=$[Mt+1].dts-Ne.dts,qr=$[Mt+1].pts-Ne.pts;else{var ho=this.config,Ea=Mt>0?Ne.dts-$[Mt-1].dts:fe;if(qr=Mt>0?Ne.pts-$[Mt-1].pts:fe,ho.stretchShortVideoTrack&&this.nextAudioPts!==null){var At=Math.floor(ho.maxBufferHole*N),_r=(M?X+M*N:this.nextAudioPts)-Ne.pts;_r>At?(W=_r-Ea,W<0?W=Ea:Ct=!0,_.logger.log("[mp4-remuxer]: It is approximately "+_r/90+" ms to the next segment; using duration "+W/90+" ms for the last video frame.")):W=Ea}else W=Ea}var Ds=Math.round(Ne.pts-Ne.dts);Dr=Math.min(Dr,W),wt=Math.max(wt,W),$r=Math.min($r,qr),mr=Math.max(mr,qr),B.push(new C(Ne.key,W,kr,Ds))}if(B.length){if(O){if(O<70){var $s=B[0].flags;$s.dependsOn=2,$s.isNonSync=0}}else if(y&&mr-$r<wt-Dr&&fe/wt<.025&&B[0].cts===0){_.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var Bf=V,Er=0,Fn=B.length;Er<Fn;Er++){var Uf=Bf+B[Er].duration,j0=Bf+B[Er].cts;if(Er<Fn-1){var H0=Uf+B[Er+1].cts;B[Er].duration=H0-j0}else B[Er].duration=Er?B[Er-1].duration:fe;B[Er].cts=0,Bf=Uf}}}console.assert(W!==null,"mp4SampleDuration must be computed"),W=Ct||!W?fe:W,this.nextAvcDts=K=Y+W,this.videoSampleDuration=W,this.isVideoContiguous=!0;var K0=d.default.moof(I.sequenceNumber++,V,g({},I,{samples:B})),LE="video",Se={data1:K0,data2:at,startPTS:X/N,endPTS:(q+W)/N,startDTS:V/N,endDTS:K/N,type:LE,hasAudio:!1,hasVideo:!0,nb:B.length,dropped:I.dropped};return I.samples=[],I.dropped=0,console.assert(at.length,"MDAT length must not be zero"),Se},R.remuxAudio=function(I,k,w,M,N){var $=I.inputTimeScale,B=I.samplerate?I.samplerate:$,U=$/B,j=I.segmentCodec==="aac"?h:S,K=j*U,G=this._initPTS,W=I.segmentCodec==="mp3"&&this.typeSupported.mpeg,V=[],Y=N!==void 0,X=I.samples,q=W?0:8,Q=this.nextAudioPts||-1,te=k*$;if(this.isAudioContiguous=w=w||X.length&&Q>0&&(M&&Math.abs(te-Q)<9e3||Math.abs(b(X[0].pts-G,te)-Q)<20*K),X.forEach(function(nr){nr.pts=b(nr.pts-G,te)}),!w||Q<0){if(X=X.filter(function(nr){return nr.pts>=0}),!X.length)return;N===0?Q=0:M&&!Y?Q=Math.max(0,te):Q=X[0].pts}if(I.segmentCodec==="aac")for(var re=this.config.maxAudioFramesDrift,ne=0,oe=Q;ne<X.length;ne++){var he=X[ne],fe=he.pts,ie=fe-oe,pe=Math.abs(1e3*ie/$);if(ie<=-re*K&&Y)ne===0&&(_.logger.warn("Audio frame @ "+(fe/$).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*ie/$)+" ms."),this.nextAudioPts=Q=oe=fe);else if(ie>=re*K&&pe<p&&Y){var xe=Math.round(ie/K);oe=fe-xe*K,oe<0&&(xe--,oe+=K),ne===0&&(this.nextAudioPts=Q=oe),_.logger.warn("[mp4-remuxer]: Injecting "+xe+" audio frame @ "+(oe/$).toFixed(3)+"s due to "+Math.round(1e3*ie/$)+" ms gap.");for(var Te=0;Te<xe;Te++){var Ye=Math.max(oe,0),$e=c.default.getSilentFrame(I.manifestCodec||I.codec,I.channelCount);$e||(_.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),$e=he.unit.subarray()),X.splice(ne,0,{unit:$e,pts:Ye}),oe+=K,ne++}}he.pts=oe,oe+=K}for(var ze=null,ke=null,Ze,Xe=0,ut=X.length;ut--;)Xe+=X[ut].unit.byteLength;for(var it=0,Je=X.length;it<Je;it++){var at=X[it],Ht=at.unit,Ct=at.pts;if(ke!==null){var Dr=V[it-1];Dr.duration=Math.round((Ct-ke)/U)}else if(w&&I.segmentCodec==="aac"&&(Ct=Q),ze=Ct,Xe>0){Xe+=q;try{Ze=new Uint8Array(Xe)}catch{this.observer.emit(f.Events.ERROR,f.Events.ERROR,{type:m.ErrorTypes.MUX_ERROR,details:m.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Xe,reason:"fail allocating audio mdat "+Xe});return}if(!W){var $r=new DataView(Ze.buffer);$r.setUint32(0,Xe),Ze.set(d.default.types.mdat,4)}}else return;Ze.set(Ht,q);var wt=Ht.byteLength;q+=wt,V.push(new C(!0,j,wt,0)),ke=Ct}var mr=V.length;if(mr){var Mt=V[V.length-1];this.nextAudioPts=Q=ke+U*Mt.duration;var Ne=W?new Uint8Array(0):d.default.moof(I.sequenceNumber++,ze/U,g({},I,{samples:V}));I.samples=[];var Pt=ze/$,kr=Q/$,vt="audio",yr={data1:Ne,data2:Ze,startPTS:Pt,endPTS:kr,startDTS:Pt,endDTS:kr,type:vt,hasAudio:!0,hasVideo:!1,nb:mr};return this.isAudioContiguous=!0,console.assert(Ze.length,"MDAT length must not be zero"),yr}},R.remuxEmptyAudio=function(I,k,w,M){var N=I.inputTimeScale,$=I.samplerate?I.samplerate:N,B=N/$,U=this.nextAudioPts,j=(U!==null?U:M.startDTS*N)+this._initDTS,K=M.endDTS*N+this._initDTS,G=B*h,W=Math.ceil((K-j)/G),V=c.default.getSilentFrame(I.manifestCodec||I.codec,I.channelCount);if(_.logger.warn("[mp4-remuxer]: remux empty Audio"),!V){_.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}for(var Y=[],X=0;X<W;X++){var q=j+X*G;Y.push({unit:V,pts:q,dts:q})}return I.samples=Y,this.remuxAudio(I,k,w,!1)},F}();function b(F,R){var L;if(R===null)return F;for(R<F?L=-8589934592:L=8589934592;Math.abs(F-R)>4294967296;)F+=L;return F}function T(F){for(var R=0;R<F.length;R++)if(F[R].key)return R;return-1}function A(F,R,L,I){var k=F.samples.length;if(k){for(var w=F.inputTimeScale,M=0;M<k;M++){var N=F.samples[M];N.pts=b(N.pts-L,R*w)/w,N.dts=b(N.dts-I,R*w)/w}var $=F.samples;return F.samples=[],{samples:$}}}function P(F,R,L){var I=F.samples.length;if(I){for(var k=F.inputTimeScale,w=0;w<I;w++){var M=F.samples[w];M.pts=b(M.pts-L,R*k)/k}F.samples.sort(function($,B){return $.pts-B.pts});var N=F.samples;return F.samples=[],{samples:N}}}var C=function(R,L,I,k){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=L,this.size=I,this.cts=k,this.flags=new D(R)},D=function(R){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=R?2:1,this.isNonSync=R?0:1}},"./src/remux/passthrough-remuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>v});var u=l("./src/polyfills/number.ts"),c=l("./src/remux/mp4-remuxer.ts"),d=l("./src/utils/mp4-tools.ts"),f=l("./src/loader/fragment.ts"),m=l("./src/utils/logger.ts"),_=function(){function g(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var p=g.prototype;return p.destroy=function(){},p.resetTimeStamp=function(S){this.initPTS=S,this.lastEndTime=null},p.resetNextTimestamp=function(){this.lastEndTime=null},p.resetInitSegment=function(S,O,y,E){this.audioCodec=O,this.videoCodec=y,this.generateInitSegment((0,d.patchEncyptionData)(S,E)),this.emitInitSegment=!0},p.generateInitSegment=function(S){var O=this.audioCodec,y=this.videoCodec;if(!S||!S.byteLength){this.initTracks=void 0,this.initData=void 0;return}var E=this.initData=(0,d.parseInitSegment)(S);O||(O=x(E.audio,f.ElementaryStreamTypes.AUDIO)),y||(y=x(E.video,f.ElementaryStreamTypes.VIDEO));var b={};E.audio&&E.video?b.audiovideo={container:"video/mp4",codec:O+","+y,initSegment:S,id:"main"}:E.audio?b.audio={container:"audio/mp4",codec:O,initSegment:S,id:"audio"}:E.video?b.video={container:"video/mp4",codec:y,initSegment:S,id:"main"}:m.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=b},p.remux=function(S,O,y,E,b){var T,A=this.initPTS,P=this.lastEndTime,C={audio:void 0,video:void 0,text:E,id3:y,initSegment:void 0};(0,u.isFiniteNumber)(P)||(P=this.lastEndTime=b||0);var D=O.samples;if(!D||!D.length)return C;var F={initPTS:void 0,timescale:1},R=this.initData;if((!R||!R.length)&&(this.generateInitSegment(D),R=this.initData),!R||!R.length)return m.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),C;this.emitInitSegment&&(F.tracks=this.initTracks,this.emitInitSegment=!1);var L=(0,d.getStartDTS)(R,D);(0,u.isFiniteNumber)(A)||(this.initPTS=F.initPTS=A=L-b);var I=(0,d.getDuration)(D,R),k=S?L-A:P,w=k+I;(0,d.offsetStartDTS)(R,D,A),I>0?this.lastEndTime=w:(m.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var M=!!R.audio,N=!!R.video,$="";M&&($+="audio"),N&&($+="video");var B={data1:D,startPTS:k,startDTS:k,endPTS:w,endDTS:w,type:$,hasAudio:M,hasVideo:N,nb:1,dropped:0};C.audio=B.type==="audio"?B:void 0,C.video=B.type!=="audio"?B:void 0,C.initSegment=F;var U=(T=this.initPTS)!=null?T:0;return C.id3=(0,c.flushTextTrackMetadataCueSamples)(y,b,U,U),E.samples.length&&(C.text=(0,c.flushTextTrackUserdataCueSamples)(E,b,U)),C},g}();function x(g,p){var h=g==null?void 0:g.codec;return h&&h.length>4?h:h==="hvc1"||h==="hev1"?"hvc1.1.c.L120.90":h==="av01"?"av01.0.04M.08":h==="avc1"||p===f.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const v=_},"./src/task-loop.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>u});var u=function(){function c(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var d=c.prototype;return d.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},d.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},d.onHandlerDestroyed=function(){},d.hasInterval=function(){return!!this._tickInterval},d.hasNextTick=function(){return!!this._tickTimer},d.setInterval=function(m){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,m),!0)},d.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1},d.clearNextTick=function(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1},d.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},d.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},d.doTick=function(){},c}()},"./src/types/cmcd.ts":(o,s,l)=>{l.r(s),l.d(s,{CMCDObjectType:()=>c,CMCDStreamType:()=>f,CMCDStreamingFormat:()=>d,CMCDVersion:()=>u});var u=1,c;(function(m){m.MANIFEST="m",m.AUDIO="a",m.VIDEO="v",m.MUXED="av",m.INIT="i",m.CAPTION="c",m.TIMED_TEXT="tt",m.KEY="k",m.OTHER="o"})(c||(c={}));var d;(function(m){m.DASH="d",m.HLS="h",m.SMOOTH="s",m.OTHER="o"})(d||(d={}));var f;(function(m){m.VOD="v",m.LIVE="l"})(f||(f={}))},"./src/types/demuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{MetadataSchema:()=>u});var u;(function(c){c.audioId3="org.id3",c.dateRange="com.apple.quicktime.HLS",c.emsg="https://aomedia.org/emsg/ID3"})(u||(u={}))},"./src/types/level.ts":(o,s,l)=>{l.r(s),l.d(s,{HdcpLevels:()=>m,HlsSkip:()=>_,HlsUrlParameters:()=>v,Level:()=>g,getSkipValue:()=>x});function u(p,h){for(var S=0;S<h.length;S++){var O=h[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,d(O.key),O)}}function c(p,h,S){return h&&u(p.prototype,h),S&&u(p,S),Object.defineProperty(p,"prototype",{writable:!1}),p}function d(p){var h=f(p,"string");return typeof h=="symbol"?h:String(h)}function f(p,h){if(typeof p!="object"||p===null)return p;var S=p[Symbol.toPrimitive];if(S!==void 0){var O=S.call(p,h||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(p)}var m=["NONE","TYPE-0","TYPE-1","TYPE-2",null],_;(function(p){p.No="",p.Yes="YES",p.v2="v2"})(_||(_={}));function x(p,h){var S=p.canSkipUntil,O=p.canSkipDateRanges,y=p.endSN,E=h!==void 0?h-y:0;return S&&E<S?O?_.v2:_.Yes:_.No}var v=function(){function p(S,O,y){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=S,this.part=O,this.skip=y}var h=p.prototype;return h.addDirectives=function(O){var y=new self.URL(O);return this.msn!==void 0&&y.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&y.searchParams.set("_HLS_part",this.part.toString()),this.skip&&y.searchParams.set("_HLS_skip",this.skip),y.href},p}(),g=function(){function p(h){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[h.url],this.attrs=h.attrs,this.bitrate=h.bitrate,h.details&&(this.details=h.details),this.id=h.id||0,this.name=h.name,this.width=h.width||0,this.height=h.height||0,this.audioCodec=h.audioCodec,this.videoCodec=h.videoCodec,this.unknownCodecs=h.unknownCodecs,this.codecSet=[h.videoCodec,h.audioCodec].filter(function(S){return S}).join(",").replace(/\.[^.,]+/g,"")}return c(p,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(S){var O=S%this.url.length;this._urlId!==O&&(this.details=void 0,this._urlId=O)}}]),p}()},"./src/types/loader.ts":(o,s,l)=>{l.r(s),l.d(s,{PlaylistContextType:()=>u,PlaylistLevelType:()=>c});var u;(function(d){d.MANIFEST="manifest",d.LEVEL="level",d.AUDIO_TRACK="audioTrack",d.SUBTITLE_TRACK="subtitleTrack"})(u||(u={}));var c;(function(d){d.MAIN="main",d.AUDIO="audio",d.SUBTITLE="subtitle"})(c||(c={}))},"./src/types/transmuxer.ts":(o,s,l)=>{l.r(s),l.d(s,{ChunkMetadata:()=>u});var u=function(f,m,_,x,v,g){x===void 0&&(x=0),v===void 0&&(v=-1),g===void 0&&(g=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=c(),this.buffering={audio:c(),video:c(),audiovideo:c()},this.level=f,this.sn=m,this.id=_,this.size=x,this.part=v,this.partial=g};function c(){return{start:0,executeStart:0,executeEnd:0,end:0}}},"./src/utils/attr-list.ts":(o,s,l)=>{l.r(s),l.d(s,{AttrList:()=>d});var u=/^(\d+)x(\d+)$/,c=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,d=function(){function f(_){typeof _=="string"&&(_=f.parseAttrList(_));for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x])}var m=f.prototype;return m.decimalInteger=function(x){var v=parseInt(this[x],10);return v>Number.MAX_SAFE_INTEGER?1/0:v},m.hexadecimalInteger=function(x){if(this[x]){var v=(this[x]||"0x").slice(2);v=(v.length&1?"0":"")+v;for(var g=new Uint8Array(v.length/2),p=0;p<v.length/2;p++)g[p]=parseInt(v.slice(p*2,p*2+2),16);return g}else return null},m.hexadecimalIntegerAsNumber=function(x){var v=parseInt(this[x],16);return v>Number.MAX_SAFE_INTEGER?1/0:v},m.decimalFloatingPoint=function(x){return parseFloat(this[x])},m.optionalFloat=function(x,v){var g=this[x];return g?parseFloat(g):v},m.enumeratedString=function(x){return this[x]},m.bool=function(x){return this[x]==="YES"},m.decimalResolution=function(x){var v=u.exec(this[x]);if(v!==null)return{width:parseInt(v[1],10),height:parseInt(v[2],10)}},f.parseAttrList=function(x){var v,g={},p='"';for(c.lastIndex=0;(v=c.exec(x))!==null;){var h=v[2];h.indexOf(p)===0&&h.lastIndexOf(p)===h.length-1&&(h=h.slice(1,-1)),g[v[1]]=h}return g},f}()},"./src/utils/binary-search.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>c});var u={search:function(f,m){for(var _=0,x=f.length-1,v=null,g=null;_<=x;){v=(_+x)/2|0,g=f[v];var p=m(g);if(p>0)_=v+1;else if(p<0)x=v-1;else return g}return null}};const c=u},"./src/utils/buffer-helper.ts":(o,s,l)=>{l.r(s),l.d(s,{BufferHelper:()=>d});var u=l("./src/utils/logger.ts"),c={length:0,start:function(){return 0},end:function(){return 0}},d=function(){function f(){}return f.isBuffered=function(_,x){try{if(_){for(var v=f.getBuffered(_),g=0;g<v.length;g++)if(x>=v.start(g)&&x<=v.end(g))return!0}}catch{}return!1},f.bufferInfo=function(_,x,v){try{if(_){var g=f.getBuffered(_),p=[],h;for(h=0;h<g.length;h++)p.push({start:g.start(h),end:g.end(h)});return this.bufferedInfo(p,x,v)}}catch{}return{len:0,start:x,end:x,nextStart:void 0}},f.bufferedInfo=function(_,x,v){x=Math.max(0,x),_.sort(function(C,D){var F=C.start-D.start;return F||D.end-C.end});var g=[];if(v)for(var p=0;p<_.length;p++){var h=g.length;if(h){var S=g[h-1].end;_[p].start-S<v?_[p].end>S&&(g[h-1].end=_[p].end):g.push(_[p])}else g.push(_[p])}else g=_;for(var O=0,y,E=x,b=x,T=0;T<g.length;T++){var A=g[T].start,P=g[T].end;if(x+v>=A&&x<P)E=A,b=P,O=b-x;else if(x+v<A){y=A;break}}return{len:O,start:E||0,end:b||0,nextStart:y}},f.getBuffered=function(_){try{return _.buffered}catch(x){return u.logger.log("failed to get media.buffered",x),c}},f}()},"./src/utils/cea-608-parser.ts":(o,s,l)=>{l.r(s),l.d(s,{CaptionScreen:()=>T,Row:()=>b,default:()=>R});var u=l("./src/utils/logger.ts"),c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},d=function(I){var k=I;return c.hasOwnProperty(I)&&(k=c[I]),String.fromCharCode(k)},f=15,m=100,_={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},x={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},g={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h;(function(L){L[L.ERROR=0]="ERROR",L[L.TEXT=1]="TEXT",L[L.WARNING=2]="WARNING",L[L.INFO=2]="INFO",L[L.DEBUG=3]="DEBUG",L[L.DATA=3]="DATA"})(h||(h={}));var S=function(){function L(){this.time=null,this.verboseLevel=h.ERROR}var I=L.prototype;return I.log=function(w,M){if(this.verboseLevel>=w){var N=typeof M=="function"?M():M;u.logger.log(this.time+" ["+w+"] "+N)}},L}(),O=function(I){for(var k=[],w=0;w<I.length;w++)k.push(I[w].toString(16));return k},y=function(){function L(k,w,M,N,$){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=k||"white",this.underline=w||!1,this.italics=M||!1,this.background=N||"black",this.flash=$||!1}var I=L.prototype;return I.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},I.setStyles=function(w){for(var M=["foreground","underline","italics","background","flash"],N=0;N<M.length;N++){var $=M[N];w.hasOwnProperty($)&&(this[$]=w[$])}},I.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},I.equals=function(w){return this.foreground===w.foreground&&this.underline===w.underline&&this.italics===w.italics&&this.background===w.background&&this.flash===w.flash},I.copy=function(w){this.foreground=w.foreground,this.underline=w.underline,this.italics=w.italics,this.background=w.background,this.flash=w.flash},I.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},L}(),E=function(){function L(k,w,M,N,$,B){this.uchar=void 0,this.penState=void 0,this.uchar=k||" ",this.penState=new y(w,M,N,$,B)}var I=L.prototype;return I.reset=function(){this.uchar=" ",this.penState.reset()},I.setChar=function(w,M){this.uchar=w,this.penState.copy(M)},I.setPenState=function(w){this.penState.copy(w)},I.equals=function(w){return this.uchar===w.uchar&&this.penState.equals(w.penState)},I.copy=function(w){this.uchar=w.uchar,this.penState.copy(w.penState)},I.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},L}(),b=function(){function L(k){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var w=0;w<m;w++)this.chars.push(new E);this.logger=k,this.pos=0,this.currPenState=new y}var I=L.prototype;return I.equals=function(w){for(var M=!0,N=0;N<m;N++)if(!this.chars[N].equals(w.chars[N])){M=!1;break}return M},I.copy=function(w){for(var M=0;M<m;M++)this.chars[M].copy(w.chars[M])},I.isEmpty=function(){for(var w=!0,M=0;M<m;M++)if(!this.chars[M].isEmpty()){w=!1;break}return w},I.setCursor=function(w){this.pos!==w&&(this.pos=w),this.pos<0?(this.logger.log(h.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>m&&(this.logger.log(h.DEBUG,"Too large cursor position "+this.pos),this.pos=m)},I.moveCursor=function(w){var M=this.pos+w;if(w>1)for(var N=this.pos+1;N<M+1;N++)this.chars[N].setPenState(this.currPenState);this.setCursor(M)},I.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},I.insertChar=function(w){var M=this;w>=144&&this.backSpace();var N=d(w);if(this.pos>=m){this.logger.log(h.ERROR,function(){return"Cannot insert "+w.toString(16)+" ("+N+") at position "+M.pos+". Skipping it!"});return}this.chars[this.pos].setChar(N,this.currPenState),this.moveCursor(1)},I.clearFromPos=function(w){var M;for(M=w;M<m;M++)this.chars[M].reset()},I.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},I.clearToEndOfRow=function(){this.clearFromPos(this.pos)},I.getTextString=function(){for(var w=[],M=!0,N=0;N<m;N++){var $=this.chars[N].uchar;$!==" "&&(M=!1),w.push($)}return M?"":w.join("")},I.setPenStyles=function(w){this.currPenState.setStyles(w);var M=this.chars[this.pos];M.setPenState(this.currPenState)},L}(),T=function(){function L(k){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var w=0;w<f;w++)this.rows.push(new b(k));this.logger=k,this.currRow=f-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var I=L.prototype;return I.reset=function(){for(var w=0;w<f;w++)this.rows[w].clear();this.currRow=f-1},I.equals=function(w){for(var M=!0,N=0;N<f;N++)if(!this.rows[N].equals(w.rows[N])){M=!1;break}return M},I.copy=function(w){for(var M=0;M<f;M++)this.rows[M].copy(w.rows[M])},I.isEmpty=function(){for(var w=!0,M=0;M<f;M++)if(!this.rows[M].isEmpty()){w=!1;break}return w},I.backSpace=function(){var w=this.rows[this.currRow];w.backSpace()},I.clearToEndOfRow=function(){var w=this.rows[this.currRow];w.clearToEndOfRow()},I.insertChar=function(w){var M=this.rows[this.currRow];M.insertChar(w)},I.setPen=function(w){var M=this.rows[this.currRow];M.setPenStyles(w)},I.moveCursor=function(w){var M=this.rows[this.currRow];M.moveCursor(w)},I.setCursor=function(w){this.logger.log(h.INFO,"setCursor: "+w);var M=this.rows[this.currRow];M.setCursor(w)},I.setPAC=function(w){this.logger.log(h.INFO,function(){return"pacData = "+JSON.stringify(w)});var M=w.row-1;if(this.nrRollUpRows&&M<this.nrRollUpRows-1&&(M=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==M){for(var N=0;N<f;N++)this.rows[N].clear();var $=this.currRow+1-this.nrRollUpRows,B=this.lastOutputScreen;if(B){var U=B.rows[$].cueStartTime,j=this.logger.time;if(U&&j!==null&&U<j)for(var K=0;K<this.nrRollUpRows;K++)this.rows[M-this.nrRollUpRows+K+1].copy(B.rows[$+K])}}this.currRow=M;var G=this.rows[this.currRow];if(w.indent!==null){var W=w.indent,V=Math.max(W-1,0);G.setCursor(w.indent),w.color=G.chars[V].penState.foreground}var Y={foreground:w.color,underline:w.underline,italics:w.italics,background:"black",flash:!1};this.setPen(Y)},I.setBkgData=function(w){this.logger.log(h.INFO,function(){return"bkgData = "+JSON.stringify(w)}),this.backSpace(),this.setPen(w),this.insertChar(32)},I.setRollUpRows=function(w){this.nrRollUpRows=w},I.rollUp=function(){var w=this;if(this.nrRollUpRows===null){this.logger.log(h.DEBUG,"roll_up but nrRollUpRows not set yet");return}this.logger.log(h.TEXT,function(){return w.getDisplayText()});var M=this.currRow+1-this.nrRollUpRows,N=this.rows.splice(M,1)[0];N.clear(),this.rows.splice(this.currRow,0,N),this.logger.log(h.INFO,"Rolling up")},I.getDisplayText=function(w){w=w||!1;for(var M=[],N="",$=-1,B=0;B<f;B++){var U=this.rows[B].getTextString();U&&($=B+1,w?M.push("Row "+$+": '"+U+"'"):M.push(U.trim()))}return M.length>0&&(w?N="["+M.join(" | ")+"]":N=M.join(`
`)),N},I.getTextAndFormat=function(){return this.rows},L}(),A=function(){function L(k,w,M){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=k,this.outputFilter=w,this.mode=null,this.verbose=0,this.displayedMemory=new T(M),this.nonDisplayedMemory=new T(M),this.lastOutputScreen=new T(M),this.currRollUpRow=this.displayedMemory.rows[f-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=M}var I=L.prototype;return I.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[f-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},I.getHandler=function(){return this.outputFilter},I.setHandler=function(w){this.outputFilter=w},I.setPAC=function(w){this.writeScreen.setPAC(w)},I.setBkgData=function(w){this.writeScreen.setBkgData(w)},I.setMode=function(w){w!==this.mode&&(this.mode=w,this.logger.log(h.INFO,function(){return"MODE="+w}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=w)},I.insertChars=function(w){for(var M=this,N=0;N<w.length;N++)this.writeScreen.insertChar(w[N]);var $=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(h.INFO,function(){return $+": "+M.writeScreen.getDisplayText(!0)}),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(h.TEXT,function(){return"DISPLAYED: "+M.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},I.ccRCL=function(){this.logger.log(h.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},I.ccBS=function(){this.logger.log(h.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},I.ccAOF=function(){},I.ccAON=function(){},I.ccDER=function(){this.logger.log(h.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},I.ccRU=function(w){this.logger.log(h.INFO,"RU("+w+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(w)},I.ccFON=function(){this.logger.log(h.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},I.ccRDC=function(){this.logger.log(h.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},I.ccTR=function(){this.logger.log(h.INFO,"TR"),this.setMode("MODE_TEXT")},I.ccRTD=function(){this.logger.log(h.INFO,"RTD"),this.setMode("MODE_TEXT")},I.ccEDM=function(){this.logger.log(h.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},I.ccCR=function(){this.logger.log(h.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},I.ccENM=function(){this.logger.log(h.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},I.ccEOC=function(){var w=this;if(this.logger.log(h.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var M=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=M,this.writeScreen=this.nonDisplayedMemory,this.logger.log(h.TEXT,function(){return"DISP: "+w.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},I.ccTO=function(w){this.logger.log(h.INFO,"TO("+w+") - Tab Offset"),this.writeScreen.moveCursor(w)},I.ccMIDROW=function(w){var M={flash:!1};if(M.underline=w%2===1,M.italics=w>=46,M.italics)M.foreground="white";else{var N=Math.floor(w/2)-16,$=["white","green","blue","cyan","red","yellow","magenta"];M.foreground=$[N]}this.logger.log(h.INFO,"MIDROW: "+JSON.stringify(M)),this.writeScreen.setPen(M)},I.outputDataUpdate=function(w){w===void 0&&(w=!1);var M=this.logger.time;M!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=M:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,M,this.lastOutputScreen),w&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:M),this.lastOutputScreen.copy(this.displayedMemory))},I.cueSplitAtTime=function(w){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,w,this.displayedMemory),this.cueStartTime=w))},L}(),P=function(){function L(k,w,M){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var N=new S;this.channels=[null,new A(k,w,N),new A(k+1,M,N)],this.cmdHistory=F(),this.logger=N}var I=L.prototype;return I.getHandler=function(w){return this.channels[w].getHandler()},I.setHandler=function(w,M){this.channels[w].setHandler(M)},I.addData=function(w,M){var N,$,B,U=!1;this.logger.time=w;for(var j=0;j<M.length;j+=2)if($=M[j]&127,B=M[j+1]&127,!($===0&&B===0)){if(this.logger.log(h.DATA,"["+O([M[j],M[j+1]])+"] -> ("+O([$,B])+")"),N=this.parseCmd($,B),N||(N=this.parseMidrow($,B)),N||(N=this.parsePAC($,B)),N||(N=this.parseBackgroundAttributes($,B)),!N&&(U=this.parseChars($,B),U)){var K=this.currentChannel;if(K&&K>0){var G=this.channels[K];G.insertChars(U)}else this.logger.log(h.WARNING,"No channel found yet. TEXT-MODE?")}!N&&!U&&this.logger.log(h.WARNING,"Couldn't parse cleaned data "+O([$,B])+" orig: "+O([M[j],M[j+1]]))}},I.parseCmd=function(w,M){var N=this.cmdHistory,$=(w===20||w===28||w===21||w===29)&&M>=32&&M<=47,B=(w===23||w===31)&&M>=33&&M<=35;if(!($||B))return!1;if(D(w,M,N))return C(null,null,N),this.logger.log(h.DEBUG,"Repeated command ("+O([w,M])+") is dropped"),!0;var U=w===20||w===21||w===23?1:2,j=this.channels[U];return w===20||w===21||w===28||w===29?M===32?j.ccRCL():M===33?j.ccBS():M===34?j.ccAOF():M===35?j.ccAON():M===36?j.ccDER():M===37?j.ccRU(2):M===38?j.ccRU(3):M===39?j.ccRU(4):M===40?j.ccFON():M===41?j.ccRDC():M===42?j.ccTR():M===43?j.ccRTD():M===44?j.ccEDM():M===45?j.ccCR():M===46?j.ccENM():M===47&&j.ccEOC():j.ccTO(M-32),C(w,M,N),this.currentChannel=U,!0},I.parseMidrow=function(w,M){var N=0;if((w===17||w===25)&&M>=32&&M<=47){if(w===17?N=1:N=2,N!==this.currentChannel)return this.logger.log(h.ERROR,"Mismatch channel in midrow parsing"),!1;var $=this.channels[N];return $?($.ccMIDROW(M),this.logger.log(h.DEBUG,"MIDROW ("+O([w,M])+")"),!0):!1}return!1},I.parsePAC=function(w,M){var N,$=this.cmdHistory,B=(w>=17&&w<=23||w>=25&&w<=31)&&M>=64&&M<=127,U=(w===16||w===24)&&M>=64&&M<=95;if(!(B||U))return!1;if(D(w,M,$))return C(null,null,$),!0;var j=w<=23?1:2;M>=64&&M<=95?N=j===1?_[w]:v[w]:N=j===1?x[w]:g[w];var K=this.channels[j];return K?(K.setPAC(this.interpretPAC(N,M)),C(w,M,$),this.currentChannel=j,!0):!1},I.interpretPAC=function(w,M){var N,$={color:null,italics:!1,indent:null,underline:!1,row:w};return M>95?N=M-96:N=M-64,$.underline=(N&1)===1,N<=13?$.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(N/2)]:N<=15?($.italics=!0,$.color="white"):$.indent=Math.floor((N-16)/2)*4,$},I.parseChars=function(w,M){var N,$=null,B=null;if(w>=25?(N=2,B=w-8):(N=1,B=w),B>=17&&B<=19){var U;B===17?U=M+80:B===18?U=M+112:U=M+144,this.logger.log(h.INFO,"Special char '"+d(U)+"' in channel "+N),$=[U]}else w>=32&&w<=127&&($=M===0?[w]:[w,M]);if($){var j=O($);this.logger.log(h.DEBUG,"Char codes =  "+j.join(",")),C(w,M,this.cmdHistory)}return $},I.parseBackgroundAttributes=function(w,M){var N=(w===16||w===24)&&M>=32&&M<=47,$=(w===23||w===31)&&M>=45&&M<=47;if(!(N||$))return!1;var B,U={};w===16||w===24?(B=Math.floor((M-32)/2),U.background=p[B],M%2===1&&(U.background=U.background+"_semi")):M===45?U.background="transparent":(U.foreground="black",M===47&&(U.underline=!0));var j=w<=23?1:2,K=this.channels[j];return K.setBkgData(U),C(w,M,this.cmdHistory),!0},I.reset=function(){for(var w=0;w<Object.keys(this.channels).length;w++){var M=this.channels[w];M&&M.reset()}this.cmdHistory=F()},I.cueSplitAtTime=function(w){for(var M=0;M<this.channels.length;M++){var N=this.channels[M];N&&N.cueSplitAtTime(w)}},L}();function C(L,I,k){k.a=L,k.b=I}function D(L,I,k){return k.a===L&&k.b===I}function F(){return{a:null,b:null}}const R=P},"./src/utils/codecs.ts":(o,s,l)=>{l.r(s),l.d(s,{isCodecSupportedInMp4:()=>d,isCodecType:()=>c});var u={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function c(f,m){var _=u[m];return!!_&&_[f.slice(0,4)]===!0}function d(f,m){return MediaSource.isTypeSupported((m||"video")+'/mp4;codecs="'+f+'"')}},"./src/utils/cues.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>_});var u=l("./src/utils/vttparser.ts"),c=l("./src/utils/webvtt-parser.ts"),d=l("./src/utils/texttrack-utils.ts"),f=/\s/,m={newCue:function(v,g,p,h){for(var S=[],O,y,E,b,T,A=self.VTTCue||self.TextTrackCue,P=0;P<h.rows.length;P++)if(O=h.rows[P],E=!0,b=0,T="",!O.isEmpty()){for(var C=0;C<O.chars.length;C++)f.test(O.chars[C].uchar)&&E?b++:(T+=O.chars[C].uchar,E=!1);O.cueStartTime=g,g===p&&(p+=1e-4),b>=16?b--:b++;var D=(0,u.fixLineBreaks)(T.trim()),F=(0,c.generateCueId)(g,p,D);(!v||!v.cues||!v.cues.getCueById(F))&&(y=new A(g,p,D),y.id=F,y.line=P+1,y.align="left",y.position=10+Math.min(80,Math.floor(b*8/32)*10),S.push(y))}return v&&S.length&&(S.sort(function(R,L){return R.line==="auto"||L.line==="auto"?0:R.line>8&&L.line>8?L.line-R.line:R.line-L.line}),S.forEach(function(R){return(0,d.addCueToTrack)(v,R)})),S}};const _=m},"./src/utils/discontinuities.ts":(o,s,l)=>{l.r(s),l.d(s,{adjustSlidingStart:()=>v,alignMediaPlaylistByPDT:()=>S,alignPDT:()=>h,alignStream:()=>g,findDiscontinuousReferenceFrag:()=>_,findFirstFragWithCC:()=>f,shouldAlignOnDiscontinuities:()=>m});var u=l("./src/polyfills/number.ts"),c=l("./src/utils/logger.ts"),d=l("./src/controller/level-helper.ts");function f(O,y){for(var E=null,b=0,T=O.length;b<T;b++){var A=O[b];if(A&&A.cc===y){E=A;break}}return E}function m(O,y,E){return!!(y.details&&(E.endCC>E.startCC||O&&O.cc<E.startCC))}function _(O,y,E){var b=O.fragments,T=y.fragments;if(!T.length||!b.length){c.logger.log("No fragments to align");return}var A=f(b,T[0].cc);if(!A||A&&!A.startPTS){c.logger.log("No frag in previous level to align on");return}return A}function x(O,y){if(O){var E=O.start+y;O.start=O.startPTS=E,O.endPTS=E+O.duration}}function v(O,y){for(var E=y.fragments,b=0,T=E.length;b<T;b++)x(E[b],O);y.fragmentHint&&x(y.fragmentHint,O),y.alignedSliding=!0}function g(O,y,E){y&&(p(O,E,y),!E.alignedSliding&&y.details&&h(E,y.details),!E.alignedSliding&&y.details&&!E.skippedSegments&&(0,d.adjustSliding)(y.details,E))}function p(O,y,E){if(m(O,E,y)){var b=_(E.details,y);b&&(0,u.isFiniteNumber)(b.start)&&(c.logger.log("Adjusting PTS using last level due to CC increase within current level "+y.url),v(b.start,y))}}function h(O,y){if(!(!y.fragments.length||!O.hasProgramDateTime||!y.hasProgramDateTime)){var E=y.fragments[0].programDateTime,b=O.fragments[0].programDateTime,T=(b-E)/1e3+y.fragments[0].start;T&&(0,u.isFiniteNumber)(T)&&(c.logger.log("Adjusting PTS using programDateTime delta "+(b-E)+"ms, sliding:"+T.toFixed(3)+" "+O.url+" "),v(T,O))}}function S(O,y){if(!(!O.hasProgramDateTime||!y.hasProgramDateTime)){var E=O.fragments,b=y.fragments;if(!(!E.length||!b.length)){var T=Math.round(b.length/2)-1,A=b[T],P=f(E,A.cc)||E[Math.round(E.length/2)-1],C=A.programDateTime,D=P.programDateTime;if(!(C===null||D===null)){var F=(D-C)/1e3-(P.start-A.start);v(F,O)}}}}},"./src/utils/ewma-bandwidth-estimator.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>d});var u=l("./src/utils/ewma.ts"),c=function(){function f(_,x,v){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=v,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new u.default(_),this.fast_=new u.default(x)}var m=f.prototype;return m.update=function(x,v){var g=this.slow_,p=this.fast_;this.slow_.halfLife!==x&&(this.slow_=new u.default(x,g.getEstimate(),g.getTotalWeight())),this.fast_.halfLife!==v&&(this.fast_=new u.default(v,p.getEstimate(),p.getTotalWeight()))},m.sample=function(x,v){x=Math.max(x,this.minDelayMs_);var g=8*v,p=x/1e3,h=g/p;this.fast_.sample(p,h),this.slow_.sample(p,h)},m.canEstimate=function(){var x=this.fast_;return x&&x.getTotalWeight()>=this.minWeight_},m.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},m.destroy=function(){},f}();const d=c},"./src/utils/ewma.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>c});var u=function(){function d(m,_,x){_===void 0&&(_=0),x===void 0&&(x=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=m,this.alpha_=m?Math.exp(Math.log(.5)/m):0,this.estimate_=_,this.totalWeight_=x}var f=d.prototype;return f.sample=function(_,x){var v=Math.pow(this.alpha_,_);this.estimate_=x*(1-v)+v*this.estimate_,this.totalWeight_+=_},f.getTotalWeight=function(){return this.totalWeight_},f.getEstimate=function(){if(this.alpha_){var _=1-Math.pow(this.alpha_,this.totalWeight_);if(_)return this.estimate_/_}return this.estimate_},d}();const c=u},"./src/utils/fetch-loader.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>T,fetchSupported:()=>S});var u=l("./src/polyfills/number.ts"),c=l("./src/loader/load-stats.ts"),d=l("./src/demux/chunk-cache.ts");function f(A,P){A.prototype=Object.create(P.prototype),A.prototype.constructor=A,g(A,P)}function m(A){var P=typeof Map=="function"?new Map:void 0;return m=function(D){if(D===null||!v(D))return D;if(typeof D!="function")throw new TypeError("Super expression must either be null or a function");if(typeof P<"u"){if(P.has(D))return P.get(D);P.set(D,F)}function F(){return _(D,arguments,p(this).constructor)}return F.prototype=Object.create(D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),g(F,D)},m(A)}function _(A,P,C){return x()?_=Reflect.construct.bind():_=function(F,R,L){var I=[null];I.push.apply(I,R);var k=Function.bind.apply(F,I),w=new k;return L&&g(w,L.prototype),w},_.apply(null,arguments)}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(A){return Function.toString.call(A).indexOf("[native code]")!==-1}function g(A,P){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,F){return D.__proto__=F,D},g(A,P)}function p(A){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p(A)}function h(){return h=Object.assign?Object.assign.bind():function(A){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])}return A},h.apply(this,arguments)}function S(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var O=function(){function A(C){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=C.fetchSetup||E,this.controller=new self.AbortController,this.stats=new c.LoadStats}var P=A.prototype;return P.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},P.abortInternal=function(){var D=this.response;(!D||!D.ok)&&(this.stats.aborted=!0,this.controller.abort())},P.abort=function(){var D;this.abortInternal(),(D=this.callbacks)!==null&&D!==void 0&&D.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},P.load=function(D,F,R){var L=this,I=this.stats;if(I.loading.start)throw new Error("Loader can only be used once.");I.loading.start=self.performance.now();var k=y(D,this.controller.signal),w=R.onProgress,M=D.responseType==="arraybuffer",N=M?"byteLength":"length";this.context=D,this.config=F,this.callbacks=R,this.request=this.fetchSetup(D,k),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){L.abortInternal(),R.onTimeout(I,D,L.response)},F.timeout),self.fetch(this.request).then(function($){if(L.response=L.loader=$,!$.ok){var B=$.status,U=$.statusText;throw new b(U||"fetch, bad network response",B,$)}return I.loading.first=Math.max(self.performance.now(),I.loading.start),I.total=parseInt($.headers.get("Content-Length")||"0"),w&&(0,u.isFiniteNumber)(F.highWaterMark)?L.loadProgressively($,I,D,F.highWaterMark,w):M?$.arrayBuffer():$.text()}).then(function($){var B=L.response;self.clearTimeout(L.requestTimeout),I.loading.end=Math.max(self.performance.now(),I.loading.first);var U=$[N];U&&(I.loaded=I.total=U);var j={url:B.url,data:$};w&&!(0,u.isFiniteNumber)(F.highWaterMark)&&w(I,D,$,B),R.onSuccess(j,I,D,B)}).catch(function($){if(self.clearTimeout(L.requestTimeout),!I.aborted){var B=$&&$.code||0,U=$?$.message:null;R.onError({code:B,text:U},D,$?$.details:null)}})},P.getCacheAge=function(){var D=null;if(this.response){var F=this.response.headers.get("age");D=F?parseFloat(F):null}return D},P.loadProgressively=function(D,F,R,L,I){L===void 0&&(L=0);var k=new d.default,w=D.body.getReader(),M=function N(){return w.read().then(function($){if($.done)return k.dataLength&&I(F,R,k.flush(),D),Promise.resolve(new ArrayBuffer(0));var B=$.value,U=B.length;return F.loaded+=U,U<L||k.dataLength?(k.push(B),k.dataLength>=L&&I(F,R,k.flush(),D)):I(F,R,B,D),N()}).catch(function(){return Promise.reject()})};return M()},A}();function y(A,P){var C={method:"GET",mode:"cors",credentials:"same-origin",signal:P,headers:new self.Headers(h({},A.headers))};return A.rangeEnd&&C.headers.set("Range","bytes="+A.rangeStart+"-"+String(A.rangeEnd-1)),C}function E(A,P){return new self.Request(A.url,P)}var b=function(A){f(P,A);function P(C,D,F){var R;return R=A.call(this,C)||this,R.code=void 0,R.details=void 0,R.code=D,R.details=F,R}return P}(m(Error));const T=O},"./src/utils/hex.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>c});var u={hexDump:function(f){for(var m="",_=0;_<f.length;_++){var x=f[_].toString(16);x.length<2&&(x="0"+x),m+=x}return m}};const c=u},"./src/utils/imsc1-ttml-parser.ts":(o,s,l)=>{l.r(s),l.d(s,{IMSC1_CODEC:()=>v,parseIMSC1:()=>S});var u=l("./src/utils/mp4-tools.ts"),c=l("./src/utils/vttparser.ts"),d=l("./src/utils/vttcue.ts"),f=l("./src/demux/id3.ts"),m=l("./src/utils/timescale-conversion.ts"),_=l("./src/utils/webvtt-parser.ts");function x(){return x=Object.assign?Object.assign.bind():function(R){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&(R[k]=I[k])}return R},x.apply(this,arguments)}var v="stpp.ttml.im1t",g=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,p=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,h={left:"start",center:"center",right:"end",start:"start",end:"end"};function S(R,L,I,k,w){var M=(0,u.findBox)(new Uint8Array(R),["mdat"]);if(M.length===0){w(new Error("Could not parse IMSC1 mdat"));return}var N=M.map(function(B){return(0,f.utf8ArrayToStr)(B)}),$=(0,m.toTimescaleFromScale)(L,1,I);try{N.forEach(function(B){return k(O(B,$))})}catch(B){w(B)}}function O(R,L){var I=new DOMParser,k=I.parseFromString(R,"text/xml"),w=k.getElementsByTagName("tt")[0];if(!w)throw new Error("Invalid ttml");var M={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},N=Object.keys(M).reduce(function(K,G){return K[G]=w.getAttribute("ttp:"+G)||M[G],K},{}),$=w.getAttribute("xml:space")!=="preserve",B=E(y(w,"styling","style")),U=E(y(w,"layout","region")),j=y(w,"body","[begin]");return[].map.call(j,function(K){var G=b(K,$);if(!G||!K.hasAttribute("begin"))return null;var W=C(K.getAttribute("begin"),N),V=C(K.getAttribute("dur"),N),Y=C(K.getAttribute("end"),N);if(W===null)throw P(K);if(Y===null){if(V===null)throw P(K);Y=W+V}var X=new d.default(W-L,Y-L,G);X.id=(0,_.generateCueId)(X.startTime,X.endTime,X.text);var q=U[K.getAttribute("region")],Q=B[K.getAttribute("style")],te=T(q,Q,B),re=te.textAlign;if(re){var ne=h[re];ne&&(X.lineAlign=ne),X.align=re}return x(X,te),X}).filter(function(K){return K!==null})}function y(R,L,I){var k=R.getElementsByTagName(L)[0];return k?[].slice.call(k.querySelectorAll(I)):[]}function E(R){return R.reduce(function(L,I){var k=I.getAttribute("xml:id");return k&&(L[k]=I),L},{})}function b(R,L){return[].slice.call(R.childNodes).reduce(function(I,k,w){var M;return k.nodeName==="br"&&w?I+`
`:(M=k.childNodes)!==null&&M!==void 0&&M.length?b(k,L):L?I+k.textContent.trim().replace(/\s+/g," "):I+k.textContent},"")}function T(R,L,I){var k="http://www.w3.org/ns/ttml#styling",w=null,M=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],N=R!=null&&R.hasAttribute("style")?R.getAttribute("style"):null;return N&&I.hasOwnProperty(N)&&(w=I[N]),M.reduce(function($,B){var U=A(L,k,B)||A(R,k,B)||A(w,k,B);return U&&($[B]=U),$},{})}function A(R,L,I){return R&&R.hasAttributeNS(L,I)?R.getAttributeNS(L,I):null}function P(R){return new Error("Could not parse ttml timestamp "+R)}function C(R,L){if(!R)return null;var I=(0,c.parseTimeStamp)(R);return I===null&&(g.test(R)?I=D(R,L):p.test(R)&&(I=F(R,L))),I}function D(R,L){var I=g.exec(R),k=(I[4]|0)+(I[5]|0)/L.subFrameRate;return(I[1]|0)*3600+(I[2]|0)*60+(I[3]|0)+k/L.frameRate}function F(R,L){var I=p.exec(R),k=Number(I[1]),w=I[2];switch(w){case"h":return k*3600;case"m":return k*60;case"ms":return k*1e3;case"f":return k/L.frameRate;case"t":return k/L.tickRate}return k}},"./src/utils/keysystem-util.ts":(o,s,l)=>{l.r(s),l.d(s,{changeEndianness:()=>d,convertDataUriToArrayBytes:()=>f,strToUtf8array:()=>m});var u=l("./src/utils/numeric-encoding-utils.ts");function c(_){var x=m(_).subarray(0,16),v=new Uint8Array(16);return v.set(x,16-x.length),v}function d(_){var x=function(g,p,h){var S=g[p];g[p]=g[h],g[h]=S};x(_,0,3),x(_,1,2),x(_,4,5),x(_,6,7)}function f(_){var x=_.split(":"),v=null;if(x[0]==="data"&&x.length===2){var g=x[1].split(";"),p=g[g.length-1].split(",");if(p.length===2){var h=p[0]==="base64",S=p[1];h?(g.splice(-1,1),v=(0,u.base64Decode)(S)):v=c(S)}}return v}function m(_){return Uint8Array.from(unescape(encodeURIComponent(_)),function(x){return x.charCodeAt(0)})}},"./src/utils/logger.ts":(o,s,l)=>{l.r(s),l.d(s,{enableLogs:()=>_,logger:()=>x});var u=function(){},c={trace:u,debug:u,log:u,warn:u,info:u,error:u},d=c;function f(v){var g=self.console[v];return g?g.bind(self.console,"["+v+"] >"):u}function m(v){for(var g=arguments.length,p=new Array(g>1?g-1:0),h=1;h<g;h++)p[h-1]=arguments[h];p.forEach(function(S){d[S]=v[S]?v[S].bind(v):f(S)})}function _(v,g){if(self.console&&v===!0||typeof v=="object"){m(v,"debug","log","info","warn","error");try{d.log('Debug logs enabled for "'+g+'"')}catch{d=c}}else d=c}var x=d},"./src/utils/mediakeys-helper.ts":(o,s,l)=>{l.r(s),l.d(s,{KeySystemFormats:()=>c,KeySystemIds:()=>f,KeySystems:()=>u,getKeySystemsForConfig:()=>x,getSupportedMediaKeySystemConfigurations:()=>g,keySystemDomainToKeySystemFormat:()=>_,keySystemFormatToKeySystemDomain:()=>d,keySystemIdToKeySystemDomain:()=>m,requestMediaKeySystemAccess:()=>v});var u;(function(h){h.CLEARKEY="org.w3.clearkey",h.FAIRPLAY="com.apple.fps",h.PLAYREADY="com.microsoft.playready",h.WIDEVINE="com.widevine.alpha"})(u||(u={}));var c;(function(h){h.CLEARKEY="org.w3.clearkey",h.FAIRPLAY="com.apple.streamingkeydelivery",h.PLAYREADY="com.microsoft.playready",h.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"})(c||(c={}));function d(h){switch(h){case c.FAIRPLAY:return u.FAIRPLAY;case c.PLAYREADY:return u.PLAYREADY;case c.WIDEVINE:return u.WIDEVINE;case c.CLEARKEY:return u.CLEARKEY}}var f;(function(h){h.WIDEVINE="edef8ba979d64acea3c827dcd51d21ed"})(f||(f={}));function m(h){if(h===f.WIDEVINE)return u.WIDEVINE}function _(h){switch(h){case u.FAIRPLAY:return c.FAIRPLAY;case u.PLAYREADY:return c.PLAYREADY;case u.WIDEVINE:return c.WIDEVINE;case u.CLEARKEY:return c.CLEARKEY}}function x(h){var S=h.drmSystems,O=h.widevineLicenseUrl,y=S?[u.FAIRPLAY,u.WIDEVINE,u.PLAYREADY,u.CLEARKEY].filter(function(E){return!!S[E]}):[];return!y[u.WIDEVINE]&&O&&y.push(u.WIDEVINE),y}var v=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function g(h,S,O,y){var E;switch(h){case u.FAIRPLAY:E=["cenc","sinf"];break;case u.WIDEVINE:case u.PLAYREADY:E=["cenc"];break;case u.CLEARKEY:E=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+h)}return p(E,S,O,y)}function p(h,S,O,y){var E={initDataTypes:h,persistentState:y.persistentState||"not-allowed",distinctiveIdentifier:y.distinctiveIdentifier||"not-allowed",sessionTypes:y.sessionTypes||[y.sessionType||"temporary"],audioCapabilities:S.map(function(b){return{contentType:'audio/mp4; codecs="'+b+'"',robustness:y.audioRobustness||"",encryptionScheme:y.audioEncryptionScheme||null}}),videoCapabilities:O.map(function(b){return{contentType:'video/mp4; codecs="'+b+'"',robustness:y.videoRobustness||"",encryptionScheme:y.videoEncryptionScheme||null}})};return[E]}},"./src/utils/mediasource-helper.ts":(o,s,l)=>{l.r(s),l.d(s,{getMediaSource:()=>u});function u(){return self.MediaSource||self.WebKitMediaSource}},"./src/utils/mp4-tools.ts":(o,s,l)=>{l.r(s),l.d(s,{RemuxerTrackIdConfig:()=>v,appendUint8Array:()=>L,bin2str:()=>g,computeRawDurationFromSamples:()=>D,discardEPB:()=>N,findBox:()=>y,getDuration:()=>C,getStartDTS:()=>P,mp4Box:()=>B,mp4pssh:()=>U,offsetStartDTS:()=>F,parseEmsg:()=>$,parseInitSegment:()=>b,parsePssh:()=>j,parseSEIMessageFromNALu:()=>M,parseSamples:()=>I,parseSegmentIndex:()=>E,parseSinf:()=>A,patchEncyptionData:()=>T,readSint32:()=>S,readUint16:()=>p,readUint32:()=>h,segmentValidRange:()=>R,writeUint32:()=>O});var u=l("./src/loader/fragment.ts"),c=l("./src/utils/typed-array.ts"),d=l("./src/demux/id3.ts"),f=l("./src/utils/logger.ts"),m=l("./src/utils/hex.ts"),_=Math.pow(2,32)-1,x=[].push,v={video:1,audio:2,id3:3,text:4};function g(K){return String.fromCharCode.apply(null,K)}function p(K,G){var W=K[G]<<8|K[G+1];return W<0?65536+W:W}function h(K,G){var W=S(K,G);return W<0?4294967296+W:W}function S(K,G){return K[G]<<24|K[G+1]<<16|K[G+2]<<8|K[G+3]}function O(K,G,W){K[G]=W>>24,K[G+1]=W>>16&255,K[G+2]=W>>8&255,K[G+3]=W&255}function y(K,G){var W=[];if(!G.length)return W;for(var V=K.byteLength,Y=0;Y<V;){var X=h(K,Y),q=g(K.subarray(Y+4,Y+8)),Q=X>1?Y+X:V;if(q===G[0])if(G.length===1)W.push(K.subarray(Y+8,Q));else{var te=y(K.subarray(Y+8,Q),G.slice(1));te.length&&x.apply(W,te)}Y=Q}return W}function E(K){var G=[],W=K[0],V=8,Y=h(K,V);V+=4;var X=0,q=0;W===0?V+=8:V+=16,V+=2;var Q=K.length+q,te=p(K,V);V+=2;for(var re=0;re<te;re++){var ne=V,oe=h(K,ne);ne+=4;var he=oe&2147483647,fe=(oe&2147483648)>>>31;if(fe===1)return console.warn("SIDX has hierarchical references (not supported)"),null;var ie=h(K,ne);ne+=4,G.push({referenceSize:he,subsegmentDuration:ie,info:{duration:ie/Y,start:Q,end:Q+he-1}}),Q+=he,ne+=4,V=ne}return{earliestPresentationTime:X,timescale:Y,version:W,referencesCount:te,references:G}}function b(K){for(var G=[],W=y(K,["moov","trak"]),V=0;V<W.length;V++){var Y=W[V],X=y(Y,["tkhd"])[0];if(X){var q=X[0],Q=q===0?12:20,te=h(X,Q),re=y(Y,["mdia","mdhd"])[0];if(re){q=re[0],Q=q===0?12:20;var ne=h(re,Q),oe=y(Y,["mdia","hdlr"])[0];if(oe){var he=g(oe.subarray(8,12)),fe={soun:u.ElementaryStreamTypes.AUDIO,vide:u.ElementaryStreamTypes.VIDEO}[he];if(fe){var ie=y(Y,["mdia","minf","stbl","stsd"])[0],pe=void 0;ie&&(pe=g(ie.subarray(12,16))),G[te]={timescale:ne,type:fe},G[fe]={timescale:ne,id:te,codec:pe}}}}}}var xe=y(K,["moov","mvex","trex"]);return xe.forEach(function(Te){var Ye=h(Te,4),$e=G[Ye];$e&&($e.default={duration:h(Te,12),flags:h(Te,20)})}),G}function T(K,G){if(!K||!G)return K;var W=G.keyId;if(W&&G.isCommonEncryption){var V=y(K,["moov","trak"]);V.forEach(function(Y){var X=y(Y,["mdia","minf","stbl","stsd"])[0],q=X.subarray(8),Q=y(q,["enca"]),te=Q.length>0;te||(Q=y(q,["encv"])),Q.forEach(function(re){var ne=te?re.subarray(28):re.subarray(78),oe=y(ne,["sinf"]);oe.forEach(function(he){var fe=A(he);if(fe){var ie=fe.subarray(8,24);ie.some(function(pe){return pe!==0})||(f.logger.log("[eme] Patching keyId in 'enc"+(te?"a":"v")+">sinf>>tenc' box: "+m.default.hexDump(ie)+" -> "+m.default.hexDump(W)),fe.set(W,8))}})})})}return K}function A(K){var G=y(K,["schm"])[0];if(G){var W=g(G.subarray(4,8));if(W==="cbcs"||W==="cenc")return y(K,["schi","tenc"])[0]}return f.logger.error("[eme] missing 'schm' box"),null}function P(K,G){return y(G,["moof","traf"]).reduce(function(W,V){var Y=y(V,["tfdt"])[0],X=Y[0],q=y(V,["tfhd"]).reduce(function(Q,te){var re=h(te,4),ne=K[re];if(ne){var oe=h(Y,4);X===1&&(oe*=Math.pow(2,32),oe+=h(Y,8));var he=ne.timescale||9e4,fe=oe/he;if(isFinite(fe)&&(Q===null||fe<Q))return fe}return Q},null);return q!==null&&isFinite(q)&&(W===null||q<W)?q:W},null)||0}function C(K,G){for(var W=0,V=0,Y=0,X=y(K,["moof","traf"]),q=0;q<X.length;q++){var Q=X[q],te=y(Q,["tfhd"])[0],re=h(te,4),ne=G[re];if(ne){var oe=ne.default,he=h(te,0)|(oe==null?void 0:oe.flags),fe=oe==null?void 0:oe.duration;he&8&&(he&2?fe=h(te,12):fe=h(te,8));for(var ie=ne.timescale||9e4,pe=y(Q,["trun"]),xe=0;xe<pe.length;xe++){if(W=D(pe[xe]),!W&&fe){var Te=h(pe[xe],4);W=fe*Te}ne.type===u.ElementaryStreamTypes.VIDEO?V+=W/ie:ne.type===u.ElementaryStreamTypes.AUDIO&&(Y+=W/ie)}}}if(V===0&&Y===0){for(var Ye=0,$e=y(K,["sidx"]),ze=0;ze<$e.length;ze++){var ke=E($e[ze]);ke!=null&&ke.references&&(Ye+=ke.references.reduce(function(Ze,Xe){return Ze+Xe.info.duration||0},0))}return Ye}return V||Y}function D(K){var G=h(K,0),W=8;G&1&&(W+=4),G&4&&(W+=4);for(var V=0,Y=h(K,4),X=0;X<Y;X++){if(G&256){var q=h(K,W);V+=q,W+=4}G&512&&(W+=4),G&1024&&(W+=4),G&2048&&(W+=4)}return V}function F(K,G,W){y(G,["moof","traf"]).forEach(function(V){y(V,["tfhd"]).forEach(function(Y){var X=h(Y,4),q=K[X];if(q){var Q=q.timescale||9e4;y(V,["tfdt"]).forEach(function(te){var re=te[0],ne=h(te,4);if(re===0)ne-=W*Q,ne=Math.max(ne,0),O(te,4,ne);else{ne*=Math.pow(2,32),ne+=h(te,8),ne-=W*Q,ne=Math.max(ne,0);var oe=Math.floor(ne/(_+1)),he=Math.floor(ne%(_+1));O(te,4,oe),O(te,8,he)}})}})})}function R(K){var G={valid:null,remainder:null},W=y(K,["moof"]);if(W){if(W.length<2)return G.remainder=K,G}else return G;var V=W[W.length-1];return G.valid=(0,c.sliceUint8)(K,0,V.byteOffset-8),G.remainder=(0,c.sliceUint8)(K,V.byteOffset-8),G}function L(K,G){var W=new Uint8Array(K.length+G.length);return W.set(K),W.set(G,K.length),W}function I(K,G){var W=[],V=G.samples,Y=G.timescale,X=G.id,q=!1,Q=y(V,["moof"]);return Q.map(function(te){var re=te.byteOffset-8,ne=y(te,["traf"]);ne.map(function(oe){var he=y(oe,["tfdt"]).map(function(fe){var ie=fe[0],pe=h(fe,4);return ie===1&&(pe*=Math.pow(2,32),pe+=h(fe,8)),pe/Y})[0];return he!==void 0&&(K=he),y(oe,["tfhd"]).map(function(fe){var ie=h(fe,4),pe=h(fe,0)&16777215,xe=(pe&1)!==0,Te=(pe&2)!==0,Ye=(pe&8)!==0,$e=0,ze=(pe&16)!==0,ke=0,Ze=(pe&32)!==0,Xe=8;ie===X&&(xe&&(Xe+=8),Te&&(Xe+=4),Ye&&($e=h(fe,Xe),Xe+=4),ze&&(ke=h(fe,Xe),Xe+=4),Ze&&(Xe+=4),G.type==="video"&&(q=k(G.codec)),y(oe,["trun"]).map(function(ut){var it=ut[0],Je=h(ut,0)&16777215,at=(Je&1)!==0,Ht=0,Ct=(Je&4)!==0,Dr=(Je&256)!==0,$r=0,wt=(Je&512)!==0,mr=0,Mt=(Je&1024)!==0,Ne=(Je&2048)!==0,Pt=0,kr=h(ut,4),vt=8;at&&(Ht=h(ut,vt),vt+=4),Ct&&(vt+=4);for(var yr=Ht+re,nr=0;nr<kr;nr++){if(Dr?($r=h(ut,vt),vt+=4):$r=$e,wt?(mr=h(ut,vt),vt+=4):mr=ke,Mt&&(vt+=4),Ne&&(it===0?Pt=h(ut,vt):Pt=S(ut,vt),vt+=4),G.type===u.ElementaryStreamTypes.VIDEO)for(var _a=0;_a<mr;){var mi=h(V,yr);if(yr+=4,w(q,V[yr])){var qr=V.subarray(yr,yr+mi);M(qr,q?2:1,K+Pt/Y,W)}yr+=mi,_a+=mi+4}K+=$r/Y}}))})})}),W}function k(K){if(!K)return!1;var G=K.indexOf("."),W=G<0?K:K.substring(0,G);return W==="hvc1"||W==="hev1"||W==="dvh1"||W==="dvhe"}function w(K,G){if(K){var W=G>>1&63;return W===39||W===40}else{var V=G&31;return V===6}}function M(K,G,W,V){var Y=N(K),X=0;X+=G;for(var q=0,Q=0,te=!1,re=0;X<Y.length;){q=0;do{if(X>=Y.length)break;re=Y[X++],q+=re}while(re===255);Q=0;do{if(X>=Y.length)break;re=Y[X++],Q+=re}while(re===255);var ne=Y.length-X;if(!te&&q===4&&X<Y.length){te=!0;var oe=Y[X++];if(oe===181){var he=p(Y,X);if(X+=2,he===49){var fe=h(Y,X);if(X+=4,fe===1195456820){var ie=Y[X++];if(ie===3){var pe=Y[X++],xe=31&pe,Te=64&pe,Ye=Te?2+xe*3:0,$e=new Uint8Array(Ye);if(Te){$e[0]=pe;for(var ze=1;ze<Ye;ze++)$e[ze]=Y[X++]}V.push({type:ie,payloadType:q,pts:W,bytes:$e})}}}}}else if(q===5&&Q<ne){if(te=!0,Q>16){for(var ke=[],Ze=0;Ze<16;Ze++){var Xe=Y[X++].toString(16);ke.push(Xe.length==1?"0"+Xe:Xe),(Ze===3||Ze===5||Ze===7||Ze===9)&&ke.push("-")}for(var ut=Q-16,it=new Uint8Array(ut),Je=0;Je<ut;Je++)it[Je]=Y[X++];V.push({payloadType:q,pts:W,uuid:ke.join(""),userData:(0,d.utf8ArrayToStr)(it),userDataBytes:it})}}else if(Q<ne)X+=Q;else if(Q>ne)break}}function N(K){for(var G=K.byteLength,W=[],V=1;V<G-2;)K[V]===0&&K[V+1]===0&&K[V+2]===3?(W.push(V+2),V+=2):V++;if(W.length===0)return K;var Y=G-W.length,X=new Uint8Array(Y),q=0;for(V=0;V<Y;q++,V++)q===W[0]&&(q++,W.shift()),X[V]=K[q];return X}function $(K){var G=K[0],W="",V="",Y=0,X=0,q=0,Q=0,te=0,re=0;if(G===0){for(;g(K.subarray(re,re+1))!=="\0";)W+=g(K.subarray(re,re+1)),re+=1;for(W+=g(K.subarray(re,re+1)),re+=1;g(K.subarray(re,re+1))!=="\0";)V+=g(K.subarray(re,re+1)),re+=1;V+=g(K.subarray(re,re+1)),re+=1,Y=h(K,12),X=h(K,16),Q=h(K,20),te=h(K,24),re=28}else if(G===1){re+=4,Y=h(K,re),re+=4;var ne=h(K,re);re+=4;var oe=h(K,re);for(re+=4,q=Math.pow(2,32)*ne+oe,Number.isSafeInteger(q)||(q=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),Q=h(K,re),re+=4,te=h(K,re),re+=4;g(K.subarray(re,re+1))!=="\0";)W+=g(K.subarray(re,re+1)),re+=1;for(W+=g(K.subarray(re,re+1)),re+=1;g(K.subarray(re,re+1))!=="\0";)V+=g(K.subarray(re,re+1)),re+=1;V+=g(K.subarray(re,re+1)),re+=1}var he=K.subarray(re,K.byteLength);return{schemeIdUri:W,value:V,timeScale:Y,presentationTime:q,presentationTimeDelta:X,eventDuration:Q,id:te,payload:he}}function B(K){for(var G=arguments.length,W=new Array(G>1?G-1:0),V=1;V<G;V++)W[V-1]=arguments[V];for(var Y=W.length,X=8,q=Y;q--;)X+=W[q].byteLength;var Q=new Uint8Array(X);for(Q[0]=X>>24&255,Q[1]=X>>16&255,Q[2]=X>>8&255,Q[3]=X&255,Q.set(K,4),q=0,X=8;q<Y;q++)Q.set(W[q],X),X+=W[q].byteLength;return Q}function U(K,G,W){if(K.byteLength!==16)throw new RangeError("Invalid system id");var V,Y;if(G){V=1,Y=new Uint8Array(G.length*16);for(var X=0;X<G.length;X++){var q=G[X];if(q.byteLength!==16)throw new RangeError("Invalid key");Y.set(q,X*16)}}else V=0,Y=new Uint8Array;var Q;V>0?(Q=new Uint8Array(4),G.length>0&&new DataView(Q.buffer).setUint32(0,G.length,!1)):Q=new Uint8Array;var te=new Uint8Array(4);return W&&W.byteLength>0&&new DataView(te.buffer).setUint32(0,W.byteLength,!1),B([112,115,115,104],new Uint8Array([V,0,0,0]),K,Q,Y,te,W||new Uint8Array)}function j(K){if(!(K instanceof ArrayBuffer)||K.byteLength<32)return null;var G={version:0,systemId:"",kids:null,data:null},W=new DataView(K),V=W.getUint32(0);if(K.byteLength!==V&&V>44)return null;var Y=W.getUint32(4);if(Y!==1886614376||(G.version=W.getUint32(8)>>>24,G.version>1))return null;G.systemId=m.default.hexDump(new Uint8Array(K,12,16));var X=W.getUint32(28);if(G.version===0){if(V-32<X)return null;G.data=new Uint8Array(K,32,X)}else if(G.version===1){G.kids=[];for(var q=0;q<X;q++)G.kids.push(new Uint8Array(K,32+q*16,16))}return G}},"./src/utils/numeric-encoding-utils.ts":(o,s,l)=>{l.r(s),l.d(s,{base64Decode:()=>_,base64DecodeToStr:()=>d,base64Encode:()=>f,base64ToBase64Url:()=>u,base64UrlEncode:()=>m,strToBase64Encode:()=>c});function u(x){return x.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function c(x){return btoa(x)}function d(x){return atob(x)}function f(x){return btoa(String.fromCharCode.apply(String,x))}function m(x){return u(f(x))}function _(x){return Uint8Array.from(atob(x),function(v){return v.charCodeAt(0)})}},"./src/utils/output-filter.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>u});var u=function(){function c(f,m){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=f,this.trackName=m}var d=c.prototype;return d.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},d.newCue=function(m,_,x){(this.startTime===null||this.startTime>m)&&(this.startTime=m),this.endTime=_,this.screen=x,this.timelineController.createCaptionsTrack(this.trackName)},d.reset=function(){this.cueRanges=[],this.startTime=null},c}()},"./src/utils/texttrack-utils.ts":(o,s,l)=>{l.r(s),l.d(s,{addCueToTrack:()=>d,clearCurrentCues:()=>f,getCuesInRange:()=>x,removeCuesInRange:()=>m,sendAddTrackEvent:()=>c});var u=l("./src/utils/logger.ts");function c(v,g){var p;try{p=new Event("addtrack")}catch{p=document.createEvent("Event"),p.initEvent("addtrack",!1,!1)}p.track=v,g.dispatchEvent(p)}function d(v,g){var p=v.mode;if(p==="disabled"&&(v.mode="hidden"),v.cues&&!v.cues.getCueById(g.id))try{if(v.addCue(g),!v.cues.getCueById(g.id))throw new Error("addCue is failed for: "+g)}catch(S){u.logger.debug("[texttrack-utils]: "+S);var h=new self.TextTrackCue(g.startTime,g.endTime,g.text);h.id=g.id,v.addCue(h)}p==="disabled"&&(v.mode=p)}function f(v){var g=v.mode;if(g==="disabled"&&(v.mode="hidden"),v.cues)for(var p=v.cues.length;p--;)v.removeCue(v.cues[p]);g==="disabled"&&(v.mode=g)}function m(v,g,p,h){var S=v.mode;if(S==="disabled"&&(v.mode="hidden"),v.cues&&v.cues.length>0)for(var O=x(v.cues,g,p),y=0;y<O.length;y++)(!h||h(O[y]))&&v.removeCue(O[y]);S==="disabled"&&(v.mode=S)}function _(v,g){if(g<v[0].startTime)return 0;var p=v.length-1;if(g>v[p].endTime)return-1;for(var h=0,S=p;h<=S;){var O=Math.floor((S+h)/2);if(g<v[O].startTime)S=O-1;else if(g>v[O].startTime&&h<p)h=O+1;else return O}return v[h].startTime-g<g-v[S].startTime?h:S}function x(v,g,p){var h=[],S=_(v,g);if(S>-1)for(var O=S,y=v.length;O<y;O++){var E=v[O];if(E.startTime>=g&&E.endTime<=p)h.push(E);else if(E.startTime>p)return h}return h}},"./src/utils/time-ranges.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>c});var u={toString:function(f){for(var m="",_=f.length,x=0;x<_;x++)m+="["+f.start(x).toFixed(3)+"-"+f.end(x).toFixed(3)+"]";return m}};const c=u},"./src/utils/timescale-conversion.ts":(o,s,l)=>{l.r(s),l.d(s,{toMpegTsClockFromTimescale:()=>m,toMsFromMpegTsClock:()=>f,toTimescaleFromBase:()=>c,toTimescaleFromScale:()=>d});var u=9e4;function c(_,x,v,g){v===void 0&&(v=1),g===void 0&&(g=!1);var p=_*x*v;return g?Math.round(p):p}function d(_,x,v,g){return v===void 0&&(v=1),g===void 0&&(g=!1),c(_,x,1/v,g)}function f(_,x){return x===void 0&&(x=!1),c(_,1e3,1/u,x)}function m(_,x){return x===void 0&&(x=1),c(_,u,1/x)}},"./src/utils/typed-array.ts":(o,s,l)=>{l.r(s),l.d(s,{sliceUint8:()=>u});function u(c,d,f){return Uint8Array.prototype.slice?c.slice(d,f):new Uint8Array(Array.prototype.slice.call(c,d,f))}},"./src/utils/vttcue.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>u});const u=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var c=["","lr","rl"],d=["start","middle","end","left","right"];function f(g,p){if(typeof p!="string"||!Array.isArray(g))return!1;var h=p.toLowerCase();return~g.indexOf(h)?h:!1}function m(g){return f(c,g)}function _(g){return f(d,g)}function x(g){for(var p=arguments.length,h=new Array(p>1?p-1:0),S=1;S<p;S++)h[S-1]=arguments[S];for(var O=1;O<arguments.length;O++){var y=arguments[O];for(var E in y)g[E]=y[E]}return g}function v(g,p,h){var S=this,O={enumerable:!0};S.hasBeenReset=!1;var y="",E=!1,b=g,T=p,A=h,P=null,C="",D=!0,F="auto",R="start",L=50,I="middle",k=50,w="middle";Object.defineProperty(S,"id",x({},O,{get:function(){return y},set:function(N){y=""+N}})),Object.defineProperty(S,"pauseOnExit",x({},O,{get:function(){return E},set:function(N){E=!!N}})),Object.defineProperty(S,"startTime",x({},O,{get:function(){return b},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");b=N,this.hasBeenReset=!0}})),Object.defineProperty(S,"endTime",x({},O,{get:function(){return T},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");T=N,this.hasBeenReset=!0}})),Object.defineProperty(S,"text",x({},O,{get:function(){return A},set:function(N){A=""+N,this.hasBeenReset=!0}})),Object.defineProperty(S,"region",x({},O,{get:function(){return P},set:function(N){P=N,this.hasBeenReset=!0}})),Object.defineProperty(S,"vertical",x({},O,{get:function(){return C},set:function(N){var $=m(N);if($===!1)throw new SyntaxError("An invalid or illegal string was specified.");C=$,this.hasBeenReset=!0}})),Object.defineProperty(S,"snapToLines",x({},O,{get:function(){return D},set:function(N){D=!!N,this.hasBeenReset=!0}})),Object.defineProperty(S,"line",x({},O,{get:function(){return F},set:function(N){if(typeof N!="number"&&N!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");F=N,this.hasBeenReset=!0}})),Object.defineProperty(S,"lineAlign",x({},O,{get:function(){return R},set:function(N){var $=_(N);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");R=$,this.hasBeenReset=!0}})),Object.defineProperty(S,"position",x({},O,{get:function(){return L},set:function(N){if(N<0||N>100)throw new Error("Position must be between 0 and 100.");L=N,this.hasBeenReset=!0}})),Object.defineProperty(S,"positionAlign",x({},O,{get:function(){return I},set:function(N){var $=_(N);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");I=$,this.hasBeenReset=!0}})),Object.defineProperty(S,"size",x({},O,{get:function(){return k},set:function(N){if(N<0||N>100)throw new Error("Size must be between 0 and 100.");k=N,this.hasBeenReset=!0}})),Object.defineProperty(S,"align",x({},O,{get:function(){return w},set:function(N){var $=_(N);if(!$)throw new SyntaxError("An invalid or illegal string was specified.");w=$,this.hasBeenReset=!0}})),S.displayState=void 0}return v.prototype.getCueAsHTML=function(){var g=self.WebVTT;return g.convertCueToDOMTree(self,this.text)},v}()},"./src/utils/vttparser.ts":(o,s,l)=>{l.r(s),l.d(s,{VTTParser:()=>p,fixLineBreaks:()=>g,parseTimeStamp:()=>d});var u=l("./src/utils/vttcue.ts"),c=function(){function h(){}var S=h.prototype;return S.decode=function(y,E){if(!y)return"";if(typeof y!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(y))},h}();function d(h){function S(y,E,b,T){return(y|0)*3600+(E|0)*60+(b|0)+parseFloat(T||0)}var O=h.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return O?parseFloat(O[2])>59?S(O[2],O[3],0,O[4]):S(O[1],O[2],O[3],O[4]):null}var f=function(){function h(){this.values=Object.create(null)}var S=h.prototype;return S.set=function(y,E){!this.get(y)&&E!==""&&(this.values[y]=E)},S.get=function(y,E,b){return b?this.has(y)?this.values[y]:E[b]:this.has(y)?this.values[y]:E},S.has=function(y){return y in this.values},S.alt=function(y,E,b){for(var T=0;T<b.length;++T)if(E===b[T]){this.set(y,E);break}},S.integer=function(y,E){/^-?\d+$/.test(E)&&this.set(y,parseInt(E,10))},S.percent=function(y,E){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(E)){var b=parseFloat(E);if(b>=0&&b<=100)return this.set(y,b),!0}return!1},h}();function m(h,S,O,y){var E=y?h.split(y):[h];for(var b in E)if(typeof E[b]=="string"){var T=E[b].split(O);if(T.length===2){var A=T[0],P=T[1];S(A,P)}}}var _=new u.default(0,0,""),x=_.align==="middle"?"middle":"center";function v(h,S,O){var y=h;function E(){var A=d(h);if(A===null)throw new Error("Malformed timestamp: "+y);return h=h.replace(/^[^\sa-zA-Z-]+/,""),A}function b(A,P){var C=new f;m(A,function(R,L){var I;switch(R){case"region":for(var k=O.length-1;k>=0;k--)if(O[k].id===L){C.set(R,O[k].region);break}break;case"vertical":C.alt(R,L,["rl","lr"]);break;case"line":I=L.split(","),C.integer(R,I[0]),C.percent(R,I[0])&&C.set("snapToLines",!1),C.alt(R,I[0],["auto"]),I.length===2&&C.alt("lineAlign",I[1],["start",x,"end"]);break;case"position":I=L.split(","),C.percent(R,I[0]),I.length===2&&C.alt("positionAlign",I[1],["start",x,"end","line-left","line-right","auto"]);break;case"size":C.percent(R,L);break;case"align":C.alt(R,L,["start",x,"end","left","right"]);break}},/:/,/\s/),P.region=C.get("region",null),P.vertical=C.get("vertical","");var D=C.get("line","auto");D==="auto"&&_.line===-1&&(D=-1),P.line=D,P.lineAlign=C.get("lineAlign","start"),P.snapToLines=C.get("snapToLines",!0),P.size=C.get("size",100),P.align=C.get("align",x);var F=C.get("position","auto");F==="auto"&&_.position===50&&(F=P.align==="start"||P.align==="left"?0:P.align==="end"||P.align==="right"?100:50),P.position=F}function T(){h=h.replace(/^\s+/,"")}if(T(),S.startTime=E(),T(),h.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+y);h=h.slice(3),T(),S.endTime=E(),T(),b(h,S)}function g(h){return h.replace(/<br(?: \/)?>/gi,`
`)}var p=function(){function h(){this.state="INITIAL",this.buffer="",this.decoder=new c,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var S=h.prototype;return S.parse=function(y){var E=this;y&&(E.buffer+=E.decoder.decode(y,{stream:!0}));function b(){var F=E.buffer,R=0;for(F=g(F);R<F.length&&F[R]!=="\r"&&F[R]!==`
`;)++R;var L=F.slice(0,R);return F[R]==="\r"&&++R,F[R]===`
`&&++R,E.buffer=F.slice(R),L}function T(F){m(F,function(R,L){},/:/)}try{var A="";if(E.state==="INITIAL"){if(!/\r\n|\n/.test(E.buffer))return this;A=b();var P=A.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!P||!P[0])throw new Error("Malformed WebVTT signature.");E.state="HEADER"}for(var C=!1;E.buffer;){if(!/\r\n|\n/.test(E.buffer))return this;switch(C?C=!1:A=b(),E.state){case"HEADER":/:/.test(A)?T(A):A||(E.state="ID");continue;case"NOTE":A||(E.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(A)){E.state="NOTE";break}if(!A)continue;if(E.cue=new u.default(0,0,""),E.state="CUE",A.indexOf("-->")===-1){E.cue.id=A;continue}case"CUE":if(!E.cue){E.state="BADCUE";continue}try{v(A,E.cue,E.regionList)}catch{E.cue=null,E.state="BADCUE";continue}E.state="CUETEXT";continue;case"CUETEXT":{var D=A.indexOf("-->")!==-1;if(!A||D&&(C=!0)){E.oncue&&E.cue&&E.oncue(E.cue),E.cue=null,E.state="ID";continue}if(E.cue===null)continue;E.cue.text&&(E.cue.text+=`
`),E.cue.text+=A}continue;case"BADCUE":A||(E.state="ID")}}}catch{E.state==="CUETEXT"&&E.cue&&E.oncue&&E.oncue(E.cue),E.cue=null,E.state=E.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},S.flush=function(){var y=this;try{if((y.cue||y.state==="HEADER")&&(y.buffer+=`

`,y.parse()),y.state==="INITIAL"||y.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(E){y.onparsingerror&&y.onparsingerror(E)}return y.onflush&&y.onflush(),this},h}()},"./src/utils/webvtt-parser.ts":(o,s,l)=>{l.r(s),l.d(s,{generateCueId:()=>p,parseWebVTT:()=>S});var u=l("./src/polyfills/number.ts"),c=l("./src/utils/vttparser.ts"),d=l("./src/demux/id3.ts"),f=l("./src/utils/timescale-conversion.ts"),m=l("./src/remux/mp4-remuxer.ts"),_=/\r\n|\n\r|\n|\r/g,x=function(y,E,b){return b===void 0&&(b=0),y.slice(b,b+E.length)===E},v=function(y){var E=parseInt(y.slice(-3)),b=parseInt(y.slice(-6,-4)),T=parseInt(y.slice(-9,-7)),A=y.length>9?parseInt(y.substring(0,y.indexOf(":"))):0;if(!(0,u.isFiniteNumber)(E)||!(0,u.isFiniteNumber)(b)||!(0,u.isFiniteNumber)(T)||!(0,u.isFiniteNumber)(A))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+y);return E+=1e3*b,E+=60*1e3*T,E+=60*60*1e3*A,E},g=function(y){for(var E=5381,b=y.length;b;)E=E*33^y.charCodeAt(--b);return(E>>>0).toString()};function p(O,y,E){return g(O.toString())+g(y.toString())+g(E)}var h=function(y,E,b){var T=y[E],A=y[T.prevCC];if(!A||!A.new&&T.new){y.ccOffset=y.presentationOffset=T.start,T.new=!1;return}for(;(P=A)!==null&&P!==void 0&&P.new;){var P;y.ccOffset+=T.start-A.start,T.new=!1,T=A,A=y[T.prevCC]}y.presentationOffset=b};function S(O,y,E,b,T,A,P,C){var D=new c.VTTParser,F=(0,d.utf8ArrayToStr)(new Uint8Array(O)).trim().replace(_,`
`).split(`
`),R=[],L=(0,f.toMpegTsClockFromTimescale)(y,E),I="00:00.000",k=0,w=0,M,N=!0;D.oncue=function($){var B=b[T],U=b.ccOffset,j=(k-L)/9e4;B!=null&&B.new&&(w!==void 0?U=b.ccOffset=B.start:h(b,T,j)),j&&(U=j-b.presentationOffset);var K=$.endTime-$.startTime,G=(0,m.normalizePts)(($.startTime+U-w)*9e4,A*9e4)/9e4;$.startTime=Math.max(G,0),$.endTime=Math.max(G+K,0);var W=$.text.trim();$.text=decodeURIComponent(encodeURIComponent(W)),$.id||($.id=p($.startTime,$.endTime,W)),$.endTime>0&&R.push($)},D.onparsingerror=function($){M=$},D.onflush=function(){if(M){C(M);return}P(R)},F.forEach(function($){if(N)if(x($,"X-TIMESTAMP-MAP=")){N=!1,$.slice(16).split(",").forEach(function(B){x(B,"LOCAL:")?I=B.slice(6):x(B,"MPEGTS:")&&(k=parseInt(B.slice(7)))});try{w=v(I)/1e3}catch(B){M=B}return}else $===""&&(N=!1);D.parse($+`
`)}),D.flush()}},"./src/utils/xhr-loader.ts":(o,s,l)=>{l.r(s),l.d(s,{default:()=>m});var u=l("./src/utils/logger.ts"),c=l("./src/loader/load-stats.ts"),d=/^age:\s*[\d.]+\s*$/m,f=function(){function _(v){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=v?v.xhrSetup:null,this.stats=new c.LoadStats,this.retryDelay=0}var x=_.prototype;return x.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},x.abortInternal=function(){var g=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),g&&(g.onreadystatechange=null,g.onprogress=null,g.readyState!==4&&(this.stats.aborted=!0,g.abort()))},x.abort=function(){var g;this.abortInternal(),(g=this.callbacks)!==null&&g!==void 0&&g.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},x.load=function(g,p,h){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=g,this.config=p,this.callbacks=h,this.retryDelay=p.retryDelay,this.loadInternal()},x.loadInternal=function(){var g=this.config,p=this.context;if(g){var h=this.loader=new self.XMLHttpRequest,S=this.stats;S.loading.first=0,S.loaded=0;var O=this.xhrSetup;try{if(O)try{O(h,p.url)}catch{h.open("GET",p.url,!0),O(h,p.url)}h.readyState||h.open("GET",p.url,!0);var y=this.context.headers;if(y)for(var E in y)h.setRequestHeader(E,y[E])}catch(b){this.callbacks.onError({code:h.status,text:b.message},p,h);return}p.rangeEnd&&h.setRequestHeader("Range","bytes="+p.rangeStart+"-"+(p.rangeEnd-1)),h.onreadystatechange=this.readystatechange.bind(this),h.onprogress=this.loadprogress.bind(this),h.responseType=p.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),g.timeout),h.send()}},x.readystatechange=function(){var g=this.context,p=this.loader,h=this.stats;if(!(!g||!p)){var S=p.readyState,O=this.config;if(!h.aborted&&S>=2)if(self.clearTimeout(this.requestTimeout),h.loading.first===0&&(h.loading.first=Math.max(self.performance.now(),h.loading.start)),S===4){p.onreadystatechange=null,p.onprogress=null;var y=p.status,E=p.responseType==="arraybuffer";if(y>=200&&y<300&&(E&&p.response||p.responseText!==null)){h.loading.end=Math.max(self.performance.now(),h.loading.first);var b,T;if(E?(b=p.response,T=b.byteLength):(b=p.responseText,T=b.length),h.loaded=h.total=T,!this.callbacks)return;var A=this.callbacks.onProgress;if(A&&A(h,g,b,p),!this.callbacks)return;var P={url:p.responseURL,data:b};this.callbacks.onSuccess(P,h,g,p)}else h.retry>=O.maxRetry||y>=400&&y<499?(u.logger.error(y+" while loading "+g.url),this.callbacks.onError({code:y,text:p.statusText},g,p)):(u.logger.warn(y+" while loading "+g.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,O.maxRetryDelay),h.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),O.timeout)}},x.loadtimeout=function(){u.logger.warn("timeout while loading "+this.context.url);var g=this.callbacks;g&&(this.abortInternal(),g.onTimeout(this.stats,this.context,this.loader))},x.loadprogress=function(g){var p=this.stats;p.loaded=g.loaded,g.lengthComputable&&(p.total=g.total)},x.getCacheAge=function(){var g=null;if(this.loader&&d.test(this.loader.getAllResponseHeaders())){var p=this.loader.getResponseHeader("age");g=p?parseFloat(p):null}return g},_}();const m=f},"./node_modules/eventemitter3/index.js":o=>{var s=Object.prototype.hasOwnProperty,l="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(l=!1));function c(_,x,v){this.fn=_,this.context=x,this.once=v||!1}function d(_,x,v,g,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var h=new c(v,g||_,p),S=l?l+x:x;return _._events[S]?_._events[S].fn?_._events[S]=[_._events[S],h]:_._events[S].push(h):(_._events[S]=h,_._eventsCount++),_}function f(_,x){--_._eventsCount===0?_._events=new u:delete _._events[x]}function m(){this._events=new u,this._eventsCount=0}m.prototype.eventNames=function(){var x=[],v,g;if(this._eventsCount===0)return x;for(g in v=this._events)s.call(v,g)&&x.push(l?g.slice(1):g);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(v)):x},m.prototype.listeners=function(x){var v=l?l+x:x,g=this._events[v];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,h=g.length,S=new Array(h);p<h;p++)S[p]=g[p].fn;return S},m.prototype.listenerCount=function(x){var v=l?l+x:x,g=this._events[v];return g?g.fn?1:g.length:0},m.prototype.emit=function(x,v,g,p,h,S){var O=l?l+x:x;if(!this._events[O])return!1;var y=this._events[O],E=arguments.length,b,T;if(y.fn){switch(y.once&&this.removeListener(x,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,v),!0;case 3:return y.fn.call(y.context,v,g),!0;case 4:return y.fn.call(y.context,v,g,p),!0;case 5:return y.fn.call(y.context,v,g,p,h),!0;case 6:return y.fn.call(y.context,v,g,p,h,S),!0}for(T=1,b=new Array(E-1);T<E;T++)b[T-1]=arguments[T];y.fn.apply(y.context,b)}else{var A=y.length,P;for(T=0;T<A;T++)switch(y[T].once&&this.removeListener(x,y[T].fn,void 0,!0),E){case 1:y[T].fn.call(y[T].context);break;case 2:y[T].fn.call(y[T].context,v);break;case 3:y[T].fn.call(y[T].context,v,g);break;case 4:y[T].fn.call(y[T].context,v,g,p);break;default:if(!b)for(P=1,b=new Array(E-1);P<E;P++)b[P-1]=arguments[P];y[T].fn.apply(y[T].context,b)}}return!0},m.prototype.on=function(x,v,g){return d(this,x,v,g,!1)},m.prototype.once=function(x,v,g){return d(this,x,v,g,!0)},m.prototype.removeListener=function(x,v,g,p){var h=l?l+x:x;if(!this._events[h])return this;if(!v)return f(this,h),this;var S=this._events[h];if(S.fn)S.fn===v&&(!p||S.once)&&(!g||S.context===g)&&f(this,h);else{for(var O=0,y=[],E=S.length;O<E;O++)(S[O].fn!==v||p&&!S[O].once||g&&S[O].context!==g)&&y.push(S[O]);y.length?this._events[h]=y.length===1?y[0]:y:f(this,h)}return this},m.prototype.removeAllListeners=function(x){var v;return x?(v=l?l+x:x,this._events[v]&&f(this,v)):(this._events=new u,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=l,m.EventEmitter=m,o.exports=m},"./node_modules/url-toolkit/src/url-toolkit.js":function(o){(function(s){var l=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,u=/^(?=([^\/?#]*))\1([^]*)$/,c=/(?:\/|^)\.(?=\/)/g,d=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,f={buildAbsoluteURL:function(m,_,x){if(x=x||{},m=m.trim(),_=_.trim(),!_){if(!x.alwaysNormalize)return m;var v=f.parseURL(m);if(!v)throw new Error("Error trying to parse base URL.");return v.path=f.normalizePath(v.path),f.buildURLFromParts(v)}var g=f.parseURL(_);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return x.alwaysNormalize?(g.path=f.normalizePath(g.path),f.buildURLFromParts(g)):_;var p=f.parseURL(m);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var h=u.exec(p.path);p.netLoc=h[1],p.path=h[2]}p.netLoc&&!p.path&&(p.path="/");var S={scheme:p.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(S.netLoc=p.netLoc,g.path[0]!=="/"))if(!g.path)S.path=p.path,g.params||(S.params=p.params,g.query||(S.query=p.query));else{var O=p.path,y=O.substring(0,O.lastIndexOf("/")+1)+g.path;S.path=f.normalizePath(y)}return S.path===null&&(S.path=x.alwaysNormalize?f.normalizePath(g.path):g.path),f.buildURLFromParts(S)},parseURL:function(m){var _=l.exec(m);return _?{scheme:_[1]||"",netLoc:_[2]||"",path:_[3]||"",params:_[4]||"",query:_[5]||"",fragment:_[6]||""}:null},normalizePath:function(m){for(m=m.split("").reverse().join("").replace(c,"");m.length!==(m=m.replace(d,"")).length;);return m.split("").reverse().join("")},buildURLFromParts:function(m){return m.scheme+m.netLoc+m.path+m.params+m.query+m.fragment}};o.exports=f})()}},n={};function i(o){var s=n[o];if(s!==void 0)return s.exports;var l=n[o]={exports:{}};return r[o].call(l.exports,l,l.exports,i),l.exports}i.m=r,i.n=o=>{var s=o&&o.__esModule?()=>o.default:()=>o;return i.d(s,{a:s}),s},i.d=(o,s)=>{for(var l in s)i.o(s,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},i.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var a=i("./src/hls.ts");return a=a.default,a})())})(tUe);const Fb=b1(aA);function rUe(e){switch(e.code){case MediaError.MEDIA_ERR_ABORTED:return{code:"ABORTED",description:"Video was aborted"};case MediaError.MEDIA_ERR_NETWORK:return{code:"NETWORK_ERROR",description:"A network error occured, the video failed to stream"};case MediaError.MEDIA_ERR_DECODE:return{code:"DECODE_ERROR",description:"Video stream could not be decoded"};case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return{code:"SRC_NOT_SUPPORTED",description:"The video type is not supported by your browser"};default:return{code:"UNKNOWN_ERROR",description:"Unknown media error occured"}}}function nUe(e,t){const r=t,n=Pr(e);return{getId(){return"video"},play(){r.play()},pause(){r.pause()},exitFullscreen(){wn.fullscreenElement&&wn.exitFullscreen()},enterFullscreen(){if(!(!pC()||wn.fullscreenElement)){if(rE()){n.wrapperElement&&wn.requestFullscreen(n.wrapperElement);return}vC()&&r.webkitEnterFullscreen()}},startAirplay(){const i=r;i.webkitShowPlaybackTargetPicker&&i.webkitShowPlaybackTargetPicker()},setTime(i){let a=Math.min(i,r.duration);a=Math.max(0,a),!Number.isNaN(a)&&(r.currentTime=a,n.progress.time=a,Fa(e,n))},setSeeking(i){if(n.mediaPlaying.isSeeking=i,n.mediaPlaying.isDragSeeking=i,or(e,n),!i){n.pausedWhenSeeking||this.play();return}n.pausedWhenSeeking=n.mediaPlaying.isPaused,this.pause()},async setVolume(i){let a=Math.min(i,1);a=Math.max(0,a),await iv()&&(r.volume=a),n.mediaPlaying.volume=a,or(e,n),XV(a)},setSource(i){if(!i){Oy(e,n),r.removeAttribute("src"),r.load(),n.source=null,Fo(e,n);return}if(Oy(e,n),(i==null?void 0:i.type)===Cn.HLS)if(r.canPlayType("application/vnd.apple.mpegurl"))r.src=i.source;else{if(!Fb.isSupported()){n.error={name:"Not supported",description:"Your browser does not support HLS video"},Cb(e,n);return}const a=new Fb({enableWorker:!1});n.hlsInstance=a,a.on(Fb.Events.ERROR,(o,s)=>{var l;s.fatal&&(n.error={name:`error ${s.details}`,description:((l=s.error)==null?void 0:l.message)??"Something went wrong"},Cb(e,n)),console.error("HLS error",s)}),a.attachMedia(r),a.loadSource(i.source)}else i.type===Cn.MP4&&(r.src=i.source);n.source={quality:i.quality,type:i.type,url:i.source,caption:null,embedId:i.embedId,providerId:i.providerId},Fo(e,n)},setCaption(i,a){var o;n.source&&(_y((o=n.source.caption)==null?void 0:o.url),n.source.caption={id:i,url:a},Fo(e,n))},clearCaption(){var i;n.source&&(_y((i=n.source.caption)==null?void 0:i.url),n.source.caption=null,Fo(e,n))},togglePictureInPicture(){if(Kz()){const i=r;i.webkitSetPresentationMode(i.webkitPresentationMode==="picture-in-picture"?"inline":"picture-in-picture")}Hz()&&(r!==document.pictureInPictureElement?r.requestPictureInPicture():document.exitPictureInPicture())},setPlaybackSpeed(i){r.playbackRate=i,n.mediaPlaying.playbackSpeed=i,or(e,n)},providerStart(){var h,S,O;this.setVolume(YV());const i=()=>{n.mediaPlaying.isPaused=!0,n.mediaPlaying.isPlaying=!1,or(e,n)},a=()=>{n.mediaPlaying.isPaused=!1,n.mediaPlaying.isPlaying=!0,n.mediaPlaying.isLoading=!1,n.mediaPlaying.hasPlayedOnce=!0,or(e,n)},o=()=>{n.mediaPlaying.isLoading=!0,or(e,n)},s=()=>{n.mediaPlaying.isSeeking=!0,or(e,n)},l=()=>{n.mediaPlaying.isSeeking=!1,or(e,n)},u=()=>{n.progress.duration=r.duration,Fa(e,n)},c=()=>{n.progress.duration=r.duration,n.progress.time=r.currentTime,Fa(e,n)},d=()=>{n.progress.buffered=qBe(r.currentTime,r.buffered),Fa(e,n)},f=()=>{n.mediaPlaying.isFirstLoading=!1,n.mediaPlaying.isLoading=!1,or(e,n)},m=()=>{n.mediaPlaying.playbackSpeed=r.playbackRate,or(e,n)},_=()=>{n.interface.isFullscreen=!!document.fullscreenElement||!!document.webkitFullscreenElement,Sn(e,n)},x=async()=>{await iv()&&(n.mediaPlaying.volume=r.volume,or(e,n))},v=y=>{n.interface.isFocused=y.type!=="mouseleave",Sn(e,n)},g=y=>{y.availability==="available"&&(n.canAirplay=!0,wf(e,n))},p=()=>{if(r.error){const y=rUe(r.error);console.error("Native video player threw error",r.error),n.error={description:y.description,name:`Error ${y.code}`},this.pause()}else n.error=null;Cb(e,n)};return(h=n.wrapperElement)==null||h.addEventListener("click",v),(S=n.wrapperElement)==null||S.addEventListener("mouseenter",v),(O=n.wrapperElement)==null||O.addEventListener("mouseleave",v),r.addEventListener("volumechange",x),r.addEventListener("pause",i),r.addEventListener("playing",a),r.addEventListener("seeking",s),r.addEventListener("seeked",l),r.addEventListener("progress",d),r.addEventListener("waiting",o),r.addEventListener("timeupdate",c),r.addEventListener("loadedmetadata",u),r.addEventListener("canplay",f),r.addEventListener("ratechange",m),wn.addEventListener("fullscreenchange",_),r.addEventListener("error",p),r.addEventListener("webkitplaybacktargetavailabilitychanged",g),n.source&&this.setSource({quality:n.source.quality,source:n.source.url,type:n.source.type,embedId:n.source.embedId,providerId:n.source.providerId}),{destroy:()=>{var y,E,b;r.removeEventListener("pause",i),r.removeEventListener("playing",a),r.removeEventListener("seeking",s),r.removeEventListener("volumechange",x),r.removeEventListener("seeked",l),r.removeEventListener("timeupdate",c),r.removeEventListener("loadedmetadata",u),r.removeEventListener("progress",d),r.removeEventListener("waiting",o),r.removeEventListener("error",p),r.removeEventListener("canplay",f),wn.removeEventListener("fullscreenchange",_),(y=n.wrapperElement)==null||y.removeEventListener("click",v),(E=n.wrapperElement)==null||E.removeEventListener("mouseenter",v),(b=n.wrapperElement)==null||b.removeEventListener("mouseleave",v),r.removeEventListener("webkitplaybacktargetavailabilitychanged",g)}}}}}function iUe(e){const t=Pe(),r=Mn(t),n=so(t),i=z.useRef(null),a=z.useMemo(()=>!!n.wrapperInitialized,[n]),o=z.useMemo(()=>n.stateProviderId,[n]);return z.useEffect(()=>{if(!a||!i.current)return;const s=nUe(t,i.current);qV(t,s);const{destroy:l}=s.providerStart();return()=>{try{QV(t,s.getId())}catch{}l()}},[t,a,o]),H("video",{ref:i,autoPlay:e.autoPlay,muted:r.volume===0,playsInline:!0,className:"z-0 h-full w-full"})}function aUe(e){const t=Pe();return so(t).stateProviderId!=="video"?null:H(iUe,{...e})}function oUe(e){const t=z.useRef(null),r=Pe(),n=Mi(r),i=gi(r),a=typeof e.children=="function"?e.children({isFullscreen:n.isFullscreen}):e.children;return H(JBe,{onGoBack:e.onGoBack,media:i==null?void 0:i.meta.meta,children:ee("div",{ref:t,className:["is-video-player popout-location relative h-full w-full select-none overflow-hidden bg-black",e.includeSafeArea||n.isFullscreen?"[border-left:env(safe-area-inset-left)_solid_transparent] [border-right:env(safe-area-inset-right)_solid_transparent]":""].join(" "),children:[H(eUe,{}),H(aUe,{autoPlay:e.autoPlay}),H(QBe,{}),H(ZBe,{wrapper:t.current}),H("div",{className:"absolute inset-0",children:a})]})})}function sUe(e){return H(F4e,{children:H(oUe,{...e})})}function ZV({text:e,scale:t}){const{captionSettings:r}=bf(),n=(e||"").replaceAll(/\r?\n/g,"<br />"),i=L8e(n,{ALLOWED_TAGS:["c","b","i","u","span","ruby","rt","br"],ADD_TAGS:["v","lang"],ALLOWED_ATTR:["title","lang"]});return H("p",{className:"pointer-events-none mb-1 select-none rounded px-4 py-1 text-center [text-shadow:0_2px_4px_rgba(0,0,0,0.5)]",style:{...r.style,fontSize:r.style.fontSize*(t??1)},children:H("span",{dangerouslySetInnerHTML:{__html:i},dir:"auto"})})}function lUe({isControlsShown:e}){var s;const t=Pe(),r=R0(t).source,n=Ps(t).time,{captionSettings:i}=bf(),a=z.useRef([]);if(bNe(async()=>{var u;const l=(u=r==null?void 0:r.caption)==null?void 0:u.url;if(l){const d=await(await fetch(l)).text();try{a.current=Tz(d)}catch{a.current=[]}}else a.current=[]},[(s=r==null?void 0:r.caption)==null?void 0:s.url]),!a.current.length)return null;const o=(l,u)=>{const c=l/1e3+i.delay,d=u/1e3+i.delay;return Math.max(0,c)<=n&&Math.max(0,d)>=n};return H(Pi,{className:["pointer-events-none absolute flex w-full flex-col items-center transition-[bottom]",e?"bottom-24":"bottom-12"].join(" "),animation:"slide-up",show:!0,children:a.current.map(({start:l,end:u,content:c})=>o(l,u)&&H(ZV,{text:c},`${l}-${u}`))})}function uUe(){const e=Pe(),t=gi(e);return(t==null?void 0:t.meta.meta.type)!==Ae.SERIES?null:H("div",{className:"mx-2 h-6 w-px bg-white opacity-50"})}function dF(e){const{t}=Fe(),r=Pe(),n=yt(r),i=Mi(r),{isMobile:a}=ya(!1);return H("div",{className:e.className,children:H("div",{className:"relative",children:H(Qz,{id:"settings",children:H(uo,{active:i.popout==="settings",className:e.className,onClick:()=>n.openPopout("settings"),text:a?t("videoPlayer.buttons.settings"):void 0,icon:ye.GEAR})})})})}function cUe(){const e=Pe(),t=Mi(e),r=Mn(e);return ee("div",{className:[t.volumeChangedWithKeybind?"mt-10 scale-100 opacity-100":"mt-5 scale-75 opacity-0","absolute left-1/2 z-[100] flex -translate-x-1/2 items-center space-x-4 rounded-full bg-bink-300 bg-opacity-50 py-2 px-5 transition-all duration-100"].join(" "),children:[H(tt,{icon:r.volume>0?ye.VOLUME:ye.VOLUME_X,className:"text-xl text-white"}),H("div",{className:"h-2 w-44 overflow-hidden rounded-full bg-denim-100",children:H("div",{className:"h-full rounded-r-full bg-bink-500 transition-[width] duration-100",style:{width:`${r.volume*100}%`}})})]})}function Bb(e){return H("div",{className:"absolute inset-0 flex items-center justify-center",children:e.children})}function fUe(){const e=Pe(),t=yt(e),r=z.useCallback(()=>{t.setLeftControlsHover(!0)},[t]),n=z.useCallback(()=>{t.setLeftControlsHover(!1)},[t]);return ee(Ir,{children:[ee("div",{className:"flex items-center px-2",onMouseLeave:n,onMouseEnter:r,children:[H(zz,{}),H(qFe,{}),H(n6e,{className:"mr-2"}),H(Zz,{})]}),H(t6e,{})]})}function dUe(e){const[t,r]=z.useState(!1),{isMobile:n}=ya(),i=z.useCallback(a=>{r(a)},[r]);return H(sUe,{autoPlay:e.autoPlay,includeSafeArea:e.includeSafeArea,onGoBack:e.onGoBack,children:({isFullscreen:a})=>ee(Ir,{children:[H(VFe,{}),H(ZFe,{}),H(cUe,{}),ee(a6e,{onGoBack:e.onGoBack,children:[ee(HFe,{onBackdropChange:i,children:[H(Bb,{children:H(YFe,{})}),H(Bb,{children:H(KFe,{})}),H(Bb,{children:H(XFe,{})}),n?H(Pi,{animation:"fade",show:t,className:"absolute inset-0 flex items-center justify-center",children:H(QFe,{})}):"",H(Pi,{animation:"slide-down",show:t,className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col py-6 px-8 pb-2",children:H(zFe,{showControls:n,onClick:e.onGoBack,isFullScreen:!0})}),ee(Pi,{animation:"slide-up",show:t,className:["pointer-events-auto absolute inset-x-0 bottom-0 flex flex-col px-4 pb-2",e.includeSafeArea||a?"[margin-bottom:env(safe-area-inset-bottom)]":""].join(" "),children:[ee("div",{className:"flex w-full items-center space-x-3",children:[n&&H(Zz,{noDuration:!0}),H(e6e,{})]}),H("div",{className:"flex items-center",children:n?ee("div",{className:"grid w-full grid-cols-[56px,1fr,56px] items-center",children:[H("div",{}),ee("div",{className:"flex items-center justify-center",children:[H(O8,{}),H(R8,{}),H(dF,{})]}),H(A8,{})]}):ee(Ir,{children:[H(fUe,{}),H("div",{className:"flex-1"}),H(O8,{}),H(uUe,{}),H(dF,{}),H(Rz,{}),H(Az,{}),H(R8,{}),H(A8,{})]})})]}),t?H(KBe,{}):null]}),H(lUe,{isControlsShown:t}),e.children]})]})})}function hUe(){const{t:e}=Fe(),t=q_();return ee("div",{className:"flex-1",children:[H(la,{children:H("title",{children:e("media.errors.failedMeta")})}),H("div",{className:"fixed inset-x-0 top-0 py-6 px-8",children:H(Vl,{onClick:t})}),H(QI,{children:H("p",{className:"my-6 max-w-lg",children:e("media.errors.mediaFailed")})})]})}function hF(){return H("div",{className:"h-9 w-[220px] rounded-full bg-slate-800 opacity-50"})}function vUe({event:e}){return ee("div",{className:"flex h-9 w-[220px] items-center rounded-full bg-slate-800 p-3 text-denim-700",children:[H("div",{className:"mr-2 flex w-[18px] items-center justify-center",children:e.errored?H(tt,{icon:ye.X,className:"text-[0.85em] text-rose-400"}):H(BV,{className:"h-[18px] w-[18px] text-bink-700",percentage:e.percentage,radius:40})}),H("div",{className:"flex-1 overflow-hidden",children:H("p",{className:`overflow-hidden text-ellipsis whitespace-nowrap ${e.errored?"text-rose-400":""}`,children:e.id})})]})}function pUe(e){return ee("div",{className:"relative h-16 w-[400px] overflow-hidden",children:[H("div",{className:"absolute inset-0 flex items-center justify-center",children:H("div",{className:"relative flex h-full w-[220px] items-center",children:ee("div",{className:"absolute inset-y-0 left-0 flex items-center gap-[16px] transition-transform duration-200",style:{transform:`translateX(${-1*(220+16)*e.events.length}px)`},children:[H(hF,{}),e.events.map(t=>H(vUe,{event:t},t.eventId)),H(hF,{})]})})}),H("div",{className:"absolute inset-y-0 left-0 w-40 bg-gradient-to-r from-denim-100 to-transparent"}),H("div",{className:"absolute inset-y-0 right-0 w-40 bg-gradient-to-l from-denim-100 to-transparent"})]})}function vF(e){return H("div",{className:"relative my-4 max-w-[18rem]",children:H(Vp,{value:e.selectedItem,onChange:e.setSelectedItem,children:({open:t})=>ee(Ir,{children:[ee(Vp.Button,{className:"relative w-full cursor-default rounded-lg bg-denim-500 py-2 pl-3 pr-10 text-left text-white shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-bink-500  focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-bink-300 sm:text-sm",children:[H("span",{className:"block truncate",children:e.selectedItem.name}),H("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:H(tt,{icon:ye.CHEVRON_DOWN,className:`transform transition-transform ${t?"rotate-180":""}`})})]}),H(K2,{as:z.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:H(Vp.Options,{className:"absolute top-10 left-0 right-0 z-10 mt-1 max-h-60 overflow-auto rounded-md bg-denim-500 py-1 text-white shadow-lg ring-1 ring-black ring-opacity-5 scrollbar-thin scrollbar-track-denim-400 scrollbar-thumb-denim-200 focus:outline-none sm:top-10 sm:text-sm",children:e.options.map(r=>H(Vp.Option,{className:({active:n})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${n?"bg-denim-400 text-bink-700":"text-white"}`,value:r,children:r.name},r.id))})})]})})})}function gUe(e){return ee(Ir,{children:[H(la,{children:H("body",{"data-no-scroll":!0})}),ee("div",{className:"fixed inset-0 z-[99999]",children:[H(Pi,{animation:"fade",className:"absolute inset-0 bg-[rgba(8,6,18,0.85)]",isChild:!0}),e.children]})]})}function mUe(e){return H(Pi,{className:"fixed inset-0 z-[9999]",animation:"none",show:e.show,children:H(gUe,{children:H(Pi,{isChild:!0,className:"flex h-full w-full items-center justify-center",animation:"slide-up",children:e.children})})})}function JV(e){return Sl.createPortal(H(mUe,{show:e.show,children:e.children}),document.body)}function eY(e){return H("div",{className:["relative mx-2 w-[500px] overflow-hidden rounded-lg bg-denim-300 px-10 py-10 sm:w-[500px] md:w-[500px] lg:w-[1000px]",e.className??""].join(" "),children:e.children})}function Zo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function O0(e,t){if(t&&(ur(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zo(e)}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ca(e)}function yUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ue(e){return DW(e)||yUe(e)||$W(e)||kW()}function pF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var EUe={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},xUe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vi(this,e),this.init(t,r)}return pi(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||EUe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new e(this.logger,gF(gF({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}}]),e}(),ea=new xUe,gs=function(){function e(){vi(this,e),this.observers={}}return pi(e,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(l){l.apply(l,[r].concat(i))})}}}]),e}();function bd(){var e,t,r=new Promise(function(n,i){e=n,t=i});return r.resolve=e,r.reject=t,r}function mF(e){return e==null?"":""+e}function SUe(e,t,r){e.forEach(function(n){t[n]&&(r[n]=t[n])})}function PC(e,t,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!e||typeof e=="string"}for(var a=typeof t!="string"?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!e[o]&&r&&(e[o]=new r),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={}}return i()?{}:{obj:e,k:n(a.shift())}}function yF(e,t,r){var n=PC(e,t,Object),i=n.obj,a=n.k;i[a]=r}function bUe(e,t,r,n){var i=PC(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function Iy(e,t){var r=PC(e,t),n=r.obj,i=r.k;if(n)return n[i]}function _F(e,t,r){var n=Iy(e,r);return n!==void 0?n:Iy(t,r)}function tY(e,t,r){for(var n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?typeof e[n]=="string"||e[n]instanceof String||typeof t[n]=="string"||t[n]instanceof String?r&&(e[n]=t[n]):tY(e[n],t[n],r):e[n]=t[n]);return e}function mu(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var TUe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function wUe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(t){return TUe[t]}):e}var vE=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,AUe=[" ",",","?","!",";"];function RUe(e,t,r){t=t||"",r=r||"";var n=AUe.filter(function(s){return t.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(r);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}function EF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OUe(e){var t=IUe();return function(){var n=ca(e),i;if(t){var a=ca(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O0(this,i)}}function IUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[t])return e[t];for(var n=t.split(r),i=e,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),l=i[s];l===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),l=i[s];if(l===void 0)return;if(l===null)return null;if(t.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}var u=n.slice(a+o).join(r);return u?rY(l,u,r):void 0}i=i[n[a]]}return i}}var CUe=function(e){hE(r,e);var t=OUe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return vi(this,r),i=t.call(this),vE&&gs.call(Zo(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return pi(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,a];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."));var d=Iy(this.data,c);return d||!u||typeof o!="string"?d:rY(this.data&&this.data[i]&&this.data[i][a],o,l)}},{key:"addResource",value:function(i,a,o,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var c=[i,a];o&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."),s=a,a=c[1]),this.addNamespaces(a),yF(this.data,c,s),l.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,a,l,o[l],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,a];i.indexOf(".")>-1&&(c=i.split("."),s=o,o=a,a=c[1]),this.addNamespaces(a);var d=Iy(this.data,c)||{};s?tY(d,o,l):d=Qp(Qp({},d),o),yF(this.data,c,d),u.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Qp(Qp({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(gs),nY={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,n,i,a){var o=this;return t.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PUe(e){var t=LUe();return function(){var n=ca(e),i;if(t){var a=ca(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O0(this,i)}}function LUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var SF={},bF=function(e){hE(r,e);var t=PUe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return vi(this,r),i=t.call(this),vE&&gs.call(Zo(i)),SUe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,Zo(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ea.create("translator"),i}return pi(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ns||this.options.defaultNS||[],u=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!RUe(i,o,s);if(u&&!c){var d=i.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:i,namespaces:l};var f=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(f[0])>-1)&&(l=f.shift()),i=f.join(s)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,a,o){var s=this;if(ur(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],a),d=c.key,f=c.namespaces,m=f[f.length-1],_=a.lng||this.language,x=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(_&&_.toLowerCase()==="cimode"){if(x){var v=a.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(m).concat(v).concat(d),usedKey:d,exactUsedKey:d,usedLng:_,usedNS:m}:"".concat(m).concat(v).concat(d)}return l?{res:d,usedKey:d,exactUsedKey:d,usedLng:_,usedNS:m}:d}var g=this.resolve(i,a),p=g&&g.res,h=g&&g.usedKey||d,S=g&&g.exactUsedKey||d,O=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],E=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,T=typeof p!="string"&&typeof p!="boolean"&&typeof p!="number";if(b&&p&&T&&y.indexOf(O)<0&&!(typeof E=="string"&&O==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,p,Nr(Nr({},a),{},{ns:f})):"key '".concat(d," (").concat(this.language,")' returned an object instead of string.");return l?(g.res=A,g):A}if(u){var P=O==="[object Array]",C=P?[]:{},D=P?S:h;for(var F in p)if(Object.prototype.hasOwnProperty.call(p,F)){var R="".concat(D).concat(u).concat(F);C[F]=this.translate(R,Nr(Nr({},a),{joinArrays:!1,ns:f})),C[F]===R&&(C[F]=p[F])}p=C}}else if(b&&typeof E=="string"&&O==="[object Array]")p=p.join(E),p&&(p=this.extendTranslation(p,i,a,o));else{var L=!1,I=!1,k=a.count!==void 0&&typeof a.count!="string",w=r.hasDefaultValue(a),M=k?this.pluralResolver.getSuffix(_,a.count,a):"",N=a["defaultValue".concat(M)]||a.defaultValue;!this.isValidLookup(p)&&w&&(L=!0,p=N),this.isValidLookup(p)||(I=!0,p=d);var $=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,B=$&&I?void 0:p,U=w&&N!==p&&this.options.updateMissing;if(I||L||U){if(this.logger.log(U?"updateKey":"missingKey",_,m,d,U?N:p),u){var j=this.resolve(d,Nr(Nr({},a),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var K=[],G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(var W=0;W<G.length;W++)K.push(G[W]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(a.lng||this.language):K.push(a.lng||this.language);var V=function(X,q,Q){var te=w&&Q!==p?Q:B;s.options.missingKeyHandler?s.options.missingKeyHandler(X,m,q,te,U,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(X,m,q,te,U,a),s.emit("missingKey",X,m,q,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?K.forEach(function(Y){s.pluralResolver.getSuffixes(Y,a).forEach(function(X){V([Y],d+X,a["defaultValue".concat(X)]||N)})}):V(K,d,N))}p=this.extendTranslation(p,i,a,g,o),I&&p===d&&this.options.appendNamespaceToMissingKey&&(p="".concat(m,":").concat(d)),(I||L)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(m,":").concat(d):d,L?p:void 0):p=this.options.parseMissingKeyHandler(p))}return l?(g.res=p,g):p}},{key:"extendTranslation",value:function(i,a,o,s,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Nr(Nr({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Nr(Nr({},o),{interpolation:Nr(Nr({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(c){var f=i.match(this.interpolator.nestingRegexp);d=f&&f.length}var m=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(m=Nr(Nr({},this.options.interpolation.defaultVariables),m)),i=this.interpolator.interpolate(i,m,o.lng||this.language,o),c){var _=i.match(this.interpolator.nestingRegexp),x=_&&_.length;d<x&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var p=arguments.length,h=new Array(p),S=0;S<p;S++)h[S]=arguments[S];return l&&l[0]===h[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(h[0]," in key: ").concat(a[0])),null):u.translate.apply(u,h.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var v=o.postProcess||this.options.postProcess,g=typeof v=="string"?[v]:v;return i!=null&&g&&g.length&&o.applyPostProcessor!==!1&&(i=nY.handle(g,i,a,this.options&&this.options.postProcessPassResolved?Nr({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,l,u,c,d;return typeof i=="string"&&(i=[i]),i.forEach(function(f){if(!a.isValidLookup(s)){var m=a.extractFromKey(f,o),_=m.key;l=_;var x=m.namespaces;a.options.fallbackNS&&(x=x.concat(a.options.fallbackNS));var v=o.count!==void 0&&typeof o.count!="string",g=v&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),p=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",h=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);x.forEach(function(S){a.isValidLookup(s)||(d=S,!SF["".concat(h[0],"-").concat(S)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(d)&&(SF["".concat(h[0],"-").concat(S)]=!0,a.logger.warn('key "'.concat(l,'" for languages "').concat(h.join(", "),`" won't get resolved as namespace "`).concat(d,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(function(O){if(!a.isValidLookup(s)){c=O;var y=[_];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(y,_,O,S,o);else{var E;v&&(E=a.pluralResolver.getSuffix(O,o.count,o));var b="".concat(a.options.pluralSeparator,"zero");if(v&&(y.push(_+E),g&&y.push(_+b)),p){var T="".concat(_).concat(a.options.contextSeparator).concat(o.context);y.push(T),v&&(y.push(T+E),g&&y.push(T+b))}}for(var A;A=y.pop();)a.isValidLookup(s)||(u=A,s=a.getResource(O,S,A,o))}}))})}}),{res:s,usedKey:l,exactUsedKey:u,usedLng:c,usedNS:d}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(gs);function Ub(e){return e.charAt(0).toUpperCase()+e.slice(1)}var TF=function(){function e(t){vi(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ea.create("languageUtils")}return pi(e,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Ub(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Ub(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Ub(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(u){u&&(i.isSupportedCode(u)?o.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(l){o.indexOf(l)<0&&s(i.formatLanguageCode(l))}),o}}]),e}(),DUe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$Ue={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}},kUe=["v1","v2","v3"],wF={zero:0,one:1,two:2,few:3,many:4,other:5};function NUe(){var e={};return DUe.forEach(function(t){t.lngs.forEach(function(r){e[r]={numbers:t.nr,plurals:$Ue[t.fc]}})}),e}var MUe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vi(this,e),this.languageUtils=t,this.options=r,this.logger=ea.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=NUe()}return pi(e,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return wF[o]-wF[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!kUe.includes(this.options.compatibilityJSON)}}]),e}();function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var FUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vi(this,e),this.logger=ea.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return pi(e,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:wUe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?mu(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?mu(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?mu(n.nestingPrefix):n.nestingPrefixEscaped||mu("$t("),this.nestingSuffix=n.nestingSuffix?mu(n.nestingSuffix):n.nestingSuffixEscaped||mu(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,l,u,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(v){return v.replace(/\$/g,"$$$$")}var f=function(g){if(g.indexOf(o.formatSeparator)<0){var p=_F(n,c,g);return o.alwaysFormat?o.format(p,void 0,i,xi(xi(xi({},a),n),{},{interpolationkey:g})):p}var h=g.split(o.formatSeparator),S=h.shift().trim(),O=h.join(o.formatSeparator).trim();return o.format(_F(n,c,S),O,i,xi(xi(xi({},a),n),{},{interpolationkey:S}))};this.resetRegExp();var m=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,_=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,x=[{regex:this.regexpUnescape,safeValue:function(g){return d(g)}},{regex:this.regexp,safeValue:function(g){return o.escapeValue?d(o.escape(g)):d(g)}}];return x.forEach(function(v){for(u=0;s=v.regex.exec(r);){var g=s[1].trim();if(l=f(g),l===void 0)if(typeof m=="function"){var p=m(r,s,a);l=typeof p=="string"?p:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))l="";else if(_){l=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(g," for interpolating ").concat(r)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=mF(l));var h=v.safeValue(l);if(r=r.replace(s[0],h),_?(v.regex.lastIndex+=l.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,u++,u>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,l;function u(m,_){var x=this.nestingOptionsSeparator;if(m.indexOf(x)<0)return m;var v=m.split(new RegExp("".concat(x,"[ ]*{"))),g="{".concat(v[1]);m=v[0],g=this.interpolate(g,l);var p=g.match(/'/g),h=g.match(/"/g);(p&&p.length%2===0&&!h||h.length%2!==0)&&(g=g.replace(/'/g,'"'));try{l=JSON.parse(g),_&&(l=xi(xi({},_),l))}catch(S){return this.logger.warn("failed parsing options string in nesting for key ".concat(m),S),"".concat(m).concat(x).concat(g)}return delete l.defaultValue,m}for(;o=this.nestingRegexp.exec(r);){var c=[];l=xi({},a),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var d=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var f=o[1].split(this.formatSeparator).map(function(m){return m.trim()});o[1]=f.shift(),c=f,d=!0}if(s=n(u.call(this,o[1].trim(),l),l),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=mF(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),d&&(s=c.reduce(function(m,_){return i.format(m,_,a.lng,xi(xi({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),e}();function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BUe(e){var t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var n=e.split("(");t=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(t==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(t==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),l=_Ue(s),u=l[0],c=l.slice(1),d=c.join(":").trim().replace(/^'+|'+$/g,"");r[u.trim()]||(r[u.trim()]=d),d==="false"&&(r[u.trim()]=!1),d==="true"&&(r[u.trim()]=!0),isNaN(d)||(r[u.trim()]=parseInt(d,10))}})}}return{formatName:t,formatOptions:r}}function yu(e){var t={};return function(n,i,a){var o=i+JSON.stringify(a),s=t[o];return s||(s=e(i,a),t[o]=s),s(n)}}var UUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vi(this,e),this.logger=ea.create("formatter"),this.options=t,this.formats={number:yu(function(r,n){var i=new Intl.NumberFormat(r,ba({},n));return function(a){return i.format(a)}}),currency:yu(function(r,n){var i=new Intl.NumberFormat(r,ba(ba({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:yu(function(r,n){var i=new Intl.DateTimeFormat(r,ba({},n));return function(a){return i.format(a)}}),relativetime:yu(function(r,n){var i=new Intl.RelativeTimeFormat(r,ba({},n));return function(a){return i.format(a,n.range||"day")}}),list:yu(function(r,n){var i=new Intl.ListFormat(r,ba({},n));return function(a){return i.format(a)}})},this.init(t)}return pi(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=yu(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),l=s.reduce(function(u,c){var d=BUe(c),f=d.formatName,m=d.formatOptions;if(a.formats[f]){var _=u;try{var x=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},v=x.locale||x.lng||o.locale||o.lng||i;_=a.formats[f](u,v,ba(ba(ba({},m),o),x))}catch(g){a.logger.warn(g)}return _}else a.logger.warn("there was no format function for ".concat(f));return u},r);return l}}]),e}();function OF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jUe(e){var t=HUe();return function(){var n=ca(e),i;if(t){var a=ca(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O0(this,i)}}function HUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function KUe(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}var GUe=function(e){hE(r,e);var t=jUe(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return vi(this,r),o=t.call(this),vE&&gs.call(Zo(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=ea.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return pi(r,[{key:"queueLoad",value:function(i,a,o,s){var l=this,u={},c={},d={},f={};return i.forEach(function(m){var _=!0;a.forEach(function(x){var v="".concat(m,"|").concat(x);!o.reload&&l.store.hasResourceBundle(m,x)?l.state[v]=2:l.state[v]<0||(l.state[v]===1?c[v]===void 0&&(c[v]=!0):(l.state[v]=1,_=!1,c[v]===void 0&&(c[v]=!0),u[v]===void 0&&(u[v]=!0),f[x]===void 0&&(f[x]=!0)))}),_||(d[m]=!0)}),(Object.keys(u).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(u),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),l=s[0],u=s[1];a&&this.emit("failedLoading",l,u,a),o&&this.store.addResourceBundle(l,u,o),this.state[i]=a?-1:2;var c={};this.queue.forEach(function(d){bUe(d.loaded,[l],u),KUe(d,i),a&&d.errors.push(a),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(function(f){c[f]||(c[f]={});var m=d.loaded[f];m.length&&m.forEach(function(_){c[f][_]===void 0&&(c[f][_]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(d){return!d.done})}},{key:"read",value:function(i,a,o){var s=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:l,wait:u,callback:c});return}this.readingCalls++;var d=function(x,v){if(s.readingCalls--,s.waitingReads.length>0){var g=s.waitingReads.shift();s.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(x&&v&&l<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,l+1,u*2,c)},u);return}c(x,v)},f=this.backend[o].bind(this.backend);if(f.length===2){try{var m=f(i,a);m&&typeof m.then=="function"?m.then(function(_){return d(null,_)}).catch(d):d(null,m)}catch(_){d(_)}return}return f(i,a,d)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var u=this.queueLoad(i,a,s,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),l=s[0],u=s[1];this.read(l,u,"read",void 0,void 0,function(c,d){c&&a.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),c),!c&&d&&a.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),d),a.loaded(i,c,d)})}},{key:"saveMissing",value:function(i,a,o,s,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var d=IF(IF({},u),{},{isUpdate:l}),f=this.backend.create.bind(this.backend);if(f.length<6)try{var m;f.length===5?m=f(i,a,o,s,d):m=f(i,a,o,s),m&&typeof m.then=="function"?m.then(function(_){return c(null,_)}).catch(c):c(null,m)}catch(_){c(_)}else f(i,a,o,s,c,d)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(gs);function CF(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(ur(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),ur(t[2])==="object"||ur(t[3])==="object"){var n=t[3]||t[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(t,r,n,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function PF(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function LF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(r),!0).forEach(function(n){hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WUe(e){var t=zUe();return function(){var n=ca(e),i;if(t){var a=ca(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O0(this,i)}}function zUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zp(){}function VUe(e){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(function(r){typeof e[r]=="function"&&(e[r]=e[r].bind(e))})}var Cy=function(e){hE(r,e);var t=WUe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(vi(this,r),n=t.call(this),vE&&gs.call(Zo(n)),n.options=PF(i),n.services={},n.logger=ea,n.modules={external:[]},VUe(Zo(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),O0(n,Zo(n));setTimeout(function(){n.init(i,a)},0)}return n}return pi(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=CF();this.options=ji(ji(ji({},s),this.options),PF(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=ji(ji({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function l(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?ea.init(l(this.modules.logger),this.options):ea.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=UUe);var c=new TF(this.options);this.store=new CUe(this.options.resources,this.options);var d=this.services;d.logger=ea,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new MUe(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=l(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new FUe(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new GUe(l(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(g){for(var p=arguments.length,h=new Array(p>1?p-1:0),S=1;S<p;S++)h[S-1]=arguments[S];i.emit.apply(i,[g].concat(h))}),this.modules.languageDetector&&(d.languageDetector=l(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=l(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new bF(this.services,this.options),this.translator.on("*",function(g){for(var p=arguments.length,h=new Array(p>1?p-1:0),S=1;S<p;S++)h[S-1]=arguments[S];i.emit.apply(i,[g].concat(h))}),this.modules.external.forEach(function(g){g.init&&g.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Zp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var m=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];m.forEach(function(g){i[g]=function(){var p;return(p=i.store)[g].apply(p,arguments)}});var _=["addResource","addResources","addResourceBundle","removeResourceBundle"];_.forEach(function(g){i[g]=function(){var p;return(p=i.store)[g].apply(p,arguments),i}});var x=bd(),v=function(){var p=function(S,O){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),x.resolve(O),o(S,O)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return p(null,i.t.bind(i));i.changeLanguage(i.options.lng,p)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),x}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zp,s=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return s();var u=[],c=function(m){if(m){var _=a.services.languageUtils.toResolveHierarchy(m);_.forEach(function(x){u.indexOf(x)<0&&u.push(x)})}};if(l)c(l);else{var d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.forEach(function(f){return c(f)})}this.options.preload&&this.options.preload.forEach(function(f){return c(f)}),this.services.backendConnector.load(u,this.options.ns,function(f){!f&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(f)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=bd();return i||(i=this.languages),a||(a=this.options.ns),o||(o=Zp),this.services.backendConnector.reload(i,a,function(l){s.resolve(),o(l)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&nY.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=bd();this.emit("languageChanging",i);var l=function(f){o.language=f,o.languages=o.services.languageUtils.toResolveHierarchy(f),o.resolvedLanguage=void 0,o.setResolvedLanguage(f)},u=function(f,m){m?(l(m),o.translator.changeLanguage(m),o.isLanguageChangingTo=void 0,o.emit("languageChanged",m),o.logger.log("languageChanged",m)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(f,function(){return o.t.apply(o,arguments)})},c=function(f){!i&&!f&&o.services.languageDetector&&(f=[]);var m=typeof f=="string"?f:o.services.languageUtils.getBestMatchFromCodes(f);m&&(o.language||l(m),o.translator.language||o.translator.changeLanguage(m),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(m)),o.loadResources(m,function(_){u(_,m)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,l=function u(c,d){var f;if(ur(d)!=="object"){for(var m=arguments.length,_=new Array(m>2?m-2:0),x=2;x<m;x++)_[x-2]=arguments[x];f=s.options.overloadTranslationOptionHandler([c,d].concat(_))}else f=ji({},d);f.lng=f.lng||u.lng,f.lngs=f.lngs||u.lngs,f.ns=f.ns||u.ns,f.keyPrefix=f.keyPrefix||o||u.keyPrefix;var v=s.options.keySeparator||".",g;return f.keyPrefix&&Array.isArray(c)?g=c.map(function(p){return"".concat(f.keyPrefix).concat(v).concat(p)}):g=f.keyPrefix?"".concat(f.keyPrefix).concat(v).concat(c):c,s.t(g,f)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=a,l.keyPrefix=o,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(m,_){var x=a.services.backendConnector.state["".concat(m,"|").concat(_)];return x===-1||x===2};if(o.precheck){var d=o.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,i)&&(!l||c(u,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=bd();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){s.resolve(),a&&a(l)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=bd();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],l=i.filter(function(u){return s.indexOf(u)<0});return l.length?(this.options.preload=s.concat(l),this.loadResources(function(u){o.resolve(),a&&a(u)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new TF(CF());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zp,s=ji(ji(ji({},this.options),a),{isClone:!0}),l=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(l.logger=l.logger.clone(a));var u=["store","services","language"];return u.forEach(function(c){l[c]=i[c]}),l.services=ji({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new bF(l.services,l.options),l.translator.on("*",function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),m=1;m<d;m++)f[m-1]=arguments[m];l.emit.apply(l,[c].concat(f))}),l.init(s,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(gs);hi(Cy,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Cy(e,t)});var Lr=Cy.createInstance();Lr.createInstance=Cy.createInstance;Lr.createInstance;Lr.dir;Lr.init;Lr.loadResources;Lr.reloadResources;Lr.use;Lr.changeLanguage;Lr.getFixedT;Lr.t;Lr.exists;Lr.setDefaultNamespace;Lr.hasLoadedNamespace;Lr.loadNamespaces;Lr.loadLanguages;var iY=[],YUe=iY.forEach,XUe=iY.slice;function qUe(e){return YUe.call(XUe.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var DF=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,QUe=function(t,r,n){var i=n||{};i.path=i.path||"/";var a=encodeURIComponent(r),o="".concat(t,"=").concat(a);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!DF.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!DF.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},$F={create:function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),i&&(a.domain=i),document.cookie=QUe(t,encodeURIComponent(r),a)},read:function(t){for(var r="".concat(t,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(r)===0)return a.substring(r.length,a.length)}return null},remove:function(t){this.create(t,"",-1)}},ZUe={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=$F.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&$F.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},JUe={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),a=i.split("&"),o=0;o<a.length;o++){var s=a[o].indexOf("=");if(s>0){var l=a[o].substring(0,s);l===t.lookupQuerystring&&(r=a[o].substring(s+1))}}}return r}},Td=null,kF=function(){if(Td!==null)return Td;try{Td=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Td=!1}return Td},eje={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&kF()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&kF()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},wd=null,NF=function(){if(wd!==null)return wd;try{wd=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{wd=!1}return wd},tje={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&NF()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&NF()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},rje={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},nje={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},ije={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},aje={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};function oje(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var aY=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vi(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return pi(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=qUe(n,this.options||{},oje()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(ZUe),this.addDetector(JUe),this.addDetector(eje),this.addDetector(tje),this.addDetector(rje),this.addDetector(nje),this.addDetector(ije),this.addDetector(aje)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var i=[];return r.forEach(function(a){if(n.detectors[a]){var o=n.detectors[a].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(a){i.detectors[a]&&i.detectors[a].cacheUserLanguage(r,i.options)}))}}]),e}();aY.type="languageDetector";const sje={name:"SkoolTV"},lje={loading_series:"Fetching your favourite series...",loading_movie:"Fetching your favourite movies...",loading:"Loading...",allResults:"That's all we have!",noResults:"We couldn't find anything!",allFailed:"Failed to find media, try again!",headingTitle:"Search results",bookmarks:"Bookmarks",continueWatching:"Continue Watching",title:"What do you want to watch?",placeholder:"What do you want to watch?"},uje={movie:"Movie",series:"Series",stopEditing:"Stop editing",errors:{genericTitle:"Whoops, it broke!",failedMeta:"Failed to load meta",mediaFailed:"We failed to request the media you asked for, check your internet connection and try again.",videoFailed:"We encountered an error while playing the video you requested. If this keeps happening please report the issue to the <0>Discord server</0> or on <1>GitHub</1>."}},cje={seasonAndEpisode:"S{{season}} E{{episode}}"},fje={genericTitle:"Not found",backArrow:"Back to home",media:{title:"Couldn't find that media",description:"We couldn't find the media you requested. Either it's been removed or you tampered with the URL"},provider:{title:"This provider has been disabled",description:"We had issues with the provider or it was too unstable to use, so we had to disable it."},page:{title:"Couldn't find that page",description:"We looked everywhere: under the bins, in the closet, behind the proxy but ultimately couldn't find the page you are looking for."}},dje={movie:"Movie",series:"Series",Search:"Search"},hje={findingBestVideo:"Finding the best video for you",noVideos:"Whoops, couldn't find any videos for you",loading:"Loading...",backToHome:"Back to home",backToHomeShort:"Back",seasonAndEpisode:"S{{season}} E{{episode}}",timeLeft:"{{timeLeft}} left",finishAt:"Finish at {{timeFinished}}",buttons:{episodes:"Episodes",source:"Source",captions:"Captions",download:"Download",settings:"Settings",pictureInPicture:"Picture in Picture",playbackSpeed:"Playback speed"},popouts:{back:"Go back",sources:"Sources",seasons:"Seasons",captions:"Captions",playbackSpeed:"Playback speed",customPlaybackSpeed:"Custom playback speed",captionPreferences:{title:"Customize",delay:"Delay",fontSize:"Size",opacity:"Opacity",color:"Color"},episode:"E{{index}} - {{title}}",noCaptions:"No captions",linkedCaptions:"Linked captions",customCaption:"Custom caption",uploadCustomCaption:"Upload caption",noEmbeds:"No embeds were found for this source",errors:{loadingWentWong:"Something went wrong loading the episodes for {{seasonTitle}}",embedsError:"Something went wrong loading the embeds for this thing that you like"},descriptions:{sources:"What provider do you want to use?",embeds:"Choose which video to view",seasons:"Choose which season you want to watch",episode:"Pick an episode",captions:"Choose a subtitle language",captionPreferences:"Make subtitles look how you want it",playbackSpeed:"Change the playback speed"}},errors:{fatalError:"The video player encounted a fatal error, please report it to the <0>Discord server</0> or on <1>GitHub</1>."}},vje={title:"Settings",language:"Language",captionLanguage:"Caption Language"},pje={newSiteTitle:"New version now released!",newDomain:"https://movie-web.app",newDomainText:"movie-web will soon be moving to a new domain: <0>https://movie-web.app</0>. Make sure to update all your bookmarks as <1>the old website will stop working on {{date}}.</1>",tireless:"We've worked tirelessly on this new update, we hope you will enjoy what we've been cooking up for the past months.",leaveAnnouncement:"Take me there!"},gje={casting:"Casting to device..."},mje={offline:"Check your internet connection"},yje={global:sje,search:lje,media:uje,seasons:cje,notFound:fje,searchBar:dje,videoPlayer:hje,settings:vje,v3:pje,casting:gje,errors:mje},_je={name:"SkoolTV"},Eje={loading_series:"Recherche de votre série préférée...",loading_movie:"Recherche de vos films préférés...",loading:"Chargement...",allResults:"C'est tout ce que nous avons!",noResults:"Nous n'avons rien trouvé!",allFailed:"Le média n'a pas été trouvé, veuillez réessayez!",headingTitle:"Résultats de la recherche",bookmarks:"Favoris",continueWatching:"Continuer le visionnage",title:"Que voulez-vous voir?",placeholder:"Que voulez-vous voir?"},xje={movie:"Films",series:"Séries",stopEditing:"Arrêter l'édition",errors:{genericTitle:"Oups, c'est coupé !",failedMeta:"Impossible de charger les métadonnées",mediaFailed:"Nous n'avons pas réussi à récupérer le média que vous avez demandé. Veuillez vérifier votre connexion Internet et réessayer.",videoFailed:"Nous avons rencontré une erreur lors de la lecture de la vidéo que vous avez demandée. Si cela se reproduit, veuillez signaler le problème au serveur <0>Discord</0> ou sur <1>GitHub</1>."}},Sje={seasonAndEpisode:"S{{season}} E{{episode}}"},bje={genericTitle:"Introuvable",backArrow:"Retour à l'accueil",media:{title:"Impossible de trouver ce média",description:"Nous n'avons pas trouvé le média que vous avez demandé. Soit il a été supprimé, soit vous avez modifié l'URL."},provider:{title:"Ce fournisseur a été désactivé",description:"Nous avons eu des problèmes avec le fournisseur ou il était trop instable pour être utilisé, nous avons donc dû le désactiver."},page:{title:"Impossible de trouver cette page",description:"Nous avons cherché partout : sous les poubelles, dans le placard, derrière le proxy, mais nous n'avons finalement pas trouvé la page que vous cherchez."}},Tje={movie:"Film",series:"Série",Search:"Rechercher"},wje={findingBestVideo:"Recherche de la meilleure vidéo pour vous",noVideos:"Désolé, nous n'avons pas pu trouver de vidéos pour vous",loading:"Chargement...",backToHome:"Retour à la page d'accueil",backToHomeShort:"Retour",seasonAndEpisode:"S{{season}} E{{episode}}",timeLeft:"{{timeLeft}} restant",finishAt:"Terminer à {{timeFinished}}",buttons:{episodes:"Épisodes",source:"Source",captions:"Sous-titres",download:"Télécharger",settings:"Paramètres",pictureInPicture:"Image dans l'image",playbackSpeed:"Vitesse"},popouts:{back:"Retourner",sources:"Sources",seasons:"Saisons",captions:"Sous-titres",playbackSpeed:"Vitesse de lecture",customPlaybackSpeed:"Vitesse de lecture personnalisée",captionPreferences:{title:"Personnaliser",delay:"Délai",fontSize:"Taille",opacity:"Opacité",color:"Couleur"},episode:"E{{index}} - {{title}}",noCaptions:"Pas de sous-titres",linkedCaptions:"Sous-titres liés",customCaption:"Sous-titres personnalisés",uploadCustomCaption:"Télécharger des sous-titres",noEmbeds:"Aucun contenu intégré n'a été trouvé pour cette source",errors:{loadingWentWong:"Un problème est survenu lors du chargement des épisodes pour {{seasonTitle}}",embedsError:"Un problème est survenu lors du chargement des contenus intégrés pour cet élément que vous aimez"},descriptions:{sources:"Quel fournisseur voulez-vous utiliser ?",embeds:"Choisissez quelle vidéo regarder",seasons:"Choisissez la saison que vous voulez regarder",episode:"Sélectionnez un épisode",captions:"Choisissez une langue de sous-titres",captionPreferences:"Personnalisez l'apparence des sous-titres",playbackSpeed:"Changer la vitesse de lecture"}},errors:{fatalError:"Le lecteur vidéo a rencontré une erreur fatale, veuillez la signaler au serveur <0>Discord</0> ou sur <1>GitHub</1>."}},Aje={title:"Paramètres",language:"Language",captionLanguage:"Langue des sous-titres"},Rje={newSiteTitle:"Nouvelle version disponible!",newDomain:"https://movie-web.app",newDomainText:"movie-web déménagera bientôt vers un nouveau domaine : <0>https://movie-web.app</0>. Veillez à mettre à jour tous vos favoris car <1>l'ancien site web cessera de fonctionner le {{date}}.</1>",tireless:"Nous avons travaillé sans relâche sur cette nouvelle mise à jour et nous espérons que vous apprécierez ce que nous avons préparé ces derniers mois.",leaveAnnouncement:"Emmenez-moi là!"},Oje={casting:"Transmission à l'appareil..."},Ije={offline:"Vérifiez votre connexion internet"},Cje={global:_je,search:Eje,media:xje,seasons:Sje,notFound:bje,searchBar:Tje,videoPlayer:wje,settings:Aje,v3:Rje,casting:Oje,errors:Ije},Pje={name:"SkoolTV"},Lje={loading_series:"We zoeken je favoriete series...",loading_movie:"We zoeken je favoriete films...",loading:"Aan het zoeken...",allResults:"Dat is het!",noResults:"We konden helaas niets vinden.",allFailed:"Het is niet gelukt de media te laden, probeer het nog eens.",headingTitle:"Zoekresultaten",bookmarks:"Opgeslagen",continueWatching:"Kijk verder",title:"Wat wil je graag kijken?",placeholder:"Wat wil je graag kijken?"},Dje={movie:"Film",series:"Serie",stopEditing:"Stop met bewerken",errors:{genericTitle:"Oeps, hier ging iets mis!",failedMeta:"Het is niet gelukt de meta-informatie op te halen/",mediaFailed:"Het is niet gelukt deze media op te halen. Controleer of je een internetverbinding hebt en probeer het nog een keer.",videoFailed:"Er ging iets mis tijdens het spelen van deze video. Als dit blijft gebeuren, deel het dan in de <0>Discord server</0> of maak een <1>GitHub issue</1>."}},$je={seasonAndEpisode:"S{{season}} A{{episode}}"},kje={genericTitle:"Pagina niet gevonden",backArrow:"Naar de home-pagina",media:{title:"We konden deze media niet vinden.",description:"We konden dit stukje media niet vinden. Het is mogelijk verwijderd, of jij hebt zelf de URL aangepast."},provider:{title:"Deze bron is niet langer beschikbaar",description:"Deze bron was helaas te instabiel, we hebben hem jammer genoeg uit moeten zetten."},page:{title:"Pagina niet gevonden",description:"We hebben echt alles geprobeerd, zelfs tijdrijzen; echter hebben we deze pagina helaas niet kunnen vinden."}},Nje={movie:"Films",series:"Series",Search:"Zoeken"},Mje={findingBestVideo:"De beste video voor jou aan het zoeken...",noVideos:"Helaas konden we dat filmpje niet vinden",loading:"Aan het laden...",backToHome:"Naar de home-pagina",backToHomeShort:"Terug",seasonAndEpisode:"S{{season}} A{{episode}}",timeLeft:"Nog {{timeLeft}}",finishAt:"Afgelopen om {{timeFinished}}",buttons:{episodes:"Afleveringen",source:"Bron",captions:"Ondertiteling",download:"Download",settings:"Instellingen",pictureInPicture:"Beeld-in-beeld",playbackSpeed:"Afspeelsnelheid"},popouts:{back:"Terug",sources:"Bronnen",seasons:"Seizoenen",captions:"Ondertiteling",playbackSpeed:"Afspeelsnelheid",customPlaybackSpeed:"Andere snelheden",captionPreferences:{title:"Instellingen",delay:"Vertraging",fontSize:"Lettergrootte",opacity:"Doorzichtbaarheid",color:"Kleur"},episode:"A{{index}} - {{title}}",noCaptions:"Geen ondertiteling",linkedCaptions:"Gelinkte ondertiteling",customCaption:"Eigen ondertiteling",uploadCustomCaption:"Ondertiteling uploaden",noEmbeds:"We hebben geen filmpjes kunnen vinden voor deze bron.",errors:{loadingWentWong:"Er ging iets mis tijdens het laden van de afleveringen voor {{seasonTitle}}",embedsError:"Er ging iets mis tijdens het laden van de embeds voor dit dingetje dat je waarschijnlijk leuk vindt"},descriptions:{sources:"Welke bron wil je graag gebruiken",embeds:"Welk filmpje wil je gebruiken?",seasons:"Welk seizoen wil je kijken?",episode:"Kies een aflevering",captions:"Kies een taal voor de ondertiteling",captionPreferences:"Pas de ondertiteling aan aan je voorkeuren",playbackSpeed:"Pas de afspeelsnelhijd aan"}},errors:{fatalError:"De videospeler is helaas ontploft, rapporteer deze fout op de <0>Discord server</0> of op <1>GitHub</1>."}},Fje={title:"Instellingen",language:"Taal",captionLanguage:"Taal voor de Ondertiteling"},Bje={newSiteTitle:"De nieuwe versie is uit!",newDomain:"https://movie-web.app",newDomainText:"We gaan binnenkort verhuizen naar een nieuw domein: <0>https://movie-web.app</0>. Pas je bladwijzers aan naar het nieuwe domein, want </b>het oude domein gaat stoppen met werken op {{date}}.</b>",tireless:"We hebben mega hard gewerkt aan deze nieuwe versie, dus we hopen dat je er van gaat genieten.",leaveAnnouncement:"Let's go!"},Uje={casting:"Aan het casten..."},jje={offline:"Controleer je internetverbinding"},Hje={global:Pje,search:Lje,media:Dje,seasons:$je,notFound:kje,searchBar:Nje,videoPlayer:Mje,settings:Fje,v3:Bje,casting:Uje,errors:jje},Kje={name:"SkoolTV"},Gje={loading_series:"Favori dizileriniz aranıyor...",loading_movie:"Favori filmleriniz aranıyor...",loading:"Yükleniyor...",allResults:"Bu kadarını bulabildik!",noResults:"Hiçbir şey bulamadık!",allFailed:"Medya bulunamadı, tekrar deneyin!",headingTitle:"Arama sonuçları",bookmarks:"Yerimleri",continueWatching:"İzlemeye devam edin",title:"Ne izlemek istersiniz?",placeholder:"Ne izlemek istersiniz?"},Wje={movie:"Film",series:"Dizi",stopEditing:"Düzenlemeyi durdur",errors:{genericTitle:"Hay aksi, bozuldu!",failedMeta:"Önbilgi yüklenemedi",mediaFailed:"İstediğiniz medyaya istek atarken hata oluştu, internet bağlantınızı kontrol edin ve tekrar deneyin.",videoFailed:"İstediğiniz videoyu oynatırken bir sorunla karşılaştık. Bu durum devam ederse lütfen bunu <0>Discord sunucumuza</0> veya <1>GitHub</1> üzerinden bildiriniz."}},zje={seasonAndEpisode:"S{{season}} B{{episode}}"},Vje={genericTitle:"Bulunamadı",backArrow:"Geri",media:{title:"Medya bulunamadı",description:"İstediğiniz medyayı bulamadık. URL'i yanlış girdiniz ya da medya kaldırıldı."},provider:{title:"Bu sağlayıcı devre dışı bırakıldı",description:"Sağlayıcı ile ilgili bir sorun oluştu ya da kullanılacak kadar stabil değildi bu yüzden devre dışı bırakmak zorunda kaldık."},page:{title:"Sayfa bulunamadı",description:"Her yere baktık: bazanın altına, dolabın içine hatta ara sunucuya ama maalesef aradığınız sayfayı bulamadık."}},Yje={movie:"Film",series:"Dizi",Search:"Ara"},Xje={findingBestVideo:"Sizin için en iyi videoyu buluyoruz...",noVideos:"Hay aksi, hiçbir video bulamadık",loading:"Yükleniyor...",backToHome:"Ana sayfaya dön",backToHomeShort:"Geri",seasonAndEpisode:"S{{season}} B{{episode}}",timeLeft:"{{timeLeft}} kaldı",finishAt:"{{timeFinished, datetime}}'de/da bitiyor",buttons:{episodes:"Bölümler",source:"Kaynak",captions:"Altyazılar",download:"İndir",settings:"Ayarlar",pictureInPicture:"Resim içinde Resim",playbackSpeed:"Oynatma Hızı"},popouts:{back:"Geri git",sources:"Kaynaklar",seasons:"Sezonlar",captions:"Altyazılar",playbackSpeed:"Oynatma hızı",customPlaybackSpeed:"Özel oynatma hızı",captionPreferences:{title:"Kişiselleştirme",delay:"Gecikme",fontSize:"Boyut",opacity:"Opaklık",color:"Renk"},episode:"B{{index}} - {{title}}",noCaptions:"Altyazı yok",linkedCaptions:"Kaynak Altyazıları",customCaption:"Özel altyazı",uploadCustomCaption:"Altyazı yükle",noEmbeds:"Bu kaynak için gömülü video bulunamadı",errors:{loadingWentWong:"{{seasonTitle}} için bölümler yüklenirken bir hata oluştu",embedsError:"İstediğiniz şey için gömülü video bulunurken bir hata oluştu"},descriptions:{sources:"Hangi sağlayıcıyı kullanmak istersiniz?",embeds:"Görüntülemek istediğiniz videoyu seçiniz",seasons:"İzlemek istediğiniz sezonu seçiniz",episode:"Bir bölüm seçiniz",captions:"Altyazı dili seçiniz",captionPreferences:"Altyazıları istediğiniz gibi ayarlayın",playbackSpeed:"Oynatma hızınızı değiştirin"}},errors:{fatalError:"Video oynatıcıda bir hata oluştu, lütfen bunu <0>Discord sunucumuzda</0> ya da <1>GitHub</1> üzeriden bildiriniz."}},qje={title:"Ayarlar",language:"Dil",captionLanguage:"Altyazı Dili"},Qje={newSiteTitle:"Yeni sürüm yayınlandı!",newDomain:"https://movie-web.app",newDomainText:"movie-web yakında yeni bir alan adına taşınacak: <0>https://movie-web.app</0>. <1>{{date}} tarihinde eski site çalışmayacağı için</1> yerimlerinizi güncellemeyi unutmayın.",tireless:"Bu yeni güncelleme için gece gündüz çalıştık, umarız aylardan beri hazırladığımız bu güncellemeyi beğenirsiniz.",leaveAnnouncement:"Götür beni!"},Zje={casting:"Cihaza aktarılıyor..."},Jje={offline:"İnternet bağlantınızı kontrol ediniz"},e7e={global:Kje,search:Gje,media:Wje,seasons:zje,notFound:Vje,searchBar:Yje,videoPlayer:Xje,settings:qje,v3:Qje,casting:Zje,errors:Jje},oY={en:{translation:yje},nl:{translation:Hje},tr:{translation:e7e},fr:{translation:Cje}};Lr.use(aY).use(iNe).init({fallbackLng:"en",resources:oY,interpolation:{escapeValue:!1}});const MF=Ey.filter(e=>Object.keys(oY).includes(e.id));function t7e(e){const{captionSettings:t,language:r,setLanguage:n,setCaptionLanguage:i,setCaptionBackgroundColor:a,setCaptionFontSize:o}=bf(),{t:s,i18n:l}=Fe(),u=z.useMemo(()=>Ey.find(f=>f.id===t.language),[t.language]),c=z.useMemo(()=>MF.find(f=>f.id===r),[r]),d=(parseInt(t.style.backgroundColor.substring(7,9),16)/255*100).toFixed(0);return H(JV,{show:e.show,children:ee(eY,{className:"text-white",children:[ee("div",{className:"flex flex-col gap-4",children:[ee("div",{className:"flex flex-row justify-between",children:[H("span",{className:"text-xl font-bold",children:s("settings.title")}),H("div",{onClick:()=>e.onClose(),className:"hover:cursor-pointer",children:H(tt,{icon:ye.X})})]}),ee("div",{className:"flex flex-col gap-10 lg:flex-row",children:[ee("div",{className:"lg:w-1/2",children:[ee("div",{className:"flex flex-col justify-between",children:[H("label",{className:"text-md font-semibold",children:s("settings.language")}),H(vF,{selectedItem:c,setSelectedItem:f=>{l.changeLanguage(f.id),n(f.id)},options:MF})]}),ee("div",{className:"flex flex-col justify-between",children:[H("label",{className:"text-md font-semibold",children:s("settings.captionLanguage")}),H(vF,{selectedItem:u,setSelectedItem:f=>{i(f.id)},options:Ey})]}),ee("div",{className:"flex flex-col justify-between",children:[H(hc,{label:s("videoPlayer.popouts.captionPreferences.fontSize"),min:14,step:1,max:60,value:t.style.fontSize,onChange:f=>o(f.target.valueAsNumber)}),H(hc,{label:s("videoPlayer.popouts.captionPreferences.opacity"),step:1,min:0,max:255,valueDisplay:`${d}%`,value:parseInt(t.style.backgroundColor.substring(7,9),16),onChange:f=>a(f.target.valueAsNumber)}),ee("div",{className:"flex flex-row justify-between",children:[H("label",{className:"font-bold",htmlFor:"color",children:s("videoPlayer.popouts.captionPreferences.color")}),H("div",{className:"flex flex-row gap-2",children:GV.map(f=>H(WV,{color:f}))})]})]}),H("div",{})]}),H("div",{className:"flex w-full flex-col justify-center",children:H("div",{className:"flex aspect-video flex-col justify-end rounded bg-zinc-800",children:H("div",{className:"pointer-events-none flex w-full flex-col items-center transition-[bottom]",children:H(ZV,{scale:.5,text:u.nativeName})})})})]})]}),ee("div",{className:"float-right mt-1 text-sm",children:["v",Wr().APP_VERSION]})]})})}function sY(e){const t=z_(),[r,n]=z.useState(!1);return ee("div",{className:"fixed left-0 right-0 top-0 z-20 min-h-[150px] bg-gradient-to-b from-denim-300 via-denim-300 to-transparent sm:from-transparent",style:{top:`${t}px`},children:[ee("div",{className:"fixed left-0 right-0 flex items-center justify-between py-5 px-7",children:[H("div",{className:`${e.bg?"opacity-100":"opacity-0"} absolute inset-0 block bg-denim-100 transition-opacity duration-300`,children:H("div",{className:"pointer-events-none absolute -bottom-24 h-24 w-full bg-gradient-to-b from-denim-100 to-transparent"})}),ee("div",{className:"relative flex w-full items-center justify-center sm:w-fit",children:[H("div",{className:"mr-auto sm:mr-6",children:H(g0,{to:"/",children:H(wz,{clickable:!0})})}),e.children]}),ee("div",{className:`${e.children?"hidden sm:flex":"flex"} relative flex-row	gap-4`,children:[H(dn,{className:"text-2xl text-white",icon:ye.GEAR,clickable:!0,onClick:()=>{n(!0)}}),H("a",{href:Wr().DISCORD_LINK,target:"_blank",rel:"noreferrer",className:"text-2xl text-white",children:H(dn,{icon:ye.DISCORD,clickable:!0})}),H("a",{href:Wr().GITHUB_LINK,target:"_blank",rel:"noreferrer",className:"text-2xl text-white",children:H(dn,{icon:ye.GITHUB,clickable:!0})})]})]}),H(t7e,{show:r,onClose:()=>n(!1)})]})}function lY(e){const t=e.direction||"right",r=!!e.url,n=!!e.to,i=ee("span",{className:"group mt-1 inline-flex cursor-pointer items-center space-x-1 pr-1 font-bold text-bink-600 hover:text-bink-700 active:scale-95",children:[t==="left"?H("span",{className:"text-xl transition-transform group-hover:-translate-x-1",children:H(tt,{icon:ye.ARROW_LEFT})}):null,H("span",{className:"flex-1",children:e.linkText}),t==="right"?H("span",{className:"text-xl transition-transform group-hover:translate-x-1",children:H(tt,{icon:ye.ARROW_RIGHT})}):null]});return r?H("a",{href:e.url,children:i}):n?H(g0,{to:e.to,children:i}):H("span",{onClick:()=>e.onClick&&e.onClick(),children:i})}function uY(e){const{t}=Fe(),r=q_();return ee("div",{className:"relative flex flex-1 flex-col",children:[H(la,{children:H("title",{children:t("notFound.genericTitle")})}),e.video?H("div",{className:"absolute inset-x-0 top-0 py-6 px-8",children:H(Vl,{onClick:r})}):H(sY,{}),H("div",{className:"flex h-full flex-1 flex-col items-center justify-center p-5 text-center",children:e.children})]})}function r7e(){const{t:e}=Fe();return ee("div",{className:"flex flex-1 flex-col items-center justify-center p-5 text-center",children:[H(dn,{icon:ye.EYE_SLASH,className:"mb-6 text-xl text-bink-600"}),H(m0,{children:e("notFound.media.title")}),H("p",{className:"mt-5 mb-12 max-w-sm",children:e("notFound.media.description")}),H(lY,{to:"/",linkText:e("notFound.backArrow")})]})}function n7e(){const{t:e}=Fe();return ee(uY,{children:[H(dn,{icon:ye.EYE_SLASH,className:"mb-6 text-xl text-bink-600"}),H(m0,{children:e("notFound.page.title")}),H("p",{className:"mt-5 mb-12 max-w-sm",children:e("notFound.page.description")}),H(lY,{to:"/",linkText:e("notFound.backArrow")})]})}function i7e(e){const{t}=Fe();return ee("div",{className:"relative flex flex-1 items-center justify-center",children:[H(la,{children:H("title",{children:t("videoPlayer.loading")})}),H("div",{className:"absolute inset-x-0 top-0 py-6 px-8",children:H(Vl,{onClick:e.onGoBack})}),ee("div",{className:"flex flex-col items-center",children:[H(y0,{className:"mb-4"}),H("p",{className:"mb-8 text-denim-700",children:t("videoPlayer.findingBestVideo")})]})]})}function a7e(e){const{eventLog:t,stream:r,pending:n}=I4e(e.meta,e.selected),{t:i}=Fe();return z.useEffect(()=>{r&&e.onStream(r)},[r,e]),ee("div",{className:"relative flex flex-1 items-center justify-center",children:[H(la,{children:H("title",{children:e.meta.meta.title})}),H("div",{className:"absolute inset-x-0 top-0 py-6 px-8",children:H(Vl,{onClick:e.onGoBack,media:e.meta.meta})}),ee("div",{className:"flex flex-col items-center transition-opacity duration-200",children:[n?ee(Ir,{children:[H(y0,{}),H("p",{className:"mb-8 text-denim-700",children:i("videoPlayer.findingBestVideo")})]}):ee(Ir,{children:[H(dn,{icon:ye.EYE_SLASH,className:"mb-8 text-bink-700"}),H("p",{className:"mb-8 text-denim-700",children:i("videoPlayer.noVideos")})]}),H("div",{className:`flex flex-col items-center transition-opacity duration-200 ${n?"opacity-100":"opacity-0"}`,children:H(pUe,{events:t})})]})]})}function o7e(e){const t=q_(),{updateProgress:r,watchedItem:n}=HMe(e.meta,e.selected.episode),i=z.useRef(n==null?void 0:n.progress);z.useEffect(()=>{i.current=n==null?void 0:n.progress},[e.stream]);const a={meta:e.meta,captions:[]};let o;return e.selected.type===Ae.SERIES&&e.meta.meta.type===Ae.SERIES&&(a.episode={seasonId:e.selected.season,episodeId:e.selected.episode},a.seasons=e.meta.meta.seasons,o=e.meta.meta.seasonData),ee("div",{className:"fixed top-0 left-0 h-[100dvh] w-screen",children:[H(la,{children:H("html",{"data-full":"true"})}),ee(dUe,{includeSafeArea:!0,autoPlay:!0,onGoBack:t,children:[H(U4e,{data:a,seasonData:o,linkedCaptions:e.stream.captions}),H(k8e,{source:e.stream.streamUrl,type:e.stream.type,quality:e.stream.quality,embedId:e.stream.embedId,providerId:e.stream.providerId,captions:e.stream.captions}),H(a3e,{startAt:i.current,onProgress:r}),H(o3e,{onSelect:s=>{var l;return s.seasonId&&s.episodeId&&((l=e.onChangeStream)==null?void 0:l.call(e,s.seasonId,s.episodeId))}})]})]})}function FF(){const e=wW(),t=q_(),r=Sf(),[n,i]=z.useState(null),[a,o]=z.useState(null),[s,l,u]=Tf(async(m,_)=>{const x=YW(m);return x?py(x.type,x.id,_):null}),[c,d]=z.useState(null),f=z.useRef(null);return z.useEffect(()=>{const m=[e.media,e.season,e.episode],_=f.current,x=(_==null?void 0:_[0])===m[0]&&((_==null?void 0:_[1])===m[1]||!(_!=null&&_[1]))&&((_==null?void 0:_[2])===m[2]||!(_!=null&&_[2]));f.current=m,!(x&&_!==null)&&(i(null),d(null),o(null),s(e.media,e.season).then(v=>{if(i(v??null),d(null),v)if(v.meta.type!==Ae.SERIES)o({type:v.meta.type,season:void 0,episode:void 0});else{const g=e.season??v.meta.seasonData.id,p=e.episode??v.meta.seasonData.episodes[0].id;o({type:Ae.SERIES,season:g,episode:p}),(g!==e.season||p!==e.episode)&&r.replace(`/media/${encodeURIComponent(e.media)}/${encodeURIComponent(g)}/${encodeURIComponent(p)}`)}else o(null)}))},[s,r,e]),l?H(i7e,{onGoBack:t}):u?H(hUe,{}):!n||!a?H(uY,{video:!0,children:H(r7e,{})}):c?H(o7e,{meta:n,stream:c,selected:a,onChangeStream:(m,_)=>{r.replace(`/media/${encodeURIComponent(e.media)}/${encodeURIComponent(m)}/${encodeURIComponent(_)}`)}}):H(a7e,{meta:n,selected:a,onGoBack:t,onStream:d})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const s7e=4,BF=0,UF=1,l7e=2;function Rf(e){let t=e.length;for(;--t>=0;)e[t]=0}const u7e=0,cY=1,c7e=2,f7e=3,d7e=258,LC=29,I0=256,hv=I0+1+LC,vc=30,DC=19,fY=2*hv+1,ll=15,jb=16,h7e=7,$C=256,dY=16,hY=17,vY=18,oA=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tm=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),v7e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),pY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p7e=512,Da=new Array((hv+2)*2);Rf(Da);const Sh=new Array(vc*2);Rf(Sh);const vv=new Array(p7e);Rf(vv);const pv=new Array(d7e-f7e+1);Rf(pv);const kC=new Array(LC);Rf(kC);const Py=new Array(vc);Rf(Py);function Hb(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let gY,mY,yY;function Kb(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const _Y=e=>e<256?vv[e]:vv[256+(e>>>7)],gv=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},un=(e,t,r)=>{e.bi_valid>jb-r?(e.bi_buf|=t<<e.bi_valid&65535,gv(e,e.bi_buf),e.bi_buf=t>>jb-e.bi_valid,e.bi_valid+=r-jb):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Vi=(e,t,r)=>{un(e,r[t*2],r[t*2+1])},EY=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},g7e=e=>{e.bi_valid===16?(gv(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},m7e=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,c,d,f,m,_,x=0;for(f=0;f<=ll;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<fY;u++)c=e.heap[u],f=r[r[c*2+1]*2+1]+1,f>l&&(f=l,x++),r[c*2+1]=f,!(c>n)&&(e.bl_count[f]++,m=0,c>=s&&(m=o[c-s]),_=r[c*2],e.opt_len+=_*(f+m),a&&(e.static_len+=_*(i[c*2+1]+m)));if(x!==0){do{for(f=l-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,x-=2}while(x>0);for(f=l;f!==0;f--)for(c=e.bl_count[f];c!==0;)d=e.heap[--u],!(d>n)&&(r[d*2+1]!==f&&(e.opt_len+=(f-r[d*2+1])*r[d*2],r[d*2+1]=f),c--)}},xY=(e,t,r)=>{const n=new Array(ll+1);let i=0,a,o;for(a=1;a<=ll;a++)i=i+r[a-1]<<1,n[a]=i;for(o=0;o<=t;o++){let s=e[o*2+1];s!==0&&(e[o*2]=EY(n[s]++,s))}},y7e=()=>{let e,t,r,n,i;const a=new Array(ll+1);for(r=0,n=0;n<LC-1;n++)for(kC[n]=r,e=0;e<1<<oA[n];e++)pv[r++]=n;for(pv[r-1]=n,i=0,n=0;n<16;n++)for(Py[n]=i,e=0;e<1<<tm[n];e++)vv[i++]=n;for(i>>=7;n<vc;n++)for(Py[n]=i<<7,e=0;e<1<<tm[n]-7;e++)vv[256+i++]=n;for(t=0;t<=ll;t++)a[t]=0;for(e=0;e<=143;)Da[e*2+1]=8,e++,a[8]++;for(;e<=255;)Da[e*2+1]=9,e++,a[9]++;for(;e<=279;)Da[e*2+1]=7,e++,a[7]++;for(;e<=287;)Da[e*2+1]=8,e++,a[8]++;for(xY(Da,hv+1,a),e=0;e<vc;e++)Sh[e*2+1]=5,Sh[e*2]=EY(e,5);gY=new Hb(Da,oA,I0+1,hv,ll),mY=new Hb(Sh,tm,0,vc,ll),yY=new Hb(new Array(0),v7e,0,DC,h7e)},SY=e=>{let t;for(t=0;t<hv;t++)e.dyn_ltree[t*2]=0;for(t=0;t<vc;t++)e.dyn_dtree[t*2]=0;for(t=0;t<DC;t++)e.bl_tree[t*2]=0;e.dyn_ltree[$C*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bY=e=>{e.bi_valid>8?gv(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},jF=(e,t,r,n)=>{const i=t*2,a=r*2;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},Gb=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&jF(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!jF(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},HF=(e,t,r)=>{let n,i,a=0,o,s;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],n===0?Vi(e,i,t):(o=pv[i],Vi(e,o+I0+1,t),s=oA[o],s!==0&&(i-=kC[o],un(e,i,s)),n--,o=_Y(n),Vi(e,o,r),s=tm[o],s!==0&&(n-=Py[o],un(e,n,s)));while(a<e.sym_next);Vi(e,$C,t)},sA=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,l=-1,u;for(e.heap_len=0,e.heap_max=fY,o=0;o<a;o++)r[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)Gb(e,r,o);u=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Gb(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,r[u*2]=r[o*2]+r[s*2],e.depth[u]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,r[o*2+1]=r[s*2+1]=u,e.heap[1]=u++,Gb(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],m7e(e,t),xY(r,l,e.bl_count)},KF=(e,t,r)=>{let n,i=-1,a,o=t[0*2+1],s=0,l=7,u=4;for(o===0&&(l=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)a=o,o=t[(n+1)*2+1],!(++s<l&&a===o)&&(s<u?e.bl_tree[a*2]+=s:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[dY*2]++):s<=10?e.bl_tree[hY*2]++:e.bl_tree[vY*2]++,s=0,i=a,o===0?(l=138,u=3):a===o?(l=6,u=3):(l=7,u=4))},GF=(e,t,r)=>{let n,i=-1,a,o=t[0*2+1],s=0,l=7,u=4;for(o===0&&(l=138,u=3),n=0;n<=r;n++)if(a=o,o=t[(n+1)*2+1],!(++s<l&&a===o)){if(s<u)do Vi(e,a,e.bl_tree);while(--s!==0);else a!==0?(a!==i&&(Vi(e,a,e.bl_tree),s--),Vi(e,dY,e.bl_tree),un(e,s-3,2)):s<=10?(Vi(e,hY,e.bl_tree),un(e,s-3,3)):(Vi(e,vY,e.bl_tree),un(e,s-11,7));s=0,i=a,o===0?(l=138,u=3):a===o?(l=6,u=3):(l=7,u=4)}},_7e=e=>{let t;for(KF(e,e.dyn_ltree,e.l_desc.max_code),KF(e,e.dyn_dtree,e.d_desc.max_code),sA(e,e.bl_desc),t=DC-1;t>=3&&e.bl_tree[pY[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},E7e=(e,t,r,n)=>{let i;for(un(e,t-257,5),un(e,r-1,5),un(e,n-4,4),i=0;i<n;i++)un(e,e.bl_tree[pY[i]*2+1],3);GF(e,e.dyn_ltree,t-1),GF(e,e.dyn_dtree,r-1)},x7e=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return BF;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return UF;for(r=32;r<I0;r++)if(e.dyn_ltree[r*2]!==0)return UF;return BF};let WF=!1;const S7e=e=>{WF||(y7e(),WF=!0),e.l_desc=new Kb(e.dyn_ltree,gY),e.d_desc=new Kb(e.dyn_dtree,mY),e.bl_desc=new Kb(e.bl_tree,yY),e.bi_buf=0,e.bi_valid=0,SY(e)},TY=(e,t,r,n)=>{un(e,(u7e<<1)+(n?1:0),3),bY(e),gv(e,r),gv(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},b7e=e=>{un(e,cY<<1,3),Vi(e,$C,Da),g7e(e)},T7e=(e,t,r,n)=>{let i,a,o=0;e.level>0?(e.strm.data_type===l7e&&(e.strm.data_type=x7e(e)),sA(e,e.l_desc),sA(e,e.d_desc),o=_7e(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&t!==-1?TY(e,t,r,n):e.strategy===s7e||a===i?(un(e,(cY<<1)+(n?1:0),3),HF(e,Da,Sh)):(un(e,(c7e<<1)+(n?1:0),3),E7e(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),HF(e,e.dyn_ltree,e.dyn_dtree)),SY(e),n&&bY(e)},w7e=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(pv[r]+I0+1)*2]++,e.dyn_dtree[_Y(t)*2]++),e.sym_next===e.sym_end);var A7e=S7e,R7e=TY,O7e=T7e,I7e=w7e,C7e=b7e,P7e={_tr_init:A7e,_tr_stored_block:R7e,_tr_flush_block:O7e,_tr_tally:I7e,_tr_align:C7e};const L7e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var mv=L7e;const D7e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},$7e=new Uint32Array(D7e()),k7e=(e,t,r,n)=>{const i=$7e,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var qt=k7e,Ol={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:N7e,_tr_stored_block:lA,_tr_flush_block:M7e,_tr_tally:Jo,_tr_align:F7e}=P7e,{Z_NO_FLUSH:es,Z_PARTIAL_FLUSH:B7e,Z_FULL_FLUSH:U7e,Z_FINISH:Zn,Z_BLOCK:zF,Z_OK:ar,Z_STREAM_END:VF,Z_STREAM_ERROR:na,Z_DATA_ERROR:j7e,Z_BUF_ERROR:Wb,Z_DEFAULT_COMPRESSION:H7e,Z_FILTERED:K7e,Z_HUFFMAN_ONLY:Jp,Z_RLE:G7e,Z_FIXED:W7e,Z_DEFAULT_STRATEGY:z7e,Z_UNKNOWN:V7e,Z_DEFLATED:pE}=Xl,Y7e=9,X7e=15,q7e=8,Q7e=29,Z7e=256,uA=Z7e+1+Q7e,J7e=30,e9e=19,t9e=2*uA+1,r9e=15,je=3,Bo=258,ia=Bo+je+1,n9e=32,jc=42,NC=57,cA=69,fA=73,dA=91,hA=103,ul=113,Wd=666,Hr=1,Of=2,Il=3,If=4,i9e=3,cl=(e,t)=>(e.msg=Ol[t],t),YF=e=>e*2-(e>4?9:0),Oo=e=>{let t=e.length;for(;--t>=0;)e[t]=0},a9e=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let o9e=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,ts=o9e;const En=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},On=(e,t)=>{M7e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,En(e.strm)},et=(e,t)=>{e.pending_buf[e.pending++]=t},Ad=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},vA=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=mv(e.adler,t,i,r):e.state.wrap===2&&(e.adler=qt(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},wY=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,a,o=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-ia?e.strstart-(e.w_size-ia):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+Bo;let m=u[n+o-1],_=u[n+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(u[i+o]!==_||u[i+o-1]!==m||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<f);if(a=Bo-(f-n),n=f-Bo,a>o){if(e.match_start=t,o=a,a>=s)break;m=u[n+o-1],_=u[n+o]}}while((t=d[t&c])>l&&--r!==0);return o<=e.lookahead?o:e.lookahead},Hc=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ia)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),a9e(e),n+=t),e.strm.avail_in===0)break;if(r=vA(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=je)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ts(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ts(e,e.ins_h,e.window[i+je-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<je)););}while(e.lookahead<ia&&e.strm.avail_in!==0)},AY=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,o=0,s=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&t!==Zn||t===es||n!==i+e.strm.avail_in)))break;o=t===Zn&&n===i+e.strm.avail_in?1:0,lA(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,En(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(vA(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?If:t!==es&&t!==Zn&&e.strm.avail_in===0&&e.strstart===e.block_start?Of:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(vA(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=r||(i||t===Zn)&&t!==es&&e.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,o=t===Zn&&e.strm.avail_in===0&&n===i?1:0,lA(e,e.block_start,n,o),e.block_start+=n,En(e.strm)),o?Il:Hr)},zb=(e,t)=>{let r,n;for(;;){if(e.lookahead<ia){if(Hc(e),e.lookahead<ia&&t===es)return Hr;if(e.lookahead===0)break}if(r=0,e.lookahead>=je&&(e.ins_h=ts(e,e.ins_h,e.window[e.strstart+je-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-ia&&(e.match_length=wY(e,r)),e.match_length>=je)if(n=Jo(e,e.strstart-e.match_start,e.match_length-je),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=je){e.match_length--;do e.strstart++,e.ins_h=ts(e,e.ins_h,e.window[e.strstart+je-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ts(e,e.ins_h,e.window[e.strstart+1]);else n=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(On(e,!1),e.strm.avail_out===0))return Hr}return e.insert=e.strstart<je-1?e.strstart:je-1,t===Zn?(On(e,!0),e.strm.avail_out===0?Il:If):e.sym_next&&(On(e,!1),e.strm.avail_out===0)?Hr:Of},_u=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<ia){if(Hc(e),e.lookahead<ia&&t===es)return Hr;if(e.lookahead===0)break}if(r=0,e.lookahead>=je&&(e.ins_h=ts(e,e.ins_h,e.window[e.strstart+je-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=je-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ia&&(e.match_length=wY(e,r),e.match_length<=5&&(e.strategy===K7e||e.match_length===je&&e.strstart-e.match_start>4096)&&(e.match_length=je-1)),e.prev_length>=je&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-je,n=Jo(e,e.strstart-1-e.prev_match,e.prev_length-je),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ts(e,e.ins_h,e.window[e.strstart+je-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=je-1,e.strstart++,n&&(On(e,!1),e.strm.avail_out===0))return Hr}else if(e.match_available){if(n=Jo(e,0,e.window[e.strstart-1]),n&&On(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Hr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Jo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<je-1?e.strstart:je-1,t===Zn?(On(e,!0),e.strm.avail_out===0?Il:If):e.sym_next&&(On(e,!1),e.strm.avail_out===0)?Hr:Of},s9e=(e,t)=>{let r,n,i,a;const o=e.window;for(;;){if(e.lookahead<=Bo){if(Hc(e),e.lookahead<=Bo&&t===es)return Hr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=je&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=e.strstart+Bo;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);e.match_length=Bo-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=je?(r=Jo(e,1,e.match_length-je),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(On(e,!1),e.strm.avail_out===0))return Hr}return e.insert=0,t===Zn?(On(e,!0),e.strm.avail_out===0?Il:If):e.sym_next&&(On(e,!1),e.strm.avail_out===0)?Hr:Of},l9e=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Hc(e),e.lookahead===0)){if(t===es)return Hr;break}if(e.match_length=0,r=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(On(e,!1),e.strm.avail_out===0))return Hr}return e.insert=0,t===Zn?(On(e,!0),e.strm.avail_out===0?Il:If):e.sym_next&&(On(e,!1),e.strm.avail_out===0)?Hr:Of};function Hi(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const zd=[new Hi(0,0,0,0,AY),new Hi(4,4,8,4,zb),new Hi(4,5,16,8,zb),new Hi(4,6,32,32,zb),new Hi(4,4,16,16,_u),new Hi(8,16,32,32,_u),new Hi(8,16,128,128,_u),new Hi(8,32,128,256,_u),new Hi(32,128,258,1024,_u),new Hi(32,258,258,4096,_u)],u9e=e=>{e.window_size=2*e.w_size,Oo(e.head),e.max_lazy_match=zd[e.level].max_lazy,e.good_match=zd[e.level].good_length,e.nice_match=zd[e.level].nice_length,e.max_chain_length=zd[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=je-1,e.match_available=0,e.ins_h=0};function c9e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(t9e*2),this.dyn_dtree=new Uint16Array((2*J7e+1)*2),this.bl_tree=new Uint16Array((2*e9e+1)*2),Oo(this.dyn_ltree),Oo(this.dyn_dtree),Oo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(r9e+1),this.heap=new Uint16Array(2*uA+1),Oo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*uA+1),Oo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const C0=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==jc&&t.status!==NC&&t.status!==cA&&t.status!==fA&&t.status!==dA&&t.status!==hA&&t.status!==ul&&t.status!==Wd?1:0},RY=e=>{if(C0(e))return cl(e,na);e.total_in=e.total_out=0,e.data_type=V7e;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?NC:t.wrap?jc:ul,e.adler=t.wrap===2?0:1,t.last_flush=-2,N7e(t),ar},OY=e=>{const t=RY(e);return t===ar&&u9e(e.state),t},f9e=(e,t)=>C0(e)||e.state.wrap!==2?na:(e.state.gzhead=t,ar),IY=(e,t,r,n,i,a)=>{if(!e)return na;let o=1;if(t===H7e&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>Y7e||r!==pE||n<8||n>15||t<0||t>9||a<0||a>W7e||n===8&&o!==1)return cl(e,na);n===8&&(n=9);const s=new c9e;return e.state=s,s.strm=e,s.status=jc,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+je-1)/je),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=a,s.method=r,OY(e)},d9e=(e,t)=>IY(e,t,pE,X7e,q7e,z7e),h9e=(e,t)=>{if(C0(e)||t>zF||t<0)return e?cl(e,na):na;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Wd&&t!==Zn)return cl(e,e.avail_out===0?Wb:na);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(En(e),e.avail_out===0)return r.last_flush=-1,ar}else if(e.avail_in===0&&YF(t)<=YF(n)&&t!==Zn)return cl(e,Wb);if(r.status===Wd&&e.avail_in!==0)return cl(e,Wb);if(r.status===jc&&r.wrap===0&&(r.status=ul),r.status===jc){let i=pE+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=Jp||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=n9e),i+=31-i%31,Ad(r,i),r.strstart!==0&&(Ad(r,e.adler>>>16),Ad(r,e.adler&65535)),e.adler=1,r.status=ul,En(e),r.pending!==0)return r.last_flush=-1,ar}if(r.status===NC){if(e.adler=0,et(r,31),et(r,139),et(r,8),r.gzhead)et(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),et(r,r.gzhead.time&255),et(r,r.gzhead.time>>8&255),et(r,r.gzhead.time>>16&255),et(r,r.gzhead.time>>24&255),et(r,r.level===9?2:r.strategy>=Jp||r.level<2?4:0),et(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(et(r,r.gzhead.extra.length&255),et(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=qt(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=cA;else if(et(r,0),et(r,0),et(r,0),et(r,0),et(r,0),et(r,r.level===9?2:r.strategy>=Jp||r.level<2?4:0),et(r,i9e),r.status=ul,En(e),r.pending!==0)return r.last_flush=-1,ar}if(r.status===cA){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=qt(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=s,En(e),r.pending!==0)return r.last_flush=-1,ar;i=0,a-=s}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(e.adler=qt(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=fA}if(r.status===fA){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=qt(e.adler,r.pending_buf,r.pending-i,i)),En(e),r.pending!==0)return r.last_flush=-1,ar;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,et(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=qt(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=dA}if(r.status===dA){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=qt(e.adler,r.pending_buf,r.pending-i,i)),En(e),r.pending!==0)return r.last_flush=-1,ar;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,et(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=qt(e.adler,r.pending_buf,r.pending-i,i))}r.status=hA}if(r.status===hA){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(En(e),r.pending!==0))return r.last_flush=-1,ar;et(r,e.adler&255),et(r,e.adler>>8&255),e.adler=0}if(r.status=ul,En(e),r.pending!==0)return r.last_flush=-1,ar}if(e.avail_in!==0||r.lookahead!==0||t!==es&&r.status!==Wd){let i=r.level===0?AY(r,t):r.strategy===Jp?l9e(r,t):r.strategy===G7e?s9e(r,t):zd[r.level].func(r,t);if((i===Il||i===If)&&(r.status=Wd),i===Hr||i===Il)return e.avail_out===0&&(r.last_flush=-1),ar;if(i===Of&&(t===B7e?F7e(r):t!==zF&&(lA(r,0,0,!1),t===U7e&&(Oo(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),En(e),e.avail_out===0))return r.last_flush=-1,ar}return t!==Zn?ar:r.wrap<=0?VF:(r.wrap===2?(et(r,e.adler&255),et(r,e.adler>>8&255),et(r,e.adler>>16&255),et(r,e.adler>>24&255),et(r,e.total_in&255),et(r,e.total_in>>8&255),et(r,e.total_in>>16&255),et(r,e.total_in>>24&255)):(Ad(r,e.adler>>>16),Ad(r,e.adler&65535)),En(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ar:VF)},v9e=e=>{if(C0(e))return na;const t=e.state.status;return e.state=null,t===ul?cl(e,j7e):ar},p9e=(e,t)=>{let r=t.length;if(C0(e))return na;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==jc||n.lookahead)return na;if(i===1&&(e.adler=mv(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Oo(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(r-n.w_size,r),0),t=l,r=n.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Hc(n);n.lookahead>=je;){let l=n.strstart,u=n.lookahead-(je-1);do n.ins_h=ts(n,n.ins_h,n.window[l+je-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=je-1,Hc(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=je-1,n.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,n.wrap=i,ar};var g9e=d9e,m9e=IY,y9e=OY,_9e=RY,E9e=f9e,x9e=h9e,S9e=v9e,b9e=p9e,T9e="pako deflate (from Nodeca project)",bh={deflateInit:g9e,deflateInit2:m9e,deflateReset:y9e,deflateResetKeep:_9e,deflateSetHeader:E9e,deflate:x9e,deflateEnd:S9e,deflateSetDictionary:b9e,deflateInfo:T9e};const w9e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var A9e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)w9e(r,n)&&(e[n]=r[n])}}return e},R9e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},gE={assign:A9e,flattenChunks:R9e};let CY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{CY=!1}const yv=new Uint8Array(256);for(let e=0;e<256;e++)yv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;yv[254]=yv[254]=1;var O9e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const I9e=(e,t)=>{if(t<65534&&e.subarray&&CY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var C9e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let s=yv[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|e[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return I9e(a,i)},P9e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+yv[e[r]]>t?r:t},_v={string2buf:O9e,buf2string:C9e,utf8border:P9e};function L9e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PY=L9e;const LY=Object.prototype.toString,{Z_NO_FLUSH:D9e,Z_SYNC_FLUSH:$9e,Z_FULL_FLUSH:k9e,Z_FINISH:N9e,Z_OK:Ly,Z_STREAM_END:M9e,Z_DEFAULT_COMPRESSION:F9e,Z_DEFAULT_STRATEGY:B9e,Z_DEFLATED:U9e}=Xl;function P0(e){this.options=gE.assign({level:F9e,method:U9e,chunkSize:16384,windowBits:15,memLevel:8,strategy:B9e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PY,this.strm.avail_out=0;let r=bh.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Ly)throw new Error(Ol[r]);if(t.header&&bh.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=_v.string2buf(t.dictionary):LY.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=bh.deflateSetDictionary(this.strm,n),r!==Ly)throw new Error(Ol[r]);this._dict_set=!0}}P0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?N9e:D9e,typeof e=="string"?r.input=_v.string2buf(e):LY.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===$9e||a===k9e)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=bh.deflate(r,a),i===M9e)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=bh.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Ly;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};P0.prototype.onData=function(e){this.chunks.push(e)};P0.prototype.onEnd=function(e){e===Ly&&(this.result=gE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function MC(e,t){const r=new P0(t);if(r.push(e,!0),r.err)throw r.msg||Ol[r.err];return r.result}function j9e(e,t){return t=t||{},t.raw=!0,MC(e,t)}function H9e(e,t){return t=t||{},t.gzip=!0,MC(e,t)}var K9e=P0,G9e=MC,W9e=j9e,z9e=H9e,V9e=Xl,Y9e={Deflate:K9e,deflate:G9e,deflateRaw:W9e,gzip:z9e,constants:V9e};const eg=16209,X9e=16191;var q9e=function(t,r){let n,i,a,o,s,l,u,c,d,f,m,_,x,v,g,p,h,S,O,y,E,b,T,A;const P=t.state;n=t.next_in,T=t.input,i=n+(t.avail_in-5),a=t.next_out,A=t.output,o=a-(r-t.avail_out),s=a+(t.avail_out-257),l=P.dmax,u=P.wsize,c=P.whave,d=P.wnext,f=P.window,m=P.hold,_=P.bits,x=P.lencode,v=P.distcode,g=(1<<P.lenbits)-1,p=(1<<P.distbits)-1;e:do{_<15&&(m+=T[n++]<<_,_+=8,m+=T[n++]<<_,_+=8),h=x[m&g];t:for(;;){if(S=h>>>24,m>>>=S,_-=S,S=h>>>16&255,S===0)A[a++]=h&65535;else if(S&16){O=h&65535,S&=15,S&&(_<S&&(m+=T[n++]<<_,_+=8),O+=m&(1<<S)-1,m>>>=S,_-=S),_<15&&(m+=T[n++]<<_,_+=8,m+=T[n++]<<_,_+=8),h=v[m&p];r:for(;;){if(S=h>>>24,m>>>=S,_-=S,S=h>>>16&255,S&16){if(y=h&65535,S&=15,_<S&&(m+=T[n++]<<_,_+=8,_<S&&(m+=T[n++]<<_,_+=8)),y+=m&(1<<S)-1,y>l){t.msg="invalid distance too far back",P.mode=eg;break e}if(m>>>=S,_-=S,S=a-o,y>S){if(S=y-S,S>c&&P.sane){t.msg="invalid distance too far back",P.mode=eg;break e}if(E=0,b=f,d===0){if(E+=u-S,S<O){O-=S;do A[a++]=f[E++];while(--S);E=a-y,b=A}}else if(d<S){if(E+=u+d-S,S-=d,S<O){O-=S;do A[a++]=f[E++];while(--S);if(E=0,d<O){S=d,O-=S;do A[a++]=f[E++];while(--S);E=a-y,b=A}}}else if(E+=d-S,S<O){O-=S;do A[a++]=f[E++];while(--S);E=a-y,b=A}for(;O>2;)A[a++]=b[E++],A[a++]=b[E++],A[a++]=b[E++],O-=3;O&&(A[a++]=b[E++],O>1&&(A[a++]=b[E++]))}else{E=a-y;do A[a++]=A[E++],A[a++]=A[E++],A[a++]=A[E++],O-=3;while(O>2);O&&(A[a++]=A[E++],O>1&&(A[a++]=A[E++]))}}else if(S&64){t.msg="invalid distance code",P.mode=eg;break e}else{h=v[(h&65535)+(m&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){P.mode=X9e;break e}else{t.msg="invalid literal/length code",P.mode=eg;break e}else{h=x[(h&65535)+(m&(1<<S)-1)];continue t}break}}while(n<i&&a<s);O=_>>3,n-=O,_-=O<<3,m&=(1<<_)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<s?257+(s-a):257-(a-s),P.hold=m,P.bits=_};const Eu=15,XF=852,qF=592,QF=0,Vb=1,ZF=2,Q9e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Z9e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),J9e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eHe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tHe=(e,t,r,n,i,a,o,s)=>{const l=s.bits;let u=0,c=0,d=0,f=0,m=0,_=0,x=0,v=0,g=0,p=0,h,S,O,y,E,b=null,T;const A=new Uint16Array(Eu+1),P=new Uint16Array(Eu+1);let C=null,D,F,R;for(u=0;u<=Eu;u++)A[u]=0;for(c=0;c<n;c++)A[t[r+c]]++;for(m=l,f=Eu;f>=1&&A[f]===0;f--);if(m>f&&(m=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(d=1;d<f&&A[d]===0;d++);for(m<d&&(m=d),v=1,u=1;u<=Eu;u++)if(v<<=1,v-=A[u],v<0)return-1;if(v>0&&(e===QF||f!==1))return-1;for(P[1]=0,u=1;u<Eu;u++)P[u+1]=P[u]+A[u];for(c=0;c<n;c++)t[r+c]!==0&&(o[P[t[r+c]]++]=c);if(e===QF?(b=C=o,T=20):e===Vb?(b=Q9e,C=Z9e,T=257):(b=J9e,C=eHe,T=0),p=0,c=0,u=d,E=a,_=m,x=0,O=-1,g=1<<m,y=g-1,e===Vb&&g>XF||e===ZF&&g>qF)return 1;for(;;){D=u-x,o[c]+1<T?(F=0,R=o[c]):o[c]>=T?(F=C[o[c]-T],R=b[o[c]-T]):(F=32+64,R=0),h=1<<u-x,S=1<<_,d=S;do S-=h,i[E+(p>>x)+S]=D<<24|F<<16|R|0;while(S!==0);for(h=1<<u-1;p&h;)h>>=1;if(h!==0?(p&=h-1,p+=h):p=0,c++,--A[u]===0){if(u===f)break;u=t[r+o[c]]}if(u>m&&(p&y)!==O){for(x===0&&(x=m),E+=d,_=u-x,v=1<<_;_+x<f&&(v-=A[_+x],!(v<=0));)_++,v<<=1;if(g+=1<<_,e===Vb&&g>XF||e===ZF&&g>qF)return 1;O=p&y,i[O]=m<<24|_<<16|E-a|0}}return p!==0&&(i[E+p]=u-x<<24|64<<16|0),s.bits=m,0};var Th=tHe;const rHe=0,DY=1,$Y=2,{Z_FINISH:JF,Z_BLOCK:nHe,Z_TREES:tg,Z_OK:Cl,Z_STREAM_END:iHe,Z_NEED_DICT:aHe,Z_STREAM_ERROR:ai,Z_DATA_ERROR:kY,Z_MEM_ERROR:NY,Z_BUF_ERROR:oHe,Z_DEFLATED:e6}=Xl,mE=16180,t6=16181,r6=16182,n6=16183,i6=16184,a6=16185,o6=16186,s6=16187,l6=16188,u6=16189,Dy=16190,Ta=16191,Yb=16192,c6=16193,Xb=16194,f6=16195,d6=16196,h6=16197,v6=16198,rg=16199,ng=16200,p6=16201,g6=16202,m6=16203,y6=16204,_6=16205,qb=16206,E6=16207,x6=16208,_t=16209,MY=16210,FY=16211,sHe=852,lHe=592,uHe=15,cHe=uHe,S6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function fHe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ql=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<mE||t.mode>FY?1:0},BY=e=>{if(ql(e))return ai;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=mE,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(sHe),t.distcode=t.distdyn=new Int32Array(lHe),t.sane=1,t.back=-1,Cl},UY=e=>{if(ql(e))return ai;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,BY(e)},jY=(e,t)=>{let r;if(ql(e))return ai;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ai:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,UY(e))},HY=(e,t)=>{if(!e)return ai;const r=new fHe;e.state=r,r.strm=e,r.window=null,r.mode=mE;const n=jY(e,t);return n!==Cl&&(e.state=null),n},dHe=e=>HY(e,cHe);let b6=!0,Qb,Zb;const hHe=e=>{if(b6){Qb=new Int32Array(512),Zb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Th(DY,e.lens,0,288,Qb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Th($Y,e.lens,0,32,Zb,0,e.work,{bits:5}),b6=!1}e.lencode=Qb,e.lenbits=9,e.distcode=Zb,e.distbits=5},KY=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},vHe=(e,t)=>{let r,n,i,a,o,s,l,u,c,d,f,m,_,x,v=0,g,p,h,S,O,y,E,b;const T=new Uint8Array(4);let A,P;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ql(e)||!e.output||!e.input&&e.avail_in!==0)return ai;r=e.state,r.mode===Ta&&(r.mode=Yb),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,c=r.bits,d=s,f=l,b=Cl;e:for(;;)switch(r.mode){case mE:if(r.wrap===0){r.mode=Yb;break}for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=qt(r.check,T,2,0),u=0,c=0,r.mode=t6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=_t;break}if((u&15)!==e6){e.msg="unknown compression method",r.mode=_t;break}if(u>>>=4,c-=4,E=(u&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){e.msg="invalid window size",r.mode=_t;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?u6:Ta,u=0,c=0;break;case t6:for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==e6){e.msg="unknown compression method",r.mode=_t;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=_t;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=qt(r.check,T,2,0)),u=0,c=0,r.mode=r6;case r6:for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=qt(r.check,T,4,0)),u=0,c=0,r.mode=n6;case n6:for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=qt(r.check,T,2,0)),u=0,c=0,r.mode=i6;case i6:if(r.flags&1024){for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=qt(r.check,T,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=a6;case a6:if(r.flags&1024&&(m=r.length,m>s&&(m=s),m&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+m),E)),r.flags&512&&r.wrap&4&&(r.check=qt(r.check,n,m,a)),s-=m,a+=m,r.length-=m),r.length))break e;r.length=0,r.mode=o6;case o6:if(r.flags&2048){if(s===0)break e;m=0;do E=n[a+m++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&m<s);if(r.flags&512&&r.wrap&4&&(r.check=qt(r.check,n,m,a)),s-=m,a+=m,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=s6;case s6:if(r.flags&4096){if(s===0)break e;m=0;do E=n[a+m++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&m<s);if(r.flags&512&&r.wrap&4&&(r.check=qt(r.check,n,m,a)),s-=m,a+=m,E)break e}else r.head&&(r.head.comment=null);r.mode=l6;case l6:if(r.flags&512){for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=_t;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ta;break;case u6:for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.adler=r.check=S6(u),u=0,c=0,r.mode=Dy;case Dy:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,aHe;e.adler=r.check=1,r.mode=Ta;case Ta:if(t===nHe||t===tg)break e;case Yb:if(r.last){u>>>=c&7,c-=c&7,r.mode=qb;break}for(;c<3;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=c6;break;case 1:if(hHe(r),r.mode=rg,t===tg){u>>>=2,c-=2;break e}break;case 2:r.mode=d6;break;case 3:e.msg="invalid block type",r.mode=_t}u>>>=2,c-=2;break;case c6:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=_t;break}if(r.length=u&65535,u=0,c=0,r.mode=Xb,t===tg)break e;case Xb:r.mode=f6;case f6:if(m=r.length,m){if(m>s&&(m=s),m>l&&(m=l),m===0)break e;i.set(n.subarray(a,a+m),o),s-=m,a+=m,l-=m,o+=m,r.length-=m;break}r.mode=Ta;break;case d6:for(;c<14;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=_t;break}r.have=0,r.mode=h6;case h6:for(;r.have<r.ncode;){for(;c<3;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.lens[C[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},b=Th(rHe,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,b){e.msg="invalid code lengths set",r.mode=_t;break}r.have=0,r.mode=v6;case v6:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,p=v>>>16&255,h=v&65535,!(g<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(h<16)u>>>=g,c-=g,r.lens[r.have++]=h;else{if(h===16){for(P=g+2;c<P;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(u>>>=g,c-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=_t;break}E=r.lens[r.have-1],m=3+(u&3),u>>>=2,c-=2}else if(h===17){for(P=g+3;c<P;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=g,c-=g,E=0,m=3+(u&7),u>>>=3,c-=3}else{for(P=g+7;c<P;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=g,c-=g,E=0,m=11+(u&127),u>>>=7,c-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=_t;break}for(;m--;)r.lens[r.have++]=E}}if(r.mode===_t)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=_t;break}if(r.lenbits=9,A={bits:r.lenbits},b=Th(DY,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,b){e.msg="invalid literal/lengths set",r.mode=_t;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},b=Th($Y,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,b){e.msg="invalid distances set",r.mode=_t;break}if(r.mode=rg,t===tg)break e;case rg:r.mode=ng;case ng:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,q9e(e,f),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,c=r.bits,r.mode===Ta&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,p=v>>>16&255,h=v&65535,!(g<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(p&&!(p&240)){for(S=g,O=p,y=h;v=r.lencode[y+((u&(1<<S+O)-1)>>S)],g=v>>>24,p=v>>>16&255,h=v&65535,!(S+g<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=S,c-=S,r.back+=S}if(u>>>=g,c-=g,r.back+=g,r.length=h,p===0){r.mode=_6;break}if(p&32){r.back=-1,r.mode=Ta;break}if(p&64){e.msg="invalid literal/length code",r.mode=_t;break}r.extra=p&15,r.mode=p6;case p6:if(r.extra){for(P=r.extra;c<P;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=g6;case g6:for(;v=r.distcode[u&(1<<r.distbits)-1],g=v>>>24,p=v>>>16&255,h=v&65535,!(g<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(!(p&240)){for(S=g,O=p,y=h;v=r.distcode[y+((u&(1<<S+O)-1)>>S)],g=v>>>24,p=v>>>16&255,h=v&65535,!(S+g<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=S,c-=S,r.back+=S}if(u>>>=g,c-=g,r.back+=g,p&64){e.msg="invalid distance code",r.mode=_t;break}r.offset=h,r.extra=p&15,r.mode=m6;case m6:if(r.extra){for(P=r.extra;c<P;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=_t;break}r.mode=y6;case y6:if(l===0)break e;if(m=f-l,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=_t;break}m>r.wnext?(m-=r.wnext,_=r.wsize-m):_=r.wnext-m,m>r.length&&(m=r.length),x=r.window}else x=i,_=o-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do i[o++]=x[_++];while(--m);r.length===0&&(r.mode=ng);break;case _6:if(l===0)break e;i[o++]=r.length,l--,r.mode=ng;break;case qb:if(r.wrap){for(;c<32;){if(s===0)break e;s--,u|=n[a++]<<c,c+=8}if(f-=l,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?qt(r.check,i,f,o-f):mv(r.check,i,f,o-f)),f=l,r.wrap&4&&(r.flags?u:S6(u))!==r.check){e.msg="incorrect data check",r.mode=_t;break}u=0,c=0}r.mode=E6;case E6:if(r.wrap&&r.flags){for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=_t;break}u=0,c=0}r.mode=x6;case x6:b=iHe;break e;case _t:b=kY;break e;case MY:return NY;case FY:default:return ai}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,(r.wsize||f!==e.avail_out&&r.mode<_t&&(r.mode<qb||t!==JF))&&KY(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?qt(r.check,i,f,e.next_out-f):mv(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ta?128:0)+(r.mode===rg||r.mode===Xb?256:0),(d===0&&f===0||t===JF)&&b===Cl&&(b=oHe),b},pHe=e=>{if(ql(e))return ai;let t=e.state;return t.window&&(t.window=null),e.state=null,Cl},gHe=(e,t)=>{if(ql(e))return ai;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Cl):ai},mHe=(e,t)=>{const r=t.length;let n,i,a;return ql(e)||(n=e.state,n.wrap!==0&&n.mode!==Dy)?ai:n.mode===Dy&&(i=1,i=mv(i,t,r,0),i!==n.check)?kY:(a=KY(e,t,r,r),a?(n.mode=MY,NY):(n.havedict=1,Cl))};var yHe=UY,_He=jY,EHe=BY,xHe=dHe,SHe=HY,bHe=vHe,THe=pHe,wHe=gHe,AHe=mHe,RHe="pako inflate (from Nodeca project)",$a={inflateReset:yHe,inflateReset2:_He,inflateResetKeep:EHe,inflateInit:xHe,inflateInit2:SHe,inflate:bHe,inflateEnd:THe,inflateGetHeader:wHe,inflateSetDictionary:AHe,inflateInfo:RHe};function OHe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var IHe=OHe;const GY=Object.prototype.toString,{Z_NO_FLUSH:CHe,Z_FINISH:PHe,Z_OK:Ev,Z_STREAM_END:Jb,Z_NEED_DICT:eT,Z_STREAM_ERROR:LHe,Z_DATA_ERROR:T6,Z_MEM_ERROR:DHe}=Xl;function L0(e){this.options=gE.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PY,this.strm.avail_out=0;let r=$a.inflateInit2(this.strm,t.windowBits);if(r!==Ev)throw new Error(Ol[r]);if(this.header=new IHe,$a.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=_v.string2buf(t.dictionary):GY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=$a.inflateSetDictionary(this.strm,t.dictionary),r!==Ev)))throw new Error(Ol[r])}L0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?PHe:CHe,GY.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=$a.inflate(r,o),a===eT&&i&&(a=$a.inflateSetDictionary(r,i),a===Ev?a=$a.inflate(r,o):a===T6&&(a=eT));r.avail_in>0&&a===Jb&&r.state.wrap>0&&e[r.next_in]!==0;)$a.inflateReset(r),a=$a.inflate(r,o);switch(a){case LHe:case T6:case eT:case DHe:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===Jb))if(this.options.to==="string"){let l=_v.utf8border(r.output,r.next_out),u=r.next_out-l,c=_v.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Ev&&s===0)){if(a===Jb)return a=$a.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};L0.prototype.onData=function(e){this.chunks.push(e)};L0.prototype.onEnd=function(e){e===Ev&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function FC(e,t){const r=new L0(t);if(r.push(e),r.err)throw r.msg||Ol[r.err];return r.result}function $He(e,t){return t=t||{},t.raw=!0,FC(e,t)}var kHe=L0,NHe=FC,MHe=$He,FHe=FC,BHe=Xl,UHe={Inflate:kHe,inflate:NHe,inflateRaw:MHe,ungzip:FHe,constants:BHe};const{Deflate:jHe,deflate:HHe,deflateRaw:KHe,gzip:GHe}=Y9e,{Inflate:WHe,inflate:zHe,inflateRaw:VHe,ungzip:YHe}=UHe;var XHe=jHe,qHe=HHe,QHe=KHe,ZHe=GHe,JHe=WHe,eKe=zHe,tKe=VHe,rKe=YHe,nKe=Xl,iKe={Deflate:XHe,deflate:qHe,deflateRaw:QHe,gzip:ZHe,Inflate:JHe,inflate:eKe,inflateRaw:tKe,ungzip:rKe,constants:nKe};function aKe(e){const t=new Uint8Array(e.length);return[...e].forEach((r,n)=>{t[n]=r.charCodeAt(0)}),t}function WY({data:e,time:t}){const r=localStorage.getItem("mw-migration-date");return r&&new Date(r)>=t?!1:(e.bookmarks&&localStorage.setItem("mw-bookmarks",JSON.stringify(e.bookmarks)),e.videoProgress&&localStorage.setItem("video-progress",JSON.stringify(e.videoProgress)),localStorage.setItem("mw-migration-date",t.toISOString()),!0)}function oKe(){let e=!1;const t=r=>{const n=r.data;n&&n.isMigrationData&&!e&&(e=!0,WY({data:n.data,time:n.date})&&window.location.reload())};return z.useEffect(()=>(window.addEventListener("message",t),()=>{window.removeEventListener("message",t)})),H("iframe",{src:"https://movie.squeezebox.dev",hidden:!0})}function sKe(){const[e,t]=z.useState(!1);return z.useEffect(()=>{const r=new URLSearchParams(window.location.search??"");if(!r.has("m-time")||!r.has("m-data")){t(!0);return}const n=JSON.parse(iKe.inflate(aKe(atob(r.get("m-data"))),{to:"string"})),i=new Date(r.get("m-time"));WY({data:n,time:i}),t(!0)},[]),z.useEffect(()=>{if(!e)return;const r=new URL(window.location.href),n=[];r.searchParams.forEach((i,a)=>n.push(a)),n.forEach(i=>r.searchParams.delete(i)),r.searchParams.append("migrated","1"),r.hash=Wr().NORMAL_ROUTER?"":`/search/${Ae.MOVIE}`,r.pathname=Wr().NORMAL_ROUTER?`/search/${Ae.MOVIE}`:"",window.location.href=r.toString()},[e]),null}var lKe=typeof be=="object"&&be&&be.Object===Object&&be,zY=lKe,uKe=zY,cKe=typeof self=="object"&&self&&self.Object===Object&&self,fKe=uKe||cKe||Function("return this")(),Fi=fKe,dKe=Fi,hKe=dKe.Symbol,BC=hKe,w6=BC,VY=Object.prototype,vKe=VY.hasOwnProperty,pKe=VY.toString,Rd=w6?w6.toStringTag:void 0;function gKe(e){var t=vKe.call(e,Rd),r=e[Rd];try{e[Rd]=void 0;var n=!0}catch{}var i=pKe.call(e);return n&&(t?e[Rd]=r:delete e[Rd]),i}var mKe=gKe,yKe=Object.prototype,_Ke=yKe.toString;function EKe(e){return _Ke.call(e)}var xKe=EKe,A6=BC,SKe=mKe,bKe=xKe,TKe="[object Null]",wKe="[object Undefined]",R6=A6?A6.toStringTag:void 0;function AKe(e){return e==null?e===void 0?wKe:TKe:R6&&R6 in Object(e)?SKe(e):bKe(e)}var D0=AKe;function RKe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fo=RKe,OKe=D0,IKe=fo,CKe="[object AsyncFunction]",PKe="[object Function]",LKe="[object GeneratorFunction]",DKe="[object Proxy]";function $Ke(e){if(!IKe(e))return!1;var t=OKe(e);return t==PKe||t==LKe||t==CKe||t==DKe}var YY=$Ke,kKe=Fi,NKe=kKe["__core-js_shared__"],MKe=NKe,tT=MKe,O6=function(){var e=/[^.]+$/.exec(tT&&tT.keys&&tT.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FKe(e){return!!O6&&O6 in e}var BKe=FKe,UKe=Function.prototype,jKe=UKe.toString;function HKe(e){if(e!=null){try{return jKe.call(e)}catch{}try{return e+""}catch{}}return""}var XY=HKe,KKe=YY,GKe=BKe,WKe=fo,zKe=XY,VKe=/[\\^$.*+?()[\]{}|]/g,YKe=/^\[object .+?Constructor\]$/,XKe=Function.prototype,qKe=Object.prototype,QKe=XKe.toString,ZKe=qKe.hasOwnProperty,JKe=RegExp("^"+QKe.call(ZKe).replace(VKe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eGe(e){if(!WKe(e)||GKe(e))return!1;var t=KKe(e)?JKe:YKe;return t.test(zKe(e))}var tGe=eGe;function rGe(e,t){return e==null?void 0:e[t]}var nGe=rGe,iGe=tGe,aGe=nGe;function oGe(e,t){var r=aGe(e,t);return iGe(r)?r:void 0}var Ql=oGe,sGe=Ql,lGe=function(){try{var e=sGe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qY=lGe,I6=qY;function uGe(e,t,r){t=="__proto__"&&I6?I6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var QY=uGe;function cGe(e,t){return e===t||e!==e&&t!==t}var UC=cGe,fGe=QY,dGe=UC,hGe=Object.prototype,vGe=hGe.hasOwnProperty;function pGe(e,t,r){var n=e[t];(!(vGe.call(e,t)&&dGe(n,r))||r===void 0&&!(t in e))&&fGe(e,t,r)}var jC=pGe,gGe=jC,mGe=QY;function yGe(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),i?mGe(r,s,l):gGe(r,s,l)}return r}var $0=yGe;function _Ge(e){return e}var ZY=_Ge;function EGe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xGe=EGe,SGe=xGe,C6=Math.max;function bGe(e,t,r){return t=C6(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=C6(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),SGe(e,this,s)}}var TGe=bGe;function wGe(e){return function(){return e}}var AGe=wGe,RGe=AGe,P6=qY,OGe=ZY,IGe=P6?function(e,t){return P6(e,"toString",{configurable:!0,enumerable:!1,value:RGe(t),writable:!0})}:OGe,CGe=IGe,PGe=800,LGe=16,DGe=Date.now;function $Ge(e){var t=0,r=0;return function(){var n=DGe(),i=LGe-(n-r);if(r=n,i>0){if(++t>=PGe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var kGe=$Ge,NGe=CGe,MGe=kGe,FGe=MGe(NGe),BGe=FGe,UGe=ZY,jGe=TGe,HGe=BGe;function KGe(e,t){return HGe(jGe(e,t,UGe),e+"")}var GGe=KGe,WGe=9007199254740991;function zGe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=WGe}var JY=zGe,VGe=YY,YGe=JY;function XGe(e){return e!=null&&YGe(e.length)&&!VGe(e)}var yE=XGe,qGe=9007199254740991,QGe=/^(?:0|[1-9]\d*)$/;function ZGe(e,t){var r=typeof e;return t=t??qGe,!!t&&(r=="number"||r!="symbol"&&QGe.test(e))&&e>-1&&e%1==0&&e<t}var eX=ZGe,JGe=UC,eWe=yE,tWe=eX,rWe=fo;function nWe(e,t,r){if(!rWe(r))return!1;var n=typeof t;return(n=="number"?eWe(r)&&tWe(t,r.length):n=="string"&&t in r)?JGe(r[t],e):!1}var iWe=nWe,aWe=GGe,oWe=iWe;function sWe(e){return aWe(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&oWe(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var lWe=sWe,uWe=Object.prototype;function cWe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||uWe;return e===r}var _E=cWe;function fWe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var dWe=fWe;function hWe(e){return e!=null&&typeof e=="object"}var Cf=hWe,vWe=D0,pWe=Cf,gWe="[object Arguments]";function mWe(e){return pWe(e)&&vWe(e)==gWe}var yWe=mWe,L6=yWe,_We=Cf,tX=Object.prototype,EWe=tX.hasOwnProperty,xWe=tX.propertyIsEnumerable,SWe=L6(function(){return arguments}())?L6:function(e){return _We(e)&&EWe.call(e,"callee")&&!xWe.call(e,"callee")},bWe=SWe,TWe=Array.isArray,HC=TWe,xv={},wWe={get exports(){return xv},set exports(e){xv=e}};function AWe(){return!1}var RWe=AWe;(function(e,t){var r=Fi,n=RWe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;e.exports=u})(wWe,xv);var OWe=D0,IWe=JY,CWe=Cf,PWe="[object Arguments]",LWe="[object Array]",DWe="[object Boolean]",$We="[object Date]",kWe="[object Error]",NWe="[object Function]",MWe="[object Map]",FWe="[object Number]",BWe="[object Object]",UWe="[object RegExp]",jWe="[object Set]",HWe="[object String]",KWe="[object WeakMap]",GWe="[object ArrayBuffer]",WWe="[object DataView]",zWe="[object Float32Array]",VWe="[object Float64Array]",YWe="[object Int8Array]",XWe="[object Int16Array]",qWe="[object Int32Array]",QWe="[object Uint8Array]",ZWe="[object Uint8ClampedArray]",JWe="[object Uint16Array]",eze="[object Uint32Array]",gt={};gt[zWe]=gt[VWe]=gt[YWe]=gt[XWe]=gt[qWe]=gt[QWe]=gt[ZWe]=gt[JWe]=gt[eze]=!0;gt[PWe]=gt[LWe]=gt[GWe]=gt[DWe]=gt[WWe]=gt[$We]=gt[kWe]=gt[NWe]=gt[MWe]=gt[FWe]=gt[BWe]=gt[UWe]=gt[jWe]=gt[HWe]=gt[KWe]=!1;function tze(e){return CWe(e)&&IWe(e.length)&&!!gt[OWe(e)]}var rze=tze;function nze(e){return function(t){return e(t)}}var KC=nze,Kc={},ize={get exports(){return Kc},set exports(e){Kc=e}};(function(e,t){var r=zY,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(ize,Kc);var aze=rze,oze=KC,D6=Kc,$6=D6&&D6.isTypedArray,sze=$6?oze($6):aze,lze=sze,uze=dWe,cze=bWe,fze=HC,dze=xv,hze=eX,vze=lze,pze=Object.prototype,gze=pze.hasOwnProperty;function mze(e,t){var r=fze(e),n=!r&&cze(e),i=!r&&!n&&dze(e),a=!r&&!n&&!i&&vze(e),o=r||n||i||a,s=o?uze(e.length,String):[],l=s.length;for(var u in e)(t||gze.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hze(u,l)))&&s.push(u);return s}var rX=mze;function yze(e,t){return function(r){return e(t(r))}}var nX=yze,_ze=nX,Eze=_ze(Object.keys,Object),xze=Eze,Sze=_E,bze=xze,Tze=Object.prototype,wze=Tze.hasOwnProperty;function Aze(e){if(!Sze(e))return bze(e);var t=[];for(var r in Object(e))wze.call(e,r)&&r!="constructor"&&t.push(r);return t}var Rze=Aze,Oze=rX,Ize=Rze,Cze=yE;function Pze(e){return Cze(e)?Oze(e):Ize(e)}var EE=Pze,Lze=jC,Dze=$0,$ze=lWe,kze=yE,Nze=_E,Mze=EE,Fze=Object.prototype,Bze=Fze.hasOwnProperty,Uze=$ze(function(e,t){if(Nze(t)||kze(t)){Dze(t,Mze(t),e);return}for(var r in t)Bze.call(t,r)&&Lze(e,r,t[r])}),jze=Uze,pA={},Hze={get exports(){return pA},set exports(e){pA=e}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,f),_=r?r+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],m]:l._events[_].push(m):(l._events[_]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,m=d.length,_=new Array(m);f<m;f++)_[f]=d[f].fn;return _},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,m,_){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,p,h;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,m),!0;case 6:return v.fn.call(v.context,c,d,f,m,_),!0}for(h=1,p=new Array(g-1);h<g;h++)p[h-1]=arguments[h];v.fn.apply(v.context,p)}else{var S=v.length,O;for(h=0;h<S;h++)switch(v[h].once&&this.removeListener(u,v[h].fn,void 0,!0),g){case 1:v[h].fn.call(v[h].context);break;case 2:v[h].fn.call(v[h].context,c);break;case 3:v[h].fn.call(v[h].context,c,d);break;case 4:v[h].fn.call(v[h].context,c,d,f);break;default:if(!p)for(O=1,p=new Array(g-1);O<g;O++)p[O-1]=arguments[O];v[h].fn.apply(v[h].context,p)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===c&&(!f||_.once)&&(!d||_.context===d)&&o(this,m);else{for(var x=0,v=[],g=_.length;x<g;x++)(_[x].fn!==c||f&&!_[x].once||d&&_[x].context!==d)&&v.push(_[x]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(Hze);const Kze=pA;var iX=!1;if(typeof window<"u")try{var k6=Object.defineProperty({},"passive",{get:function(){iX=!0}});window.addEventListener("test",null,k6),window.removeEventListener("test",null,k6)}catch{}const Gze=iX,on={connections:{},EE:new Kze,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:Gze};var Wze=on.supportPassiveEvent,zze={capture:!1,passive:!1};function aX(e,t,r,n){var i="addEventListener",a="removeEventListener",o=t,s=Wze?jze({},zze,n):!1;return!e.addEventListener&&e.attachEvent&&(i="attachEvent",a="detachEvent",o="on"+t),e[i](o,r,s),{remove:function(){e[a](t,r)}}}var oX=!1;if(typeof navigator<"u"){var N6=navigator.userAgent.match(/MSIE (\d+\.\d+)/);N6&&(oX=parseFloat(N6[1],10)<9)}const sX=oX;function Vze(){this.__data__=[],this.size=0}var Yze=Vze,Xze=UC;function qze(e,t){for(var r=e.length;r--;)if(Xze(e[r][0],t))return r;return-1}var xE=qze,Qze=xE,Zze=Array.prototype,Jze=Zze.splice;function eVe(e){var t=this.__data__,r=Qze(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Jze.call(t,r,1),--this.size,!0}var tVe=eVe,rVe=xE;function nVe(e){var t=this.__data__,r=rVe(t,e);return r<0?void 0:t[r][1]}var iVe=nVe,aVe=xE;function oVe(e){return aVe(this.__data__,e)>-1}var sVe=oVe,lVe=xE;function uVe(e,t){var r=this.__data__,n=lVe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var cVe=uVe,fVe=Yze,dVe=tVe,hVe=iVe,vVe=sVe,pVe=cVe;function Pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pf.prototype.clear=fVe;Pf.prototype.delete=dVe;Pf.prototype.get=hVe;Pf.prototype.has=vVe;Pf.prototype.set=pVe;var SE=Pf,gVe=SE;function mVe(){this.__data__=new gVe,this.size=0}var yVe=mVe;function _Ve(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var EVe=_Ve;function xVe(e){return this.__data__.get(e)}var SVe=xVe;function bVe(e){return this.__data__.has(e)}var TVe=bVe,wVe=Ql,AVe=Fi,RVe=wVe(AVe,"Map"),GC=RVe,OVe=Ql,IVe=OVe(Object,"create"),bE=IVe,M6=bE;function CVe(){this.__data__=M6?M6(null):{},this.size=0}var PVe=CVe;function LVe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DVe=LVe,$Ve=bE,kVe="__lodash_hash_undefined__",NVe=Object.prototype,MVe=NVe.hasOwnProperty;function FVe(e){var t=this.__data__;if($Ve){var r=t[e];return r===kVe?void 0:r}return MVe.call(t,e)?t[e]:void 0}var BVe=FVe,UVe=bE,jVe=Object.prototype,HVe=jVe.hasOwnProperty;function KVe(e){var t=this.__data__;return UVe?t[e]!==void 0:HVe.call(t,e)}var GVe=KVe,WVe=bE,zVe="__lodash_hash_undefined__";function VVe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=WVe&&t===void 0?zVe:t,this}var YVe=VVe,XVe=PVe,qVe=DVe,QVe=BVe,ZVe=GVe,JVe=YVe;function Lf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lf.prototype.clear=XVe;Lf.prototype.delete=qVe;Lf.prototype.get=QVe;Lf.prototype.has=ZVe;Lf.prototype.set=JVe;var eYe=Lf,F6=eYe,tYe=SE,rYe=GC;function nYe(){this.size=0,this.__data__={hash:new F6,map:new(rYe||tYe),string:new F6}}var iYe=nYe;function aYe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var oYe=aYe,sYe=oYe;function lYe(e,t){var r=e.__data__;return sYe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var TE=lYe,uYe=TE;function cYe(e){var t=uYe(this,e).delete(e);return this.size-=t?1:0,t}var fYe=cYe,dYe=TE;function hYe(e){return dYe(this,e).get(e)}var vYe=hYe,pYe=TE;function gYe(e){return pYe(this,e).has(e)}var mYe=gYe,yYe=TE;function _Ye(e,t){var r=yYe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var EYe=_Ye,xYe=iYe,SYe=fYe,bYe=vYe,TYe=mYe,wYe=EYe;function Df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Df.prototype.clear=xYe;Df.prototype.delete=SYe;Df.prototype.get=bYe;Df.prototype.has=TYe;Df.prototype.set=wYe;var AYe=Df,RYe=SE,OYe=GC,IYe=AYe,CYe=200;function PYe(e,t){var r=this.__data__;if(r instanceof RYe){var n=r.__data__;if(!OYe||n.length<CYe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new IYe(n)}return r.set(e,t),this.size=r.size,this}var LYe=PYe,DYe=SE,$Ye=yVe,kYe=EVe,NYe=SVe,MYe=TVe,FYe=LYe;function $f(e){var t=this.__data__=new DYe(e);this.size=t.size}$f.prototype.clear=$Ye;$f.prototype.delete=kYe;$f.prototype.get=NYe;$f.prototype.has=MYe;$f.prototype.set=FYe;var BYe=$f;function UYe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var jYe=UYe,HYe=$0,KYe=EE;function GYe(e,t){return e&&HYe(t,KYe(t),e)}var WYe=GYe;function zYe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var VYe=zYe,YYe=fo,XYe=_E,qYe=VYe,QYe=Object.prototype,ZYe=QYe.hasOwnProperty;function JYe(e){if(!YYe(e))return qYe(e);var t=XYe(e),r=[];for(var n in e)n=="constructor"&&(t||!ZYe.call(e,n))||r.push(n);return r}var eXe=JYe,tXe=rX,rXe=eXe,nXe=yE;function iXe(e){return nXe(e)?tXe(e,!0):rXe(e)}var WC=iXe,aXe=$0,oXe=WC;function sXe(e,t){return e&&aXe(t,oXe(t),e)}var lXe=sXe,$y={},uXe={get exports(){return $y},set exports(e){$y=e}};(function(e,t){var r=Fi,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=s?s(d):new u.constructor(d);return u.copy(f),f}e.exports=l})(uXe,$y);function cXe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var fXe=cXe;function dXe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var hXe=dXe;function vXe(){return[]}var lX=vXe,pXe=hXe,gXe=lX,mXe=Object.prototype,yXe=mXe.propertyIsEnumerable,B6=Object.getOwnPropertySymbols,_Xe=B6?function(e){return e==null?[]:(e=Object(e),pXe(B6(e),function(t){return yXe.call(e,t)}))}:gXe,zC=_Xe,EXe=$0,xXe=zC;function SXe(e,t){return EXe(e,xXe(e),t)}var bXe=SXe;function TXe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var uX=TXe,wXe=nX,AXe=wXe(Object.getPrototypeOf,Object),cX=AXe,RXe=uX,OXe=cX,IXe=zC,CXe=lX,PXe=Object.getOwnPropertySymbols,LXe=PXe?function(e){for(var t=[];e;)RXe(t,IXe(e)),e=OXe(e);return t}:CXe,fX=LXe,DXe=$0,$Xe=fX;function kXe(e,t){return DXe(e,$Xe(e),t)}var NXe=kXe,MXe=uX,FXe=HC;function BXe(e,t,r){var n=t(e);return FXe(e)?n:MXe(n,r(e))}var dX=BXe,UXe=dX,jXe=zC,HXe=EE;function KXe(e){return UXe(e,HXe,jXe)}var GXe=KXe,WXe=dX,zXe=fX,VXe=WC;function YXe(e){return WXe(e,VXe,zXe)}var XXe=YXe,qXe=Ql,QXe=Fi,ZXe=qXe(QXe,"DataView"),JXe=ZXe,eqe=Ql,tqe=Fi,rqe=eqe(tqe,"Promise"),nqe=rqe,iqe=Ql,aqe=Fi,oqe=iqe(aqe,"Set"),sqe=oqe,lqe=Ql,uqe=Fi,cqe=lqe(uqe,"WeakMap"),fqe=cqe,gA=JXe,mA=GC,yA=nqe,_A=sqe,EA=fqe,hX=D0,kf=XY,U6="[object Map]",dqe="[object Object]",j6="[object Promise]",H6="[object Set]",K6="[object WeakMap]",G6="[object DataView]",hqe=kf(gA),vqe=kf(mA),pqe=kf(yA),gqe=kf(_A),mqe=kf(EA),Ys=hX;(gA&&Ys(new gA(new ArrayBuffer(1)))!=G6||mA&&Ys(new mA)!=U6||yA&&Ys(yA.resolve())!=j6||_A&&Ys(new _A)!=H6||EA&&Ys(new EA)!=K6)&&(Ys=function(e){var t=hX(e),r=t==dqe?e.constructor:void 0,n=r?kf(r):"";if(n)switch(n){case hqe:return G6;case vqe:return U6;case pqe:return j6;case gqe:return H6;case mqe:return K6}return t});var VC=Ys,yqe=Object.prototype,_qe=yqe.hasOwnProperty;function Eqe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&_qe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var xqe=Eqe,Sqe=Fi,bqe=Sqe.Uint8Array,Tqe=bqe,W6=Tqe;function wqe(e){var t=new e.constructor(e.byteLength);return new W6(t).set(new W6(e)),t}var YC=wqe,Aqe=YC;function Rqe(e,t){var r=t?Aqe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Oqe=Rqe,Iqe=/\w*$/;function Cqe(e){var t=new e.constructor(e.source,Iqe.exec(e));return t.lastIndex=e.lastIndex,t}var Pqe=Cqe,z6=BC,V6=z6?z6.prototype:void 0,Y6=V6?V6.valueOf:void 0;function Lqe(e){return Y6?Object(Y6.call(e)):{}}var Dqe=Lqe,$qe=YC;function kqe(e,t){var r=t?$qe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Nqe=kqe,Mqe=YC,Fqe=Oqe,Bqe=Pqe,Uqe=Dqe,jqe=Nqe,Hqe="[object Boolean]",Kqe="[object Date]",Gqe="[object Map]",Wqe="[object Number]",zqe="[object RegExp]",Vqe="[object Set]",Yqe="[object String]",Xqe="[object Symbol]",qqe="[object ArrayBuffer]",Qqe="[object DataView]",Zqe="[object Float32Array]",Jqe="[object Float64Array]",eQe="[object Int8Array]",tQe="[object Int16Array]",rQe="[object Int32Array]",nQe="[object Uint8Array]",iQe="[object Uint8ClampedArray]",aQe="[object Uint16Array]",oQe="[object Uint32Array]";function sQe(e,t,r){var n=e.constructor;switch(t){case qqe:return Mqe(e);case Hqe:case Kqe:return new n(+e);case Qqe:return Fqe(e,r);case Zqe:case Jqe:case eQe:case tQe:case rQe:case nQe:case iQe:case aQe:case oQe:return jqe(e,r);case Gqe:return new n;case Wqe:case Yqe:return new n(e);case zqe:return Bqe(e);case Vqe:return new n;case Xqe:return Uqe(e)}}var lQe=sQe,uQe=fo,X6=Object.create,cQe=function(){function e(){}return function(t){if(!uQe(t))return{};if(X6)return X6(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),fQe=cQe,dQe=fQe,hQe=cX,vQe=_E;function pQe(e){return typeof e.constructor=="function"&&!vQe(e)?dQe(hQe(e)):{}}var gQe=pQe,mQe=VC,yQe=Cf,_Qe="[object Map]";function EQe(e){return yQe(e)&&mQe(e)==_Qe}var xQe=EQe,SQe=xQe,bQe=KC,q6=Kc,Q6=q6&&q6.isMap,TQe=Q6?bQe(Q6):SQe,wQe=TQe,AQe=VC,RQe=Cf,OQe="[object Set]";function IQe(e){return RQe(e)&&AQe(e)==OQe}var CQe=IQe,PQe=CQe,LQe=KC,Z6=Kc,J6=Z6&&Z6.isSet,DQe=J6?LQe(J6):PQe,$Qe=DQe,kQe=BYe,NQe=jYe,MQe=jC,FQe=WYe,BQe=lXe,UQe=$y,jQe=fXe,HQe=bXe,KQe=NXe,GQe=GXe,WQe=XXe,zQe=VC,VQe=xqe,YQe=lQe,XQe=gQe,qQe=HC,QQe=xv,ZQe=wQe,JQe=fo,eZe=$Qe,tZe=EE,rZe=WC,nZe=1,iZe=2,aZe=4,vX="[object Arguments]",oZe="[object Array]",sZe="[object Boolean]",lZe="[object Date]",uZe="[object Error]",pX="[object Function]",cZe="[object GeneratorFunction]",fZe="[object Map]",dZe="[object Number]",gX="[object Object]",hZe="[object RegExp]",vZe="[object Set]",pZe="[object String]",gZe="[object Symbol]",mZe="[object WeakMap]",yZe="[object ArrayBuffer]",_Ze="[object DataView]",EZe="[object Float32Array]",xZe="[object Float64Array]",SZe="[object Int8Array]",bZe="[object Int16Array]",TZe="[object Int32Array]",wZe="[object Uint8Array]",AZe="[object Uint8ClampedArray]",RZe="[object Uint16Array]",OZe="[object Uint32Array]",dt={};dt[vX]=dt[oZe]=dt[yZe]=dt[_Ze]=dt[sZe]=dt[lZe]=dt[EZe]=dt[xZe]=dt[SZe]=dt[bZe]=dt[TZe]=dt[fZe]=dt[dZe]=dt[gX]=dt[hZe]=dt[vZe]=dt[pZe]=dt[gZe]=dt[wZe]=dt[AZe]=dt[RZe]=dt[OZe]=!0;dt[uZe]=dt[pX]=dt[mZe]=!1;function rm(e,t,r,n,i,a){var o,s=t&nZe,l=t&iZe,u=t&aZe;if(r&&(o=i?r(e,n,i,a):r(e)),o!==void 0)return o;if(!JQe(e))return e;var c=qQe(e);if(c){if(o=VQe(e),!s)return jQe(e,o)}else{var d=zQe(e),f=d==pX||d==cZe;if(QQe(e))return UQe(e,s);if(d==gX||d==vX||f&&!i){if(o=l||f?{}:XQe(e),!s)return l?KQe(e,BQe(o,e)):HQe(e,FQe(o,e))}else{if(!dt[d])return i?e:{};o=YQe(e,d,s)}}a||(a=new kQe);var m=a.get(e);if(m)return m;a.set(e,o),eZe(e)?e.forEach(function(v){o.add(rm(v,t,r,v,e,a))}):ZQe(e)&&e.forEach(function(v,g){o.set(g,rm(v,t,r,g,e,a))});var _=u?l?WQe:GQe:l?rZe:tZe,x=c?void 0:_(e);return NQe(x||e,function(v,g){x&&(g=v,v=e[g]),MQe(o,g,rm(v,t,r,g,e,a))}),o}var IZe=rm,CZe=IZe,PZe=4;function LZe(e){return CZe(e,PZe)}var DZe=LZe,$Ze=Fi,kZe=function(){return $Ze.Date.now()},NZe=kZe,MZe=/\s/;function FZe(e){for(var t=e.length;t--&&MZe.test(e.charAt(t)););return t}var BZe=FZe,UZe=BZe,jZe=/^\s+/;function HZe(e){return e&&e.slice(0,UZe(e)+1).replace(jZe,"")}var KZe=HZe,GZe=D0,WZe=Cf,zZe="[object Symbol]";function VZe(e){return typeof e=="symbol"||WZe(e)&&GZe(e)==zZe}var YZe=VZe,XZe=KZe,e5=fo,qZe=YZe,t5=0/0,QZe=/^[-+]0x[0-9a-f]+$/i,ZZe=/^0b[01]+$/i,JZe=/^0o[0-7]+$/i,eJe=parseInt;function tJe(e){if(typeof e=="number")return e;if(qZe(e))return t5;if(e5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=e5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XZe(e);var r=ZZe.test(e);return r||JZe.test(e)?eJe(e.slice(2),r?2:8):QZe.test(e)?t5:+e}var rJe=tJe,nJe=fo,rT=NZe,r5=rJe,iJe="Expected a function",aJe=Math.max,oJe=Math.min;function sJe(e,t,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(iJe);t=r5(t)||0,nJe(r)&&(c=!!r.leading,d="maxWait"in r,a=d?aJe(r5(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function m(y){var E=n,b=i;return n=i=void 0,u=y,o=e.apply(b,E),o}function _(y){return u=y,s=setTimeout(g,t),c?m(y):o}function x(y){var E=y-l,b=y-u,T=t-E;return d?oJe(T,a-b):T}function v(y){var E=y-l,b=y-u;return l===void 0||E>=t||E<0||d&&b>=a}function g(){var y=rT();if(v(y))return p(y);s=setTimeout(g,x(y))}function p(y){return s=void 0,f&&n?m(y):(n=i=void 0,o)}function h(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:p(rT())}function O(){var y=rT(),E=v(y);if(n=arguments,i=this,l=y,E){if(s===void 0)return _(l);if(d)return clearTimeout(s),s=setTimeout(g,t),m(l)}return s===void 0&&(s=setTimeout(g,t)),o}return O.cancel=h,O.flush=S,O}var lJe=sJe,uJe=lJe,cJe=fo,fJe="Expected a function";function dJe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(fJe);return cJe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),uJe(e,t,{leading:n,maxWait:t,trailing:i})}var hJe=dJe;function vJe(){}var pJe=vJe,gJe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function mJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yJe={width:0,height:0},_Je={delta:0,top:0},EJe={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},n5=5,i5=function(t){var r={x:0,y:0},n=document.body,i=document.documentElement;return t.pageX||t.pageY?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX+n.scrollLeft+i.scrollLeft,r.y=t.clientY+n.scrollTop+i.scrollTop),r},nm=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mJe(this,e);var r=(t.mainType||"").toLowerCase(),n=(t.subType||"").toLowerCase();this.mainType=r,this.subType=n,this.type=r+n.charAt(0).toUpperCase()+n.slice(1)||"",this.scroll=_Je,this.resize=yJe,this.touch=EJe}return gJe(e,[{key:"update",value:function(r){var n=this.mainType,i=this.subType,a=document.documentElement;if(on.enableScrollInfo&&(n==="scroll"||n==="touchmove")){var o=a.scrollTop+document.body.scrollTop;o!==this.scroll.top&&(this.scroll.delta=o-this.scroll.top,this.scroll.top=o)}if(on.enableResizeInfo&&n==="resize"&&(this.resize.width=window.innerWidth||a.clientWidth,this.resize.height=window.innerHeight||a.clientHeight),on.enableTouchInfo&&r.touches&&(n==="touchstart"||n==="touchmove"||n==="touchend")){var s=void 0,l=void 0,u=void 0;n==="touchstart"||i==="start"?(s=i5(r.touches[0]),this.touch.axisIntention="",this.touch.startX=s.x,this.touch.startY=s.y,this.touch.deltaX=0,this.touch.deltaY=0):n==="touchmove"&&(s=i5(r.touches[0]),this.touch.deltaX=s.x-this.touch.startX,this.touch.deltaY=s.y-this.touch.startY,this.touch.axisIntention===""&&(l=Math.abs(this.touch.deltaX),u=Math.abs(this.touch.deltaY),l>n5&&l>=u?this.touch.axisIntention="x":u>n5&&u>l&&(this.touch.axisIntention="y")))}}}]),e}(),Gc={},xJe={get exports(){return Gc},set exports(e){Gc=e}},xA={},ig={get exports(){return xA},set exports(e){xA=e}};(function(){var e,t,r,n,i,a;typeof performance<"u"&&performance!==null&&performance.now?ig.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(ig.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var o;return o=t(),o[0]*1e9+o[1]},n=e(),a=process.uptime()*1e9,i=n-a):Date.now?(ig.exports=function(){return Date.now()-r},r=Date.now()):(ig.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(be);var SJe=xA,Ga=typeof window>"u"?be:window,ag=["moz","webkit"],pc="AnimationFrame",Wc=Ga["request"+pc],Sv=Ga["cancel"+pc]||Ga["cancelRequest"+pc];for(var Od=0;!Wc&&Od<ag.length;Od++)Wc=Ga[ag[Od]+"Request"+pc],Sv=Ga[ag[Od]+"Cancel"+pc]||Ga[ag[Od]+"CancelRequest"+pc];if(!Wc||!Sv){var nT=0,a5=0,Ws=[],bJe=1e3/60;Wc=function(e){if(Ws.length===0){var t=SJe(),r=Math.max(0,bJe-(t-nT));nT=r+t,setTimeout(function(){var n=Ws.slice(0);Ws.length=0;for(var i=0;i<n.length;i++)if(!n[i].cancelled)try{n[i].callback(nT)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return Ws.push({handle:++a5,callback:e,cancelled:!1}),a5},Sv=function(e){for(var t=0;t<Ws.length;t++)Ws[t].handle===e&&(Ws[t].cancelled=!0)}}xJe.exports=function(e){return Wc.call(Ga,e)};Gc.cancel=function(){Sv.apply(Ga,arguments)};Gc.polyfill=function(e){e||(e=Ga),e.requestAnimationFrame=Wc,e.cancelAnimationFrame=Sv};var TJe=Date.now||function(){return new Date().getTime()};function wJe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:15,r=void 0,n=void 0,i=0,a=0,o=function s(){var l=TJe(),u=t-(l-i);u<=0?(i=l,a=0,e.apply(r,n)):a=Gc(s)};return function(){r=this,n=arguments,a||(a=Gc(o))}}var o5=100,AJe=50,og=on.connections,gc=on.EE,zc=on.listeners,wh=on.removers,SA=void 0,To=void 0,Iu=void 0,RJe=0;typeof window<"u"&&(To=window,SA=To.document||document,Iu=SA.body);function mX(e){return e.id||"target-id-"+RJe++}function yX(e,t,r,n){return gc.on(e,t||pJe,r),n=n||e,og[n]=(og[n]||0)+1,{_type:e,_cb:t,_ctx:r,unsubscribe:function(){if(this._type){gc.removeListener(e,t,r),og[n]--,og[n]===0&&(zc[n].remove(),zc[n]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var a=wh.length-1;a>=0;a--){var o=wh[a];if(o===this){wh.splice(a,1);break}}}}}}function wa(e,t,r){return function(i,a,o,s){var l=o.context,u=o.target,c=u&&mX(u),d=c?":"+c:"",f=t+"Start:"+i+d,m=t+"End:"+i+d,_=t+":"+i+d,x=r+":"+i+d,v=yX(x,a,l,_);if(wh.push(v),zc[_])return v;var g={start:new nm({mainType:t,subType:"start"}),main:new nm({mainType:t}),end:new nm({mainType:t,subType:"end"})};i==="raf"?(i=16,S=wJe(S)):i>0&&(S=hJe(S,i));var p=void 0;function h(O){g.end.update(O),gc.emit(m,O,g.end),p=null}function S(O){p||(g.start.update(O),gc.emit(f,O,g.start)),clearTimeout(p),g.main.update(O),gc.emit(_,O,g.main),sX?p=setTimeout(function(){h(DZe(O))},i+o5):p=setTimeout(h.bind(null,O),i+o5)}return zc[_]=aX(u||e,t,S,s),v}}function iT(e,t){return function(n,i,a,o){var s=a.context,l=a.target,u=l&&mX(l),c=t+":0"+(u?":"+u:""),d=yX(c,i,s);if(wh.push(d),zc[c])return d;var f=new nm({mainType:t});function m(_){f.update(_),gc.emit(c,_,f)}return zc[c]=aX(l||e,t,m,o),d}}const OJe={scrollStart:wa(To,"scroll","scrollStart"),scrollEnd:wa(To,"scroll","scrollEnd"),scroll:wa(To,"scroll","scroll"),resizeStart:wa(To,"resize","resizeStart"),resizeEnd:wa(To,"resize","resizeEnd"),resize:wa(To,"resize","resize"),visibilitychange:iT(SA,"visibilitychange"),touchmoveStart:wa(Iu,"touchmove","touchmoveStart"),touchmoveEnd:wa(Iu,"touchmove","touchmoveEnd"),touchmove:wa(Iu,"touchmove","touchmove"),touchstart:iT(Iu,"touchstart"),touchend:iT(Iu,"touchend")};function IJe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.useRAF||!1,i=parseInt(r.throttleRate,10),a=r.eventOptions;return isNaN(i)&&(i=AJe),n&&(i="raf"),sX&&(i=0),on.enableScrollInfo=on.enableScrollInfo||r.enableScrollInfo||!1,on.enableResizeInfo=on.enableResizeInfo||r.enableResizeInfo||!1,on.enableTouchInfo=on.enableTouchInfo||r.enableTouchInfo||!1,OJe[e](i,t,r,a)}var CJe=typeof window<"u";function PJe(){}var aT=CJe?IJe:PJe,bA={},LJe={get exports(){return bA},set exports(e){bA=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")n.push(a);else if(Array.isArray(a)){if(a.length){var s=r.apply(null,a);s&&n.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&n.push(l)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(LJe);const s5=bA;var oT=function(t,r,n,i){var a=n?n.call(i,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var c=o[u];if(!l(c))return!1;var d=t[c],f=r[c];if(a=n?n.call(i,d,f,c):void 0,a===!1||a===void 0&&d!==f)return!1}return!0};function sT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ky(e){return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function DJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $Je(e,t,r){return t&&l5(e.prototype,t),r&&l5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TA(e,t)}function TA(e,t){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TA(e,t)}function NJe(e){var t=FJe();return function(){var n=Ny(e),i;if(t){var a=Ny(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return MJe(this,i)}}function MJe(e,t){if(t&&(ky(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return im(e)}function im(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FJe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}var Cu=0,am=1,Xs=2,u5="transform",Id,c5,lT,f5=!0,Cd,d5=0,uT,sg=-1,ms=function(e){kJe(r,e);var t=NJe(r);function r(n,i){var a;return DJe(this,r),a=t.call(this,n,i),a.handleResize=a.handleResize.bind(im(a)),a.handleScroll=a.handleScroll.bind(im(a)),a.handleScrollStart=a.handleScrollStart.bind(im(a)),a.delta=0,a.stickyTop=0,a.stickyBottom=0,a.frozen=!1,a.skipNextScrollEvent=!1,a.scrollTop=-1,a.bottomBoundaryTarget,a.topTarget,a.subscribers,a.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:Cu,pos:0,activated:!1},a}return $Je(r,[{key:"getTargetHeight",value:function(i){return i&&i.offsetHeight||0}},{key:"getTopPosition",value:function(i){return i=i||this.props.top||0,typeof i=="string"&&(this.topTarget||(this.topTarget=Id.querySelector(i)),i=this.getTargetHeight(this.topTarget)),i}},{key:"getTargetBottom",value:function(i){if(!i)return-1;var a=i.getBoundingClientRect();return this.scrollTop+a.bottom}},{key:"getBottomBoundary",value:function(i){var a=i||this.props.bottomBoundary;return ky(a)==="object"&&(a=a.value||a.target||0),typeof a=="string"&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=Id.querySelector(a)),a=this.getTargetBottom(this.bottomBoundaryTarget)),a&&a>0?a:1/0}},{key:"reset",value:function(){this.setState({status:Cu,pos:0})}},{key:"release",value:function(i){this.setState({status:am,pos:i-this.state.y})}},{key:"fix",value:function(i){this.setState({status:Xs,pos:i})}},{key:"updateInitialDimension",value:function(i){if(i=i||{},!(!this.outerElement||!this.innerElement)){var a=this.outerElement.getBoundingClientRect(),o=this.innerElement.getBoundingClientRect(),s=a.width||a.right-a.left,l=o.height||o.bottom-o.top,u=a.top+this.scrollTop;this.setState({top:this.getTopPosition(i.top),bottom:Math.min(this.state.top+l,sg),width:s,height:l,x:a.left,y:u,bottomBoundary:this.getBottomBoundary(i.bottomBoundary),topBoundary:u})}}},{key:"handleResize",value:function(i,a){this.props.shouldFreeze()||(sg=a.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(i,a){this.frozen=this.props.shouldFreeze(),!this.frozen&&(this.scrollTop===a.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=a.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(i,a){if(this.skipNextScrollEvent){this.skipNextScrollEvent=!1;return}d5=a.scroll.delta,this.scrollTop=a.scroll.top,this.update()}},{key:"update",value:function(){var i=!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||this.state.width===0&&this.state.height===0;if(i){this.state.status!==Cu&&this.reset();return}var a=d5,o=this.scrollTop+this.state.top,s=this.scrollTop+this.state.bottom;if(o<=this.state.topBoundary)this.reset();else if(s>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>sg-this.state.top)switch(this.state.status){case Cu:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case am:this.stickyBottom=this.stickyTop+this.state.height,a>0&&s>this.stickyBottom?this.fix(this.state.bottom-this.state.height):a<0&&o<this.stickyTop&&this.fix(this.state.top);break;case Xs:var l=!0,u=this.state.pos,c=this.state.height;if(a>0&&u===this.state.top)this.stickyTop=o-a,this.stickyBottom=this.stickyTop+c;else if(a<0&&u===this.state.bottom-c)this.stickyBottom=s-a,this.stickyTop=this.stickyBottom-c;else if(u!==this.state.bottom-c&&u!==this.state.top){var d=u+c-this.state.bottom;this.stickyBottom=s-a+d,this.stickyTop=this.stickyBottom-c}else l=!1;l&&this.release(this.stickyTop);break}else this.fix(this.state.top);this.delta=a}},{key:"componentDidUpdate",value:function(i,a){var o=this;a.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),this.props.top!==a.top&&(this.updateInitialDimension(),this.update());var s=!oT(this.props,i);s&&(i.enabled!==this.props.enabled?this.props.enabled?this.setState({activated:!0},function(){o.updateInitialDimension(),o.update()}):this.setState({activated:!1},function(){o.reset()}):(i.top!==this.props.top||i.bottomBoundary!==this.props.bottomBoundary)&&(this.updateInitialDimension(),this.update()))}},{key:"componentWillUnmount",value:function(){for(var i=this.subscribers||[],a=i.length-1;a>=0;a--)this.subscribers[a].unsubscribe()}},{key:"componentDidMount",value:function(){uT||(uT=window,Id=document,lT=Id.documentElement,c5=Id.body,sg=uT.innerHeight||lT.clientHeight,Cd=window.Modernizr,Cd&&Cd.prefixed&&(f5=Cd.csstransforms3d,u5=Cd.prefixed("transform"))),this.scrollTop=c5.scrollTop+lT.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[aT("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),aT("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),aT("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(i,a){var o=f5&&this.props.enableTransforms;o&&this.state.activated?i[u5]="translate3d(0,"+Math.round(a)+"px,0)":i.top=a+"px"}},{key:"shouldComponentUpdate",value:function(i,a){return!this.props.shouldFreeze()&&!(oT(this.props,i)&&oT(this.state,a))}},{key:"render",value:function(){var i,a=this,o={position:this.state.status===Xs?"fixed":"relative",top:this.state.status===Xs?"0px":"",zIndex:this.props.innerZ},s={};this.translate(o,this.state.pos),this.state.status!==Cu&&(o.width=this.state.width+"px",s.height=this.state.height+"px");var l=s5("sticky-outer-wrapper",this.props.className,(i={},sT(i,this.props.activeClass,this.state.status===Xs),sT(i,this.props.releasedClass,this.state.status===am),i)),u=s5("sticky-inner-wrapper",this.props.innerClass,sT({},this.props.innerActiveClass,this.state.status===Xs)),c=this.props.children;return me.createElement("div",{ref:function(f){a.outerElement=f},className:l,style:s},me.createElement("div",{ref:function(f){a.innerElement=f},className:u,style:o},typeof c=="function"?c({status:this.state.status}):c))}}]),r}(z.Component);ms.displayName="Sticky";ms.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null,innerClass:"",innerActiveClass:""};ms.propTypes={enabled:we.bool,top:we.oneOfType([we.string,we.number]),bottomBoundary:we.oneOfType([we.object,we.string,we.number]),enableTransforms:we.bool,activeClass:we.string,releasedClass:we.string,innerClass:we.string,innerActiveClass:we.string,className:we.string,onStateChange:we.func,shouldFreeze:we.func,innerZ:we.oneOfType([we.string,we.number])};ms.STATUS_ORIGINAL=Cu;ms.STATUS_RELEASED=am;ms.STATUS_FIXED=Xs;function BJe(e){return H("div",{className:`mx-auto w-[600px] max-w-full px-2 sm:px-0 ${e.classNames||""}`,children:e.children})}function UJe(e){return H("div",{className:`mx-auto w-[700px] max-w-full px-8 sm:px-4 ${e.classNames||""}`,children:e.children})}const jJe=(e=!1)=>{const[t,r]=z.useState(e),[n,i]=z.useState(t);return z.useEffect(()=>{t&&i(!0)},[t]),[n,r,{style:{animation:`${t?"fadeIn":"fadeOut"} .3s`},onAnimationEnd:()=>{t||i(!1)}}]};function HJe(){const[e,t]=z.useState(!1),[r,n]=z.useState(!1);return[s=>{t(s),s&&n(!0)},{active:e,onBackdropHide(){n(!1)}},{style:r?{zIndex:"1000",position:"relative"}:{}}]}function KJe(e){const t=e.onClick||(()=>{}),r=e.onBackdropHide||(()=>{}),[n,i,a]=jJe();return z.useEffect(()=>{i(!!e.active)},[e.active,i]),z.useEffect(()=>{n||r()},[n]),n?H("div",{className:`pointer-events-auto fixed left-0 right-0 top-0 h-screen w-screen bg-black bg-opacity-50 opacity-100 transition-opacity ${n?"":"opacity-0"}`,...a,onClick:o=>t(o.nativeEvent)}):null}function GJe(e){const t=z.createRef(),r=z.createRef();return z.useEffect(()=>{let n=-1;function i(){if(t.current&&r.current){const a=t.current.getBoundingClientRect();r.current.style.top=`${a.top}px`,r.current.style.left=`${a.left}px`,r.current.style.width=`${a.width}px`,r.current.style.height=`${a.height}px`}n=window.requestAnimationFrame(i)}return i(),()=>{window.cancelAnimationFrame(n)}},[t,r]),ee("div",{ref:t,children:[Sl.createPortal(ee("div",{className:"pointer-events-none fixed top-0 left-0 z-[999]",children:[H(KJe,{active:e.active,...e}),H("div",{ref:r,className:"pointer-events-auto absolute",children:e.children})]}),document.body),H("div",{className:"invisible",children:e.children})]})}function _X({onClick:e,children:t,className:r}){return H("button",{onClick:e,className:r,type:"button",children:t})}function WJe({option:e,onClick:t,tabIndex:r}){return ee("div",{className:"flex h-10 cursor-pointer items-center space-x-2 px-4 py-2 text-left text-denim-700 transition-colors hover:text-white",onClick:t,tabIndex:r,children:[H(tt,{icon:e.icon}),H("input",{type:"radio",className:"hidden",id:e.id}),H("label",{htmlFor:e.id,className:"cursor-pointer ",children:H("div",{className:"item",children:e.name})})]})}const zJe=me.forwardRef((e,t)=>{const[r,n,i]=HJe(),[a,o]=z.useState(e.selectedItem);z.useEffect(()=>{let u;return e.open?o(e.selectedItem):u=setTimeout(()=>{o(e.selectedItem)},200),()=>{u&&clearTimeout(u)}},[e.open]);const s=e.options.find(u=>u.id===e.selectedItem)||{id:"movie",name:"movie",icon:ye.ARROW_LEFT};z.useEffect(()=>{r(e.open)},[e.open]);const l=(u,c)=>{u.stopPropagation(),e.setSelectedItem(c.id),e.setOpen(!1)};return H("div",{className:"w-full min-w-[140px] sm:w-auto",children:H("div",{ref:t,className:"relative w-full sm:w-auto",...i,children:ee(GJe,{onClick:()=>e.setOpen(!1),...n,children:[ee(_X,{...e,className:"sm:justify-left relative z-20 flex h-10 w-full items-center justify-center space-x-2 rounded-[20px] bg-bink-400 px-4 py-2 text-white hover:bg-bink-300",children:[H(tt,{icon:s.icon}),H("span",{className:"flex-1",children:s.name}),H(tt,{icon:ye.CHEVRON_DOWN,className:`transition-transform ${e.open?"rotate-180":""}`})]}),H("div",{className:`absolute top-0 z-10 w-full rounded-[20px] bg-denim-300 pt-[40px] transition-all duration-200 ${e.open?"block max-h-60 opacity-100":"invisible max-h-0 opacity-0"}`,children:e.options.filter(u=>u.id!==a).map(u=>H(WJe,{option:u,onClick:c=>l(c,u),tabIndex:e.open?0:void 0},u.id))})]})})})});function VJe({onChange:e,onUnFocus:t,value:r,label:n,className:i,placeholder:a}){const o=H("input",{type:"text",className:i,placeholder:a,onChange:s=>e&&e(s.target.value),value:r,onBlur:()=>t&&t()});return n?ee("label",{children:[H("span",{children:n}),o]}):o}function YJe(e){const{t}=Fe(),[r,n]=z.useState(!1);function i(o){e.onChange({...e.value,searchQuery:o},!1)}function a(o){e.onChange({...e.value,type:o},!0)}return ee("div",{className:"relative flex flex-col rounded-[28px] bg-denim-400 transition-colors focus-within:bg-denim-400 hover:bg-denim-500 sm:flex-row sm:items-center",children:[H("div",{className:"pointer-events-none absolute left-5 top-0 bottom-0 flex max-h-14 items-center",children:H(tt,{icon:ye.SEARCH})}),H(VJe,{onUnFocus:e.onUnFocus,onChange:o=>i(o),value:e.value.searchQuery,className:"w-full flex-1 bg-transparent px-4 py-4 pl-12 text-white  placeholder-denim-700 focus:outline-none sm:py-4 sm:pr-2",placeholder:e.placeholder}),H("div",{className:"px-4 py-4 pt-0 sm:py-2 sm:px-2",children:H(zJe,{icon:ye.SEARCH,open:r,setOpen:o=>n(o),selectedItem:e.value.type,setSelectedItem:o=>a(o),options:[{id:Ae.MOVIE,name:t("searchBar.movie"),icon:ye.FILM},{id:Ae.SERIES,name:t("searchBar.series"),icon:ye.CLAPPER_BOARD}],onClick:()=>n(o=>!o),children:e.buttonText||t("searchBar.search")})})]})}function XJe(e){const t=Object.values(Ae).find(n=>e.type===n)||Ae.MOVIE,r=decodeURIComponent(e.query||"");return{type:t,searchQuery:r}}function EX(){const e=Sf(),{path:t,params:r}=Oke(),[n,i]=z.useState(XJe(r));return[n,(s,l)=>{const u={...n};Object.assign(u,s),i(u),l&&e.replace(cy(t,{query:u.searchQuery.length===0?void 0:s.searchQuery,type:u.type}))},()=>{e.replace(cy(t,{query:n.searchQuery.length===0?void 0:n.searchQuery,type:n.type}))}]}function qJe(e,t){const[r,n]=z.useState(e);return z.useEffect(()=>{const i=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(i)}},[e,t]),r}const xX=new Set,hn=new WeakMap,mc=new WeakMap,Pl=new WeakMap,wA=new WeakMap,QJe=new WeakMap,Vc=new WeakMap,My=new WeakMap,Vd=new WeakSet;let Ll;const Ua="__aa_tgt",AA="__aa_del",ZJe=e=>{const t=net(e);t&&t.forEach(r=>iet(r))},JJe=e=>{e.forEach(t=>{t.target===Ll&&tet(),hn.has(t.target)&&Zl(t.target)})};function eet(e){const t=wA.get(e);t==null||t.disconnect();let r=hn.get(e),n=0;const i=5;r||(r=Yc(e),hn.set(e,r));const{offsetWidth:a,offsetHeight:o}=Ll,l=[r.top-i,a-(r.left+i+r.width),o-(r.top+i+r.height),r.left-i].map(c=>`${-1*Math.floor(c)}px`).join(" "),u=new IntersectionObserver(()=>{++n>1&&Zl(e)},{root:Ll,threshold:1,rootMargin:l});u.observe(e),wA.set(e,u)}function Zl(e){clearTimeout(My.get(e));const t=wE(e),r=typeof t=="function"?500:t.duration;My.set(e,setTimeout(async()=>{const n=Pl.get(e);try{await(n==null?void 0:n.finished),hn.set(e,Yc(e)),eet(e)}catch{}},r))}function tet(){clearTimeout(My.get(Ll)),My.set(Ll,setTimeout(()=>{xX.forEach(e=>wX(e,t=>SX(()=>Zl(t))))},100))}function ret(e){setTimeout(()=>{QJe.set(e,setInterval(()=>SX(Zl.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function SX(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let RA,Gu;typeof window<"u"&&(Ll=document.documentElement,RA=new MutationObserver(ZJe),Gu=new ResizeObserver(JJe),Gu.observe(Ll));function net(e){return e.reduce((n,i)=>[...n,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(n=>n.nodeName==="#comment")?!1:e.reduce((n,i)=>{if(n===!1)return!1;if(i.target instanceof Element){if(cT(i.target),!n.has(i.target)){n.add(i.target);for(let a=0;a<i.target.children.length;a++){const o=i.target.children.item(a);if(o){if(AA in o)return!1;cT(i.target,o),n.add(o)}}}if(i.removedNodes.length)for(let a=0;a<i.removedNodes.length;a++){const o=i.removedNodes[a];if(AA in o)return!1;o instanceof Element&&(n.add(o),cT(i.target,o),mc.set(o,[i.previousSibling,i.nextSibling]))}}return n},new Set)}function cT(e,t){!t&&!(Ua in e)?Object.defineProperty(e,Ua,{value:e}):t&&!(Ua in t)&&Object.defineProperty(t,Ua,{value:e})}function iet(e){var t;const r=e.isConnected,n=hn.has(e);r&&mc.has(e)&&mc.delete(e),Pl.has(e)&&((t=Pl.get(e))===null||t===void 0||t.cancel()),n&&r?aet(e):n&&!r?set(e):oet(e)}function Ki(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Yc(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function bX(e,t,r){let n=t.width,i=t.height,a=r.width,o=r.height;const s=getComputedStyle(e);if(s.getPropertyValue("box-sizing")==="content-box"){const u=Ki(s.paddingTop)+Ki(s.paddingBottom)+Ki(s.borderTopWidth)+Ki(s.borderBottomWidth),c=Ki(s.paddingLeft)+Ki(s.paddingRight)+Ki(s.borderRightWidth)+Ki(s.borderLeftWidth);n-=c,a-=c,i-=u,o-=u}return[n,a,i,o].map(Math.round)}function wE(e){return Ua in e&&Vc.has(e[Ua])?Vc.get(e[Ua]):{duration:250,easing:"ease-in-out"}}function TX(e){if(Ua in e)return e[Ua]}function XC(e){const t=TX(e);return t?Vd.has(t):!1}function wX(e,...t){t.forEach(r=>r(e,Vc.has(e)));for(let r=0;r<e.children.length;r++){const n=e.children.item(r);n&&t.forEach(i=>i(n,Vc.has(n)))}}function aet(e){const t=hn.get(e),r=Yc(e);if(!XC(e))return hn.set(e,r);let n;if(!t)return;const i=wE(e);if(typeof i!="function"){const a=t.left-r.left,o=t.top-r.top,[s,l,u,c]=bX(e,t,r),d={transform:`translate(${a}px, ${o}px)`},f={transform:"translate(0, 0)"};s!==l&&(d.width=`${s}px`,f.width=`${l}px`),u!==c&&(d.height=`${u}px`,f.height=`${c}px`),n=e.animate([d,f],{duration:i.duration,easing:i.easing})}else n=new Animation(i(e,"remain",t,r)),n.play();Pl.set(e,n),hn.set(e,r),n.addEventListener("finish",Zl.bind(null,e))}function oet(e){const t=Yc(e);hn.set(e,t);const r=wE(e);if(!XC(e))return;let n;typeof r!="function"?n=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"}):(n=new Animation(r(e,"add",t)),n.play()),Pl.set(e,n),n.addEventListener("finish",Zl.bind(null,e))}function set(e){var t;if(!mc.has(e)||!hn.has(e))return;const[r,n]=mc.get(e);Object.defineProperty(e,AA,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):r&&r.parentNode?r.parentNode.appendChild(e):(t=TX(e))===null||t===void 0||t.appendChild(e);function i(){var f;e.remove(),hn.delete(e),mc.delete(e),Pl.delete(e),(f=wA.get(e))===null||f===void 0||f.disconnect()}if(!XC(e))return i();const[a,o,s,l]=uet(e),u=wE(e),c=hn.get(e);let d;Object.assign(e.style,{position:"absolute",top:`${a}px`,left:`${o}px`,width:`${s}px`,height:`${l}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof u!="function"?d=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"}):(d=new Animation(u(e,"remove",c)),d.play()),Pl.set(e,d),d.addEventListener("finish",i)}function uet(e){const t=hn.get(e),[r,,n]=bX(e,t,Yc(e));let i=e.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const a=getComputedStyle(i),o=hn.get(i)||Yc(i),s=Math.round(t.top-o.top)-Ki(a.borderTopWidth),l=Math.round(t.left-o.left)-Ki(a.borderLeftWidth);return[s,l,r,n]}function cet(e,t={}){return RA&&Gu&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof t!="function"&&!t.disrespectUserMotionPreference||(Vd.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),wX(e,Zl,ret,i=>Gu==null?void 0:Gu.observe(i)),typeof t=="function"?Vc.set(e,t):Vc.set(e,{duration:250,easing:"ease-in-out",...t}),RA.observe(e,{childList:!0}),xX.add(e))),Object.freeze({parent:e,enable:()=>{Vd.add(e)},disable:()=>{Vd.delete(e)},isEnabled:()=>Vd.has(e)})}function qC(e){const[t,r]=z.useState();return[z.useCallback(a=>{a instanceof HTMLElement?r(cet(a,e)):r(void 0)},[]),a=>{t&&(a?t.enable():t.disable())}]}function fet(e){return ee("button",{type:"button",onClick:e.onClick,className:"inline-flex items-center justify-center rounded-lg bg-white px-8 py-3 font-bold text-black transition-[transform,background-color] duration-100 hover:bg-gray-200 active:scale-105 md:px-16",children:[e.icon?H("span",{className:"mr-3 hidden md:inline-block",children:H(tt,{icon:e.icon})}):null,e.children]})}function AX(e){const{t}=Fe(),[r]=qC(),n=z.useCallback(()=>{var i;(i=e.onEdit)==null||i.call(e,!e.editing)},[e]);return H(_X,{onClick:n,className:"flex h-12 items-center overflow-hidden rounded-full bg-denim-400 px-4 py-2 text-white transition-[background-color,transform] hover:bg-denim-500 active:scale-105",children:H("span",{ref:r,children:e.editing?H("span",{className:"mx-4 whitespace-nowrap",children:t("media.stopEditing")}):H(tt,{icon:ye.EDIT})})})}function QC(e){return H("div",{className:e.className,children:ee("div",{className:"mb-5 flex items-center",children:[ee("p",{className:"flex flex-1 items-center font-bold uppercase text-denim-700",children:[e.icon?H("span",{className:"mr-2 text-xl",children:H(tt,{icon:e.icon})}):null,e.title]}),e.children]})})}const ZC=z.forwardRef((e,t)=>H("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-3",ref:t,children:e.children}));function det(e){return H("p",{className:`font-semibold text-denim-700 ${e.className||""}`,children:e.content.map((t,r)=>ee("span",{children:[r!==0?H("span",{className:"mx-[0.6em] text-[1em]",children:"●"}):null,t]},t))})}function het({media:e,linkable:t,series:r,percentage:n,closable:i,onClose:a}){const{t:o}=Fe(),s=`${Math.round(n??0).toFixed(0)}%`,l=t&&!i,u=[o(`media.${e.type}`)];return e.year&&u.push(e.year),H("div",{className:`group -m-3 mb-2 rounded-xl bg-denim-300 bg-opacity-0 transition-colors duration-100 ${l?"hover:bg-opacity-100":""}`,children:ee("article",{className:`pointer-events-auto relative mb-2 p-3 transition-transform duration-100 ${l?"group-hover:scale-95":""}`,children:[ee("div",{className:["relative mb-4 aspect-[2/3] w-full overflow-hidden rounded-xl bg-denim-500 bg-cover bg-center transition-[border-radius] duration-100",i?"":"group-hover:rounded-lg"].join(" "),style:{backgroundImage:e.poster?`url(${e.poster})`:void 0},children:[r?H("div",{className:["absolute right-2 top-2 rounded-md bg-denim-200 py-1 px-2 transition-colors",i?"":"group-hover:bg-denim-500"].join(" "),children:H("p",{className:["text-center text-xs font-bold text-slate-400 transition-colors",i?"":"group-hover:text-white"].join(" "),children:o("seasons.seasonAndEpisode",{season:r.season,episode:r.episode})})}):null,n!==void 0?ee(Ir,{children:[H("div",{className:`absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-denim-300 to-transparent transition-colors ${l?"group-hover:from-denim-100":""}`}),H("div",{className:`absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-denim-300 to-transparent transition-colors ${l?"group-hover:from-denim-100":""}`}),H("div",{className:"absolute inset-x-0 bottom-0 p-3",children:H("div",{className:"relative h-1 overflow-hidden rounded-full bg-denim-600",children:H("div",{className:"absolute inset-y-0 left-0 rounded-full bg-bink-700",style:{width:s}})})})]}):null,H("div",{className:`absolute inset-0 flex items-center justify-center bg-denim-200 bg-opacity-80 transition-opacity duration-200 ${i?"opacity-100":"pointer-events-none opacity-0"}`,children:H(dn,{clickable:!0,className:"text-2xl text-slate-400",onClick:()=>i&&(a==null?void 0:a()),icon:ye.X})})]}),H("h1",{className:"mb-1 max-h-[4.5rem] text-ellipsis break-words font-bold text-white line-clamp-3",children:H("span",{children:e.title})}),H(det,{className:"text-xs",content:u})]})})}function vet(e){const t=H(het,{...e}),r=e.linkable&&!e.closable;let n=r?`/media/${encodeURIComponent(wMe(e.media))}`:"#";return r&&e.series&&(n+=`/${encodeURIComponent(e.series.seasonId)}/${encodeURIComponent(e.series.episodeId)}`),e.linkable?H(g0,{to:n,className:e.closable?"hover:cursor-default":"",children:t}):H("span",{children:t})}function pet(e){if(e)return{season:e.season,episode:e.episode,episodeId:e.episodeId,seasonId:e.seasonId}}function JC(e){var n;const{watched:t}=X_(),r=z.useMemo(()=>t.items.sort((i,a)=>a.watchedAt-i.watchedAt).find(i=>i.item.meta.id===e.media.id),[t,e.media]);return H(vet,{media:e.media,series:pet((n=r==null?void 0:r.item)==null?void 0:n.series),linkable:!0,percentage:r==null?void 0:r.percentage,onClose:e.onClose,closable:e.closable})}function get(){const{t:e}=Fe(),{getFilteredBookmarks:t,setItemBookmark:r}=rC(),n=t(),[i,a]=z.useState(!1),[o]=qC(),{watched:s}=X_(),l=z.useMemo(()=>n.map(u=>({...u,watched:s.items.sort((c,d)=>d.watchedAt-c.watchedAt).find(c=>c.item.meta.id===u.id)})).sort((u,c)=>{var d,f;return(((d=c.watched)==null?void 0:d.watchedAt)||0)-(((f=u.watched)==null?void 0:f.watchedAt)||0)}),[s.items,n]);return n.length===0?null:ee("div",{children:[H(QC,{title:e("search.bookmarks")||"Bookmarks",icon:ye.BOOKMARK,children:H(AX,{editing:i,onEdit:a})}),H(ZC,{ref:o,children:l.map(u=>H(JC,{media:u,closable:i,onClose:()=>r(u,!1)},u.id))})]})}function met(){const{t:e}=Fe(),{getFilteredBookmarks:t}=rC(),{getFilteredWatched:r,removeProgress:n}=X_(),[i,a]=z.useState(!1),[o]=qC(),s=t(),l=r().filter(u=>!JW(s,u.item.meta));return l.length===0?null:ee("div",{children:[H(QC,{title:e("search.continueWatching")||"Continue Watching",icon:ye.CLOCK,children:H(AX,{editing:i,onEdit:a})}),H(ZC,{ref:o,children:l.map(u=>H(JC,{media:u.item.meta,closable:i,onClose:()=>n(u.item.meta.id)},u.item.meta.id))})]})}function yet(){const[e,t]=z.useState(new URLSearchParams(window.location.search).get("migrated")==="1"||localStorage.getItem("mw-show-domain-modal")==="true"),[r,n]=z.useState(!1),i=Sf(),{t:a}=Fe(),o=z.useCallback(()=>{localStorage.setItem("mw-show-domain-modal","false"),t(!1)},[]);z.useEffect(()=>{const f=new URLSearchParams(i.location.search);f.delete("migrated"),f.get("migrated")==="1"&&localStorage.setItem("mw-show-domain-modal","true"),i.replace({search:f.toString()})},[i]),z.useEffect(()=>{setTimeout(()=>{n(!0)},500)},[]);const s=1e3*60*60*24,l=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(localStorage.getItem("firstVisitToSite")||Date.now());localStorage.setItem("firstVisitToSite",u.toISOString());const c=new Date(u.getTime()+14*s),d=`${c.getDate()} ${l[c.getMonth()]} ${c.getFullYear()}`;return H(JV,{show:e&&r,children:ee(eY,{children:[ee("div",{className:"mb-12",children:[H("div",{className:"absolute left-0 top-0 h-[300px] w-full -translate-y-1/2 opacity-50",style:{backgroundImage:"radial-gradient(ellipse 70% 9rem, #7831C1 0%, transparent 100%)"}}),H("div",{className:"relative flex items-center justify-center",children:H("div",{className:"rounded-full bg-bink-200 py-4 px-12 text-center text-sm font-bold text-white md:text-xl",children:a("v3.newDomain")})})]}),ee("div",{className:"space-y-6",children:[H("h2",{className:"text-2xl font-bold text-white",children:a("v3.newSiteTitle")}),H("p",{className:"leading-7",children:ee(qI,{i18nKey:"v3.newDomainText",values:{date:d},children:[H("span",{className:"text-slate-300"}),H("span",{className:"font-bold text-white"})]})}),H("p",{children:a("v3.tireless")})]}),H("div",{className:"mt-16 mb-6 flex items-center justify-center",children:H(fet,{icon:ye.PLAY,onClick:()=>o(),children:a("v3.leaveAnnouncement")})})]})})}function _et(){return ee("div",{className:"mb-16",children:[H(oKe,{}),H(yet,{}),H(get,{}),H(met,{})]})}function RX(){const{t:e}=Fe(),[t]=EX();return H(y0,{className:"mt-40 mb-24 ",text:e(`search.loading_${t.type}`)||e("search.loading")||"Fetching your favourite shows..."})}function h5(e){const{t}=Fe(),r=e.failed?ye.WARNING:ye.EYE_SLASH;return ee("div",{className:"mt-40 mb-24  flex flex-col items-center justify-center space-y-3 text-center",children:[H(dn,{icon:r,className:`text-xl ${e.failed?"text-red-400":"text-bink-600"}`}),e.failed?null:H("div",{children:(e.results??0)>0?H("p",{children:t("search.allResults")}):H("p",{children:t("search.noResults")})}),e.failed?H("div",{children:H("p",{children:t("search.allFailed")})}):null]})}function Eet({searchQuery:e}){const{t}=Fe(),[r,n]=z.useState([]),[i,a,o]=Tf(s=>qW(s));return z.useEffect(()=>{async function s(l){const u=await i(l);u&&n(u)}e.searchQuery!==""&&s(e)},[e,i]),a?H(RX,{}):o?H(h5,{failed:!0}):r?ee("div",{children:[r.length>0?ee("div",{children:[H(QC,{title:t("search.headingTitle")||"Search results",icon:ye.SEARCH}),H(ZC,{children:r.map(s=>H(JC,{media:s},s.id.toString()))})]}):null,H(h5,{results:r.length})]}):null}function xet({search:e}){const[t,r]=z.useState(!1),[n,i]=z.useState(!1),a=qJe(e,500);return z.useEffect(()=>{r(e.searchQuery!==""),i(e.searchQuery!=="")},[e]),z.useEffect(()=>{i(!1)},[a]),z.useMemo(()=>n?H(RX,{}):t?H(Eet,{searchQuery:a}):H(_et,{}),[n,t,a])}function bet(){const{t:e}=Fe(),[t,r,n]=EX(),[i,a]=z.useState(!1),o=z_(),s=z.useCallback(({status:l})=>a(l===ms.STATUS_FIXED),[a]);return ee(Ir,{children:[ee("div",{className:"relative z-10 mb-16 sm:mb-24",children:[H(la,{children:H("title",{children:e("global.name")})}),H(sY,{bg:i}),H(BJe,{children:ee("div",{className:"mt-44 space-y-16 text-center",children:[H("div",{className:"absolute left-0 bottom-0 right-0 flex h-0 justify-center",children:H("div",{className:"absolute bottom-4 h-[100vh] w-[3000px] rounded-[100%] bg-denim-300 md:w-[200vw]"})}),H("div",{className:"relative z-10 mb-16",children:H(m0,{className:"mx-auto max-w-xs",children:e("search.title")})}),H("div",{className:"relative z-30",children:H(ms,{enabled:!0,top:16+o,onStateChange:s,children:H(YJe,{onChange:r,value:t,onUnFocus:n,placeholder:e("search.placeholder")||"What do you want to watch?"})})})]})})]}),H(UJe,{children:H(xet,{search:t})})]})}function Tet(){return H(kMe,{children:H(UMe,{children:H(DMe,{children:H(INe,{children:H(DNe,{children:ee(Rke,{children:[H(_o,{exact:!0,path:"/v2-migration",component:sKe}),H(_o,{exact:!0,path:"/",children:H(xke,{to:`/search/${Ae.MOVIE}`})}),H(_o,{exact:!0,path:"/media/:media",component:FF}),H(_o,{exact:!0,path:"/media/:media/:season/:episode",component:FF}),H(_o,{exact:!0,path:"/search/:type/:query?",component:bet}),H(_o,{exact:!0,path:"/dev",component:z.lazy(()=>A2(()=>import("./DeveloperView-996d02af.js"),[]))}),H(_o,{exact:!0,path:"/dev/video",component:z.lazy(()=>A2(()=>import("./VideoTesterView-eb562180.js"),[]))}),null,H(_o,{path:"*",component:n7e})]})})})})})})}var OX={},IX={},CX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(typeof window<"u"){var s;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(s=window).gtag.apply(s,a)}},r=t;e.default=r})(CX);var PX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(s){return s.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,u,c){return u>0&&u+l.length!==c.length&&l.search(t)>-1&&c.charAt(u-2)!==":"&&(c.charAt(u+l.length)!=="-"||c.charAt(u-1)==="-")&&c.charAt(u-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function n(s){return typeof s=="string"&&s.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function a(s){return n(s)?(console.warn("This arg looks like an email address, redacting."),i):s}function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=s||"";return l&&(c=r(s)),u&&(c=a(c)),c}})(PX);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=o(CX),r=o(PX),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],a=["page","hitType"];function o(F){return F&&F.__esModule?F:{default:F}}function s(F,R){if(F==null)return{};var L=l(F,R),I,k;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(F);for(k=0;k<w.length;k++)I=w[k],!(R.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(F,I)&&(L[I]=F[I])}return L}function l(F,R){if(F==null)return{};var L={},I=Object.keys(F),k,w;for(w=0;w<I.length;w++)k=I[w],!(R.indexOf(k)>=0)&&(L[k]=F[k]);return L}function u(F){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},u(F)}function c(F){return m(F)||f(F)||p(F)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}function m(F){if(Array.isArray(F))return h(F)}function _(F,R){var L=Object.keys(F);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(F);R&&(I=I.filter(function(k){return Object.getOwnPropertyDescriptor(F,k).enumerable})),L.push.apply(L,I)}return L}function x(F){for(var R=1;R<arguments.length;R++){var L=arguments[R]!=null?arguments[R]:{};R%2?_(Object(L),!0).forEach(function(I){T(F,I,L[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(L)):_(Object(L)).forEach(function(I){Object.defineProperty(F,I,Object.getOwnPropertyDescriptor(L,I))})}return F}function v(F,R){return O(F)||S(F,R)||p(F,R)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(F,R){if(F){if(typeof F=="string")return h(F,R);var L=Object.prototype.toString.call(F).slice(8,-1);if(L==="Object"&&F.constructor&&(L=F.constructor.name),L==="Map"||L==="Set")return Array.from(F);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return h(F,R)}}function h(F,R){(R==null||R>F.length)&&(R=F.length);for(var L=0,I=new Array(R);L<R;L++)I[L]=F[L];return I}function S(F,R){var L=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(L!=null){var I,k,w,M,N=[],$=!0,B=!1;try{if(w=(L=L.call(F)).next,R===0){if(Object(L)!==L)return;$=!1}else for(;!($=(I=w.call(L)).done)&&(N.push(I.value),N.length!==R);$=!0);}catch(U){B=!0,k=U}finally{try{if(!$&&L.return!=null&&(M=L.return(),Object(M)!==M))return}finally{if(B)throw k}}return N}}function O(F){if(Array.isArray(F))return F}function y(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")}function E(F,R){for(var L=0;L<R.length;L++){var I=R[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,A(I.key),I)}}function b(F,R,L){return R&&E(F.prototype,R),L&&E(F,L),Object.defineProperty(F,"prototype",{writable:!1}),F}function T(F,R,L){return R=A(R),R in F?Object.defineProperty(F,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):F[R]=L,F}function A(F){var R=P(F,"string");return u(R)==="symbol"?R:String(R)}function P(F,R){if(u(F)!=="object"||F===null)return F;var L=F[Symbol.toPrimitive];if(L!==void 0){var I=L.call(F,R||"default");if(u(I)!=="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(F)}var C=function(){function F(){var R=this;y(this,F),T(this,"reset",function(){R.isInitialized=!1,R._testMode=!1,R._currentMeasurementId,R._hasLoadedGA=!1,R._isQueuing=!1,R._queueGtag=[]}),T(this,"_gtag",function(){for(var L=arguments.length,I=new Array(L),k=0;k<L;k++)I[k]=arguments[k];R._testMode||R._isQueuing?R._queueGtag.push(I):t.default.apply(void 0,I)}),T(this,"_loadGA",function(L,I){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!R._hasLoadedGA){var w=document.createElement("script");w.async=!0,w.src="".concat(k,"?id=").concat(L),I&&w.setAttribute("nonce",I),document.body.appendChild(w),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},R._hasLoadedGA=!0}}),T(this,"_toGtagOptions",function(L){if(L){var I={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},k=Object.entries(L).reduce(function(w,M){var N=v(M,2),$=N[0],B=N[1];return I[$]?w[I[$]]=B:w[$]=B,w},{});return k}}),T(this,"initialize",function(L){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!L)throw new Error("Require GA_MEASUREMENT_ID");var k=typeof L=="string"?[{trackingId:L}]:L;R._currentMeasurementId=k[0].trackingId;var w=I.gaOptions,M=I.gtagOptions,N=I.nonce,$=I.testMode,B=$===void 0?!1:$,U=I.gtagUrl;if(R._testMode=B,B||R._loadGA(R._currentMeasurementId,N,U),R.isInitialized||(R._gtag("js",new Date),k.forEach(function(G){var W=x(x(x({},R._toGtagOptions(x(x({},w),G.gaOptions))),M),G.gtagOptions);Object.keys(W).length?R._gtag("config",G.trackingId,W):R._gtag("config",G.trackingId)})),R.isInitialized=!0,!B){var j=c(R._queueGtag);for(R._queueGtag=[],R._isQueuing=!1;j.length;){var K=j.shift();R._gtag.apply(R,c(K)),K[0]==="get"&&(R._isQueuing=!0)}}}),T(this,"set",function(L){if(!L){console.warn("`fieldsObject` is required in .set()");return}if(u(L)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(L).length===0&&console.warn("empty `fieldsObject` given to .set()"),R._gaCommand("set",L)}),T(this,"_gaCommandSendEvent",function(L,I,k,w,M){R._gtag("event",I,x(x({event_category:L,event_label:k,value:w},M&&{non_interaction:M.nonInteraction}),R._toGtagOptions(M)))}),T(this,"_gaCommandSendEventParameters",function(){for(var L=arguments.length,I=new Array(L),k=0;k<L;k++)I[k]=arguments[k];if(typeof I[0]=="string")R._gaCommandSendEvent.apply(R,c(I.slice(1)));else{var w=I[0],M=w.eventCategory,N=w.eventAction,$=w.eventLabel,B=w.eventValue;w.hitType;var U=s(w,n);R._gaCommandSendEvent(M,N,$,B,U)}}),T(this,"_gaCommandSendTiming",function(L,I,k,w){R._gtag("event","timing_complete",{name:I,value:k,event_category:L,event_label:w})}),T(this,"_gaCommandSendPageview",function(L,I){if(I&&Object.keys(I).length){var k=R._toGtagOptions(I),w=k.title,M=k.location,N=s(k,i);R._gtag("event","page_view",x(x(x(x({},L&&{page_path:L}),w&&{page_title:w}),M&&{page_location:M}),N))}else L?R._gtag("event","page_view",{page_path:L}):R._gtag("event","page_view")}),T(this,"_gaCommandSendPageviewParameters",function(){for(var L=arguments.length,I=new Array(L),k=0;k<L;k++)I[k]=arguments[k];if(typeof I[0]=="string")R._gaCommandSendPageview.apply(R,c(I.slice(1)));else{var w=I[0],M=w.page;w.hitType;var N=s(w,a);R._gaCommandSendPageview(M,N)}}),T(this,"_gaCommandSend",function(){for(var L=arguments.length,I=new Array(L),k=0;k<L;k++)I[k]=arguments[k];var w=typeof I[0]=="string"?I[0]:I[0].hitType;switch(w){case"event":R._gaCommandSendEventParameters.apply(R,I);break;case"pageview":R._gaCommandSendPageviewParameters.apply(R,I);break;case"timing":R._gaCommandSendTiming.apply(R,c(I.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(w));break;default:console.warn("Send command doesn't exist: ".concat(w))}}),T(this,"_gaCommandSet",function(){for(var L=arguments.length,I=new Array(L),k=0;k<L;k++)I[k]=arguments[k];typeof I[0]=="string"&&(I[0]=T({},I[0],I[1])),R._gtag("set",R._toGtagOptions(I[0]))}),T(this,"_gaCommand",function(L){for(var I=arguments.length,k=new Array(I>1?I-1:0),w=1;w<I;w++)k[w-1]=arguments[w];switch(L){case"send":R._gaCommandSend.apply(R,k);break;case"set":R._gaCommandSet.apply(R,k);break;default:console.warn("Command doesn't exist: ".concat(L))}}),T(this,"ga",function(){for(var L=arguments.length,I=new Array(L),k=0;k<L;k++)I[k]=arguments[k];if(typeof I[0]=="string")R._gaCommand.apply(R,I);else{var w=I[0];R._gtag("get",R._currentMeasurementId,"client_id",function(M){R._isQueuing=!1;var N=R._queueGtag;for(w({get:function(U){return U==="clientId"?M:U==="trackingId"?R._currentMeasurementId:U==="apiVersion"?"1":void 0}});N.length;){var $=N.shift();R._gtag.apply(R,c($))}}),R._isQueuing=!0}return R.ga}),T(this,"event",function(L,I){if(typeof L=="string")R._gtag("event",L,R._toGtagOptions(I));else{var k=L.action,w=L.category,M=L.label,N=L.value,$=L.nonInteraction,B=L.transport;if(!w||!k){console.warn("args.category AND args.action are required in event()");return}var U={hitType:"event",eventCategory:(0,r.default)(w),eventAction:(0,r.default)(k)};M&&(U.eventLabel=(0,r.default)(M)),typeof N<"u"&&(typeof N!="number"?console.warn("Expected `args.value` arg to be a Number."):U.eventValue=N),typeof $<"u"&&(typeof $!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):U.nonInteraction=$),typeof B<"u"&&(typeof B!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(B)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),U.transport=B)),R._gaCommand("send",U)}}),T(this,"send",function(L){R._gaCommand("send",L)}),this.reset()}return b(F,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),F}();e.GA4=C;var D=new C;e.default=D})(IX);(function(e){function t(s){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var r=i(IX);function n(s){if(typeof WeakMap!="function")return null;var l=new WeakMap,u=new WeakMap;return(n=function(d){return d?u:l})(s)}function i(s,l){if(!l&&s&&s.__esModule)return s;if(s===null||t(s)!=="object"&&typeof s!="function")return{default:s};var u=n(l);if(u&&u.has(s))return u.get(s);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in s)if(f!=="default"&&Object.prototype.hasOwnProperty.call(s,f)){var m=d?Object.getOwnPropertyDescriptor(s,f):null;m&&(m.get||m.set)?Object.defineProperty(c,f,m):c[f]=s[f]}return c.default=s,u&&u.set(s,c),c}var a=r.GA4;e.ReactGAImplementation=a;var o=r.default;e.default=o})(OX);const wet=b1(OX);wet.initialize([{trackingId:gNe}]);const LX=Object.prototype.toString;function DX(e){switch(LX.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _s(e,Error)}}function Nf(e,t){return LX.call(e)===`[object ${t}]`}function $X(e){return Nf(e,"ErrorEvent")}function v5(e){return Nf(e,"DOMError")}function Aet(e){return Nf(e,"DOMException")}function ys(e){return Nf(e,"String")}function kX(e){return e===null||typeof e!="object"&&typeof e!="function"}function Xc(e){return Nf(e,"Object")}function eP(e){return typeof Event<"u"&&_s(e,Event)}function Ret(e){return typeof Element<"u"&&_s(e,Element)}function Oet(e){return Nf(e,"RegExp")}function tP(e){return!!(e&&e.then&&typeof e.then=="function")}function Iet(e){return Xc(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function NX(e){return typeof e=="number"&&e!==e}function _s(e,t){try{return e instanceof t}catch{return!1}}function lg(e){return e&&e.Math==Math?e:void 0}const Zt=typeof globalThis=="object"&&lg(globalThis)||typeof window=="object"&&lg(window)||typeof self=="object"&&lg(self)||typeof global=="object"&&lg(global)||function(){return this}()||{};function k0(){return Zt}function rP(e,t,r){const n=r||Zt,i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}const om=k0(),Cet=80;function qc(e,t={}){try{let r=e;const n=5,i=[];let a=0,o=0;const s=" > ",l=s.length;let u;const c=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Cet;for(;r&&a++<n&&(u=Pet(r,c),!(u==="html"||a>1&&o+i.length*l+u.length>=d));)i.push(u),o+=u.length,r=r.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function Pet(e,t){const r=e,n=[];let i,a,o,s,l;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>r.getAttribute(d)).map(d=>[d,r.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{n.push(`[${d[0]}="${d[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&ys(i))for(a=i.split(/\s+/),l=0;l<a.length;l++)n.push(`.${a[l]}`);const c=["aria-label","type","name","title","alt"];for(l=0;l<c.length;l++)o=c[l],s=r.getAttribute(o),s&&n.push(`[${o}="${s}"]`);return n.join("")}function Let(){try{return om.document.location.href}catch{return""}}function Det(e){return om.document&&om.document.querySelector?om.document.querySelector(e):null}class wr extends Error{constructor(t,r="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}const $et=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ket(e){return e==="http"||e==="https"}function AE(e,t=!1){const{host:r,path:n,pass:i,port:a,projectId:o,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${r}${a?`:${a}`:""}/${n&&`${n}/`}${o}`}function Net(e){const t=$et.exec(e);if(!t)throw new wr(`Invalid Sentry Dsn: ${e}`);const[r,n,i="",a,o="",s]=t.slice(1);let l="",u=s;const c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return MX({host:a,pass:i,path:l,projectId:u,port:o,protocol:r,publicKey:n})}function MX(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Met(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:t,projectId:r,protocol:n}=e;if(["protocol","publicKey","host","projectId"].forEach(a=>{if(!e[a])throw new wr(`Invalid Sentry Dsn: ${a} missing`)}),!r.match(/^\d+$/))throw new wr(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!ket(n))throw new wr(`Invalid Sentry Dsn: Invalid protocol ${n}`);if(t&&isNaN(parseInt(t,10)))throw new wr(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function Fet(e){const t=typeof e=="string"?Net(e):MX(e);return Met(t),t}const Bet="Sentry Logger ",bv=["debug","info","warn","error","log","assert","trace"];function FX(e){if(!("console"in Zt))return e();const t=Zt.console,r={};bv.forEach(n=>{const i=t[n]&&t[n].__sentry_original__;n in t&&i&&(r[n]=t[n],t[n]=i)});try{return e()}finally{Object.keys(r).forEach(n=>{t[n]=r[n]})}}function p5(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?bv.forEach(r=>{t[r]=(...n)=>{e&&FX(()=>{Zt.console[r](`${Bet}[${r}]:`,...n)})}}):bv.forEach(r=>{t[r]=()=>{}}),t}let se;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?se=rP("logger",p5):se=p5();function Ah(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Fy(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const i=e[n];try{r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Uet(e,t,r=!1){return ys(e)?Oet(t)?t.test(e):ys(t)?r?e===t:e.includes(t):!1:!1}function N0(e,t=[],r=!1){return t.some(n=>Uet(e,n,r))}function Jt(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);if(typeof i=="function")try{BX(i,n)}catch{}e[t]=i}function nP(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function BX(e,t){const r=t.prototype||{};e.prototype=t.prototype=r,nP(e,"__sentry_original__",t)}function iP(e){return e.__sentry_original__}function jet(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function UX(e){if(DX(e))return{message:e.message,name:e.name,stack:e.stack,...m5(e)};if(eP(e)){const t={type:e.type,target:g5(e.target),currentTarget:g5(e.currentTarget),...m5(e)};return typeof CustomEvent<"u"&&_s(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function g5(e){try{return Ret(e)?qc(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function m5(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Het(e,t=40){const r=Object.keys(UX(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Ah(r[0],t);for(let n=r.length;n>0;n--){const i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:Ah(i,t)}return""}function rs(e){return OA(e,new Map)}function OA(e,t){if(Xc(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const i of Object.keys(e))typeof e[i]<"u"&&(n[i]=OA(e[i],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(i=>{n.push(OA(i,t))}),n}return e}const jX=50,y5=/\(error: (.*)\)/;function HX(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{const i=[],a=r.split(`
`);for(let o=n;o<a.length;o++){const s=a[o];if(s.length>1024)continue;const l=y5.test(s)?s.replace(y5,"$1"):s;if(!l.match(/\S*Error: /)){for(const u of t){const c=u(l);if(c){i.push(c);break}}if(i.length>=jX)break}}return Get(i)}}function Ket(e){return Array.isArray(e)?HX(...e):e}function Get(e){if(!e.length)return[];const t=e.slice(0,jX),r=t[t.length-1].function;r&&/sentryWrapped/.test(r)&&t.pop(),t.reverse();const n=t[t.length-1].function;return n&&/captureMessage|captureException/.test(n)&&t.pop(),t.map(i=>({...i,filename:i.filename||t[t.length-1].filename,function:i.function||"?"}))}const fT="<anonymous>";function Es(e){try{return!e||typeof e!="function"?fT:e.name||fT}catch{return fT}}const IA=k0();function KX(){if(!("fetch"in IA))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function CA(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function GX(){if(!KX())return!1;if(CA(IA.fetch))return!0;let e=!1;const t=IA.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=CA(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}const ug=k0();function Wet(){const e=ug.chrome,t=e&&e.app&&e.app.runtime,r="history"in ug&&!!ug.history.pushState&&!!ug.history.replaceState;return!t&&r}const xt=k0(),fl="__sentry_xhr_v2__",Rh={},_5={};function zet(e){if(!_5[e])switch(_5[e]=!0,e){case"console":Vet();break;case"dom":ttt();break;case"xhr":qet();break;case"fetch":Yet();break;case"history":Qet();break;case"error":rtt();break;case"unhandledrejection":ntt();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("unknown instrumentation type:",e);return}}function Br(e,t){Rh[e]=Rh[e]||[],Rh[e].push(t),zet(e)}function Li(e,t){if(!(!e||!Rh[e]))for(const r of Rh[e]||[])try{r(t)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Es(r)}
Error:`,n)}}function Vet(){"console"in xt&&bv.forEach(function(e){e in xt.console&&Jt(xt.console,e,function(t){return function(...r){Li("console",{args:r,level:e}),t&&t.apply(xt.console,r)}})})}function Yet(){GX()&&Jt(xt,"fetch",function(e){return function(...t){const{method:r,url:n}=Xet(t),i={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return Li("fetch",{...i}),e.apply(xt,t).then(a=>(Li("fetch",{...i,endTimestamp:Date.now(),response:a}),a),a=>{throw Li("fetch",{...i,endTimestamp:Date.now(),error:a}),a})}})}function PA(e,t){return!!e&&typeof e=="object"&&!!e[t]}function E5(e){return typeof e=="string"?e:e?PA(e,"url")?e.url:e.toString?e.toString():"":""}function Xet(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[r,n]=e;return{url:E5(r),method:PA(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:E5(t),method:PA(t,"method")?String(t.method).toUpperCase():"GET"}}function qet(){if(!("XMLHttpRequest"in xt))return;const e=XMLHttpRequest.prototype;Jt(e,"open",function(t){return function(...r){const n=r[1],i=this[fl]={method:ys(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};ys(n)&&i.method==="POST"&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const o=this[fl];if(o&&this.readyState===4){try{o.status_code=this.status}catch{}Li("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Jt(this,"onreadystatechange",function(o){return function(...s){return a(),o.apply(this,s)}}):this.addEventListener("readystatechange",a),Jt(this,"setRequestHeader",function(o){return function(...s){const[l,u]=s,c=this[fl];return c&&(c.request_headers[l.toLowerCase()]=u),o.apply(this,s)}}),t.apply(this,r)}}),Jt(e,"send",function(t){return function(...r){const n=this[fl];return n&&r[0]!==void 0&&(n.body=r[0]),Li("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),t.apply(this,r)}})}let cg;function Qet(){if(!Wet())return;const e=xt.onpopstate;xt.onpopstate=function(...r){const n=xt.location.href,i=cg;if(cg=n,Li("history",{from:i,to:n}),e)try{return e.apply(this,r)}catch{}};function t(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const a=cg,o=String(i);cg=o,Li("history",{from:a,to:o})}return r.apply(this,n)}}Jt(xt.history,"pushState",t),Jt(xt.history,"replaceState",t)}const Zet=1e3;let fg,dg;function Jet(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function ett(e){if(e.type!=="keypress")return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function x5(e,t=!1){return r=>{if(!r||dg===r||ett(r))return;const n=r.type==="keypress"?"input":r.type;fg===void 0?(e({event:r,name:n,global:t}),dg=r):Jet(dg,r)&&(e({event:r,name:n,global:t}),dg=r),clearTimeout(fg),fg=xt.setTimeout(()=>{fg=void 0},Zet)}}function ttt(){if(!("document"in xt))return;const e=Li.bind(null,"dom"),t=x5(e,!0);xt.document.addEventListener("click",t,!1),xt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=xt[r]&&xt[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Jt(n,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},c=u[a]=u[a]||{refCount:0};if(!c.handler){const d=x5(e);c.handler=d,i.call(this,a,d,s)}c.refCount++}catch{}return i.call(this,a,o,s)}}),Jt(n,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__||{},c=u[a];c&&(c.refCount--,c.refCount<=0&&(i.call(this,a,c.handler,s),c.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,s)}}))})}let hg=null;function rtt(){hg=xt.onerror,xt.onerror=function(e,t,r,n,i){return Li("error",{column:n,error:i,line:r,msg:e,url:t}),hg&&!hg.__SENTRY_LOADER__?hg.apply(this,arguments):!1},xt.onerror.__SENTRY_INSTRUMENTED__=!0}let vg=null;function ntt(){vg=xt.onunhandledrejection,xt.onunhandledrejection=function(e){return Li("unhandledrejection",e),vg&&!vg.__SENTRY_LOADER__?vg.apply(this,arguments):!0},xt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function itt(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let a=0;a<t.length;a++)if(t[a]===i)return!0;return t.push(i),!1}function n(i){if(e)t.delete(i);else for(let a=0;a<t.length;a++)if(t[a]===i){t.splice(a,1);break}}return[r,n]}function ns(){const e=Zt,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const r=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function WX(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Io(e){const{message:t,event_id:r}=e;if(t)return t;const n=WX(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function LA(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=r||"Error")}function Qc(e,t){const r=WX(e);if(!r)return;const n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...t},t&&"data"in t){const a={...i&&i.data,...t.data};r.mechanism.data=a}}function S5(e){if(e&&e.__sentry_captured__)return!0;try{nP(e,"__sentry_captured__",!0)}catch{}return!1}function zX(e){return Array.isArray(e)?e:[e]}function att(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ott(){return"npm"}function stt(){return!att()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ltt(e,t){return e.require(t)}function wo(e,t=1/0,r=1/0){try{return DA("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function VX(e,t=3,r=100*1024){const n=wo(e,t);return dtt(n)>r?VX(e,t-1,r):n}function DA(e,t,r=1/0,n=1/0,i=itt()){const[a,o]=i;if(t===null||["number","boolean","string"].includes(typeof t)&&!NX(t))return t;const s=utt(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;let l=r;if(typeof t.__sentry_override_normalization_depth__=="number"&&(l=t.__sentry_override_normalization_depth__),l===0)return s.replace("object ","");if(a(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return DA("",m,l-1,n,i)}catch{}const c=Array.isArray(t)?[]:{};let d=0;const f=UX(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(d>=n){c[m]="[MaxProperties ~]";break}const _=f[m];c[m]=DA(m,_,l-1,n,i),d++}return o(t),c}function utt(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Iet(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(t===void 0)return"[undefined]";if(typeof t=="function")return`[Function: ${Es(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=ctt(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function ctt(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function ftt(e){return~-encodeURI(e).split(/%..|./).length}function dtt(e){return ftt(JSON.stringify(e))}var Ca;(function(e){e[e.PENDING=0]="PENDING";const r=1;e[e.RESOLVED=r]="RESOLVED";const n=2;e[e.REJECTED=n]="REJECTED"})(Ca||(Ca={}));function Dl(e){return new Fr(t=>{t(e)})}function By(e){return new Fr((t,r)=>{r(e)})}class Fr{__init(){this._state=Ca.PENDING}__init2(){this._handlers=[]}constructor(t){Fr.prototype.__init.call(this),Fr.prototype.__init2.call(this),Fr.prototype.__init3.call(this),Fr.prototype.__init4.call(this),Fr.prototype.__init5.call(this),Fr.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Fr((n,i)=>{this._handlers.push([!1,a=>{if(!t)n(a);else try{n(t(a))}catch(o){i(o)}},a=>{if(!r)i(a);else try{n(r(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Fr((r,n)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){n(i);return}r(i)})})}__init3(){this._resolve=t=>{this._setResult(Ca.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(Ca.REJECTED,t)}}__init5(){this._setResult=(t,r)=>{if(this._state===Ca.PENDING){if(tP(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===Ca.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Ca.RESOLVED&&r[1](this._value),this._state===Ca.REJECTED&&r[2](this._value),r[0]=!0)})}}}function htt(e){const t=[];function r(){return e===void 0||t.length<e}function n(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!r())return By(new wr("Not adding Promise because buffer limit was reached."));const s=o();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s}function a(o){return new Fr((s,l)=>{let u=t.length;if(!u)return s(!0);const c=setTimeout(()=>{o&&o>0&&s(!1)},o);t.forEach(d=>{Dl(d).then(()=>{--u||(clearTimeout(c),s(!0))},l)})})}return{$:t,add:i,drain:a}}function dT(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}const vtt=["fatal","error","warning","log","info","debug"];function YX(e){return e==="warn"?"warning":vtt.includes(e)?e:"log"}const XX=k0(),$A={nowSeconds:()=>Date.now()/1e3};function ptt(){const{performance:e}=XX;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function gtt(){try{return ltt(module,"perf_hooks").performance}catch{return}}const hT=stt()?gtt():ptt(),b5=hT===void 0?$A:{nowSeconds:()=>(hT.timeOrigin+hT.now())/1e3},RE=$A.nowSeconds.bind($A),$l=b5.nowSeconds.bind(b5),xs=(()=>{const{performance:e}=XX;if(!e||!e.now)return;const t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,a=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+r-n):t,u=l<t;return a||u?i<=l?e.timeOrigin:o:n})(),mtt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ytt(e){const t=e.match(mtt);if(!e||!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function M0(e,t=[]){return[e,t]}function _tt(e,t){const[r,n]=e;return[r,[...n,t]]}function T5(e,t){const r=e[1];for(const n of r){const i=n[0].type;if(t(n,i))return!0}return!1}function kA(e,t){return(t||new TextEncoder).encode(e)}function Ett(e,t){const[r,n]=e;let i=JSON.stringify(r);function a(o){typeof i=="string"?i=typeof o=="string"?i+o:[kA(i,t),o]:i.push(typeof o=="string"?kA(o,t):o)}for(const o of n){const[s,l]=o;if(a(`
${JSON.stringify(s)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(wo(l))}a(u)}}return typeof i=="string"?i:xtt(i)}function xtt(e){const t=e.reduce((i,a)=>i+a.length,0),r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function Stt(e,t){const r=typeof e.data=="string"?kA(e.data,t):e.data;return[rs({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}const btt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function w5(e){return btt[e]}function qX(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Ttt(e,t,r,n){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&{dsn:AE(n)},...i&&{trace:rs({...i})}}}function wtt(e,t,r){const n=[{type:"client_report"},{timestamp:r||RE(),discarded_events:e}];return M0(t?{dsn:t}:{},[n])}const Att=60*1e3;function Rtt(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?Att:n-t}function Ott(e,t){return e[t]||e.all||0}function Itt(e,t,r=Date.now()){return Ott(e,t)>r}function Ctt(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},a=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(a)for(const s of a.trim().split(",")){const[l,u]=s.split(":",2),c=parseInt(l,10),d=(isNaN(c)?60:c)*1e3;if(!u)i.all=n+d;else for(const f of u.split(";"))i[f]=n+d}else o?i.all=n+Rtt(o,n):t===429&&(i.all=n+60*1e3);return i}const NA="baggage",QX="sentry-",Ptt=/^sentry-/,Ltt=8192;function Dtt(e){if(!ys(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((n,i)=>{const a=A5(i);return{...n,...a}},{});else{if(!e)return;t=A5(e)}const r=Object.entries(t).reduce((n,[i,a])=>{if(i.match(Ptt)){const o=i.slice(QX.length);n[o]=a}return n},{});if(Object.keys(r).length>0)return r}function ZX(e){const t=Object.entries(e).reduce((r,[n,i])=>(i&&(r[`${QX}${n}`]=i),r),{});return $tt(t)}function A5(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(t[r]=n,t),{})}function $tt(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],i)=>{const a=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,o=i===0?a:`${t},${a}`;return o.length>Ltt?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):o},"")}class dl{static __initStatic(){this.id="CaptureConsole"}__init(){this.name=dl.id}__init2(){this._levels=bv}constructor(t={}){dl.prototype.__init.call(this),dl.prototype.__init2.call(this),t.levels&&(this._levels=t.levels)}setupOnce(t,r){"console"in Zt&&this._levels.forEach(n=>{n in Zt.console&&Jt(Zt.console,n,i=>(...a)=>{const o=r();o.getIntegration(dl)&&o.withScope(s=>{s.setLevel(YX(n)),s.setExtra("arguments",a),s.addEventProcessor(u=>(u.logger="console",u));let l=Fy(a," ");n==="assert"?a[0]===!1&&(l=`Assertion failed: ${Fy(a.slice(1)," ")||"console.assert"}`,s.setExtra("arguments",a.slice(1)),o.captureMessage(l)):n==="error"&&a[0]instanceof Error?o.captureException(a[0]):o.captureMessage(l)}),i&&i.apply(Zt.console,a)})})}}dl.__initStatic();function ktt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class Tv{static __initStatic(){this.id="HttpClient"}__init(){this.name=Tv.id}constructor(t){Tv.prototype.__init.call(this),this._options={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...t}}setupOnce(t,r){this._getCurrentHub=r,this._wrapFetch(),this._wrapXHR()}_fetchResponseHandler(t,r,n){if(this._getCurrentHub&&this._shouldCaptureResponse(r.status,r.url)){const i=Ntt(t,n),a=this._getCurrentHub();let o,s,l,u;a.shouldSendDefaultPii()&&([{headers:o,cookies:l},{headers:s,cookies:u}]=[{cookieHeader:"Cookie",obj:i},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:d,obj:f})=>{const m=this._extractFetchHeaders(f.headers);let _;try{const x=m[d]||m[d.toLowerCase()]||void 0;x&&(_=this._parseCookieString(x))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`Could not extract cookies from header ${d}`)}return{headers:m,cookies:_}}));const c=this._createEvent({url:i.url,method:i.method,status:r.status,requestHeaders:o,responseHeaders:s,requestCookies:l,responseCookies:u});a.captureEvent(c)}}_xhrResponseHandler(t,r,n){if(this._getCurrentHub&&this._shouldCaptureResponse(t.status,t.responseURL)){let i,a,o;const s=this._getCurrentHub();if(s.shouldSendDefaultPii()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(a=this._parseCookieString(u))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("Could not extract cookies from response headers")}try{o=this._getXHRResponseHeaders(t)}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("Could not extract headers from response")}i=n}const l=this._createEvent({url:t.responseURL,method:r,status:t.status,requestHeaders:i,responseHeaders:o,responseCookies:a});s.captureEvent(l)}}_getResponseSizeFromHeaders(t){if(t){const r=t["Content-Length"]||t["content-length"];if(r)return parseInt(r,10)}}_parseCookieString(t){return t.split("; ").reduce((r,n)=>{const[i,a]=n.split("=");return r[i]=a,r},{})}_extractFetchHeaders(t){const r={};return t.forEach((n,i)=>{r[i]=n}),r}_getXHRResponseHeaders(t){const r=t.getAllResponseHeaders();return r?r.split(`\r
`).reduce((n,i)=>{const[a,o]=i.split(": ");return n[a]=o,n},{}):{}}_isInGivenRequestTargets(t){return this._options.failedRequestTargets?this._options.failedRequestTargets.some(r=>typeof r=="string"?t.includes(r):r.test(t)):!1}_isInGivenStatusRanges(t){return this._options.failedRequestStatusCodes?this._options.failedRequestStatusCodes.some(r=>typeof r=="number"?r===t:t>=r[0]&&t<=r[1]):!1}_wrapFetch(){GX()&&Br("fetch",t=>{const{response:r,args:n}=t,[i,a]=n;r&&this._fetchResponseHandler(i,r,a)})}_wrapXHR(){"XMLHttpRequest"in Zt&&Br("xhr",t=>{const{xhr:r}=t,n=r[fl];if(!n)return;const{method:i,request_headers:a}=n;if(i)try{this._xhrResponseHandler(r,i,a)}catch(o){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Error while extracting response event form XHR response",o)}})}_isSentryRequest(t){const r=this._getCurrentHub&&this._getCurrentHub().getClient();if(!r)return!1;const n=r.getDsn();return n?t.includes(n.host):!1}_shouldCaptureResponse(t,r){return this._isInGivenStatusRanges(t)&&this._isInGivenRequestTargets(r)&&!this._isSentryRequest(r)}_createEvent(t){const r=`HTTP Client Error with status code: ${t.status}`,n={message:r,exception:{values:[{type:"Error",value:r}]},request:{url:t.url,method:t.method,headers:t.requestHeaders,cookies:t.requestCookies},contexts:{response:{status_code:t.status,headers:t.responseHeaders,cookies:t.responseCookies,body_size:this._getResponseSizeFromHeaders(t.responseHeaders)}}};return Qc(n,{type:"http.client"}),n}}Tv.__initStatic();function Ntt(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}const aP="production";function Mtt(e){const t=$l(),r={sid:ns(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Btt(r)};return e&&Zc(r,e),r}function Zc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||$l(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ns()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ftt(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),Zc(e,r)}function Btt(e){return rs({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Utt=100;class ml{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const r=new ml;return t&&(r._breadcrumbs=[...t._breadcrumbs],r._tags={...t._tags},r._extra={...t._extra},r._contexts={...t._contexts},r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=[...t._eventProcessors],r._requestSession=t._requestSession,r._attachments=[...t._attachments],r._sdkProcessingMetadata={...t._sdkProcessingMetadata}),r}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Zc(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const r=t(this);return r instanceof ml?r:this}return t instanceof ml?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Xc(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,r){const n=typeof r=="number"?r:Utt;if(n<=0)return this;const i={timestamp:RE(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,r={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const n=this._span.transaction;if(n){t.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const i=n.name;i&&(t.tags={transaction:i,...t.tags})}}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...JX(),...this._eventProcessors],t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,r,n,i=0){return new Fr((a,o)=>{const s=t[i];if(r===null||typeof s!="function")a(r);else{const l=s({...r},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&s.id&&l===null&&se.log(`Event processor "${s.id}" dropped event`),tP(l)?l.then(u=>this._notifyEventProcessors(t,u,n,i+1).then(a)).then(null,o):this._notifyEventProcessors(t,l,n,i+1).then(a).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?zX(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function JX(){return rP("globalEventProcessors",()=>[])}function oP(e){JX().push(e)}const eq=4,jtt=100;class tq{constructor(t,r=new ml,n=eq){this._version=n,this._stack=[{scope:r}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=ml.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const r=this.pushScope();try{t(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:ns(),i=new Error("Sentry syntheticException");return this._withClient((a,o)=>{a.captureException(t,{originalException:t,syntheticException:i,...r,event_id:n},o)}),n}captureMessage(t,r,n){const i=this._lastEventId=n&&n.event_id?n.event_id:ns(),a=new Error(t);return this._withClient((o,s)=>{o.captureMessage(t,r,{originalException:t,syntheticException:a,...n,event_id:i},s)}),i}captureEvent(t,r){const n=r&&r.event_id?r.event_id:ns();return t.type||(this._lastEventId=n),this._withClient((i,a)=>{i.captureEvent(t,{...r,event_id:n},a)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){const{scope:n,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:o=jtt}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const l={timestamp:RE(),...t},u=a?FX(()=>a(l,r)):l;u!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r)}configureScope(t){const{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){const r=R5(this);try{t(this)}finally{R5(r)}}getIntegration(t){const r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){const n=this._callExtensionMethod("startTransaction",t,r);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const r=this.getStackTop().scope,n=r.getSession();n&&Ftt(n),this._sendSessionUpdate(),r.setSession()}startSession(t){const{scope:r,client:n}=this.getStackTop(),{release:i,environment:a=aP}=n&&n.getOptions()||{},{userAgent:o}=Zt.navigator||{},s=Mtt({release:i,environment:a,user:r.getUser(),...o&&{userAgent:o},...t}),l=r.getSession&&r.getSession();return l&&l.status==="ok"&&Zc(l,{status:"exited"}),this.endSession(),r.setSession(s),s}shouldSendDefaultPii(){const t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(t){const{scope:r,client:n}=this.getStackTop();n&&t(n,r)}_callExtensionMethod(t,...r){const i=F0().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function F0(){return Zt.__SENTRY__=Zt.__SENTRY__||{extensions:{},hub:void 0},Zt}function R5(e){const t=F0(),r=MA(t);return rq(t,e),r}function bt(){const e=F0();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Htt(e)}function Htt(e=F0()){return(!Ktt(e)||MA(e).isOlderThan(eq))&&rq(e,new tq),MA(e)}function Ktt(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function MA(e){return rP("hub",()=>new tq,e)}function rq(e,t){if(!e)return!1;const r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function sP(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=bt().getClient(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function B0(e){return(e||bt()).getScope().getTransaction()}let O5=!1;function Gtt(){O5||(O5=!0,Br("error",FA),Br("unhandledrejection",FA))}function FA(){const e=B0();if(e){const t="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}FA.tag="sentry_tracingErrorCallback";class OE{__init(){this.spans=[]}constructor(t=1e3){OE.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Pa{__init2(){this.traceId=ns()}__init3(){this.spanId=ns().substring(16)}__init4(){this.startTimestamp=$l()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(t){if(Pa.prototype.__init2.call(this),Pa.prototype.__init3.call(this),Pa.prototype.__init4.call(this),Pa.prototype.__init5.call(this),Pa.prototype.__init6.call(this),Pa.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}startChild(t){const r=new Pa({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){const n=t&&t.op||"< unknown op >",i=r.transaction.name||"< unknown name >",a=r.transaction.spanId,o=`[Tracing] Starting '${n}' span on transaction '${i}' (${a}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:o},se.log(o)}return r}setTag(t,r){return this.tags={...this.tags,[t]:r},this}setData(t,r){return this.data={...this.data,[t]:r},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const r=Wtt(t);return r!=="unknown_error"&&this.setStatus(r),this}isSuccess(){return this.status==="ok"}finish(t){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&se.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:$l()}toTraceparent(){let t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return rs({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return rs({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return rs({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function Wtt(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class yc extends Pa{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(t,r){super(t),yc.prototype.__init.call(this),yc.prototype.__init2.call(this),yc.prototype.__init3.call(this),this._hub=r||bt(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,r="custom"){this._name=t,this.metadata.source=r}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new OE(t)),this.spanRecorder.add(this)}setContext(t,r){r===null?delete this._contexts[t]:this._contexts[t]=r}setMeasurement(t,r,n=""){this._measurements[t]={value:r,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}const n=this.spanRecorder?this.spanRecorder.spans.filter(s=>s!==this&&s.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((s,l)=>s.endTimestamp&&l.endTimestamp?s.endTimestamp>l.endTimestamp?s:l:s).endTimestamp);const i=this.metadata,a={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(a)}toContext(){const t=super.toContext();return rs({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||bt(),r=t&&t.getClient();if(!r)return{};const{environment:n,release:i}=r.getOptions()||{},{publicKey:a}=r.getDsn()||{},o=this.metadata.sampleRate,s=o!==void 0?o.toString():void 0,{segment:l}=t.getScope().getUser()||{},u=this.metadata.source,c=u&&u!=="url"?this.name:void 0,d=rs({environment:n||aP,release:i,transaction:c,user_segment:l,public_key:a,trace_id:this.traceId,sample_rate:s});return r.emit&&r.emit("createDsc",d),d}setHub(t){this._hub=t}}const sm={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},ztt="finishReason",xu=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Vtt extends OE{constructor(t,r,n,i){super(i),this._pushActivity=t,this._popActivity=r,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=r=>{t.endTimestamp=typeof r=="number"?r:$l(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}}class Ao extends yc{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=xu[4]}constructor(t,r,n=sm.idleTimeout,i=sm.finalTimeout,a=sm.heartbeatInterval,o=!1){super(t,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=a,this._onScope=o,Ao.prototype.__init.call(this),Ao.prototype.__init2.call(this),Ao.prototype.__init3.call(this),Ao.prototype.__init4.call(this),Ao.prototype.__init5.call(this),Ao.prototype.__init6.call(this),o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(s=>s.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=xu[3],this.finish())},this._finalTimeout)}finish(t=$l()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(ztt,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=t,r.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const n=r.startTimestamp<t;return n||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(r,void 0,2)),n}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const r=i=>{this._finished||this._pushActivity(i)},n=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new Vtt(r,n,this.spanId,t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=xu[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=xu[1],this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] popActivity ${t}`),delete this.activities[t],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const r=$l();this._idleTimeoutCanceledPermanently?(this._finishReason=xu[5],this.finish(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=xu[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Ytt(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function nq(e,t,r){if(!sP(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:typeof t.tracesSampleRate<"u"?(n=t.tracesSampleRate,e.setMetadata({sampleRate:Number(n)})):(n=1,e.setMetadata({sampleRate:n})),Xtt(n)?n?(e.sampled=Math.random()<n,e.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),e)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Xtt(e){return NX(e)||!(typeof e=="number"||typeof e=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function qtt(e,t){const r=this.getClient(),n=r&&r.getOptions()||{},i=n.instrumenter||"sentry",a=e.instrumenter||"sentry";i!==a&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new yc(e,this);return o=nq(o,n,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.sampled&&o.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",o),o}function I5(e,t,r,n,i,a,o){const s=e.getClient(),l=s&&s.getOptions()||{};let u=new Ao(t,e,r,n,o,i);return u=nq(u,l,{parentSampled:t.parentSampled,transactionContext:t,...a}),u.sampled&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",u),u}function Qtt(){const e=F0();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=qtt),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Ytt),Gtt())}function Ztt(e,t){return bt().captureException(e,{captureContext:t})}function Jtt(e){bt().withScope(e)}const ert="7";function trt(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function rrt(e){return`${trt(e)}${e.projectId}/envelope/`}function nrt(e,t){return jet({sentry_key:e.publicKey,sentry_version:ert,...t&&{sentry_client:`${t.name}/${t.version}`}})}function irt(e,t={}){const r=typeof t=="string"?t:t.tunnel,n=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return r||`${rrt(e)}?${nrt(e,n)}`}function art(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function ort(e,t,r,n){const i=qX(r),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&{dsn:AE(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return M0(a,[o])}function srt(e,t,r,n){const i=qX(r),a=e.type&&e.type!=="replay_event"?e.type:"event";art(e,r&&r.sdk);const o=Ttt(e,i,n,t);return delete e.sdkProcessingMetadata,M0(o,[[{type:a},e]])}const C5=[];function lrt(e){const t={};return e.forEach(r=>{const{name:n}=r,i=t[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.keys(t).map(r=>t[r])}function urt(e){const t=e.defaultIntegrations||[],r=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...t,...r]:typeof r=="function"?n=zX(r(t)):n=t;const i=lrt(n),a=frt(i,o=>o.name==="Debug");if(a!==-1){const[o]=i.splice(a,1);i.push(o)}return i}function crt(e){const t={};return e.forEach(r=>{r&&iq(r,t)}),t}function iq(e,t){t[e.name]=e,C5.indexOf(e.name)===-1&&(e.setupOnce(oP,bt),C5.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`Integration installed: ${e.name}`))}function frt(e,t){for(let r=0;r<e.length;r++)if(t(e[r])===!0)return r;return-1}function drt(e,t,r,n){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,o={...t,event_id:t.event_id||r.event_id||ns(),timestamp:t.timestamp||RE()},s=r.integrations||e.integrations.map(c=>c.name);hrt(o,e),prt(o,s),t.type===void 0&&vrt(o,e.stackParser);let l=n;r.captureContext&&(l=ml.clone(l).update(r.captureContext));let u=Dl(o);if(l){if(l.getAttachments){const c=[...r.attachments||[],...l.getAttachments()];c.length&&(r.attachments=c)}u=l.applyToEvent(o,r)}return u.then(c=>typeof i=="number"&&i>0?grt(c,i,a):c)}function hrt(e,t){const{environment:r,release:n,dist:i,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?r:aP),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Ah(e.message,a));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Ah(o.value,a));const s=e.request;s&&s.url&&(s.url=Ah(s.url,a))}const P5=new WeakMap;function vrt(e,t){const r=Zt._sentryDebugIds;if(!r)return;let n;const i=P5.get(t);i?n=i:(n=new Map,P5.set(t,n));const a=Object.keys(r).reduce((l,u)=>{let c;const d=n.get(u);d?c=d:(c=t(u),n.set(u,c));for(let f=c.length-1;f>=0;f--){const m=c[f];if(m.filename){l[m.filename]=r[u];break}}return l},{}),o=new Set;try{e.exception.values.forEach(l=>{l.stacktrace.frames.forEach(u=>{u.filename&&o.add(u.filename)})})}catch{}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const s=e.debug_meta.images;o.forEach(l=>{a[l]&&s.push({type:"sourcemap",code_file:l,debug_id:a[l]})})}function prt(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function grt(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:wo(i.data,t,r)}}))},...e.user&&{user:wo(e.user,t,r)},...e.contexts&&{contexts:wo(e.contexts,t,r)},...e.extra&&{extra:wo(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=wo(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(i=>(i.data&&(i.data=wo(i.data,t,r)),i))),n}const L5="Not capturing exception because it's already been captured.";class el{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(el.prototype.__init.call(this),el.prototype.__init2.call(this),el.prototype.__init3.call(this),el.prototype.__init4.call(this),el.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=Fet(t.dsn);const r=irt(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("No DSN provided, client will not do anything.")}captureException(t,r,n){if(S5(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(L5);return}let i=r&&r.event_id;return this._process(this.eventFromException(t,r).then(a=>this._captureEvent(a,r,n)).then(a=>{i=a})),i}captureMessage(t,r,n,i){let a=n&&n.event_id;const o=kX(t)?this.eventFromMessage(String(t),r,n):this.eventFromException(t,n);return this._process(o.then(s=>this._captureEvent(s,n,i)).then(s=>{a=s})),a}captureEvent(t,r,n){if(r&&r.originalException&&S5(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(L5);return}let i=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(a=>{i=a})),i}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Zc(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?this._isClientDoneProcessing(t).then(n=>r.flush(t).then(i=>n&&i)):Dl(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=crt(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){iq(t,this._integrations)}sendEvent(t,r={}){if(this._dsn){let n=srt(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of r.attachments||[])n=_tt(n,Stt(a,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(n);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}}sendSession(t){if(this._dsn){const r=ort(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const i=`${t}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(t,r){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(r)}emit(t,...r){this._hooks[t]&&this._hooks[t].forEach(n=>n(...r))}_updateSessionFromEvent(t,r){let n=!1,i=!1;const a=r.exception&&r.exception.values;if(a){i=!0;for(const l of a){const u=l.mechanism;if(u&&u.handled===!1){n=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&n)&&(Zc(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Fr(r=>{let n=0;const i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=i,t&&n>=t&&(clearInterval(a),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,r,n){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),drt(i,t,r,n)}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const a=i;a.logLevel==="log"?se.log(a.message):se.warn(a)}})}_processEvent(t,r,n){const i=this.getOptions(),{sampleRate:a}=i;if(!this._isEnabled())return By(new wr("SDK not enabled, will not capture event.","log"));const o=oq(t),s=aq(t),l=t.type||"error",u=`before send for type \`${l}\``;if(s&&typeof a=="number"&&Math.random()>a)return this.recordDroppedEvent("sample_rate","error",t),By(new wr(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const c=l==="replay_event"?"replay":l;return this._prepareEvent(t,r,n).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",c,t),new wr("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return d;const m=yrt(i,d,r);return mrt(m,u)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",c,t),new wr(`${u} returned \`null\`, will not send event.`,"log");const f=n&&n.getSession();!o&&f&&this._updateSessionFromEvent(f,d);const m=d.transaction_info;if(o&&m&&d.transaction!==t.transaction){const _="custom";d.transaction_info={...m,source:_}}return this.sendEvent(d,r),d}).then(null,d=>{throw d instanceof wr?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new wr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(r=>{const[n,i]=r.split(":");return{reason:n,category:i,quantity:t[r]}})}}function mrt(e,t){const r=`${t} must return \`null\` or a valid event.`;if(tP(e))return e.then(n=>{if(!Xc(n)&&n!==null)throw new wr(r);return n},n=>{throw new wr(`${t} rejected with ${n}`)});if(!Xc(e)&&e!==null)throw new wr(r);return e}function yrt(e,t,r){const{beforeSend:n,beforeSendTransaction:i}=e;return aq(t)&&n?n(t,r):oq(t)&&i?i(t,r):t}function aq(e){return e.type===void 0}function oq(e){return e.type==="transaction"}function _rt(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?se.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const r=bt();r.getScope().update(t.initialScope);const i=new e(t);r.bindClient(i)}const Ert=30;function sq(e,t,r=htt(e.bufferSize||Ert)){let n={};const i=o=>r.drain(o);function a(o){const s=[];if(T5(o,(d,f)=>{const m=w5(f);if(Itt(n,m)){const _=D5(d,f);e.recordDroppedEvent("ratelimit_backoff",m,_)}else s.push(d)}),s.length===0)return Dl();const l=M0(o[0],s),u=d=>{T5(l,(f,m)=>{const _=D5(f,m);e.recordDroppedEvent(d,w5(m),_)})},c=()=>t({body:Ett(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),n=Ctt(n,d),d),d=>{throw u("network_error"),d});return r.add(c).then(d=>d,d=>{if(d instanceof wr)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error("Skipped sending event because buffer is full."),u("queue_overflow"),Dl();throw d})}return a.__sentry__baseTransport__=!0,{send:a,flush:i}}function D5(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const Uy="7.49.0";let $5;class wv{constructor(){wv.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=wv.id}setupOnce(){$5=Function.prototype.toString,Function.prototype.toString=function(...t){const r=iP(this)||this;return $5.apply(r,t)}}}wv.__initStatic();const xrt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class _c{static __initStatic(){this.id="InboundFilters"}__init(){this.name=_c.id}constructor(t={}){this._options=t,_c.prototype.__init.call(this)}setupOnce(t,r){const n=i=>{const a=r();if(a){const o=a.getIntegration(_c);if(o){const s=a.getClient(),l=s?s.getOptions():{},u=Srt(o._options,l);return brt(i,u)?null:i}}return i};n.id=this.name,t(n)}}_c.__initStatic();function Srt(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...xrt],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function brt(e,t){return t.ignoreInternal&&Irt(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Event dropped due to being internal Sentry Error.
Event: ${Io(e)}`),!0):Trt(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Io(e)}`),!0):wrt(e,t.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Io(e)}`),!0):Art(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Io(e)}.
Url: ${jy(e)}`),!0):Rrt(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Io(e)}.
Url: ${jy(e)}`),!0)}function Trt(e,t){return e.type||!t||!t.length?!1:Ort(e).some(r=>N0(r,t))}function wrt(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const r=e.transaction;return r?N0(r,t):!1}function Art(e,t){if(!t||!t.length)return!1;const r=jy(e);return r?N0(r,t):!1}function Rrt(e,t){if(!t||!t.length)return!0;const r=jy(e);return r?N0(r,t):!0}function Ort(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:r=""}=e.exception.values&&e.exception.values[0]||{};return[`${r}`,`${t}: ${r}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error(`Cannot extract message for event ${Io(e)}`),[]}return[]}function Irt(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Crt(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function jy(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Crt(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.error(`Cannot extract url for event ${Io(e)}`),null}}const ct=Zt;let BA=0;function lq(){return BA>0}function Prt(){BA++,setTimeout(()=>{BA--})}function Jc(e,t={},r){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(iP(e))return e}catch{return e}const n=function(){const i=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const a=i.map(o=>Jc(o,t));return e.apply(this,a)}catch(a){throw Prt(),Jtt(o=>{o.addEventProcessor(s=>(t.mechanism&&(LA(s,void 0,void 0),Qc(s,t.mechanism)),s.extra={...s.extra,arguments:i},s)),Ztt(a)}),a}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch{}BX(n,e),nP(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}function uq(e,t){const r=lP(e,t),n={type:t&&t.name,value:krt(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Lrt(e,t,r,n){const a=bt().getClient(),o=a&&a.getOptions().normalizeDepth,s={exception:{values:[{type:eP(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${Het(t)}`}]},extra:{__serialized__:VX(t,o)}};if(r){const l=lP(e,r);l.length&&(s.exception.values[0].stacktrace={frames:l})}return s}function vT(e,t){return{exception:{values:[uq(e,t)]}}}function lP(e,t){const r=t.stacktrace||t.stack||"",n=$rt(t);try{return e(r,n)}catch{}return[]}const Drt=/Minified React error #\d+;/i;function $rt(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Drt.test(e.message))return 1}return 0}function krt(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Nrt(e,t,r,n){const i=r&&r.syntheticException||void 0,a=uP(e,t,i,n);return Qc(a),a.level="error",r&&r.event_id&&(a.event_id=r.event_id),Dl(a)}function Mrt(e,t,r="info",n,i){const a=n&&n.syntheticException||void 0,o=UA(e,t,a,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),Dl(o)}function uP(e,t,r,n,i){let a;if($X(t)&&t.error)return vT(e,t.error);if(v5(t)||Aet(t)){const o=t;if("stack"in t)a=vT(e,t);else{const s=o.name||(v5(o)?"DOMError":"DOMException"),l=o.message?`${s}: ${o.message}`:s;a=UA(e,l,r,n),LA(a,l)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return DX(t)?vT(e,t):Xc(t)||eP(t)?(a=Lrt(e,t,r,i),Qc(a,{synthetic:!0}),a):(a=UA(e,t,r,n),LA(a,`${t}`,void 0),Qc(a,{synthetic:!0}),a)}function UA(e,t,r,n){const i={message:t};if(n&&r){const a=lP(e,r);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}return i}const pg=1024,cq="Breadcrumbs";class Av{static __initStatic(){this.id=cq}__init(){this.name=Av.id}constructor(t){Av.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&Br("console",Brt),this.options.dom&&Br("dom",Frt(this.options.dom)),this.options.xhr&&Br("xhr",Urt),this.options.fetch&&Br("fetch",jrt),this.options.history&&Br("history",Hrt)}addSentryBreadcrumb(t){this.options.sentry&&bt().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Io(t)},{event:t})}}Av.__initStatic();function Frt(e){function t(r){let n,i=typeof e=="object"?e.serializeAttribute:void 0,a=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;a&&a>pg&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`\`dom.maxStringLength\` cannot exceed ${pg}, but a value of ${a} was configured. Sentry will use ${pg} instead.`),a=pg),typeof i=="string"&&(i=[i]);try{const o=r.event;n=Krt(o)?qc(o.target,{keyAttrs:i,maxStringLength:a}):qc(o,{keyAttrs:i,maxStringLength:a})}catch{n="<unknown>"}n.length!==0&&bt().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global})}return t}function Brt(e){for(let r=0;r<e.args.length;r++)if(e.args[r]==="ref=Ref<"){e.args[r+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:YX(e.level),message:Fy(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${Fy(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;bt().addBreadcrumb(t,{input:e.args,level:e.level})}function Urt(e){const{startTimestamp:t,endTimestamp:r}=e,n=e.xhr[fl];if(!t||!r||!n)return;const{method:i,url:a,status_code:o,body:s}=n,l={method:i,url:a,status_code:o},u={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:r};bt().addBreadcrumb({category:"xhr",data:l,type:"http"},u)}function jrt(e){const{startTimestamp:t,endTimestamp:r}=e;if(r&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){const n=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:r};bt().addBreadcrumb({category:"fetch",data:n,level:"error",type:"http"},i)}else{const n={...e.fetchData,status_code:e.response&&e.response.status},i={input:e.args,response:e.response,startTimestamp:t,endTimestamp:r};bt().addBreadcrumb({category:"fetch",data:n,type:"http"},i)}}function Hrt(e){let t=e.from,r=e.to;const n=dT(ct.location.href);let i=dT(t);const a=dT(r);i.path||(i=n),n.protocol===a.protocol&&n.host===a.host&&(r=a.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),bt().addBreadcrumb({category:"navigation",data:{from:t,to:r}})}function Krt(e){return e&&!!e.target}function Grt(e,{metadata:t,tunnel:r,dsn:n}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:AE(n)}},a=Wrt(e);return M0(i,[a])}function Wrt(e){return[{type:"user_report"},e]}class zrt extends el{constructor(t){const r=ct.SENTRY_SDK_SOURCE||ott();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:Uy}],version:Uy},super(t),t.sendClientReports&&ct.document&&ct.document.addEventListener("visibilitychange",()=>{ct.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return Nrt(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return Mrt(this._options.stackParser,t,r,n,this._options.attachStacktrace)}sendEvent(t,r){const n=this.getIntegrationById(cq);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(t),super.sendEvent(t,r)}captureUserFeedback(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("SDK not enabled, will not capture user feedback.");return}const r=Grt(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("Sending outcomes:",t);const r=wtt(t,this._options.tunnel&&AE(this._dsn));this._sendEnvelope(r)}}let Yd;function Vrt(){if(Yd)return Yd;if(CA(ct.fetch))return Yd=ct.fetch.bind(ct);const e=ct.document;let t=ct.fetch;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Yd=t.bind(ct)}function Yrt(){Yd=void 0}function Xrt(e,t=Vrt()){let r=0,n=0;function i(a){const o=a.body.length;r+=o,n++;const s={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{return t(e.url,s).then(l=>(r-=o,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return Yrt(),r-=o,n--,By(l)}}return sq(e,i)}const qrt=4;function Qrt(e){function t(r){return new Fr((n,i)=>{const a=new XMLHttpRequest;a.onerror=i,a.onreadystatechange=()=>{a.readyState===qrt&&n({statusCode:a.status,headers:{"x-sentry-rate-limits":a.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":a.getResponseHeader("Retry-After")}})},a.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&a.setRequestHeader(o,e.headers[o]);a.send(r.body)})}return sq(e,t)}const IE="?",Zrt=30,Jrt=40,ent=50;function cP(e,t,r,n){const i={filename:e,function:t,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const tnt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rnt=/\((\S*)(?::(\d+))(?::(\d+))\)/,nnt=e=>{const t=tnt.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const a=rnt.exec(t[2]);a&&(t[2]=a[1],t[3]=a[2],t[4]=a[3])}const[n,i]=fq(t[1]||IE,t[2]);return cP(i,n,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},int=[Zrt,nnt],ant=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ont=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,snt=e=>{const t=ant.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=ont.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],i=t[1]||IE;return[i,n]=fq(i,n),cP(n,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},lnt=[ent,snt],unt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,cnt=e=>{const t=unt.exec(e);return t?cP(t[2],t[1]||IE,+t[3],t[4]?+t[4]:void 0):void 0},fnt=[Jrt,cnt],dnt=[int,lnt,fnt],hnt=HX(...dnt),fq=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:IE,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class is{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=is.id}__init2(){this._installFunc={onerror:vnt,onunhandledrejection:pnt}}constructor(t){is.prototype.__init.call(this),is.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const r in t){const n=this._installFunc[r];n&&t[r]&&(ynt(r),n(),this._installFunc[r]=void 0)}}}is.__initStatic();function vnt(){Br("error",e=>{const[t,r,n]=vq();if(!t.getIntegration(is))return;const{msg:i,url:a,line:o,column:s,error:l}=e;if(lq()||l&&l.__sentry_own_request__)return;const u=l===void 0&&ys(i)?mnt(i,a,o,s):dq(uP(r,l||i,void 0,n,!1),a,o,s);u.level="error",hq(t,l,u,"onerror")})}function pnt(){Br("unhandledrejection",e=>{const[t,r,n]=vq();if(!t.getIntegration(is))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch{}if(lq()||i&&i.__sentry_own_request__)return!0;const a=kX(i)?gnt(i):uP(r,i,void 0,n,!0);a.level="error",hq(t,i,a,"onunhandledrejection")})}function gnt(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function mnt(e,t,r,n){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=$X(e)?e.message:e,o="Error";const s=a.match(i);return s&&(o=s[1],a=s[2]),dq({exception:{values:[{type:o,value:a}]}},t,r,n)}function dq(e,t,r,n){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},l=s.frames=s.frames||[],u=isNaN(parseInt(n,10))?void 0:n,c=isNaN(parseInt(r,10))?void 0:r,d=ys(t)&&t.length>0?t:Let();return l.length===0&&l.push({colno:u,filename:d,function:"?",in_app:!0,lineno:c}),e}function ynt(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`Global Handler attached: ${e}`)}function hq(e,t,r,n){Qc(r,{handled:!1,type:n}),e.captureEvent(r,{originalException:t})}function vq(){const e=bt(),t=e.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,r.stackParser,r.attachStacktrace]}const _nt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Rv{static __initStatic(){this.id="TryCatch"}__init(){this.name=Rv.id}constructor(t){Rv.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&Jt(ct,"setTimeout",k5),this._options.setInterval&&Jt(ct,"setInterval",k5),this._options.requestAnimationFrame&&Jt(ct,"requestAnimationFrame",Ent),this._options.XMLHttpRequest&&"XMLHttpRequest"in ct&&Jt(XMLHttpRequest.prototype,"send",xnt);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:_nt).forEach(Snt)}}Rv.__initStatic();function k5(e){return function(...t){const r=t[0];return t[0]=Jc(r,{mechanism:{data:{function:Es(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Ent(e){return function(t){return e.apply(this,[Jc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Es(e)},handled:!0,type:"instrument"}})])}}function xnt(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Jt(r,i,function(a){const o={mechanism:{data:{function:i,handler:Es(a)},handled:!0,type:"instrument"}},s=iP(a);return s&&(o.mechanism.data.handler=Es(s)),Jc(a,o)})}),e.apply(this,t)}}function Snt(e){const t=ct,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Jt(r,"addEventListener",function(n){return function(i,a,o){try{typeof a.handleEvent=="function"&&(a.handleEvent=Jc(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Es(a),target:e},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,Jc(a,{mechanism:{data:{function:"addEventListener",handler:Es(a),target:e},handled:!0,type:"instrument"}}),o])}}),Jt(r,"removeEventListener",function(n){return function(i,a,o){const s=a;try{const l=s&&s.__sentry_wrapped__;l&&n.call(this,i,l,o)}catch{}return n.call(this,i,s,o)}}))}const bnt="cause",Tnt=5;class Ec{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Ec.id}constructor(t={}){Ec.prototype.__init.call(this),this._key=t.key||bnt,this._limit=t.limit||Tnt}setupOnce(){const t=bt().getClient();t&&oP((r,n)=>{const i=bt().getIntegration(Ec);return i?wnt(t.getOptions().stackParser,i._key,i._limit,r,n):r})}}Ec.__initStatic();function wnt(e,t,r,n,i){if(!n.exception||!n.exception.values||!i||!_s(i.originalException,Error))return n;const a=pq(e,r,i.originalException,t);return n.exception.values=[...a,...n.exception.values],n}function pq(e,t,r,n,i=[]){if(!_s(r[n],Error)||i.length+1>=t)return i;const a=uq(e,r[n]);return pq(e,t,r[n],n,[a,...i])}class xc{constructor(){xc.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=xc.id}setupOnce(){oP(t=>{if(bt().getIntegration(xc)){if(!ct.navigator&&!ct.location&&!ct.document)return t;const r=t.request&&t.request.url||ct.location&&ct.location.href,{referrer:n}=ct.document||{},{userAgent:i}=ct.navigator||{},a={...t.request&&t.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}},o={...t.request,...r&&{url:r},headers:a};return{...t,request:o}}return t})}}xc.__initStatic();class Sc{constructor(){Sc.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Sc.id}setupOnce(t,r){const n=i=>{if(i.type)return i;const a=r().getIntegration(Sc);if(a){try{if(Ant(i,a._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return a._previousEvent=i}return a._previousEvent=i}return i};n.id=this.name,t(n)}}Sc.__initStatic();function Ant(e,t){return t?!!(Rnt(e,t)||Ont(e,t)):!1}function Rnt(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!mq(e,t)||!gq(e,t))}function Ont(e,t){const r=N5(t),n=N5(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!mq(e,t)||!gq(e,t))}function gq(e,t){let r=M5(e),n=M5(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){const a=n[i],o=r[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function mq(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function N5(e){return e.exception&&e.exception.values&&e.exception.values[0]}function M5(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Int=[new _c,new wv,new Rv,new Av,new is,new Ec,new Sc,new xc];function Cnt(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Int),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),ct.SENTRY_RELEASE&&ct.SENTRY_RELEASE.id&&(e.release=ct.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Ket(e.stackParser||hnt),integrations:urt(e),transport:e.transport||(KX()?Xrt:Qrt)};_rt(zrt,t),e.autoSessionTracking&&Pnt()}function F5(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Pnt(){if(typeof ct.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=bt();e.captureSession&&(F5(e),Br("history",({from:t,to:r})=>{t===void 0||t===r||F5(bt())}))}const ft=Zt;function Lnt(){ft&&ft.document?ft.document.addEventListener("visibilitychange",()=>{const e=B0();if(ft.document.hidden&&e){const t="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const fP=(e,t,r)=>{let n,i;return a=>{t.value>=0&&(a||r)&&(i=t.value-(n||0),(i||n===void 0)&&(n=t.value,t.delta=i,e(t)))}},Dnt=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,$nt=()=>{const e=ft.performance.timing,t=ft.performance.navigation.type,r={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const n in e)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r},yq=()=>ft.__WEB_VITALS_POLYFILL__?ft.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||$nt()):ft.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],_q=()=>{const e=yq();return e&&e.activationStart||0},dP=(e,t)=>{const r=yq();let n="navigate";return r&&(ft.document.prerendering||_q()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Dnt(),navigationType:n}},U0=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(i=>{t(i.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch{}},CE=(e,t)=>{const r=n=>{(n.type==="pagehide"||ft.document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},knt=e=>{const t=dP("CLS",0);let r,n=0,i=[];const a=s=>{s.forEach(l=>{if(!l.hadRecentInput){const u=i[0],c=i[i.length-1];n&&i.length!==0&&l.startTime-c.startTime<1e3&&l.startTime-u.startTime<5e3?(n+=l.value,i.push(l)):(n=l.value,i=[l]),n>t.value&&(t.value=n,t.entries=i,r&&r())}})},o=U0("layout-shift",a);if(o){r=fP(e,t);const s=()=>{a(o.takeRecords()),r(!0)};return CE(s),s}};let lm=-1;const Nnt=()=>ft.document.visibilityState==="hidden"&&!ft.document.prerendering?0:1/0,Mnt=()=>{CE(({timeStamp:e})=>{lm=e},!0)},hP=()=>(lm<0&&(lm=Nnt(),Mnt()),{get firstHiddenTime(){return lm}}),Fnt=e=>{const t=hP(),r=dP("FID");let n;const i=s=>{s.startTime<t.firstHiddenTime&&(r.value=s.processingStart-s.startTime,r.entries.push(s),n(!0))},a=s=>{s.forEach(i)},o=U0("first-input",a);n=fP(e,r),o&&CE(()=>{a(o.takeRecords()),o.disconnect()},!0)},B5={},Bnt=e=>{const t=hP(),r=dP("LCP");let n;const i=o=>{const s=o[o.length-1];if(s){const l=Math.max(s.startTime-_q(),0);l<t.firstHiddenTime&&(r.value=l,r.entries=[s],n())}},a=U0("largest-contentful-paint",i);if(a){n=fP(e,r);const o=()=>{B5[r.id]||(i(a.takeRecords()),a.disconnect(),B5[r.id]=!0,n(!0))};return["keydown","click"].forEach(s=>{addEventListener(s,o,{once:!0,capture:!0})}),CE(o,!0),o}};function pT(e){return typeof e=="number"&&isFinite(e)}function ef(e,{startTimestamp:t,...r}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...r})}function Gt(e){return e/1e3}function Eq(){return ft&&ft.addEventListener&&ft.performance}let U5=0,Lt={},Gi,Oh;function Unt(){const e=Eq();if(e&&xs){e.mark&&ft.performance.mark("sentry-tracing-init"),Wnt();const t=Knt(),r=Gnt();return()=>{t&&t(),r&&r()}}return()=>{}}function jnt(){U0("longtask",t=>{for(const r of t){const n=B0();if(!n)return;const i=Gt(xs+r.startTime),a=Gt(r.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+a})}})}function Hnt(){U0("event",t=>{for(const r of t){const n=B0();if(!n)return;if(r.name==="click"){const i=Gt(xs+r.startTime),a=Gt(r.duration);n.startChild({description:qc(r.target),op:`ui.interaction.${r.name}`,startTimestamp:i,endTimestamp:i+a})}}},{durationThreshold:0})}function Knt(){return knt(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding CLS"),Lt.cls={value:e.value,unit:""},Oh=t)})}function Gnt(){return Bnt(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding LCP"),Lt.lcp={value:e.value,unit:"millisecond"},Gi=t)})}function Wnt(){Fnt(e=>{const t=e.entries.pop();if(!t)return;const r=Gt(xs),n=Gt(t.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding FID"),Lt.fid={value:e.value,unit:"millisecond"},Lt["mark.fid"]={value:r+n,unit:"second"}})}function znt(e){const t=Eq();if(!t||!ft.performance.getEntries||!xs)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Tracing] Adding & adjusting spans using Performance API");const r=Gt(xs),n=t.getEntries();let i,a;if(n.slice(U5).forEach(o=>{const s=Gt(o.startTime),l=Gt(o.duration);if(!(e.op==="navigation"&&r+s<e.startTimestamp))switch(o.entryType){case"navigation":{Ynt(e,o,r),i=r+Gt(o.responseStart),a=r+Gt(o.requestStart);break}case"mark":case"paint":case"measure":{Vnt(e,o,s,l,r);const u=hP(),c=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding FP"),Lt.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding FCP"),Lt.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const u=o.name.replace(ft.location.origin,"");qnt(e,o,u,s,l,r);break}}}),U5=Math.max(n.length-1,0),Qnt(e),e.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding TTFB"),Lt.ttfb={value:(i-e.startTimestamp)*1e3,unit:"millisecond"},typeof a=="number"&&a<=i&&(Lt["ttfb.requestTime"]={value:(i-a)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(s=>{if(!Lt[s]||r>=e.startTimestamp)return;const l=Lt[s].value,u=r+Gt(l),c=Math.abs((u-e.startTimestamp)*1e3),d=c-l;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Measurements] Normalized ${s} from ${l} to ${c} (${d})`),Lt[s].value=c});const o=Lt["mark.fid"];o&&Lt.fid&&(ef(e,{description:"first input delay",endTimestamp:o.value+Gt(Lt.fid.value),op:"ui.action",startTimestamp:o.value}),delete Lt["mark.fid"]),"fcp"in Lt||delete Lt.cls,Object.keys(Lt).forEach(s=>{e.setMeasurement(s,Lt[s].value,Lt[s].unit)}),Znt(e)}Gi=void 0,Oh=void 0,Lt={}}function Vnt(e,t,r,n,i){const a=i+r,o=a+n;return ef(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}function Ynt(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{gg(e,t,n,r)}),gg(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),gg(e,t,"fetch",r,"cache","domainLookupStart"),gg(e,t,"domainLookup",r,"DNS"),Xnt(e,t,r)}function gg(e,t,r,n,i,a){const o=a?t[a]:t[`${r}End`],s=t[`${r}Start`];!s||!o||ef(e,{op:"browser",description:i||r,startTimestamp:n+Gt(s),endTimestamp:n+Gt(o)})}function Xnt(e,t,r){ef(e,{op:"browser",description:"request",startTimestamp:r+Gt(t.requestStart),endTimestamp:r+Gt(t.responseEnd)}),ef(e,{op:"browser",description:"response",startTimestamp:r+Gt(t.responseStart),endTimestamp:r+Gt(t.responseEnd)})}function qnt(e,t,r,n,i,a){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);const s=a+n,l=s+i;ef(e,{description:r,endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:s,data:o})}function Qnt(e){const t=ft.navigator;if(!t)return;const r=t.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),pT(r.rtt)&&(Lt["connection.rtt"]={value:r.rtt,unit:"millisecond"})),pT(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),pT(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Znt(e){Gi&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding LCP Data"),Gi.element&&e.setTag("lcp.element",qc(Gi.element)),Gi.id&&e.setTag("lcp.id",Gi.id),Gi.url&&e.setTag("lcp.url",Gi.url.trim().slice(0,200)),e.setTag("lcp.size",Gi.size)),Oh&&Oh.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log("[Measurements] Adding CLS Data"),Oh.sources.forEach((t,r)=>e.setTag(`cls.source.${r+1}`,qc(t.node))))}const jA=["localhost",/^\//],HA={traceFetch:!0,traceXHR:!0,tracingOrigins:jA,tracePropagationTargets:jA};function Jnt(e){const{traceFetch:t,traceXHR:r,tracePropagationTargets:n,tracingOrigins:i,shouldCreateSpanForRequest:a}={traceFetch:HA.traceFetch,traceXHR:HA.traceXHR,...e},o=typeof a=="function"?a:u=>!0,s=u=>eit(u,n||i),l={};t&&Br("fetch",u=>{tit(u,o,s,l)}),r&&Br("xhr",u=>{nit(u,o,s,l)})}function eit(e,t){return N0(e,t||jA)}function tit(e,t,r,n){if(!sP()||!(e.fetchData&&t(e.fetchData.url)))return;if(e.endTimestamp){const s=e.fetchData.__span;if(!s)return;const l=n[s];l&&(e.response?l.setHttpStatus(e.response.status):e.error&&l.setStatus("internal_error"),l.finish(),delete n[s]);return}const i=bt().getScope(),a=i&&i.getSpan(),o=a&&a.transaction;if(a&&o){const s=a.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=s.spanId,n[s.spanId]=s;const l=e.args[0];e.args[1]=e.args[1]||{};const u=e.args[1];r(e.fetchData.url)&&(u.headers=rit(l,o.getDynamicSamplingContext(),s,u))}}function rit(e,t,r,n){const i=ZX(t),a=r.toTraceparent(),o=typeof Request<"u"&&_s(e,Request)?e.headers:n.headers;if(o)if(typeof Headers<"u"&&_s(o,Headers)){const s=new Headers(o);return s.append("sentry-trace",a),i&&s.append(NA,i),s}else if(Array.isArray(o)){const s=[...o,["sentry-trace",a]];return i&&s.push([NA,i]),s}else{const s="baggage"in o?o.baggage:void 0,l=[];return Array.isArray(s)?l.push(...s):s&&l.push(s),i&&l.push(i),{...o,"sentry-trace":a,baggage:l.length>0?l.join(","):void 0}}else return{"sentry-trace":a,baggage:i}}function nit(e,t,r,n){const i=e.xhr,a=i&&i[fl];if(!sP()||i&&i.__sentry_own_request__||!(i&&a&&t(a.url)))return;if(e.endTimestamp){const u=i.__sentry_xhr_span_id__;if(!u)return;const c=n[u];c&&(c.setHttpStatus(a.status_code),c.finish(),delete n[u]);return}const o=bt().getScope(),s=o&&o.getSpan(),l=s&&s.transaction;if(s&&l){const u=s.startChild({data:{...a.data,type:"xhr",method:a.method,url:a.url},description:`${a.method} ${a.url}`,op:"http.client"});if(i.__sentry_xhr_span_id__=u.spanId,n[i.__sentry_xhr_span_id__]=u,i.setRequestHeader&&r(a.url))try{i.setRequestHeader("sentry-trace",u.toTraceparent());const c=l.getDynamicSamplingContext(),d=ZX(c);d&&i.setRequestHeader(NA,d)}catch{}}}function iit(e,t=!0,r=!0){if(!ft||!ft.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn("Could not initialize routing instrumentation due to invalid location");return}let n=ft.location.href,i;t&&(i=e({name:ft.location.pathname,startTimestamp:xs?xs/1e3:void 0,op:"pageload",metadata:{source:"url"}})),r&&Br("history",({to:a,from:o})=>{if(o===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}o!==a&&(n=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=e({name:ft.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const ait="BrowserTracing",oit={...sm,markBackgroundTransactions:!0,routingInstrumentation:iit,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...HA};class vP{__init(){this.name=ait}constructor(t){vP.prototype.__init.call(this),Qtt(),this.options={...oit,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Unt(),this.options.enableLongTask&&jnt(),this.options._experiments.enableInteractions&&Hnt()}setupOnce(t,r){this._getCurrentHub=r;const{routingInstrumentation:n,startTransactionOnLocationChange:i,startTransactionOnPageLoad:a,markBackgroundTransactions:o,traceFetch:s,traceXHR:l,tracePropagationTargets:u,shouldCreateSpanForRequest:c,_experiments:d}=this.options;n(f=>{const m=this._createRouteTransaction(f);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(m,f,r),m},a,i),o&&Lnt(),d.enableInteractions&&this._registerInteractionListener(),Jnt({traceFetch:s,traceXHR:l,tracePropagationTargets:u,shouldCreateSpanForRequest:c})}_createRouteTransaction(t){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:r,idleTimeout:n,finalTimeout:i,heartbeatInterval:a}=this.options,o=t.op==="pageload",s=o?j5("sentry-trace"):null,l=o?j5("baggage"):null,u=s?ytt(s):void 0,c=l?Dtt(l):void 0,d={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!c?{}:c},trimEnd:!0},f=typeof r=="function"?r(d):d,m=f===void 0?{...d,sampled:!1}:f;m.metadata=m.name!==d.name?{...m.metadata,source:"custom"}:m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,m.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.log(`[Tracing] Starting ${m.op} transaction on scope`);const _=this._getCurrentHub(),{location:x}=ft,v=I5(_,m,n,i,!0,{location:x},a);return v.registerBeforeFinishCallback(g=>{this._collectWebVitals(),znt(g)}),v}_registerInteractionListener(){let t;const r=()=>{const{idleTimeout:n,finalTimeout:i,heartbeatInterval:a}=this.options,o="ui.action.click",s=B0();if(s&&s.op&&["navigation","pageload"].includes(s.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&se.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const l=this._getCurrentHub(),{location:u}=ft,c={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=I5(l,c,n,i,!0,{location:u},a)};["click"].forEach(n=>{addEventListener(n,r,{once:!1,capture:!0})})}}function j5(e){const t=Det(`meta[name=${e}]`);return t?t.getAttribute("content"):null}function sit(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:Uy}],version:Uy},Cnt(e)}sit({dsn:mNe,release:`skool@${Wr().APP_VERSION}`,sampleRate:.5,integrations:[new vP,new dl,new Tv]});const gT="https://api.consumet.org/meta/tmdb";function lit({url:e,lang:t}){return{url:e,langIso:t,type:e.substring(e.length-3)==="vtt"?Ji.VTT:Ji.SRT}}const uit={360:kt.Q360P,540:kt.Q540P,480:kt.Q480P,720:kt.Q720P,1080:kt.Q1080P};function H5(e){return e==="Movie"?Ae.MOVIE:Ae.SERIES}_0({id:"flixhq",displayName:"FlixHQ",rank:100,type:[Ae.MOVIE,Ae.SERIES],async scrape({media:e,episode:t,progress:r}){var u;if(!this.type.includes(e.meta.type))throw new Error("Unsupported type");const i=(await Ft(`/${encodeURIComponent(e.meta.title)}`,{baseURL:gT})).results.find(c=>c.type!=="Movie"&&c.type!=="TV Series"?!1:tC(c.title,e.meta.title)&&H5(c.type)===e.meta.type&&c.releaseDate===e.meta.year);if(!i)throw new Error("No watchable item found");r(25);const a=await Ft(`/info/${i.id}`,{baseURL:gT,params:{type:H5(i.type)}});if(!a.id)throw new Error("No watchable item found");r(50);let o;if(e.meta.type===Ae.MOVIE)o=a.episodeId;else if(e.meta.type===Ae.SERIES){const c=e.meta.seasonData.number,d=(u=e.meta.seasonData.episodes.find(m=>m.id===t))==null?void 0:u.number;o=a.seasons.find(m=>m.season===c).episodes.find(m=>m.episode===d).id}if(!o)throw new Error("No watchable item found");r(75);const s=await Ft(`/watch/${o}`,{baseURL:gT,params:{id:a.id}});if(!s.sources)throw new Error("No watchable item found");const l=s.sources[0];return{embeds:[],stream:{streamUrl:l.url,quality:uit[l.quality],type:l.isM3U8?Cn.HLS:Cn.MP4,captions:s.subtitles.filter(c=>!c.lang.includes("(maybe)")).map(lit)}}}});var KA={},cit={get exports(){return KA},set exports(e){KA=e}},Hy={},fit={get exports(){return Hy},set exports(e){Hy=e}};const dit={},hit=Object.freeze(Object.defineProperty({__proto__:null,default:dit},Symbol.toStringTag,{value:"Module"})),vit=Oq(hit);var K5;function Ve(){return K5||(K5=1,function(e,t){(function(r,n){e.exports=n()})(be,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof be<"u"&&be.crypto&&(a=be.crypto),!a&&typeof ktt=="function")try{a=vit}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function p(){}return function(h){var S;return p.prototype=h,S=new p,p.prototype=null,S}}(),l={},u=l.lib={},c=u.Base=function(){return{extend:function(p){var h=s(this);return p&&h.mixIn(p),(!h.hasOwnProperty("init")||this.init===h.init)&&(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var h in p)p.hasOwnProperty(h)&&(this[h]=p[h]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=c.extend({init:function(p,h){p=this.words=p||[],h!=i?this.sigBytes=h:this.sigBytes=p.length*4},toString:function(p){return(p||m).stringify(this)},concat:function(p){var h=this.words,S=p.words,O=this.sigBytes,y=p.sigBytes;if(this.clamp(),O%4)for(var E=0;E<y;E++){var b=S[E>>>2]>>>24-E%4*8&255;h[O+E>>>2]|=b<<24-(O+E)%4*8}else for(var T=0;T<y;T+=4)h[O+T>>>2]=S[T>>>2];return this.sigBytes+=y,this},clamp:function(){var p=this.words,h=this.sigBytes;p[h>>>2]&=4294967295<<32-h%4*8,p.length=n.ceil(h/4)},clone:function(){var p=c.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var h=[],S=0;S<p;S+=4)h.push(o());return new d.init(h,p)}}),f=l.enc={},m=f.Hex={stringify:function(p){for(var h=p.words,S=p.sigBytes,O=[],y=0;y<S;y++){var E=h[y>>>2]>>>24-y%4*8&255;O.push((E>>>4).toString(16)),O.push((E&15).toString(16))}return O.join("")},parse:function(p){for(var h=p.length,S=[],O=0;O<h;O+=2)S[O>>>3]|=parseInt(p.substr(O,2),16)<<24-O%8*4;return new d.init(S,h/2)}},_=f.Latin1={stringify:function(p){for(var h=p.words,S=p.sigBytes,O=[],y=0;y<S;y++){var E=h[y>>>2]>>>24-y%4*8&255;O.push(String.fromCharCode(E))}return O.join("")},parse:function(p){for(var h=p.length,S=[],O=0;O<h;O++)S[O>>>2]|=(p.charCodeAt(O)&255)<<24-O%4*8;return new d.init(S,h)}},x=f.Utf8={stringify:function(p){try{return decodeURIComponent(escape(_.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return _.parse(unescape(encodeURIComponent(p)))}},v=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=x.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var h,S=this._data,O=S.words,y=S.sigBytes,E=this.blockSize,b=E*4,T=y/b;p?T=n.ceil(T):T=n.max((T|0)-this._minBufferSize,0);var A=T*E,P=n.min(A*4,y);if(A){for(var C=0;C<A;C+=E)this._doProcessBlock(O,C);h=O.splice(0,A),S.sigBytes-=P}return new d.init(h,P)},clone:function(){var p=c.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});u.Hasher=v.extend({cfg:c.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var h=this._doFinalize();return h},blockSize:16,_createHelper:function(p){return function(h,S){return new p.init(S).finalize(h)}},_createHmacHelper:function(p){return function(h,S){return new g.HMAC.init(p,S).finalize(h)}}});var g=l.algo={};return l}(Math);return r})}(fit)),Hy}var Ky={},pit={get exports(){return Ky},set exports(e){Ky=e}},G5;function PE(){return G5||(G5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,l=i.x64={};l.Word=o.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=o.extend({init:function(u,c){u=this.words=u||[],c!=n?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var m=u[f];d.push(m.high),d.push(m.low)}return s.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})}(),r})}(pit)),Ky}var Gy={},git={get exports(){return Gy},set exports(e){Gy=e}},W5;function mit(){return W5||(W5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;o.call(this,c,u)}else o.apply(this,arguments)};s.prototype=a}}(),r.lib.WordArray})}(git)),Gy}var Wy={},yit={get exports(){return Wy},set exports(e){Wy=e}},z5;function _it(){return z5||(z5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var m=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(m))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return a.create(c,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var m=s(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(m))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=s(l.charCodeAt(d)<<16-d%2*16);return a.create(c,u*2)}};function s(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(yit)),Wy}var zy={},Eit={get exports(){return zy},set exports(e){zy=e}},V5;function Mf(){return V5||(V5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],m=0;m<c;m+=3)for(var _=u[m>>>2]>>>24-m%4*8&255,x=u[m+1>>>2]>>>24-(m+1)%4*8&255,v=u[m+2>>>2]>>>24-(m+2)%4*8&255,g=_<<16|x<<8|v,p=0;p<4&&m+p*.75<c;p++)f.push(d.charAt(g>>>6*(3-p)&63));var h=d.charAt(64);if(h)for(;f.length%4;)f.push(h);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var m=c.charAt(64);if(m){var _=l.indexOf(m);_!==-1&&(u=_)}return s(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,u,c){for(var d=[],f=0,m=0;m<u;m++)if(m%4){var _=c[l.charCodeAt(m-1)]<<m%4*2,x=c[l.charCodeAt(m)]>>>6-m%4*2,v=_|x;d[f>>>2]|=v<<24-f%4*8,f++}return a.create(d,f)}}(),r.enc.Base64})}(Eit)),zy}var Vy={},xit={get exports(){return Vy},set exports(e){Vy=e}},Y5;function Sit(){return Y5||(Y5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(l,u=!0){var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var m=[],_=0;_<d;_+=3)for(var x=c[_>>>2]>>>24-_%4*8&255,v=c[_+1>>>2]>>>24-(_+1)%4*8&255,g=c[_+2>>>2]>>>24-(_+2)%4*8&255,p=x<<16|v<<8|g,h=0;h<4&&_+h*.75<d;h++)m.push(f.charAt(p>>>6*(3-h)&63));var S=f.charAt(64);if(S)for(;m.length%4;)m.push(S);return m.join("")},parse:function(l,u=!0){var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<d.length;m++)f[d.charCodeAt(m)]=m}var _=d.charAt(64);if(_){var x=l.indexOf(_);x!==-1&&(c=x)}return s(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(l,u,c){for(var d=[],f=0,m=0;m<u;m++)if(m%4){var _=c[l.charCodeAt(m-1)]<<m%4*2,x=c[l.charCodeAt(m)]>>>6-m%4*2,v=_|x;d[f>>>2]|=v<<24-f%4*8,f++}return a.create(d,f)}}(),r.enc.Base64url})}(xit)),Vy}var Yy={},bit={get exports(){return Yy},set exports(e){Yy=e}},X5;function Ff(){return X5||(X5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,u=[];(function(){for(var x=0;x<64;x++)u[x]=n.abs(n.sin(x+1))*4294967296|0})();var c=l.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,v){for(var g=0;g<16;g++){var p=v+g,h=x[p];x[p]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}var S=this._hash.words,O=x[v+0],y=x[v+1],E=x[v+2],b=x[v+3],T=x[v+4],A=x[v+5],P=x[v+6],C=x[v+7],D=x[v+8],F=x[v+9],R=x[v+10],L=x[v+11],I=x[v+12],k=x[v+13],w=x[v+14],M=x[v+15],N=S[0],$=S[1],B=S[2],U=S[3];N=d(N,$,B,U,O,7,u[0]),U=d(U,N,$,B,y,12,u[1]),B=d(B,U,N,$,E,17,u[2]),$=d($,B,U,N,b,22,u[3]),N=d(N,$,B,U,T,7,u[4]),U=d(U,N,$,B,A,12,u[5]),B=d(B,U,N,$,P,17,u[6]),$=d($,B,U,N,C,22,u[7]),N=d(N,$,B,U,D,7,u[8]),U=d(U,N,$,B,F,12,u[9]),B=d(B,U,N,$,R,17,u[10]),$=d($,B,U,N,L,22,u[11]),N=d(N,$,B,U,I,7,u[12]),U=d(U,N,$,B,k,12,u[13]),B=d(B,U,N,$,w,17,u[14]),$=d($,B,U,N,M,22,u[15]),N=f(N,$,B,U,y,5,u[16]),U=f(U,N,$,B,P,9,u[17]),B=f(B,U,N,$,L,14,u[18]),$=f($,B,U,N,O,20,u[19]),N=f(N,$,B,U,A,5,u[20]),U=f(U,N,$,B,R,9,u[21]),B=f(B,U,N,$,M,14,u[22]),$=f($,B,U,N,T,20,u[23]),N=f(N,$,B,U,F,5,u[24]),U=f(U,N,$,B,w,9,u[25]),B=f(B,U,N,$,b,14,u[26]),$=f($,B,U,N,D,20,u[27]),N=f(N,$,B,U,k,5,u[28]),U=f(U,N,$,B,E,9,u[29]),B=f(B,U,N,$,C,14,u[30]),$=f($,B,U,N,I,20,u[31]),N=m(N,$,B,U,A,4,u[32]),U=m(U,N,$,B,D,11,u[33]),B=m(B,U,N,$,L,16,u[34]),$=m($,B,U,N,w,23,u[35]),N=m(N,$,B,U,y,4,u[36]),U=m(U,N,$,B,T,11,u[37]),B=m(B,U,N,$,C,16,u[38]),$=m($,B,U,N,R,23,u[39]),N=m(N,$,B,U,k,4,u[40]),U=m(U,N,$,B,O,11,u[41]),B=m(B,U,N,$,b,16,u[42]),$=m($,B,U,N,P,23,u[43]),N=m(N,$,B,U,F,4,u[44]),U=m(U,N,$,B,I,11,u[45]),B=m(B,U,N,$,M,16,u[46]),$=m($,B,U,N,E,23,u[47]),N=_(N,$,B,U,O,6,u[48]),U=_(U,N,$,B,C,10,u[49]),B=_(B,U,N,$,w,15,u[50]),$=_($,B,U,N,A,21,u[51]),N=_(N,$,B,U,I,6,u[52]),U=_(U,N,$,B,b,10,u[53]),B=_(B,U,N,$,R,15,u[54]),$=_($,B,U,N,y,21,u[55]),N=_(N,$,B,U,D,6,u[56]),U=_(U,N,$,B,M,10,u[57]),B=_(B,U,N,$,P,15,u[58]),$=_($,B,U,N,k,21,u[59]),N=_(N,$,B,U,T,6,u[60]),U=_(U,N,$,B,L,10,u[61]),B=_(B,U,N,$,E,15,u[62]),$=_($,B,U,N,F,21,u[63]),S[0]=S[0]+N|0,S[1]=S[1]+$|0,S[2]=S[2]+B|0,S[3]=S[3]+U|0},_doFinalize:function(){var x=this._data,v=x.words,g=this._nDataBytes*8,p=x.sigBytes*8;v[p>>>5]|=128<<24-p%32;var h=n.floor(g/4294967296),S=g;v[(p+64>>>9<<4)+15]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,v[(p+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,x.sigBytes=(v.length+1)*4,this._process();for(var O=this._hash,y=O.words,E=0;E<4;E++){var b=y[E];y[E]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return O},clone:function(){var x=s.clone.call(this);return x._hash=this._hash.clone(),x}});function d(x,v,g,p,h,S,O){var y=x+(v&g|~v&p)+h+O;return(y<<S|y>>>32-S)+v}function f(x,v,g,p,h,S,O){var y=x+(v&p|g&~p)+h+O;return(y<<S|y>>>32-S)+v}function m(x,v,g,p,h,S,O){var y=x+(v^g^p)+h+O;return(y<<S|y>>>32-S)+v}function _(x,v,g,p,h,S,O){var y=x+(g^(v|~p))+h+O;return(y<<S|y>>>32-S)+v}i.MD5=s._createHelper(c),i.HmacMD5=s._createHmacHelper(c)}(Math),r.MD5})}(bit)),Yy}var Xy={},Tit={get exports(){return Xy},set exports(e){Xy=e}},q5;function pP(){return q5||(q5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,l=[],u=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,m=f[0],_=f[1],x=f[2],v=f[3],g=f[4],p=0;p<80;p++){if(p<16)l[p]=c[d+p]|0;else{var h=l[p-3]^l[p-8]^l[p-14]^l[p-16];l[p]=h<<1|h>>>31}var S=(m<<5|m>>>27)+g+l[p];p<20?S+=(_&x|~_&v)+1518500249:p<40?S+=(_^x^v)+1859775393:p<60?S+=(_&x|_&v|x&v)-1894007588:S+=(_^x^v)-899497514,g=v,v=x,x=_<<30|_>>>2,_=m,m=S}f[0]=f[0]+m|0,f[1]=f[1]+_|0,f[2]=f[2]+x|0,f[3]=f[3]+v|0,f[4]=f[4]+g|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return d[m>>>5]|=128<<24-m%32,d[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(m+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(Tit)),Xy}var qy={},wit={get exports(){return qy},set exports(e){qy=e}},Q5;function xq(){return Q5||(Q5=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,u=[],c=[];(function(){function m(g){for(var p=n.sqrt(g),h=2;h<=p;h++)if(!(g%h))return!1;return!0}function _(g){return(g-(g|0))*4294967296|0}for(var x=2,v=0;v<64;)m(x)&&(v<8&&(u[v]=_(n.pow(x,1/2))),c[v]=_(n.pow(x,1/3)),v++),x++})();var d=[],f=l.SHA256=s.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(m,_){for(var x=this._hash.words,v=x[0],g=x[1],p=x[2],h=x[3],S=x[4],O=x[5],y=x[6],E=x[7],b=0;b<64;b++){if(b<16)d[b]=m[_+b]|0;else{var T=d[b-15],A=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,P=d[b-2],C=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;d[b]=A+d[b-7]+C+d[b-16]}var D=S&O^~S&y,F=v&g^v&p^g&p,R=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),L=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),I=E+L+D+c[b]+d[b],k=R+F;E=y,y=O,O=S,S=h+I|0,h=p,p=g,g=v,v=I+k|0}x[0]=x[0]+v|0,x[1]=x[1]+g|0,x[2]=x[2]+p|0,x[3]=x[3]+h|0,x[4]=x[4]+S|0,x[5]=x[5]+O|0,x[6]=x[6]+y|0,x[7]=x[7]+E|0},_doFinalize:function(){var m=this._data,_=m.words,x=this._nDataBytes*8,v=m.sigBytes*8;return _[v>>>5]|=128<<24-v%32,_[(v+64>>>9<<4)+14]=n.floor(x/4294967296),_[(v+64>>>9<<4)+15]=x,m.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=s._createHelper(f),i.HmacSHA256=s._createHmacHelper(f)}(Math),r.SHA256})}(wit)),qy}var Qy={},Ait={get exports(){return Qy},set exports(e){Qy=e}},Z5;function Rit(){return Z5||(Z5=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),xq())})(be,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,l=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=s._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=s._createHelper(l),n.HmacSHA224=s._createHmacHelper(l)}(),r.SHA224})}(Ait)),Qy}var Zy={},Oit={get exports(){return Zy},set exports(e){Zy=e}},J5;function Sq(){return J5||(J5=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),PE())})(be,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,l=o.WordArray,u=n.algo;function c(){return s.create.apply(s,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var _=0;_<80;_++)f[_]=c()})();var m=u.SHA512=a.extend({_doReset:function(){this._hash=new l.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(_,x){for(var v=this._hash.words,g=v[0],p=v[1],h=v[2],S=v[3],O=v[4],y=v[5],E=v[6],b=v[7],T=g.high,A=g.low,P=p.high,C=p.low,D=h.high,F=h.low,R=S.high,L=S.low,I=O.high,k=O.low,w=y.high,M=y.low,N=E.high,$=E.low,B=b.high,U=b.low,j=T,K=A,G=P,W=C,V=D,Y=F,X=R,q=L,Q=I,te=k,re=w,ne=M,oe=N,he=$,fe=B,ie=U,pe=0;pe<80;pe++){var xe,Te,Ye=f[pe];if(pe<16)Te=Ye.high=_[x+pe*2]|0,xe=Ye.low=_[x+pe*2+1]|0;else{var $e=f[pe-15],ze=$e.high,ke=$e.low,Ze=(ze>>>1|ke<<31)^(ze>>>8|ke<<24)^ze>>>7,Xe=(ke>>>1|ze<<31)^(ke>>>8|ze<<24)^(ke>>>7|ze<<25),ut=f[pe-2],it=ut.high,Je=ut.low,at=(it>>>19|Je<<13)^(it<<3|Je>>>29)^it>>>6,Ht=(Je>>>19|it<<13)^(Je<<3|it>>>29)^(Je>>>6|it<<26),Ct=f[pe-7],Dr=Ct.high,$r=Ct.low,wt=f[pe-16],mr=wt.high,Mt=wt.low;xe=Xe+$r,Te=Ze+Dr+(xe>>>0<Xe>>>0?1:0),xe=xe+Ht,Te=Te+at+(xe>>>0<Ht>>>0?1:0),xe=xe+Mt,Te=Te+mr+(xe>>>0<Mt>>>0?1:0),Ye.high=Te,Ye.low=xe}var Ne=Q&re^~Q&oe,Pt=te&ne^~te&he,kr=j&G^j&V^G&V,vt=K&W^K&Y^W&Y,yr=(j>>>28|K<<4)^(j<<30|K>>>2)^(j<<25|K>>>7),nr=(K>>>28|j<<4)^(K<<30|j>>>2)^(K<<25|j>>>7),_a=(Q>>>14|te<<18)^(Q>>>18|te<<14)^(Q<<23|te>>>9),mi=(te>>>14|Q<<18)^(te>>>18|Q<<14)^(te<<23|Q>>>9),qr=d[pe],ho=qr.high,Ea=qr.low,At=ie+mi,_r=fe+_a+(At>>>0<ie>>>0?1:0),At=At+Pt,_r=_r+Ne+(At>>>0<Pt>>>0?1:0),At=At+Ea,_r=_r+ho+(At>>>0<Ea>>>0?1:0),At=At+xe,_r=_r+Te+(At>>>0<xe>>>0?1:0),Ds=nr+vt,$s=yr+kr+(Ds>>>0<nr>>>0?1:0);fe=oe,ie=he,oe=re,he=ne,re=Q,ne=te,te=q+At|0,Q=X+_r+(te>>>0<q>>>0?1:0)|0,X=V,q=Y,V=G,Y=W,G=j,W=K,K=At+Ds|0,j=_r+$s+(K>>>0<At>>>0?1:0)|0}A=g.low=A+K,g.high=T+j+(A>>>0<K>>>0?1:0),C=p.low=C+W,p.high=P+G+(C>>>0<W>>>0?1:0),F=h.low=F+Y,h.high=D+V+(F>>>0<Y>>>0?1:0),L=S.low=L+q,S.high=R+X+(L>>>0<q>>>0?1:0),k=O.low=k+te,O.high=I+Q+(k>>>0<te>>>0?1:0),M=y.low=M+ne,y.high=w+re+(M>>>0<ne>>>0?1:0),$=E.low=$+he,E.high=N+oe+($>>>0<he>>>0?1:0),U=b.low=U+ie,b.high=B+fe+(U>>>0<ie>>>0?1:0)},_doFinalize:function(){var _=this._data,x=_.words,v=this._nDataBytes*8,g=_.sigBytes*8;x[g>>>5]|=128<<24-g%32,x[(g+128>>>10<<5)+30]=Math.floor(v/4294967296),x[(g+128>>>10<<5)+31]=v,_.sigBytes=x.length*4,this._process();var p=this._hash.toX32();return p},clone:function(){var _=a.clone.call(this);return _._hash=this._hash.clone(),_},blockSize:1024/32});n.SHA512=a._createHelper(m),n.HmacSHA512=a._createHmacHelper(m)}(),r.SHA512})}(Oit)),Zy}var Jy={},Iit={get exports(){return Jy},set exports(e){Jy=e}},eB;function Cit(){return eB||(eB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),PE(),Sq())})(be,function(r){return function(){var n=r,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,l=s.SHA512,u=s.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});n.SHA384=l._createHelper(u),n.HmacSHA384=l._createHmacHelper(u)}(),r.SHA384})}(Iit)),Jy}var e1={},Pit={get exports(){return e1},set exports(e){e1=e}},tB;function Lit(){return tB||(tB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),PE())})(be,function(r){return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],m=[];(function(){for(var v=1,g=0,p=0;p<24;p++){d[v+5*g]=(p+1)*(p+2)/2%64;var h=g%5,S=(2*v+3*g)%5;v=h,g=S}for(var v=0;v<5;v++)for(var g=0;g<5;g++)f[v+5*g]=g+(2*v+3*g)%5*5;for(var O=1,y=0;y<24;y++){for(var E=0,b=0,T=0;T<7;T++){if(O&1){var A=(1<<T)-1;A<32?b^=1<<A:E^=1<<A-32}O&128?O=O<<1^113:O<<=1}m[y]=u.create(E,b)}})();var _=[];(function(){for(var v=0;v<25;v++)_[v]=u.create()})();var x=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],g=0;g<25;g++)v[g]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,g){for(var p=this._state,h=this.blockSize/2,S=0;S<h;S++){var O=v[g+2*S],y=v[g+2*S+1];O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360;var E=p[S];E.high^=y,E.low^=O}for(var b=0;b<24;b++){for(var T=0;T<5;T++){for(var A=0,P=0,C=0;C<5;C++){var E=p[T+5*C];A^=E.high,P^=E.low}var D=_[T];D.high=A,D.low=P}for(var T=0;T<5;T++)for(var F=_[(T+4)%5],R=_[(T+1)%5],L=R.high,I=R.low,A=F.high^(L<<1|I>>>31),P=F.low^(I<<1|L>>>31),C=0;C<5;C++){var E=p[T+5*C];E.high^=A,E.low^=P}for(var k=1;k<25;k++){var A,P,E=p[k],w=E.high,M=E.low,N=d[k];N<32?(A=w<<N|M>>>32-N,P=M<<N|w>>>32-N):(A=M<<N-32|w>>>64-N,P=w<<N-32|M>>>64-N);var $=_[f[k]];$.high=A,$.low=P}var B=_[0],U=p[0];B.high=U.high,B.low=U.low;for(var T=0;T<5;T++)for(var C=0;C<5;C++){var k=T+5*C,E=p[k],j=_[k],K=_[(T+1)%5+5*C],G=_[(T+2)%5+5*C];E.high=j.high^~K.high&G.high,E.low=j.low^~K.low&G.low}var E=p[0],W=m[b];E.high^=W.high,E.low^=W.low}},_doFinalize:function(){var v=this._data,g=v.words;this._nDataBytes*8;var p=v.sigBytes*8,h=this.blockSize*32;g[p>>>5]|=1<<24-p%32,g[(n.ceil((p+1)/h)*h>>>5)-1]|=128,v.sigBytes=g.length*4,this._process();for(var S=this._state,O=this.cfg.outputLength/8,y=O/8,E=[],b=0;b<y;b++){var T=S[b],A=T.high,P=T.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,E.push(P),E.push(A)}return new o.init(E,O)},clone:function(){for(var v=s.clone.call(this),g=v._state=this._state.slice(0),p=0;p<25;p++)g[p]=g[p].clone();return v}});i.SHA3=s._createHelper(x),i.HmacSHA3=s._createHmacHelper(x)}(Math),r.SHA3})}(Pit)),e1}var t1={},Dit={get exports(){return t1},set exports(e){t1=e}},rB;function $it(){return rB||(rB=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),_=o.create([1352829926,1548603684,1836072691,2053994217,0]),x=l.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,E){for(var b=0;b<16;b++){var T=E+b,A=y[T];y[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var P=this._hash.words,C=m.words,D=_.words,F=u.words,R=c.words,L=d.words,I=f.words,k,w,M,N,$,B,U,j,K,G;B=k=P[0],U=w=P[1],j=M=P[2],K=N=P[3],G=$=P[4];for(var W,b=0;b<80;b+=1)W=k+y[E+F[b]]|0,b<16?W+=v(w,M,N)+C[0]:b<32?W+=g(w,M,N)+C[1]:b<48?W+=p(w,M,N)+C[2]:b<64?W+=h(w,M,N)+C[3]:W+=S(w,M,N)+C[4],W=W|0,W=O(W,L[b]),W=W+$|0,k=$,$=N,N=O(M,10),M=w,w=W,W=B+y[E+R[b]]|0,b<16?W+=S(U,j,K)+D[0]:b<32?W+=h(U,j,K)+D[1]:b<48?W+=p(U,j,K)+D[2]:b<64?W+=g(U,j,K)+D[3]:W+=v(U,j,K)+D[4],W=W|0,W=O(W,I[b]),W=W+G|0,B=G,G=K,K=O(j,10),j=U,U=W;W=P[1]+M+K|0,P[1]=P[2]+N+G|0,P[2]=P[3]+$+B|0,P[3]=P[4]+k+U|0,P[4]=P[0]+w+j|0,P[0]=W},_doFinalize:function(){var y=this._data,E=y.words,b=this._nDataBytes*8,T=y.sigBytes*8;E[T>>>5]|=128<<24-T%32,E[(T+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y.sigBytes=(E.length+1)*4,this._process();for(var A=this._hash,P=A.words,C=0;C<5;C++){var D=P[C];P[C]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return A},clone:function(){var y=s.clone.call(this);return y._hash=this._hash.clone(),y}});function v(y,E,b){return y^E^b}function g(y,E,b){return y&E|~y&b}function p(y,E,b){return(y|~E)^b}function h(y,E,b){return y&b|E&~b}function S(y,E,b){return y^(E|~b)}function O(y,E){return y<<E|y>>>32-E}i.RIPEMD160=s._createHelper(x),i.HmacRIPEMD160=s._createHmacHelper(x)}(),r.RIPEMD160})}(Dit)),t1}var r1={},kit={get exports(){return r1},set exports(e){r1=e}},nB;function gP(){return nB||(nB=1,function(e,t){(function(r,n){e.exports=n(Ve())})(be,function(r){(function(){var n=r,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,l=n.algo;l.HMAC=a.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=s.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var m=this._oKey=c.clone(),_=this._iKey=c.clone(),x=m.words,v=_.words,g=0;g<d;g++)x[g]^=1549556828,v[g]^=909522486;m.sigBytes=_.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})}(kit)),r1}var n1={},Nit={get exports(){return n1},set exports(e){n1=e}},iB;function Mit(){return iB||(iB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),pP(),gP())})(be,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,l=s.SHA1,u=s.HMAC,c=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var m=this.cfg,_=u.create(m.hasher,d),x=o.create(),v=o.create([1]),g=x.words,p=v.words,h=m.keySize,S=m.iterations;g.length<h;){var O=_.update(f).finalize(v);_.reset();for(var y=O.words,E=y.length,b=O,T=1;T<S;T++){b=_.finalize(b),_.reset();for(var A=b.words,P=0;P<E;P++)y[P]^=A[P]}x.concat(O),p[0]++}return x.sigBytes=h*4,x}});n.PBKDF2=function(d,f,m){return c.create(m).compute(d,f)}}(),r.PBKDF2})}(Nit)),n1}var i1={},Fit={get exports(){return i1},set exports(e){i1=e}},aB;function Jl(){return aB||(aB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),pP(),gP())})(be,function(r){return function(){var n=r,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,l=s.MD5,u=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,m=this.cfg,_=m.hasher.create(),x=o.create(),v=x.words,g=m.keySize,p=m.iterations;v.length<g;){f&&_.update(f),f=_.update(c).finalize(d),_.reset();for(var h=1;h<p;h++)f=_.finalize(f),_.reset();x.concat(f)}return x.sigBytes=g*4,x}});n.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}}(),r.EvpKDF})}(Fit)),i1}var a1={},Bit={get exports(){return a1},set exports(e){a1=e}},oB;function gr(){return oB||(oB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),Jl())})(be,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,o=a.Base,s=a.WordArray,l=a.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,m=a.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(A,P){return this.create(this._ENC_XFORM_MODE,A,P)},createDecryptor:function(A,P){return this.create(this._DEC_XFORM_MODE,A,P)},init:function(A,P,C){this.cfg=this.cfg.extend(C),this._xformMode=A,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function A(P){return typeof P=="string"?T:y}return function(P){return{encrypt:function(C,D,F){return A(D).encrypt(P,C,D,F)},decrypt:function(C,D,F){return A(D).decrypt(P,C,D,F)}}}}()});a.StreamCipher=m.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var _=i.mode={},x=a.BlockCipherMode=o.extend({createEncryptor:function(A,P){return this.Encryptor.create(A,P)},createDecryptor:function(A,P){return this.Decryptor.create(A,P)},init:function(A,P){this._cipher=A,this._iv=P}}),v=_.CBC=function(){var A=x.extend();A.Encryptor=A.extend({processBlock:function(C,D){var F=this._cipher,R=F.blockSize;P.call(this,C,D,R),F.encryptBlock(C,D),this._prevBlock=C.slice(D,D+R)}}),A.Decryptor=A.extend({processBlock:function(C,D){var F=this._cipher,R=F.blockSize,L=C.slice(D,D+R);F.decryptBlock(C,D),P.call(this,C,D,R),this._prevBlock=L}});function P(C,D,F){var R,L=this._iv;L?(R=L,this._iv=n):R=this._prevBlock;for(var I=0;I<F;I++)C[D+I]^=R[I]}return A}(),g=i.pad={},p=g.Pkcs7={pad:function(A,P){for(var C=P*4,D=C-A.sigBytes%C,F=D<<24|D<<16|D<<8|D,R=[],L=0;L<D;L+=4)R.push(F);var I=s.create(R,D);A.concat(I)},unpad:function(A){var P=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=P}};a.BlockCipher=m.extend({cfg:m.cfg.extend({mode:v,padding:p}),reset:function(){var A;m.reset.call(this);var P=this.cfg,C=P.iv,D=P.mode;this._xformMode==this._ENC_XFORM_MODE?A=D.createEncryptor:(A=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,C&&C.words):(this._mode=A.call(D,this,C&&C.words),this._mode.__creator=A)},_doProcessBlock:function(A,P){this._mode.processBlock(A,P)},_doFinalize:function(){var A,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),P.unpad(A)),A},blockSize:128/32});var h=a.CipherParams=o.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),S=i.format={},O=S.OpenSSL={stringify:function(A){var P,C=A.ciphertext,D=A.salt;return D?P=s.create([1398893684,1701076831]).concat(D).concat(C):P=C,P.toString(c)},parse:function(A){var P,C=c.parse(A),D=C.words;return D[0]==1398893684&&D[1]==1701076831&&(P=s.create(D.slice(2,4)),D.splice(0,4),C.sigBytes-=16),h.create({ciphertext:C,salt:P})}},y=a.SerializableCipher=o.extend({cfg:o.extend({format:O}),encrypt:function(A,P,C,D){D=this.cfg.extend(D);var F=A.createEncryptor(C,D),R=F.finalize(P),L=F.cfg;return h.create({ciphertext:R,key:C,iv:L.iv,algorithm:A,mode:L.mode,padding:L.padding,blockSize:A.blockSize,formatter:D.format})},decrypt:function(A,P,C,D){D=this.cfg.extend(D),P=this._parse(P,D.format);var F=A.createDecryptor(C,D).finalize(P.ciphertext);return F},_parse:function(A,P){return typeof A=="string"?P.parse(A,this):A}}),E=i.kdf={},b=E.OpenSSL={execute:function(A,P,C,D){D||(D=s.random(64/8));var F=f.create({keySize:P+C}).compute(A,D),R=s.create(F.words.slice(P),C*4);return F.sigBytes=P*4,h.create({key:F,iv:R,salt:D})}},T=a.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(A,P,C,D){D=this.cfg.extend(D);var F=D.kdf.execute(C,A.keySize,A.ivSize);D.iv=F.iv;var R=y.encrypt.call(this,A,P,F.key,D);return R.mixIn(F),R},decrypt:function(A,P,C,D){D=this.cfg.extend(D),P=this._parse(P,D.format);var F=D.kdf.execute(C,A.keySize,A.ivSize,P.salt);D.iv=F.iv;var R=y.decrypt.call(this,A,P,F.key,D);return R}})}()})}(Bit)),a1}var o1={},Uit={get exports(){return o1},set exports(e){o1=e}},sB;function jit(){return sB||(sB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize;i.call(this,a,o,l,s),this._prevBlock=a.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,u=a.slice(o,o+l);i.call(this,a,o,l,s),this._prevBlock=u}});function i(a,o,s,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<s;d++)a[o+d]^=u[d]}return n}(),r.mode.CFB})}(Uit)),o1}var s1={},Hit={get exports(){return s1},set exports(e){s1=e}},lB;function Kit(){return lB||(lB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);s.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)a[o+f]^=d[f]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Hit)),s1}var l1={},Git={get exports(){return l1},set exports(e){l1=e}},uB;function Wit(){return uB||(uB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var l=s>>16&255,u=s>>8&255,c=s&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,s=0,s+=l<<16,s+=u<<8,s+=c}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),a(f);var m=f.slice(0);u.encryptBlock(m,0);for(var _=0;_<c;_++)s[l+_]^=m[_]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(Git)),l1}var u1={},zit={get exports(){return u1},set exports(e){u1=e}},cB;function Vit(){return cB||(cB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var d=0;d<l;d++)a[o+d]^=c[d]}});return n.Decryptor=i,n}(),r.mode.OFB})}(zit)),u1}var c1={},Yit={get exports(){return c1},set exports(e){c1=e}},fB;function Xit(){return fB||(fB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(Yit)),c1}var f1={},qit={get exports(){return f1},set exports(e){f1=e}},dB;function Qit(){return dB||(dB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,l=a+s-1;n.clamp(),n.words[l>>>2]|=s<<24-l%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(qit)),f1}var d1={},Zit={get exports(){return d1},set exports(e){d1=e}},hB;function Jit(){return hB||(hB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Zit)),d1}var h1={},eat={get exports(){return h1},set exports(e){h1=e}},vB;function tat(){return vB||(vB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(eat)),h1}var v1={},rat={get exports(){return v1},set exports(e){v1=e}},pB;function nat(){return pB||(pB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(rat)),v1}var p1={},iat={get exports(){return p1},set exports(e){p1=e}},gB;function aat(){return gB||(gB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(iat)),p1}var g1={},oat={get exports(){return g1},set exports(e){g1=e}},mB;function sat(){return mB||(mB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),gr())})(be,function(r){return function(n){var i=r,a=i.lib,o=a.CipherParams,s=i.enc,l=s.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return o.create({ciphertext:d})}}}(),r.format.Hex})}(oat)),g1}var m1={},lat={get exports(){return m1},set exports(e){m1=e}},yB;function uat(){return yB||(yB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),Mf(),Ff(),Jl(),gr())})(be,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],l=[],u=[],c=[],d=[],f=[],m=[],_=[],x=[],v=[];(function(){for(var h=[],S=0;S<256;S++)S<128?h[S]=S<<1:h[S]=S<<1^283;for(var O=0,y=0,S=0;S<256;S++){var E=y^y<<1^y<<2^y<<3^y<<4;E=E>>>8^E&255^99,s[O]=E,l[E]=O;var b=h[O],T=h[b],A=h[T],P=h[E]*257^E*16843008;u[O]=P<<24|P>>>8,c[O]=P<<16|P>>>16,d[O]=P<<8|P>>>24,f[O]=P;var P=A*16843009^T*65537^b*257^O*16843008;m[E]=P<<24|P>>>8,_[E]=P<<16|P>>>16,x[E]=P<<8|P>>>24,v[E]=P,O?(O=b^h[h[h[A^b]]],y^=h[h[y]]):O=y=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],p=o.AES=a.extend({_doReset:function(){var h;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,O=S.words,y=S.sigBytes/4,E=this._nRounds=y+6,b=(E+1)*4,T=this._keySchedule=[],A=0;A<b;A++)A<y?T[A]=O[A]:(h=T[A-1],A%y?y>6&&A%y==4&&(h=s[h>>>24]<<24|s[h>>>16&255]<<16|s[h>>>8&255]<<8|s[h&255]):(h=h<<8|h>>>24,h=s[h>>>24]<<24|s[h>>>16&255]<<16|s[h>>>8&255]<<8|s[h&255],h^=g[A/y|0]<<24),T[A]=T[A-y]^h);for(var P=this._invKeySchedule=[],C=0;C<b;C++){var A=b-C;if(C%4)var h=T[A];else var h=T[A-4];C<4||A<=4?P[C]=h:P[C]=m[s[h>>>24]]^_[s[h>>>16&255]]^x[s[h>>>8&255]]^v[s[h&255]]}}},encryptBlock:function(h,S){this._doCryptBlock(h,S,this._keySchedule,u,c,d,f,s)},decryptBlock:function(h,S){var O=h[S+1];h[S+1]=h[S+3],h[S+3]=O,this._doCryptBlock(h,S,this._invKeySchedule,m,_,x,v,l);var O=h[S+1];h[S+1]=h[S+3],h[S+3]=O},_doCryptBlock:function(h,S,O,y,E,b,T,A){for(var P=this._nRounds,C=h[S]^O[0],D=h[S+1]^O[1],F=h[S+2]^O[2],R=h[S+3]^O[3],L=4,I=1;I<P;I++){var k=y[C>>>24]^E[D>>>16&255]^b[F>>>8&255]^T[R&255]^O[L++],w=y[D>>>24]^E[F>>>16&255]^b[R>>>8&255]^T[C&255]^O[L++],M=y[F>>>24]^E[R>>>16&255]^b[C>>>8&255]^T[D&255]^O[L++],N=y[R>>>24]^E[C>>>16&255]^b[D>>>8&255]^T[F&255]^O[L++];C=k,D=w,F=M,R=N}var k=(A[C>>>24]<<24|A[D>>>16&255]<<16|A[F>>>8&255]<<8|A[R&255])^O[L++],w=(A[D>>>24]<<24|A[F>>>16&255]<<16|A[R>>>8&255]<<8|A[C&255])^O[L++],M=(A[F>>>24]<<24|A[R>>>16&255]<<16|A[C>>>8&255]<<8|A[D&255])^O[L++],N=(A[R>>>24]<<24|A[C>>>16&255]<<16|A[D>>>8&255]<<8|A[F&255])^O[L++];h[S]=k,h[S+1]=w,h[S+2]=M,h[S+3]=N},keySize:256/32});n.AES=a._createHelper(p)}(),r.AES})}(lat)),m1}var y1={},cat={get exports(){return y1},set exports(e){y1=e}},_B;function fat(){return _B||(_B=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),Mf(),Ff(),Jl(),gr())})(be,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=o.extend({_doReset:function(){for(var g=this._key,p=g.words,h=[],S=0;S<56;S++){var O=l[S]-1;h[S]=p[O>>>5]>>>31-O%32&1}for(var y=this._subKeys=[],E=0;E<16;E++){for(var b=y[E]=[],T=c[E],S=0;S<24;S++)b[S/6|0]|=h[(u[S]-1+T)%28]<<31-S%6,b[4+(S/6|0)]|=h[28+(u[S+24]-1+T)%28]<<31-S%6;b[0]=b[0]<<1|b[0]>>>31;for(var S=1;S<7;S++)b[S]=b[S]>>>(S-1)*4+3;b[7]=b[7]<<5|b[7]>>>27}for(var A=this._invSubKeys=[],S=0;S<16;S++)A[S]=y[15-S]},encryptBlock:function(g,p){this._doCryptBlock(g,p,this._subKeys)},decryptBlock:function(g,p){this._doCryptBlock(g,p,this._invSubKeys)},_doCryptBlock:function(g,p,h){this._lBlock=g[p],this._rBlock=g[p+1],_.call(this,4,252645135),_.call(this,16,65535),x.call(this,2,858993459),x.call(this,8,16711935),_.call(this,1,1431655765);for(var S=0;S<16;S++){for(var O=h[S],y=this._lBlock,E=this._rBlock,b=0,T=0;T<8;T++)b|=d[T][((E^O[T])&f[T])>>>0];this._lBlock=E,this._rBlock=y^b}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,_.call(this,1,1431655765),x.call(this,8,16711935),x.call(this,2,858993459),_.call(this,16,65535),_.call(this,4,252645135),g[p]=this._lBlock,g[p+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function _(g,p){var h=(this._lBlock>>>g^this._rBlock)&p;this._rBlock^=h,this._lBlock^=h<<g}function x(g,p){var h=(this._rBlock>>>g^this._lBlock)&p;this._lBlock^=h,this._rBlock^=h<<g}n.DES=o._createHelper(m);var v=s.TripleDES=o.extend({_doReset:function(){var g=this._key,p=g.words;if(p.length!==2&&p.length!==4&&p.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var h=p.slice(0,2),S=p.length<4?p.slice(0,2):p.slice(2,4),O=p.length<6?p.slice(0,2):p.slice(4,6);this._des1=m.createEncryptor(a.create(h)),this._des2=m.createEncryptor(a.create(S)),this._des3=m.createEncryptor(a.create(O))},encryptBlock:function(g,p){this._des1.encryptBlock(g,p),this._des2.decryptBlock(g,p),this._des3.encryptBlock(g,p)},decryptBlock:function(g,p){this._des3.decryptBlock(g,p),this._des2.encryptBlock(g,p),this._des1.decryptBlock(g,p)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(v)}(),r.TripleDES})}(cat)),y1}var _1={},dat={get exports(){return _1},set exports(e){_1=e}},EB;function hat(){return EB||(EB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),Mf(),Ff(),Jl(),gr())})(be,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,m=this._S=[],_=0;_<256;_++)m[_]=_;for(var _=0,x=0;_<256;_++){var v=_%f,g=d[v>>>2]>>>24-v%4*8&255;x=(x+m[_]+g)%256;var p=m[_];m[_]=m[x],m[x]=p}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,m=0,_=0;_<4;_++){d=(d+1)%256,f=(f+c[d])%256;var x=c[d];c[d]=c[f],c[f]=x,m|=c[(c[d]+c[f])%256]<<24-_*8}return this._i=d,this._j=f,m}n.RC4=a._createHelper(s);var u=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});n.RC4Drop=a._createHelper(u)}(),r.RC4})}(dat)),_1}var E1={},vat={get exports(){return E1},set exports(e){E1=e}},xB;function pat(){return xB||(xB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),Mf(),Ff(),Jl(),gr())})(be,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],l=[],u=[],c=o.Rabbit=a.extend({_doReset:function(){for(var f=this._key.words,m=this.cfg.iv,_=0;_<4;_++)f[_]=(f[_]<<8|f[_]>>>24)&16711935|(f[_]<<24|f[_]>>>8)&4278255360;var x=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var _=0;_<4;_++)d.call(this);for(var _=0;_<8;_++)v[_]^=x[_+4&7];if(m){var g=m.words,p=g[0],h=g[1],S=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,O=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,y=S>>>16|O&4294901760,E=O<<16|S&65535;v[0]^=S,v[1]^=y,v[2]^=O,v[3]^=E,v[4]^=S,v[5]^=y,v[6]^=O,v[7]^=E;for(var _=0;_<4;_++)d.call(this)}},_doProcessBlock:function(f,m){var _=this._X;d.call(this),s[0]=_[0]^_[5]>>>16^_[3]<<16,s[1]=_[2]^_[7]>>>16^_[5]<<16,s[2]=_[4]^_[1]>>>16^_[7]<<16,s[3]=_[6]^_[3]>>>16^_[1]<<16;for(var x=0;x<4;x++)s[x]=(s[x]<<8|s[x]>>>24)&16711935|(s[x]<<24|s[x]>>>8)&4278255360,f[m+x]^=s[x]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,m=this._C,_=0;_<8;_++)l[_]=m[_];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var _=0;_<8;_++){var x=f[_]+m[_],v=x&65535,g=x>>>16,p=((v*v>>>17)+v*g>>>15)+g*g,h=((x&4294901760)*x|0)+((x&65535)*x|0);u[_]=p^h}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=a._createHelper(c)}(),r.Rabbit})}(vat)),E1}var x1={},gat={get exports(){return x1},set exports(e){x1=e}},SB;function mat(){return SB||(SB=1,function(e,t){(function(r,n,i){e.exports=n(Ve(),Mf(),Ff(),Jl(),gr())})(be,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],l=[],u=[],c=o.RabbitLegacy=a.extend({_doReset:function(){var f=this._key.words,m=this.cfg.iv,_=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],x=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)d.call(this);for(var v=0;v<8;v++)x[v]^=_[v+4&7];if(m){var g=m.words,p=g[0],h=g[1],S=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,O=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,y=S>>>16|O&4294901760,E=O<<16|S&65535;x[0]^=S,x[1]^=y,x[2]^=O,x[3]^=E,x[4]^=S,x[5]^=y,x[6]^=O,x[7]^=E;for(var v=0;v<4;v++)d.call(this)}},_doProcessBlock:function(f,m){var _=this._X;d.call(this),s[0]=_[0]^_[5]>>>16^_[3]<<16,s[1]=_[2]^_[7]>>>16^_[5]<<16,s[2]=_[4]^_[1]>>>16^_[7]<<16,s[3]=_[6]^_[3]>>>16^_[1]<<16;for(var x=0;x<4;x++)s[x]=(s[x]<<8|s[x]>>>24)&16711935|(s[x]<<24|s[x]>>>8)&4278255360,f[m+x]^=s[x]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,m=this._C,_=0;_<8;_++)l[_]=m[_];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var _=0;_<8;_++){var x=f[_]+m[_],v=x&65535,g=x>>>16,p=((v*v>>>17)+v*g>>>15)+g*g,h=((x&4294901760)*x|0)+((x&65535)*x|0);u[_]=p^h}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=a._createHelper(c)}(),r.RabbitLegacy})}(gat)),x1}(function(e,t){(function(r,n,i){e.exports=n(Ve(),PE(),mit(),_it(),Mf(),Sit(),Ff(),pP(),xq(),Rit(),Sq(),Cit(),Lit(),$it(),gP(),Mit(),Jl(),gr(),jit(),Kit(),Wit(),Vit(),Xit(),Qit(),Jit(),tat(),nat(),aat(),sat(),uat(),fat(),hat(),pat(),mat())})(be,function(r){return r})})(cit);const Pu=KA,yat=L4e("0123456789abcdef",32),bB={"360p":kt.Q360P,"480p":kt.Q480P,"720p":kt.Q720P,"1080p":kt.Q1080P},_at=atob("d0VpcGhUbiE="),bq=atob("MTIzZDZjZWRmNjI2ZHk1NDIzM2FhMXc2"),TB=[atob("aHR0cHM6Ly9zaG93Ym94LnNoZWd1Lm5ldC9hcGkvYXBpX2NsaWVudC9pbmRleC8="),atob("aHR0cHM6Ly9tYnBhcGkuc2hlZ3UubmV0L2FwaS9hcGlfY2xpZW50L2luZGV4Lw==")],wB=atob("bW92aWVib3g="),Eat=atob("Y29tLnRkby5zaG93Ym94"),AB={encrypt(e){return Pu.TripleDES.encrypt(e,Pu.enc.Utf8.parse(bq),{iv:Pu.enc.Utf8.parse(_at)}).toString()},getVerify(e,t,r){return e?Pu.MD5(Pu.MD5(t).toString()+r+e).toString():null}},xat=()=>Math.floor(Date.now()/1e3+60*60*12),Pd=(e,t=!1)=>{const r={childmode:"0",app_version:"11.5",appid:Eat,lang:"en",expired_date:`${xat()}`,platform:"android",channel:"Website"},n=AB.encrypt(JSON.stringify({...r,...e})),i=Pu.MD5(wB).toString(),a=AB.getVerify(n,wB,bq),o=JSON.stringify({app_key:i,verify:a,encrypt_data:n}),s=btoa(o),l=new URLSearchParams;l.append("data",s),l.append("appid","27"),l.append("platform","android"),l.append("version","129"),l.append("medium","Website");const u=t?TB[1]:TB[0];return Ft(u,{method:"POST",parseResponse:JSON.parse,headers:{Platform:"android","Content-Type":"application/x-www-form-urlencoded"},body:`${l.toString()}&token${yat()}`})},RB=e=>e.find(t=>t.quality==="1080p"&&t.path)??e.find(t=>t.quality==="720p"&&t.path)??e.find(t=>t.quality==="480p"&&t.path)??e.find(t=>t.quality==="360p"&&t.path);_0({id:"superstream",displayName:"Superstream",rank:200,type:[Ae.MOVIE,Ae.SERIES],async scrape({media:e,episode:t,progress:r}){var m,_;const n={module:"Search3",page:"1",type:"all",keyword:e.meta.title,pagelimit:"20"},i=(await Pd(n,!0)).data;r(33);const a=i.find(x=>tC(x.title,e.meta.title)&&x.year===Number(e.meta.year));if(!a)throw new Error("No entry found on SuperStream");const o=a.id;if(e.meta.type===Ae.MOVIE){const v=(await Pd({uid:"",module:"Movie_downloadurl_v3",mid:o,oss:"1",group:""})).data;r(50);const g=RB(v.list);if(!g)throw new Error("No quality could be found.");const p={fid:g.fid,uid:"",module:"Movie_srt_list_v2",mid:o},S=(await Pd(p)).data.list.map(O=>({needsProxy:!0,langIso:O.language,url:O.subtitles[0].file_path,type:Ji.SRT}));return{embeds:[],stream:{streamUrl:g.path,quality:bB[g.quality],type:Cn.MP4,captions:S}}}if(e.meta.type!==Ae.SERIES)throw new Error("Unsupported type");const s={uid:"",module:"TV_downloadurl_v3",tid:o,season:e.meta.seasonData.number.toString(),episode:(((m=e.meta.seasonData.episodes.find(x=>x.id===t))==null?void 0:m.number)??1).toString(),oss:"1",group:""},l=(await Pd(s)).data;r(66);const u=RB(l.list);if(!u)throw new Error("No quality could be found.");const c={fid:u.fid,uid:"",module:"TV_srt_list_v2",episode:((_=e.meta.seasonData.episodes.find(x=>x.id===t))==null?void 0:_.number)??1,tid:o,season:e.meta.seasonData.number.toString()},f=(await Pd(c)).data.list.map(x=>{const v=x;return v.subtitles=x.subtitles.filter(g=>{const p=g.file_path.slice(-3);return[Ji.SRT,Ji.VTT].includes(p)}),{needsProxy:!0,langIso:x.language,url:v.subtitles[0].file_path,type:Ji.SRT}});return{embeds:[],stream:{quality:bB[u.quality],streamUrl:u.path,type:Cn.MP4,captions:f}}}});const mg="https://net-film.vercel.app",OB={360:kt.Q360P,540:kt.Q540P,480:kt.Q480P,720:kt.Q720P,1080:kt.Q1080P};_0({id:"netfilm",displayName:"NetFilm",rank:15,type:[Ae.MOVIE,Ae.SERIES],disabled:!0,async scrape({media:e,episode:t,progress:r}){var x;if(!this.type.includes(e.meta.type))throw new Error("Unsupported type");const i=(await Ft(`/api/search?keyword=${encodeURIComponent(e.meta.title)}`,{baseURL:mg})).data.results;if(r(25),e.meta.type===Ae.MOVIE){const v=i.find(y=>y.name===e.meta.title&&y.releaseTime===e.meta.year);if(!v)throw new Error("No watchable item found");const g=v.id;r(75);const h=(await Ft(`/api/episode?id=${g}`,{baseURL:mg})).data,S=h.qualities.reduce((y,E)=>E.quality>y.quality?E:y),O=h.subtitles.map(y=>({needsProxy:!1,url:y.url.replace("https://convert-srt-to-vtt.vercel.app/?url=",""),type:Ji.SRT,langIso:y.language}));return{embeds:[],stream:{streamUrl:S.url.replace("akm-cdn","aws-cdn").replace("gg-cdn","aws-cdn"),quality:OB[S.quality],type:Cn.HLS,captions:O}}}if(e.meta.type!==Ae.SERIES)throw new Error("Unsupported type");const a=e.meta.seasonData.number,s=i.filter(v=>v.name.includes(e.meta.title)).map(v=>({...v,season:parseInt(v.name.split(" ").at(-1),10)||1})).find(v=>v.season===a);r(50);const l=await Ft(`/api/detail?id=${s.id}&category=${s.categoryTag[0].id}`,{baseURL:mg}),u=(x=e.meta.seasonData.episodes.find(v=>v.id===t))==null?void 0:x.number,c=l.data.episodeVo.find(v=>v.seriesNo===u);r(75);const f=(await Ft(`/api/episode?id=${s.id}&category=1&episode=${c.id}`,{baseURL:mg})).data,m=f.qualities.reduce((v,g)=>g.quality>v.quality?g:v),_=f.subtitles.map(v=>({needsProxy:!1,url:v.url.replace("https://convert-srt-to-vtt.vercel.app/?url=",""),type:Ji.SRT,langIso:v.language}));return{embeds:[],stream:{streamUrl:m.url.replace("akm-cdn","aws-cdn").replace("gg-cdn","aws-cdn"),quality:OB[m.quality],type:Cn.HLS,captions:_}}}});var Ov=(e=>(e.M4UFREE="m4ufree",e.STREAMM4U="streamm4u",e.PLAYM4U="playm4u",e))(Ov||{});const Sat="m4ufree.com",Iv=`https://${Sat}`,bat=`${Iv}/search`,Tat=`${Iv}/ajax`,wat=`${Iv}/ajaxtv`,Aat=/(.*) \(?(\d*|\d*-|\d*-\d*)\)?$/,Rat=/.*-(movie|tvshow)-online-free-m4ufree\.html/,Oat=/XSRF-TOKEN=(.*?);.*laravel_session=(.*?);/,Iat=/S(\d*)-E(\d*)/;function yg(e){return new DOMParser().parseFromString(e,"text/html")}_0({id:"m4ufree",displayName:"m4ufree",rank:-1,disabled:!0,type:[Ae.MOVIE,Ae.SERIES],async scrape({media:e,type:t,episode:r,season:n}){var g,p,h,S,O;const i=((p=(g=e.meta.seasons)==null?void 0:g.find(y=>y.id===n))==null?void 0:p.number)||1,a=e.meta.type===Ae.SERIES?((h=e.meta.seasonData.episodes.find(y=>y.id===r))==null?void 0:h.number)||1:void 0,o=[],s=await Ft(`${bat}/${encodeURIComponent(e.meta.title)}.html`);let l=yg(s);const c=[...l.querySelectorAll(".item")].map(y=>{var F;const E=(F=y.querySelector(".tiptitle p"))==null?void 0:F.innerHTML;if(!E)return;let b=Aat.exec(E);if(!b||!b[1]||!b[2])return;const T=b[1],A=Number(b[2].slice(0,4)),P=y.querySelector("a");if(!P)return;const C=P.href;if(b=Rat.exec(C),!b||!b[1])return;let D=b[1];return D=D==="tvshow"?"show":"movie",{type:D,title:T,year:A,href:C}}).filter(y=>y).find(y=>y&&y.title===e.meta.title&&y.year.toString()===e.meta.year);if(!c)return{embeds:o};let d="";const f=await Ft(c.href,{onResponse(y){d=y.response.headers.get("X-Set-Cookie")}});l=yg(f);let m=Oat.exec(d);if(!m||!m[1]||!m[2])throw new Error("No regexResults, yikesssssss kinda gross idk");const _=`XSRF-TOKEN=${m[1]}; laravel_session=${m[2]}`,x=(S=l.querySelector('meta[name="csrf-token"]'))==null?void 0:S.getAttribute("content");if(!x)return{embeds:o};if(t===Ae.SERIES){const E=[...l.querySelectorAll(".episode")].map(A=>{if(m=Iat.exec(A.innerHTML),!m||!m[1]||!m[2])return;const P=Number(m[1]),C=Number(m[2]);return{id:A.getAttribute("idepisode"),episode:P,season:C}}).filter(A=>A).find(A=>A&&A.episode===a&&A.season===i);if(!E)return{embeds:o};const b=`idepisode=${E.id}&_token=${x}`,T=await Ft(wat,{method:"POST",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest","Sec-CH-UA":'"Not?A_Brand";v="8", "Chromium";v="108", "Microsoft Edge";v="108"',"Sec-CH-UA-Mobile":"?0","Sec-CH-UA-Platform":'"Linux"',"Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","X-Cookie":_,"X-Origin":Iv,"X-Referer":c.href},body:b});l=yg(T)}const v=[...l.querySelectorAll(".singlemv")].map(y=>y.getAttribute("data"));for(const y of v){const E=`m4u=${y}&_token=${x}`,b=await Ft(Tat,{method:"POST",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest","Sec-CH-UA":'"Not?A_Brand";v="8", "Chromium";v="108", "Microsoft Edge";v="108"',"Sec-CH-UA-Mobile":"?0","Sec-CH-UA-Platform":'"Linux"',"Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","X-Cookie":_,"X-Origin":Iv,"X-Referer":c.href},body:E}),A=(O=yg(b).querySelector("iframe"))==null?void 0:O.src,P=D=>D.startsWith("https://streamm4u.club")?Ov.STREAMM4U:D.startsWith("https://play.playm4u.xyz")?Ov.PLAYM4U:null;if(!A)continue;const C=P(A);C&&o.push({url:A,type:C})}return console.log(o),{embeds:o}}});const S1="https://www.hdwatched.xyz",Cat={360:kt.Q360P,540:kt.Q540P,480:kt.Q480P,720:kt.Q720P,1080:kt.Q1080P};function Tq(e){const r=new DOMParser().parseFromString(e,"text/html").querySelector("#vjsplayer > source");if(!r)throw new Error("Unable to fetch stream");const n=r.getAttribute("src"),i=r.getAttribute("res");if(!n||!i)throw new Error("Unable to find stream");return{streamUrl:n,quality:i&&typeof+i=="number"?Cat[+i]:kt.QUNKNOWN}}async function Pat(e){const t=await Ft(`/embed/${e.id}`,{baseURL:S1});if(!new DOMParser().parseFromString(t,"text/html").querySelector("#vjsplayer > source"))throw new Error("Unable to fetch movie stream");return Tq(t)}async function Lat(e,{media:t,episode:r,progress:n}){var _;if(t.meta.type!==Ae.SERIES)throw new Error("Media type mismatch");const i=t.meta.seasonData.number,a=(_=t.meta.seasonData.episodes.find(x=>x.id===r))==null?void 0:_.number;if(!i||!a)throw new Error("Unable to get season or episode number");const o=await Ft(`${e.href}?season=${t.meta.seasonData.number}`,{baseURL:S1}),l=new DOMParser().parseFromString(o,"text/html").querySelectorAll("div.i-container"),u=[];l.forEach(x=>{var p,h;const v=((p=x.querySelector("a"))==null?void 0:p.getAttribute("href"))||"",g=((h=x==null?void 0:x.querySelector("span.content-title"))==null?void 0:h.textContent)||"";u.push({title:g,href:v,id:v.split("/")[2]})});const c=u.find(x=>x.title.trim().toLowerCase()===`episode ${a}`);if(!c)throw new Error("Unable to find episode");n(70);const d=await Ft(`/embed/${c.id}`,{baseURL:S1});if(!new DOMParser().parseFromString(d,"text/html").querySelector("#vjsplayer > source"))throw new Error("Unable to fetch movie stream");return Tq(d)}_0({id:"hdwatched",displayName:"HDwatched",rank:150,type:[Ae.MOVIE,Ae.SERIES],async scrape(e){const{media:t,progress:r}=e;if(!this.type.includes(t.meta.type))throw new Error("Unsupported type");const n=await Ft(`/search/${t.imdbId}`,{baseURL:S1}),a=new DOMParser().parseFromString(n,"text/html").querySelectorAll("div.i-container"),o=[];a.forEach(u=>{var m,_,x,v,g,p;const c=((m=u.querySelector("a"))==null?void 0:m.getAttribute("href"))||"",d=((_=u==null?void 0:u.querySelector("span.content-title"))==null?void 0:_.textContent)||"",f=parseInt(((p=(g=(v=(x=u==null?void 0:u.querySelector("div.duration"))==null?void 0:x.textContent)==null?void 0:v.trim())==null?void 0:g.split(" "))==null?void 0:p.pop())||"",10)||0;o.push({title:d,year:f,href:c,id:c.split("/")[2]})}),r(20);const s=o.find(u=>u.year===(t.meta.year?+t.meta.year:0));if(!s)throw new Error("Could not find stream");if(r(40),t.meta.type===Ae.SERIES){const u=await Lat(s,e);return{embeds:[],stream:{streamUrl:u.streamUrl,quality:u.quality,type:Cn.MP4,captions:[]}}}const l=await Pat(s);return{embeds:[],stream:{streamUrl:l.streamUrl,quality:l.quality,type:Cn.MP4,captions:[]}}}});const wq="streamm4u.club",Dat=`https://${wq}`,$at=`${Dat}/api`,IB=`${$at}/source`;async function kat(e){const t=[],r=e.split("/").pop();console.log(`${IB}/${r}`);const n=await Ft(`${IB}/${r}`,{method:"POST",body:`r=&d=${wq}`});if(n.success){const i=n.data;for(const a of i)t.push({embedId:"",streamUrl:a.file,quality:a.label,type:a.type,captions:[]})}return t}oz({id:"streamm4u",displayName:"streamm4u",for:Ov.STREAMM4U,rank:100,async getStream({progress:e,url:t}){const n=(await kat(t)).sort((i,a)=>Number(a.quality.replace("p",""))-Number(i.quality.replace("p","")))[0];if(!n)throw new Error("No source found");return e(100),n}});oz({id:"playm4u",displayName:"playm4u",for:Ov.PLAYM4U,rank:0,async getStream(){return{embedId:"",streamUrl:"",quality:kt.Q1080P,captions:[],type:Cn.MP4}}});T4e();var LB;const CB=((LB=window==null?void 0:window.__CONFIG__)==null?void 0:LB.VITE_KEY)??{}.VITE_KEY??null;CB&&window.initMW(Wr().PROXY_URLS,CB);VBe();Nke({immediate:!0});const Nat=me.lazy(async()=>(await $Ne(),{default:Tet}));function Mat(e){return Wr().NORMAL_ROUTER?H(Ike,{children:e.children}):H(Cke,{children:e.children})}O$e.render(H(me.StrictMode,{children:H(ENe,{children:H(Mat,{children:H(z.Suspense,{fallback:"",children:H(Nat,{})})})})}),document.getElementById("root"));export{lY as A,fet as B,vF as D,la as H,Cn as M,sY as N,k8e as S,BJe as T,dUe as V,H as a,m0 as b,U4e as c,kt as d,Ae as e,ee as j,z as r};
